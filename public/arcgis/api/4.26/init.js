// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&(window.dojoConfig||(window.dojoConfig={}),!window.dojoConfig.hasOwnProperty("baseUrl"))){const o=window.document.currentScript.src;let d;d=o.endsWith("/init.js")?o.slice(0,o.lastIndexOf("/"))+"/dojo":o.endsWith("/dojo/dojo.js")?o.slice(0,o.lastIndexOf("/")):o+(o.endsWith("/")?"dojo":"/dojo"),window.dojoConfig.baseUrl=d}
//>>built
(function(a,b){var c,e,d,n=function(){return"undefined"!==typeof w&&"function"!==typeof w?w:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),u=function(){},t=function(na){for(var La in na)return 0;return 1},r={}.toString,p=function(na){return"[object Function]"==r.call(na)},m=function(na){return"[object String]"==r.call(na)},g=function(na){return"[object Array]"==r.call(na)},f=function(na,La){if(na)for(var Ra=0;Ra<na.length;)La(na[Ra++])},h=function(na,La){for(var Ra in La)na[Ra]=
La[Ra];return na},q=function(na,La){return h(Error(na),{src:"dojoLoader",info:La})},k=1,l=function(){return"_"+k++},v=function(na,La,Ra){return X(na,La,Ra,0,v)},w=n,x=w.document,z=x&&x.createElement("DiV"),A=v.has=function(na){return p(B[na])?B[na]=B[na](w,x,z):B[na]},B=A.cache=b.hasCache;p(a)&&(a=a(n));A.add=function(na,La,Ra,Wa){(void 0===B[na]||Wa)&&(B[na]=La);return Ra&&A(na)};A.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);A("host-webworker")&&
(h(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(na,La){try{importScripts(na),La()}catch(Ra){console.info("failed to load resource ("+na+")"),console.error(Ra)}}});for(var D in a.has)A.add(D,a.has[D],0,1);var y=0,C=[],F=0,G=u,E=u;v.isXdUrl=u;v.initSyncLoader=function(na,La,Ra){F||(F=na,G=La,E=Ra);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,
syncExecStack:C,modules:ia,execQ:ca,getModule:Va,injectModule:vb,setArrived:ra,signal:L,finishExec:wb,execModule:yb,dojoRequirePlugin:F,getLegacyMode:function(){return y},guardCheckComplete:Ab}};if(A("dom")||A("host-webworker")){var P=location.protocol,O=location.host;v.isXdUrl=function(na){return/^\./.test(na)?!1:/^\/\//.test(na)?!0:(na=na.match(/^([^\/:]+:)\/+([^\/]+)/))&&(na[1]!=P||O&&na[2]!=O)};A.add("dojo-force-activex-xhr",A("host-browser")&&!x.addEventListener&&"file:"==window.location.protocol);
if(A("dojo-force-activex-xhr")){var K=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(d=0;3>d;)try{var M=K[d++];new ActiveXObject(M);break}catch(na){}var I=function(){return new ActiveXObject(M)}}else I=function(){return new XMLHttpRequest};v.getXhr=I;A.add("dojo-gettext-api",1);v.getText=function(na,La,Ra){var Wa=I();Wa.open("GET",xb(na),!1);Wa.send(null);if(200==Wa.status||!location.host&&!Wa.status)Ra&&Ra(Wa.responseText,La);else throw q("xhrFailed",Wa.status);return Wa.responseText}}v.eval=
function(na,La){};var H={},L=v.signal=function(na,La){na=H[na];f(na&&na.slice(0),function(Ra){Ra.apply(null,g(La)?La:[La])})},aa=v.on=function(na,La){var Ra=H[na]||(H[na]=[]);Ra.push(La);return{remove:function(){for(var Wa=0;Wa<Ra.length;Wa++)if(Ra[Wa]===La){Ra.splice(Wa,1);break}}}},R=[],S={},V=[],ea={},ha=v.map={},la=[],ia={},Y="",Z={},U={},pa={},xa=0;if(!A("foreign-loader"))var N=function(na,La){La=!1!==La;var Ra,Wa;for(Ra in U){var ab=U[Ra];if(Wa=Ra.match(/^url:(.+)/))Z["url:"+$a(Wa[1],na)]=ab;
else if("*now"==Ra)var fb=ab;else"*noref"!=Ra&&(Wa=Ga(Ra,na,!0),Z[Wa.mid]=Z["url:"+Wa.url]=ab)}fb&&fb(Q(na));La&&(U={})};var T=function(na){return na.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(La){return"\\"+La})},qa=function(na,La){La.splice(0,La.length);for(var Ra in na)La.push([Ra,na[Ra],new RegExp("^"+T(Ra)+"(/|$)"),Ra.length]);La.sort(function(Wa,ab){return ab[3]-Wa[3]});return La},Ca=function(na,La){f(na,function(Ra){La.push([m(Ra[0])?new RegExp("^"+T(Ra[0])+"$"):Ra[0],Ra[1]])})},Fa=function(na){var La=
na.name;La||(La=na,na={name:La});na=h({main:"main"},na);na.location=na.location?na.location:La;na.packageMap&&(ha[La]=na.packageMap);na.main.indexOf("./")||(na.main=na.main.substring(2));ea[La]=na},fa=[],ba=function(na,La,Ra){for(var Wa in na){"waitSeconds"==Wa&&(v.waitms=1E3*(na[Wa]||0));"cacheBust"==Wa&&(Y=na[Wa]?m(na[Wa])?na[Wa]:(new Date).getTime()+"":"");if("baseUrl"==Wa||"combo"==Wa)v[Wa]=na[Wa];if("async"==Wa){var ab=na[Wa];v.legacyMode=y=m(ab)&&/sync|legacyAsync/.test(ab)?ab:ab?!1:"sync";
v.async=!y}na[Wa]!==B&&(v.rawConfig[Wa]=na[Wa],"has"!=Wa&&A.add("config-"+Wa,na[Wa],0,La))}v.baseUrl||(v.baseUrl="./");/\/$/.test(v.baseUrl)||(v.baseUrl+="/");for(Wa in na.has)A.add(Wa,na.has[Wa],0,La);f(na.packages,Fa);for(var fb in na.packagePaths)f(na.packagePaths[fb],function(jb){var Hb=fb+"/"+jb;m(jb)&&(jb={name:jb});jb.location=Hb;Fa(jb)});qa(h(ha,na.map),la);f(la,function(jb){jb[1]=qa(jb[1],[]);"*"==jb[0]&&(la.star=jb)});qa(h(S,na.paths),V);Ca(na.aliases,R);if(!A("foreign-loader")){if(La)fa.push({config:na.config});
else for(Wa in na.config)La=Va(Wa,Ra),La.config=h(La.config||{},na.config[Wa]);na.cache&&(N(),U=na.cache,N(0,!!na.cache["*noref"]))}L("config",[na,v.rawConfig])};v.rawConfig={};ba(b,1);ba(a,1);ba(pa,1);if(!A("foreign-loader"))var ka=function(na){Ab(function(){f(na.deps,vb)})},X=function(na,La,Ra,Wa,ab){var fb;if(m(na)){if((fb=Va(na,Wa,!0))&&fb.executed)return fb.result;throw q("undefinedModule",na);}g(na)||(ba(na,0,Wa),na=La,La=Ra);if(g(na))if(na.length){Ra="require*"+l();for(var jb,Hb=[],Mb=0;Mb<
na.length;)jb=na[Mb++],Hb.push(Va(jb,Wa));fb=h(ma("",Ra,0,""),{injected:2,deps:Hb,def:La||u,require:Wa?Wa.require:v,gc:1});ia[fb.mid]=fb;ka(fb);var Qb=Bb&&"sync"!=y;Ab(function(){yb(fb,Qb)});fb.executed||ca.push(fb);Ib()}else La&&La();return ab},Q=function(na){if(!na)return v;var La=na.require;La||(La=function(Ra,Wa,ab){return X(Ra,Wa,ab,na,La)},na.require=h(La,v),La.module=na,La.toUrl=function(Ra){return $a(Ra,na)},La.toAbsMid=function(Ra){return Xa(Ra,na)},La.syncLoadNls=function(Ra){Ra=Ga(Ra,na);
var Wa=ia[Ra.mid];if(!Wa||!Wa.executed)if(kb=Z[Ra.mid]||Z["url:"+Ra.url])rb(kb),Wa=ia[Ra.mid];return Wa&&Wa.executed&&Wa.result});return La},ca=[],ja=[],ua={},da=function(na){na.injected=1;ua[na.mid]=1;na.url&&(ua[na.url]=na.pack||1);Ba()},ra=function(na){na.injected=2;delete ua[na.mid];na.url&&delete ua[na.url];t(ua)&&(sa(),"xd"==y&&(y="sync"))},wa=v.idle=function(){return!ja.length&&t(ua)&&!ca.length&&!Bb};var Ia=function(na,La){if(La)for(var Ra=0;Ra<La.length;Ra++)if(La[Ra][2].test(na))return La[Ra];
return 0},Oa=function(na){var La=[];for(na=na.replace(/\\/g,"/").split("/");na.length;){var Ra=na.shift();if(".."==Ra&&La.length&&".."!=Wa){La.pop();var Wa=La[La.length-1]}else"."!=Ra&&La.push(Wa=Ra)}return La.join("/")},ma=function(na,La,Ra,Wa){var ab=v.isXdUrl(Wa);return{pid:na,mid:La,pack:Ra,url:Wa,executed:0,def:0,isXd:ab,isAmd:!!(ab||ea[na]&&ea[na].isAmd)}},ta=function(na,La,Ra,Wa,ab,fb,jb,Hb,Mb,Qb){var Kb,Vb,Gb;var Rb=/^\./.test(na);if(/(^\/)|(:)|(\.js$)/.test(na)||Rb&&!La)return ma(0,na,0,
na);na=Oa(Rb?La.mid+"/../"+na:na);if(/^\./.test(na))throw q("irrationalPath",na);Qb||Rb||!fb.star||(Gb=Ia(na,fb.star[1]));!Gb&&La&&(Gb=(Gb=Ia(La.mid,fb))&&Ia(na,Gb[1]));Gb&&(na=Gb[1]+na.substring(Gb[3]));La=(c=na.match(/^([^\/]+)(\/(.+))?$/))?c[1]:"";(Kb=Ra[La])?na=La+"/"+(Vb=c[3]||Kb.main):La="";var Sb=0;f(Hb,function(Nb){var Wb=na.match(Nb[0]);Wb&&0<Wb.length&&(Sb=p(Nb[1])?na.replace(Nb[0],Nb[1]):Nb[1])});if(Sb)return ta(Sb,0,Ra,Wa,ab,fb,jb,Hb,Mb);if(Ra=Wa[na])return Mb?ma(Ra.pid,Ra.mid,Ra.pack,
Ra.url):Wa[na];Wa=(Gb=Ia(na,jb))?Gb[1]+na.substring(Gb[3]):La?("/"===Kb.location.slice(-1)?Kb.location.slice(0,-1):Kb.location)+"/"+Vb:na;/(^\/)|(:)/.test(Wa)||(Wa=ab+Wa);return ma(La,na,Kb,Oa(Wa+".js"))},Ga=function(na,La,Ra){return ta(na,La,ea,ia,v.baseUrl,la,V,R,void 0,Ra)};if(!A("foreign-loader"))var Aa=function(na,La,Ra){return na.normalize?na.normalize(La,function(Wa){return Xa(Wa,Ra)}):Xa(La,Ra)},Na=0,Va=function(na,La,Ra){var Wa;if(Wa=na.match(/^(.+?)!(.*)$/)){var ab=Va(Wa[1],La,Ra);"sync"!=
y||ab.executed||(vb(ab),2!==ab.injected||ab.executed||Ab(function(){yb(ab)}),ab.executed?ya(ab):ca.unshift(ab));5!==ab.executed||ab.load||ya(ab);ab.load?(Wa=Aa(ab,Wa[2],La),na=ab.mid+"!"+(ab.dynamic?++Na+"!":"")+Wa):(Wa=Wa[2],na=ab.mid+"!"+ ++Na+"!waitingForPlugin");na={plugin:ab,mid:na,req:Q(La),prid:Wa}}else na=Ga(na,La);return ia[na.mid]||!Ra&&(ia[na.mid]=na)};var Xa=v.toAbsMid=function(na,La){return Ga(na,La).mid},$a=v.toUrl=function(na,La){La=Ga(na+"/x",La);var Ra=La.url;return xb(0===La.pid?
na:Ra.substring(0,Ra.length-5))};if(!A("foreign-loader"))var bb={injected:2,executed:5,def:3,result:3},Sa=function(na){return ia[na]=h({mid:na},bb)},db=Sa("require"),eb=Sa("exports"),Da=Sa("module"),Ja={},Za=0,ya=function(na){var La=na.result;na.dynamic=La.dynamic;na.normalize=La.normalize;na.load=La.load;return na},qb=function(na){var La={};f(na.loadQ,function(ab){var fb=Aa(na,ab.prid,ab.req.module),jb=na.dynamic?ab.mid.replace(/waitingForPlugin$/,fb):na.mid+"!"+fb;fb=h(h({},ab),{mid:jb,prid:fb,
injected:0});ia[jb]&&ia[jb].injected||Cb(ia[jb]=fb);La[ab.mid]=ia[jb];ra(ab);delete ia[ab.mid]});na.loadQ=0;var Ra=function(ab){for(var fb=ab.deps||[],jb=0;jb<fb.length;jb++)(ab=La[fb[jb].mid])&&(fb[jb]=ab)},Wa;for(Wa in ia)Ra(ia[Wa]);f(ca,Ra)},wb=function(na){v.trace("loader-finish-exec",[na.mid]);na.executed=5;na.defOrder=Za++;f(na.provides,function(La){La()});na.loadQ&&(ya(na),qb(na));for(d=0;d<ca.length;)ca[d]===na?ca.splice(d,1):d++;/^require\*/.test(na.mid)&&delete ia[na.mid]},tb=[],yb=function(na,
La){if(4===na.executed)return v.trace("loader-circular-dependency",[tb.concat(na.mid).join("-\x3e")]),!na.def||La?Ja:na.cjs&&na.cjs.exports;if(!na.executed){if(!na.def)return Ja;var Ra=na.mid,Wa=na.deps||[],ab,fb=[],jb=0;for(na.executed=4;ab=Wa[jb++];){ab=ab===db?Q(na):ab===eb?na.cjs.exports:ab===Da?na.cjs:yb(ab,La);if(ab===Ja)return na.executed=0,v.trace("loader-exec-module",["abort",Ra]),Ja;fb.push(ab)}v.trace("loader-run-factory",[na.mid]);La=na.def;C.unshift(na);fb=p(La)?La.apply(null,fb):La;
na.result=void 0===fb&&na.cjs?na.cjs.exports:fb;C.shift(na);wb(na)}return na.result},Bb=0,Ab=function(na){try{Bb++,na()}catch(La){throw La;}finally{Bb--}wa()&&L("idle",[])},Ib=function(){Bb||Ab(function(){G();for(var na,La,Ra=0;Ra<ca.length;)na=Za,La=ca[Ra],yb(La),na!=Za?(G(),Ra=0):Ra++})};var xb="function"==typeof a.fixupUrl?a.fixupUrl:function(na){na+="";return na+(Y?(/\?/.test(na)?"\x26":"?")+Y:"")};void 0===A("dojo-loader-eval-hint-url")&&A.add("dojo-loader-eval-hint-url",1);var Cb=function(na){var La=
na.plugin;5!==La.executed||La.load||ya(La);var Ra=function(Wa){na.result=Wa;ra(na);wb(na);Ib()};La.load?La.load(na.prid,na.req,Ra):La.loadQ?La.loadQ.push(na):(La.loadQ=[na],ca.unshift(La),vb(La))},kb=0,rb=function(na,La){A("config-stripStrict")&&(na=na.replace(/(["'])use strict\1/g,""));na===kb?kb.call(null):v.eval(na,A("dojo-loader-eval-hint-url")?La.url:La.mid)},vb=function(na){var La=na.mid,Ra=na.url;if(!(na.executed||na.injected||ua[La]||na.url&&(na.pack&&ua[na.url]===na.pack||1==ua[na.url])))if(da(na),
na.plugin)Cb(na);else{var Wa=function(){Ta(na);if(2!==na.injected){if(A("dojo-enforceDefine")){L("error",q("noDefine",na));return}ra(na);h(na,bb);v.trace("loader-define-nonmodule",[na.url])}y?!C.length&&Ib():Ib()};if(kb=Z[La]||Z["url:"+na.url])v.trace("loader-inject",["cache",na.mid,Ra]),rb(kb,na),Wa();else{if(y)if(na.isXd)"sync"==y&&(y="xd");else if(!na.isAmd||"sync"==y){v.trace("loader-inject",["xhr",na.mid,Ra,"sync"!=y]);v.getText(Ra,"sync"!=y,function(ab){if("sync"==y){C.unshift(na);rb(ab,na);
C.shift();Ta(na);na.cjs||(ra(na),wb(na));if(na.finish){ab=La+"*finish";var fb=na.finish;delete na.finish;Pa(ab,["dojo",("dojo/require!"+fb.join(",")).replace(/\./g,"/")],function(jb){f(fb,function(Hb){jb.require(Hb)})});ca.unshift(Va(ab))}Wa()}else(ab=E(na,ab))?(rb(ab,na),Wa()):v.injectUrl(xb(Ra),Wa,na)});return}v.trace("loader-inject",["script",na.mid,Ra]);v.injectUrl(xb(Ra),Wa,na)}}},hb=function(na,La,Ra){v.trace("loader-define-module",[na.mid,La]);var Wa=na.mid;if(2===na.injected)return L("error",
q("multipleDefine",na)),na;h(na,{deps:La,def:Ra,cjs:{id:na.mid,uri:na.url,exports:na.result={},setExports:function(fb){na.cjs.exports=fb},config:function(){return na.config}}});for(var ab=0;La[ab];ab++)La[ab]=Va(La[ab],na);y&&!ua[Wa]&&(ka(na),ca.push(na),Ib());ra(na);p(Ra)||La.length||(na.result=Ra,wb(na));return na},Ta=function(na,La){for(var Ra=[],Wa,ab;ja.length;)ab=ja.shift(),La&&(ab[0]=La.shift()),Wa=ab[0]&&Va(ab[0])||na,Ra.push([Wa,ab[1],ab[2]]);N(na);f(Ra,function(fb){ka(hb.apply(null,fb))})},
sa=u,Ba=u;A("dom");if(A("dom")){var va=function(na,La,Ra,Wa){na.addEventListener(La,Wa,!1);return function(){na.removeEventListener(La,Wa,!1)}},Ka=va(window,"load","onload",function(){v.pageLoaded=1;try{"complete"!=x.readyState&&(x.readyState="complete")}catch(na){}Ka()});var Qa=x.getElementsByTagName("script");for(d=0;!xa;)/^dojo/.test((e=Qa[d++])&&e.type)||(xa=e);v.injectUrl=function(na,La,Ra){Ra=Ra.node=x.createElement("script");var Wa=va(Ra,"load","onreadystatechange",function(fb){fb=fb||window.event;
var jb=fb.target||fb.srcElement;if("load"===fb.type||/complete|loaded/.test(jb.readyState))Wa(),ab(),La&&La()}),ab=va(Ra,"error","onerror",function(fb){Wa();ab();L("error",q("scriptError: "+na,[na,fb]))});Ra.type="text/javascript";Ra.charset="utf-8";Ra.src=na;xa.parentNode.insertBefore(Ra,xa);return Ra}}v.log=u;v.trace=u;if(A("foreign-loader"))Pa=u;else{var Pa=function(na,La,Ra){var Wa=arguments.length,ab=["require","exports","module"],fb=[0,na,La];1==Wa?fb=[0,p(na)?ab:[],na]:2==Wa&&m(na)?fb=[na,
p(La)?ab:[],La]:3==Wa&&(fb=[na,La,Ra]);v.trace("loader-define",fb.slice(0,2));(Wa=fb[0]&&Va(fb[0]))&&!ua[Wa.mid]?ka(hb(Wa,fb[1],fb[2])):ja.push(fb)};Pa.amd={vendor:"dojotoolkit.org"}}h(h(v,b.loaderPatch),a.loaderPatch);aa("error",function(na){try{if(console.error(na),na instanceof Error){for(var La in na)console.log(La+":",na[La]);console.log(".")}}catch(Ra){}});h(v,{uid:l,cache:Z,packs:ea});if(!w.define&&(w.define=Pa,w.require=v,!A("foreign-loader"))){f(fa,function(na){ba(na)});var Ea=pa.deps||a.deps||
b.deps,Ua=pa.callback||a.callback||b.callback;v.boot=Ea||Ua?[Ea||[],Ua]:0}})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/Map":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,
b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w){d=function(x){function z(B){var D=A.call(this,B);D.allLayers=new n({getCollections:()=>[D.basemap?.baseLayers,D.ground?.layers,D.layers,D.basemap?.referenceLayers],getChildrenFunction:y=>"layers"in y?y.layers:null});D.allTables=k.createFlattenedTablesCollection(a._assertThisInitialized(D));D.basemap=null;D.editableLayers=new n({getCollections:()=>[D.allLayers],itemFilterFunction:h.isEditableLayer});D.ground=new e;D._basemapCache=q.createCache();return D}a._inherits(z,
x);var A=a._createSuper(z);x=z.prototype;x.destroy=function(){this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();this.ground?.destroy();this.basemap?.destroy();q.destroyCache(this._basemapCache);this._basemapCache=null};x.castBasemap=function(B){return q.ensureType(B,this._basemapCache)};x.castGround=function(B){B=l.ensureType(B);return t.isNone(B)?this._get("ground"):B};x.findLayerById=function(B){return this.allLayers.find(D=>D.id===B)};x.findTableById=function(B){return this.allTables.find(D=>
D.id===B)};return a._createClass(z)}(w.TablesMixin(v.LayersMixin(u.EventedMixin(d))));b.__decorate([r.property({readOnly:!0,dependsOn:[]})],d.prototype,"allLayers",void 0);b.__decorate([r.property({readOnly:!0})],d.prototype,"allTables",void 0);b.__decorate([r.property({type:c})],d.prototype,"basemap",void 0);b.__decorate([p.cast("basemap")],d.prototype,"castBasemap",null);b.__decorate([r.property({readOnly:!0})],d.prototype,"editableLayers",void 0);b.__decorate([r.property({type:e,nonNullable:!0})],
d.prototype,"ground",void 0);b.__decorate([p.cast("ground")],d.prototype,"castGround",null);return d=b.__decorate([f.subclass("esri.Map")],d)})},"esri/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],function(a){function b(m,g){for(var f=0;f<g.length;f++){var h=g[f];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);var q=Object,k=q.defineProperty;a:{var l=h.key;if("object"===typeof l&&null!==l){var v=l[Symbol.toPrimitive];if(void 0!==v){l=v.call(l,"string");
if("object"!==typeof l)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}l=String(l)}}k.call(q,m,"symbol"===typeof l?l:String(l),h)}}function c(m){c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)};return c(m)}function e(m,g){e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,h){f.__proto__=h;return f};return e(m,g)}function d(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;
if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(m){return!1}}function n(m,g,f){n=d()?Reflect.construct.bind():function(h,q,k){var l=[null];l.push.apply(l,q);h=new (Function.bind.apply(h,l));k&&e(h,k.prototype);return h};return n.apply(null,arguments)}function u(m){var g="function"===typeof Map?new Map:void 0;u=function(f){function h(){return n(f,arguments,c(this).constructor)}if(null===f||-1===Function.toString.call(f).indexOf("[native code]"))return f;
if("function"!==typeof f)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof g){if(g.has(f))return g.get(f);g.set(f,h)}h.prototype=Object.create(f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}});return e(h,f)};return u(m)}function t(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function r(m,g){if(g&&("object"===typeof g||"function"===typeof g))return g;if(void 0!==
g)throw new TypeError("Derived constructors may only return object or undefined");return t(m)}function p(){p="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(m,g,f){var h;for(h=m;!Object.prototype.hasOwnProperty.call(h,g)&&(h=c(h),null!==h););if(h)return h=Object.getOwnPropertyDescriptor(h,g),h.get?h.get.call(3>arguments.length?m:f):h.value};return p.apply(this,arguments)}a._assertThisInitialized=t;a._createClass=function(m,g,f){g&&b(m.prototype,g);f&&b(m,f);Object.defineProperty(m,
"prototype",{writable:!1});return m};a._createSuper=function(m){var g=d();return function(){var f=c(m);if(g){var h=c(this).constructor;f=Reflect.construct(f,arguments,h)}else f=f.apply(this,arguments);return r(this,f)}};a._get=p;a._getPrototypeOf=c;a._inherits=function(m,g){if("function"!==typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,writable:!0,configurable:!0}});Object.defineProperty(m,
"prototype",{writable:!1});g&&e(m,g)};a._possibleConstructorReturn=r;a._wrapNativeSuper=u})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){a.__classPrivateFieldGet=function(b,c,e,d){if("a"===e&&!d)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof c?b!==c||!d:!c.has(b))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?d:"a"===e?d.call(b):d?d.value:c.get(b)};a.__classPrivateFieldSet=
function(b,c,e,d,n){if("m"===d)throw new TypeError("Private method is not writable");if("a"===d&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof c?b!==c||!n:!c.has(b))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?n.call(b,e):n?n.value=e:c.set(b,e),e};a.__decorate=function(b,c,e,d){var n=arguments.length,u=3>n?c:null===d?d=Object.getOwnPropertyDescriptor(c,e):d,t;if("object"===typeof Reflect&&
"function"===typeof Reflect.decorate)u=Reflect.decorate(b,c,e,d);else for(var r=b.length-1;0<=r;r--)if(t=b[r])u=(3>n?t(u):3<n?t(c,e,u):t(c,e))||u;return 3<n&&u&&Object.defineProperty(c,e,u),u}})},"esri/Basemap":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Collection ./core/collectionUtils ./core/deprecate ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./webdoc/support/writeUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B){var D;let y=0;u=D=function(C){function F(E){var P=G.call(this,E);P.id=null;P.portalItem=null;P.spatialReference=null;P.thumbnailUrl=null;P.title="Basemap";P.id=Date.now().toString(16)+"-basemap-"+y++;P.baseLayers=new e;P.referenceLayers=new e;const O=K=>{K.parent&&K.parent!==b._assertThisInitialized(P)&&"remove"in K.parent&&K.parent.remove(K);K.parent=b._assertThisInitialized(P);"elevation"===K.type&&m.getLogger(P.declaredClass).error(`Layer '${K.title}, id:${K.id}' of type '${K.type}' is not supported as a basemap layer and will therefore be ignored.`)};
P.addHandles([P.baseLayers.on("after-add",K=>O(K.item)),P.referenceLayers.on("after-add",K=>O(K.item)),P.baseLayers.on("after-remove",K=>{K.item.parent=null}),P.referenceLayers.on("after-remove",K=>{K.item.parent=null})]);return P}b._inherits(F,C);var G=b._createSuper(F);C=F.prototype;C.initialize=function(){this.when().catch(E=>{m.getLogger(this.declaredClass).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,E)});this.resourceInfo&&this.read(this.resourceInfo.data,
this.resourceInfo.context)};C.destroy=function(){var E=this.baseLayers.removeAll();for(const P of E)P.destroy();E=this.referenceLayers.removeAll();for(const P of E)P.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem?.destroy();this.portalItem=null};C.normalizeCtorArgs=function(E){E&&"resourceInfo"in E&&(this._set("resourceInfo",E.resourceInfo),E={...E},delete E.resourceInfo);return E};C._writeBaseLayers=function(E,P,O){const K=[];E&&(O={...O,layerContainerType:"basemap"},
this.baseLayers.forEach(M=>{M=B.getLayerJSON(M,O.webmap?O.webmap.getLayerJSONFromResourceInfo(M):null,O);g.isSome(M)&&K.push(M)}),this.referenceLayers.forEach(M=>{const I=B.getLayerJSON(M,O.webmap?O.webmap.getLayerJSONFromResourceInfo(M):null,O);g.isSome(I)&&("scene"!==M.type&&(I.isReference=!0),K.push(I))}));P.baseMapLayers=K};C.writeTitle=function(E,P){P.title=E||"Basemap"};C.load=function(E){this.addResolvingPromise(this._loadFromSource(E));return Promise.resolve(this)};C.loadAll=function(){return p.loadAll(this,
E=>{E(this.baseLayers,this.referenceLayers)})};C.clone=function(){const E={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};this.loaded&&(E.loadStatus="loaded");return(new D({resourceInfo:this.resourceInfo})).set(E)};C.read=function(E,P){this.resourceInfo||this._set("resourceInfo",{data:E,context:P});b._get(b._getPrototypeOf(F.prototype),"read",this).call(this,E,P)};C.write=function(E,P){E=E||{};P&&P.origin||(P=
{origin:"web-map",...P});b._get(b._getPrototypeOf(F.prototype),"write",this).call(this,E,P);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(E.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(O=>{O=t.clone(O);O.url&&h.isProtocolRelative(O.url)&&(O.url=`https:${O.url}`);O.templateUrl&&h.isProtocolRelative(O.templateUrl)&&(O.templateUrl=`https:${O.templateUrl}`);return O}));return E};C._loadFromSource=async function(E){const {resourceInfo:P,portalItem:O}=this;f.throwIfAborted(E);
const K=[];P?(K.push(this._loadLayersFromJSON(P.data,P.context?P.context.url:null,E)),P.data.id&&!P.data.title&&K.push(A.getBasemapTitle(P.data.id).then(M=>{M&&this.read({title:M},P.context)}))):O&&K.push(this._loadFromItem(O,E));await Promise.all(K)};C._loadLayersFromJSON=async function(E,P,O){var K=this.resourceInfo&&this.resourceInfo.context;const M=this.portalItem&&this.portalItem.portal||K&&K.portal||null,I=K&&"web-scene"===K.origin?"web-scene":"web-map",{populateOperationalLayers:H}=await new Promise((L,
aa)=>a(["./layers/support/layersCreator"],L,aa));K=[];f.throwIfAborted(O);if(E.baseMapLayers&&Array.isArray(E.baseMapLayers)){P={context:{origin:I,url:P,portal:M,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const L=aa=>"web-scene"===I&&"ArcGISSceneServiceLayer"===aa.layerType||aa.isReference;O=H(this.baseLayers,E.baseMapLayers.filter(aa=>!L(aa)),P);K.push(O);E=H(this.referenceLayers,E.baseMapLayers.filter(L),P);K.push(E)}await f.eachAlways(K)};C._loadFromItem=async function(E,
P){const O=await (await E.load(P)).fetchData("json",P),K=h.urlToObject(E.itemUrl??"");this._set("resourceInfo",{data:O.baseMap??{},context:{origin:"Web Scene"===E.type?"web-scene":"web-map",portal:E.portal||x.getDefault(),url:K}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:O.spatialReference},this.resourceInfo.context);this.read({title:E.title,thumbnailUrl:E.thumbnailUrl},{origin:"portal-item",portal:E.portal||x.getDefault(),url:K});return this._loadLayersFromJSON(this.resourceInfo.data,
K,P)};F.fromId=function(E){const P=A.esriBasemapDefinitions[E];if(P){if(P.deprecated){let O=null;"dark-gray"===E?O="dark-gray-vector":"gray"===E?O="gray-vector":"streets"===E?O="streets-vector":"topo"===E&&(O="topo-vector");n.deprecated(m.getLogger("esri.Basemap"),`The ${E} basemap has entered mature support and is no longer being updated.`,{replacement:O,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return D.fromJSON(P)}return null};b._createClass(F,[{key:"baseLayers",set:function(E){this._set("baseLayers",
d.referenceSetter(E,this._get("baseLayers")))}},{key:"referenceLayers",set:function(E){this._set("referenceLayers",d.referenceSetter(E,this._get("referenceLayers")))}}]);return F}(u.JSONSupportMixin(r));c.__decorate([q.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(C,F,G,E){this._writeBaseLayers(C,F,E)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:e}},writer(C,F,G,E){this._writeBaseLayers(C,F,E)}}}}}})],u.prototype,"baseLayers",null);c.__decorate([q.property({type:String,
json:{origins:{"web-scene":{write:!0}}}})],u.prototype,"id",void 0);c.__decorate([q.property({type:z})],u.prototype,"portalItem",void 0);c.__decorate([q.property()],u.prototype,"referenceLayers",null);c.__decorate([q.property({readOnly:!0})],u.prototype,"resourceInfo",void 0);c.__decorate([q.property({type:w})],u.prototype,"spatialReference",void 0);c.__decorate([q.property()],u.prototype,"thumbnailUrl",void 0);c.__decorate([q.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],
u.prototype,"title",void 0);c.__decorate([v.writer("title")],u.prototype,"writeTitle",null);return u=D=c.__decorate([l.subclass("esri.Basemap")],u)})},"esri/core/Collection":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./ArrayPool ./Evented ./lang ./maybe ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/ensureType ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleObservable".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){function k(E){return E?E instanceof G?E.toArray():E.length?Array.prototype.slice.apply(E):[]:[]}function l(E){if(E&&E.length)return E[0]}function v(E,P,O,K){P&&P.forEach((M,I,H)=>{E.push(M);v(E,O.call(K,M,I,H),O,K)})}var w;let x=function(){function E(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}var P=E.prototype;P.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};P.reset=function(O){this.defaultPrevented=
!1;this.item=O};return a._createClass(E)}();const z=new u(x,void 0,E=>{E.item=null;E.target=null;E.defaultPrevented=!1;E.cancellable=!1}),A=()=>{},B=new Set,D=new Set,y=new Set,C=new Map;let F=0,G=w=function(E,P){function O(M){M=K.call(this,M);M._chgListeners=[];M._notifications=null;M._timer=null;M._observable=new q.SimpleObservable;M.length=0;M._items=[];Object.defineProperty(a._assertThisInitialized(M),"uid",{value:F++});return M}a._inherits(O,E);var K=a._createSuper(O);O.isCollection=function(M){return null!=
M&&M instanceof w};E=O.prototype;E.normalizeCtorArgs=function(M){return M?Array.isArray(M)||M instanceof w?{items:M}:M:{}};E.destroy=function(){this._removeAllRaw()};E[P]=function*(){yield*this.items};E.hasEventListener=function(M){return"change"===M?0<this._chgListeners.length:this._emitter.hasEventListener(M)};E.on=function(M,I){if("change"===M){const H=this._chgListeners,L={removed:!1,callback:I};H.push(L);this._notifications&&this._notifications.push({listeners:H.slice(),items:this._items.slice(),
changes:[]});return{remove(){this.remove=A;L.removed=!0;H.splice(H.indexOf(L),1)}}}return this._emitter.on(M,I)};E.once=function(M,I){const H=this.on(M,I);return{remove(){H.remove()}}};E.add=function(M,I){m.trackAccess(this._observable);if(this._emitBeforeChanges(t.ObservableChangesType.ADD))return this;I=this.getNextIndex(I??null);this._splice(I,0,[M]);this._emitAfterChanges(t.ObservableChangesType.ADD);return this};E.addMany=function(M,I=this._items.length){m.trackAccess(this._observable);if(!M||
!M.length||this._emitBeforeChanges(t.ObservableChangesType.ADD))return this;I=this.getNextIndex(I);this._splice(I,0,k(M));this._emitAfterChanges(t.ObservableChangesType.ADD);return this};E.at=function(M){m.trackAccess(this._observable);M=Math.trunc(M)||0;0>M&&(M+=this.length);if(!(0>M||M>=this.length))return this._items[M]};E.removeAll=function(){m.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(t.ObservableChangesType.REMOVE))return[];const M=this._removeAllRaw();this._emitAfterChanges(t.ObservableChangesType.REMOVE);
return M};E._removeAllRaw=function(){return 0===this.length?[]:this._splice(0,this.length)||[]};E.clone=function(){m.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(d.clone)})};E.concat=function(...M){m.trackAccess(this._observable);M=M.map(k);return this._createNewInstance({items:this._items.concat(...M)})};E.drain=function(M,I){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(t.ObservableChangesType.REMOVE)){var H=n.assumeNonNull(this._splice(0,
this.length)),L=H.length;for(let aa=0;aa<L;aa++)M.call(I,H[aa],aa,H);this._emitAfterChanges(t.ObservableChangesType.REMOVE)}};E.every=function(M,I){m.trackAccess(this._observable);return this._items.every(M,I)};E.filter=function(M,I){m.trackAccess(this._observable);let H;H=2===arguments.length?this._items.filter(M,I):this._items.filter(M);return this._createNewInstance({items:H})};E.find=function(M,I){m.trackAccess(this._observable);return this._items.find(M,I)};E.findIndex=function(M,I){m.trackAccess(this._observable);
return this._items.findIndex(M,I)};E.flatten=function(M,I){m.trackAccess(this._observable);const H=[];v(H,this,M,I);return new w(H)};E.forEach=function(M,I){m.trackAccess(this._observable);return this._items.forEach(M,I)};E.getItemAt=function(M){m.trackAccess(this._observable);return this._items[M]};E.getNextIndex=function(M){m.trackAccess(this._observable);const I=this.length;M=null==M?I:M;0>M?M=0:M>I&&(M=I);return M};E.includes=function(M,I=0){m.trackAccess(this._observable);return this._items.includes(M,
I)};E.indexOf=function(M,I=0){m.trackAccess(this._observable);return this._items.indexOf(M,I)};E.join=function(M=","){m.trackAccess(this._observable);return this._items.join(M)};E.lastIndexOf=function(M,I=this.length-1){m.trackAccess(this._observable);return this._items.lastIndexOf(M,I)};E.map=function(M,I){m.trackAccess(this._observable);M=this._items.map(M,I);return new w({items:M})};E.reorder=function(M,I=this.length-1){m.trackAccess(this._observable);const H=this.indexOf(M);if(-1!==H){0>I?I=0:
I>=this.length&&(I=this.length-1);if(H!==I){if(this._emitBeforeChanges(t.ObservableChangesType.MOVE))return M;this._splice(H,1);this._splice(I,0,[M]);this._emitAfterChanges(t.ObservableChangesType.MOVE)}return M}};E.pop=function(){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(t.ObservableChangesType.REMOVE)){var M=l(this._splice(this.length-1,1));this._emitAfterChanges(t.ObservableChangesType.REMOVE);return M}};E.push=function(...M){m.trackAccess(this._observable);if(this._emitBeforeChanges(t.ObservableChangesType.ADD))return this.length;
this._splice(this.length,0,M);this._emitAfterChanges(t.ObservableChangesType.ADD);return this.length};E.reduce=function(M,I){m.trackAccess(this._observable);const H=this._items;return 2===arguments.length?H.reduce(M,I):H.reduce(M)};E.reduceRight=function(M,I){m.trackAccess(this._observable);const H=this._items;return 2===arguments.length?H.reduceRight(M,I):H.reduceRight(M)};E.remove=function(M){m.trackAccess(this._observable);return this.removeAt(this.indexOf(M))};E.removeAt=function(M){m.trackAccess(this._observable);
if(!(0>M||M>=this.length||this._emitBeforeChanges(t.ObservableChangesType.REMOVE)))return M=l(this._splice(M,1)),this._emitAfterChanges(t.ObservableChangesType.REMOVE),M};E.removeMany=function(M){m.trackAccess(this._observable);if(!M||!M.length||this._emitBeforeChanges(t.ObservableChangesType.REMOVE))return[];M=M instanceof w?M.toArray():M;const I=this._items,H=[],L=M.length;for(let V=0;V<L;V++){var aa=I.indexOf(M[V]);if(-1<aa){var R=V+1,S=aa+1;const ea=Math.min(M.length-R,I.length-S);let ha=0;for(;ha<
ea&&M[R+ha]===I[S+ha];)ha++;R=1+ha;(aa=this._splice(aa,R))&&0<aa.length&&H.push.apply(H,aa);V+=R-1}}this._emitAfterChanges(t.ObservableChangesType.REMOVE);return H};E.reverse=function(){m.trackAccess(this._observable);if(this._emitBeforeChanges(t.ObservableChangesType.MOVE))return this;const M=this._splice(0,this.length);M&&(M.reverse(),this._splice(0,0,M));this._emitAfterChanges(t.ObservableChangesType.MOVE);return this};E.shift=function(){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(t.ObservableChangesType.REMOVE)){var M=
l(this._splice(0,1));this._emitAfterChanges(t.ObservableChangesType.REMOVE);return M}};E.slice=function(M=0,I=this.length){m.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(M,I)})};E.some=function(M,I){m.trackAccess(this._observable);return this._items.some(M,I)};E.sort=function(M){m.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(t.ObservableChangesType.MOVE))return this;const I=n.assumeNonNull(this._splice(0,this.length));arguments.length?
I.sort(M):I.sort();this._splice(0,0,I);this._emitAfterChanges(t.ObservableChangesType.MOVE);return this};E.splice=function(M,I,...H){m.trackAccess(this._observable);const L=(I?t.ObservableChangesType.REMOVE:0)|(H.length?t.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(L))return[];M=this._splice(M,I,H)||[];this._emitAfterChanges(L);return M};E.toArray=function(){m.trackAccess(this._observable);return this._items.slice()};E.toJSON=function(){m.trackAccess(this._observable);return this.toArray()};
E.toLocaleString=function(){m.trackAccess(this._observable);return this._items.toLocaleString()};E.toString=function(){m.trackAccess(this._observable);return this._items.toString()};E.unshift=function(...M){m.trackAccess(this._observable);if(!M.length||this._emitBeforeChanges(t.ObservableChangesType.ADD))return this.length;this._splice(0,0,M);this._emitAfterChanges(t.ObservableChangesType.ADD);return this.length};E._createNewInstance=function(M){return new this.constructor(M)};E._splice=function(M,
I,H){const L=this._items;var aa=this.itemType;let R=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=r.schedule(()=>this._dispatchChange()));if(I){R=L.splice(M,I);if(this.hasEventListener("before-remove")){var S=z.acquire();S.target=this;S.cancellable=!0;for(let ha=0,la=R.length;ha<la;ha++)I=R[ha],S.reset(I),this.emit("before-remove",S),S.defaultPrevented&&
(R.splice(ha,1),L.splice(M,0,I),M+=1,--ha,--la);z.release(S)}this.length=this._items.length;if(this.hasEventListener("after-remove")){I=z.acquire();I.target=this;I.cancellable=!1;S=R.length;for(let ha=0;ha<S;ha++)I.reset(R[ha]),this.emit("after-remove",I);z.release(I)}}if(H&&H.length){if(aa){I=[];for(var V of H)H=aa.ensureType(V),null==H&&null!=V||I.push(H);H=I}aa=this.hasEventListener("before-add");V=this.hasEventListener("after-add");I=M===this.length;if(aa||V){var ea=z.acquire();ea.target=this;
ea.cancellable=!0;S=z.acquire();S.target=this;S.cancellable=!1;for(const ha of H)aa?(ea.reset(ha),this.emit("before-add",ea),ea.defaultPrevented||(I?L.push(ha):L.splice(M++,0,ha),this._set("length",L.length),V&&(S.reset(ha),this.emit("after-add",S)))):(I?L.push(ha):L.splice(M++,0,ha),this._set("length",L.length),S.reset(ha),this.emit("after-add",S));z.release(S);z.release(ea)}else{if(I)for(ea of H)L.push(ea);else L.splice(M,0,...H);this._set("length",L.length)}}(H&&H.length||R&&R.length)&&this._notifyChangeEvent(H,
R);return R};E._emitBeforeChanges=function(M){let I=!1;if(this.hasEventListener("before-changes")){const H=z.acquire();H.target=this;H.cancellable=!0;H.type=M;this.emit("before-changes",H);I=H.defaultPrevented;z.release(H)}return I};E._emitAfterChanges=function(M){if(this.hasEventListener("after-changes")){const I=z.acquire();I.target=this;I.cancellable=!1;I.type=M;this.emit("after-changes",I);z.release(I)}this._observable.notify()};E._notifyChangeEvent=function(M,I){this.hasEventListener("change")&&
this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:M,removed:I})};E._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var M=this._notifications;this._notifications=null;for(const I of M){M=I.changes;B.clear();D.clear();y.clear();for(const {added:V,removed:ea}of M){if(V)if(0===y.size&&0===D.size)for(const ha of V)B.add(ha);else for(const ha of V)D.has(ha)?(y.add(ha),D.delete(ha)):y.has(ha)||B.add(ha);if(ea)if(0===
y.size&&0===B.size)for(const ha of ea)D.add(ha);else for(const ha of ea)B.has(ha)?B.delete(ha):(y.delete(ha),D.add(ha))}const H=c.acquire();B.forEach(V=>{H.push(V)});const L=c.acquire();D.forEach(V=>{L.push(V)});const aa=this._items,R=I.items,S=c.acquire();y.forEach(V=>{R.indexOf(V)!==aa.indexOf(V)&&S.push(V)});if(I.listeners&&(H.length||L.length||S.length)){M={target:this,added:H,removed:L,moved:S};const V=I.listeners.length;for(let ea=0;ea<V;ea++){const ha=I.listeners[ea];ha.removed||ha.callback.call(this,
M)}}c.release(H);c.release(L);c.release(S)}B.clear();D.clear();y.clear()}};a._createClass(O,[{key:"items",get:function(){m.trackAccess(this._observable);return this._items},set:function(M){this._emitBeforeChanges(t.ObservableChangesType.ADD)||(this._splice(0,this.length,k(M)),this._emitAfterChanges(t.ObservableChangesType.ADD))}}]);return O}(e.EventedAccessor,Symbol.iterator);G.ofType=E=>{if(!E)return w;if(C.has(E))return C.get(E);let P=null;if("function"===typeof E)P=E.prototype.declaredClass;else if(E.base)P=
E.base.prototype.declaredClass;else for(var O in E.typeMap){const K=E.typeMap[O].prototype.declaredClass;P=P?P+` | ${K}`:K}O=function(K){function M(){return I.apply(this,arguments)}a._inherits(M,K);var I=a._createSuper(M);return a._createClass(M)}(w);b.__decorate([f.shared({Type:E,ensureType:"function"===typeof E?p.ensureType(E):p.ensureOneOfType(E)})],O.prototype,"itemType",void 0);O=b.__decorate([h.subclass(`esri.core.Collection<${P}>`)],O);C.set(E,O);return O};b.__decorate([g.property()],G.prototype,
"length",void 0);b.__decorate([g.property()],G.prototype,"items",null);return G=w=b.__decorate([h.subclass("esri.core.Collection")],G)})},"esri/core/ArrayPool":function(){define(["../chunks/_rollupPluginBabelHelpers","./ObjectPool"],function(a,b){function c(n){n.length=0}let e=function(){function n(t=50,r=50){this._pool=new b(Array,void 0,c,r,t)}var u=n.prototype;u.acquire=function(){return this._pool.acquire()};u.release=function(t){this._pool.release(t)};u.prune=function(){this._pool.prune(0)};
n.acquire=function(){return d.acquire()};n.release=function(t){return d.release(t)};n.prune=function(){d.prune()};return a._createClass(n)}();const d=new e(100);return e})},"esri/core/ObjectPool":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let b=function(){function c(d,n,u,t=1,r=0){this._ctor=d;this._acquireFunction=n;this._releaseFunction=u;this.allocationSize=t;this._pool=Array(r);this._initialSize=r;if(this._ctor)for(d=0;d<r;d++)this._pool[d]=new this._ctor;this.allocationSize=
Math.max(t,1)}var e=c.prototype;e.destroy=function(){this.prune(0)};e.acquire=function(...d){if(c.test.disabled)var n=new this._ctor;else{if(0===this._pool.length){n=this.allocationSize;for(let u=0;u<n;u++)this._pool[u]=new this._ctor}n=this._pool.pop()}this._acquireFunction?this._acquireFunction(n,...d):n&&n.acquire&&"function"===typeof n.acquire&&n.acquire(...d);return n};e.release=function(d){d&&!c.test.disabled&&(this._releaseFunction?this._releaseFunction(d):d&&d.release&&"function"===typeof d.release&&
d.release(),this._pool.push(d))};e.prune=function(d=this._initialSize){if(!(d>=this._pool.length)){for(let n=d;n<this._pool.length;++n)this._dispose(this._pool[n]);this._pool.length=d}};e._dispose=function(d){d.dispose&&"function"===typeof d.dispose&&d.dispose()};return a._createClass(c)}();b.test={disabled:!1};return b})},"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,
b,c,e,d){let n=function(){function u(){this._emitter=new u.EventEmitter(this)}var t=u.prototype;t.emit=function(r,p){return this._emitter.emit(r,p)};t.on=function(r,p){return this._emitter.on(r,p)};t.once=function(r,p){return this._emitter.once(r,p)};t.hasEventListener=function(r){return this._emitter.hasEventListener(r)};return a._createClass(u)}();(function(u){let t=function(){function p(g=null){this._target=g;this._listenersMap=null}var m=p.prototype;m.clear=function(){this._listenersMap&&this._listenersMap.clear();
this._listenersMap=null};m.emit=function(g,f){g=this._listenersMap&&this._listenersMap.get(g);if(!g)return!1;const h=this._target||this;[...g].forEach(q=>{q.call(h,f)});return 0<g.length};m.on=function(g,f){if(Array.isArray(g)){var h=g.map(q=>this.on(q,f));return e.handlesGroup(h)}if(g.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);h=this._listenersMap.get(g)||[];h.push(f);this._listenersMap.set(g,
h);return{remove:()=>{const q=this._listenersMap&&this._listenersMap.get(g)||[],k=q.indexOf(f);0<=k&&q.splice(k,1)}}};m.once=function(g,f){const h=this.on(g,q=>{h.remove();f.call(null,q)});return h};m.hasEventListener=function(g){g=this._listenersMap&&this._listenersMap.get(g);return null!=g&&0<g.length};return a._createClass(p)}();u.EventEmitter=t;u.EventedMixin=p=>{p=function(m){function g(){var h=f.apply(this,arguments);h._emitter=new t;return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;
m.destroy=function(){this._emitter.clear()};m.emit=function(h,q){return this._emitter.emit(h,q)};m.on=function(h,q){return this._emitter.on(h,q)};m.once=function(h,q){return this._emitter.once(h,q)};m.hasEventListener=function(h){return this._emitter.hasEventListener(h)};return a._createClass(g)}(p);return p=b.__decorate([d.subclass("esri.core.Evented")],p)};let r=function(p){function m(){var f=g.apply(this,arguments);f._emitter=new n.EventEmitter(a._assertThisInitialized(f));return f}a._inherits(m,
p);var g=a._createSuper(m);p=m.prototype;p.destroy=function(){this._emitter.clear()};p.emit=function(f,h){return this._emitter.emit(f,h)};p.on=function(f,h){return this._emitter.on(f,h)};p.once=function(f,h){return this._emitter.once(f,h)};p.hasEventListener=function(f){return this._emitter.hasEventListener(f)};return a._createClass(m)}(c);r=b.__decorate([d.subclass("esri.core.Evented")],r);u.EventedAccessor=r})(n||(n={}));return n})},"esri/core/Accessor":function(){define("../chunks/_rollupPluginBabelHelpers ./Handles ./maybe ./accessorSupport/beforeDestroy ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){function g(v){if(null==v)return{value:v};if(Array.isArray(v))return{type:[v[0]],value:null};switch(typeof v){case "object":return v.constructor?.__accessorMetadata__||v instanceof Date?{type:v.constructor,value:v}:v;case "boolean":return{type:Boolean,value:v};case "string":return{type:String,value:v};case "number":return{type:Number,value:v};case "function":return{type:v,value:null}}}const f=Symbol("Accessor-Handles"),h=Symbol("Accessor-Initialized");let q=function(){function v(...x){this[k]=
null;this[l]=!1;if(this.constructor===v)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new u(this)});0<x.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,x))}v.createSubclass=function(x={}){if(Array.isArray(x))throw Error("Multi-inheritance unsupported since 4.16");const {properties:z,declaredClass:A,constructor:B}=x;delete x.declaredClass;
delete x.properties;delete x.constructor;const D=this;let y=function(C){function F(...E){var P=G.call(this,...E);P.inherited=null;B&&B.apply(a._assertThisInitialized(P),E);return P}a._inherits(F,C);var G=a._createSuper(F);return a._createClass(F)}(D);n.getPropertiesMetadata(y.prototype);for(const C in x){const F=x[C];y.prototype[C]="function"===typeof F?function(...G){const E=this.inherited;this.inherited=function(...O){if(D.prototype[C])return D.prototype[C].apply(this,O)};let P=void 0;try{P=F.apply(this,
G)}catch(O){throw this.inherited=E,O;}this.inherited=E;return P}:x[C]}for(const C in z)x=g(z[C]),p.property(x)(y.prototype,C);return m.subclass(A)(y)};var w=v.prototype;w.postscript=function(x){const z=this.__accessor__;x=z.ctorArgs||x;z.initialize();x&&(this.set(x),z.ctorArgs=null);z.constructed();this.initialize();this[h]=!0};w.initialize=function(){};w[e.BEFORE_DESTROY_SYMBOL]=function(){this[f]=c.destroyMaybe(this[f])};w.destroy=function(){this.destroyed||(r.removeTarget(this),this.__accessor__.destroy())};
w.commitProperty=function(x){this.get(x)};w.get=function(x){return d.get(this,x)};w.hasOwnProperty=function(x){return this.__accessor__?this.__accessor__.has(x):Object.prototype.hasOwnProperty.call(this,x)};w.keys=function(){return this.__accessor__?this.__accessor__.keys():[]};w.set=function(x,z){t.set(this,x,z);return this};w.watch=function(x,z,A){return r.watch(this,x,z,A)};w.own=function(x){this.addHandles(x)};w.addHandles=function(x,z){let A=this[f];c.isNone(A)&&(A=this[f]=new b);A.add(x,z)};
w.removeHandles=function(x){const z=this[f];c.isNone(z)||z.remove(x)};w.removeAllHandles=function(){const x=this[f];c.isNone(x)||x.removeAll()};w.hasHandles=function(x){const z=this[f];return c.isSome(z)?z.has(x):!1};w._override=function(x,z){void 0===z?this.__accessor__.clearOverride(x):this.__accessor__.override(x,z)};w._clearOverride=function(x){return this.__accessor__.clearOverride(x)};w._overrideIfSome=function(x,z){null==z?this.__accessor__.clearOverride(x):this.__accessor__.override(x,z)};
w._isOverridden=function(x){return this.__accessor__.isOverridden(x)};w.notifyChange=function(x){this.__accessor__.notifyChange(x)};w._get=function(x){return this.__accessor__.internalGet(x)};w._set=function(x,z){this.__accessor__.internalSet(x,z);return this};a._createClass(v,[{key:"constructed",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"initialized",get:function(){return this[h]}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||
!1}}]);return v}();var k=f;var l=h;return q})},"esri/core/Handles":function(){define(["../chunks/_rollupPluginBabelHelpers","./iteratorUtils","./maybe"],function(a,b,c){return function(){function e(){this._groups=new Map}var d=e.prototype;d.destroy=function(){this.removeAll()};d.add=function(n,u){if(b.isIterable(n)){u=this._getOrCreateGroup(u);for(const t of n)this._isHandle(t)&&u.push(t)}else this._isHandle(n)&&this._getOrCreateGroup(u).push(n);return this};d.forEach=function(n,u){if("function"===
typeof n)this._groups.forEach(t=>t.forEach(n));else{const t=this._getGroup(n);t&&u&&t.forEach(u)}};d.has=function(n){return this._groups.has(this._ensureGroupKey(n))};d.remove=function(n){if("string"!==typeof n&&b.isIterable(n)){for(const u of n)this.remove(u);return this}if(!this.has(n))return this;this._removeAllFromGroup(this._getGroup(n));this._groups.delete(this._ensureGroupKey(n));return this};d.removeAll=function(){this._groups.forEach(n=>this._removeAllFromGroup(n));this._groups.clear();return this};
d._isHandle=function(n){return n&&!!n.remove};d._getOrCreateGroup=function(n){if(this.has(n))return this._getGroup(n);const u=[];this._groups.set(this._ensureGroupKey(n),u);return u};d._getGroup=function(n){return c.assumeNonNull(this._groups.get(this._ensureGroupKey(n)))};d._ensureGroupKey=function(n){return n||"_default_"};d._removeAllFromGroup=function(n){n.forEach(u=>u.remove())};a._createClass(e,[{key:"size",get:function(){let n=0;this._groups.forEach(u=>{n+=u.length});return n}}]);return e}()})},
"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const c=[];return function*(){yield*c;for(const e of b)c.push(e),yield e}};a.find=function(b,c){for(const e of b)if(null!=e&&c(e))return e};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/maybe":function(){define(["exports"],function(a){function b(d,n){return null!=d?n(d):null}function c(d,n){if(null==d)throw Error(n??
"value is None");}function e(d,n,u){return null!=d?u(d):n}a.abortMaybe=function(d){null!=d&&d.abort();return null};a.applySome=b;a.assertIsSome=c;a.assumeNonNull=function(d){return d};a.destroyMaybe=function(d){null!=d&&d.destroy();return null};a.disposeMaybe=function(d){null!=d&&d.dispose();return null};a.equalsMaybe=function(d,n,u){return null!=d&&null!=n?null!=u?u(d,n):d.equals(n):d===n};a.filterNones=function(d){return d.filter(n=>null!=n)};a.forEachSome=function(d,n){for(const u of d)b(u,n)};
a.get=function(d,...n){for(let u=0;u<n.length&&d;++u)d=d[n[u]];return d};a.isNone=function(d){return null==d};a.isSome=function(d){return null!=d};a.isUndefined=function(d){return void 0===d};a.mapMany=function(d,n){const u=[];for(const t of d)u.push(e(t,null,n));return u};a.mapOr=e;a.mapSome=function(d,n){const u=[];d.forEach(t=>{t=n(t);null!=t&&u.push(t)});return u};a.mapSomeFirst=function(d,n){for(const u of d)if(d=n(u),null!=d)return d;return null};a.none=null;a.nullifyNonNullableForDispose=function(d){return null};
a.releaseMaybe=function(d){null!=d&&d.release();return null};a.removeMaybe=function(d){null!=d&&d.remove();return null};a.toNullable=function(d){return d};a.unwrap=function(d){return d};a.unwrapOr=function(d,n){return null!=d?d:"function"===typeof n?n():n};a.unwrapOrThrow=function(d,n){c(d,n);return d};a.unwrapOrValue=function(d,n){return null!=d?d:n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],function(a){const b=
Symbol("Accessor-beforeDestroy");a.BEFORE_DESTROY_SYMBOL=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,b){function c(n,u){n="?"===n[n.length-1]?n.slice(0,-1):n;if(null!=u.getItemAt||Array.isArray(u)){var t=parseInt(n,10);if(!isNaN(t))return Array.isArray(u)?u[t]:u.getItemAt(t)}t=b.getProperties(u);return b.isPropertyDeclared(t,n)?t.get(n):u[n]}function e(n,u,t){if(null==n)return n;if((n=c(u[t],n))||
!(t<u.length-1))return t===u.length-1?n:e(n,u,t+1)}function d(n,u,t=0){return"string"!==typeof u||u.includes(".")?e(n,b.pathToArray(u),t):c(u,n)}a.exists=function(n,u){return void 0!==d(u,n)};a.get=function(n,u){return d(n,u)};a.valueOf=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang","../maybe"],function(a,b,c,e){function d(p){return p?p.__accessor__?p.__accessor__:p.propertyInvalidated?p:null:
null}function n(p,m,g){return m?Object.keys(m).reduce((f,h)=>{let q=null;var k="merge";g&&(q=g.path?`${g.path}.${h}`:h,k=g.policy(q));if("replace"===k||"replace-arrays"===k&&Array.isArray(f[h]))return f[h]=m[h],f;if(void 0===f[h])return f[h]=c.clone(m[h]),f;let l=f[h];k=m[h];if(l===k)return f;if(Array.isArray(k)||Array.isArray(f))l=l?Array.isArray(l)?f[h]=l.concat():f[h]=[l]:f[h]=[],k&&(Array.isArray(k)||(k=[k]),k.forEach(v=>{l.includes(v)||l.push(v)}));else if(k&&"object"===typeof k)if(g){const v=
g.path;g.path=e.assumeNonNull(q);f[h]=n(l,k,g);g.path=v}else f[h]=n(l,k,null);else if(!f.hasOwnProperty(h)||m.hasOwnProperty(h))f[h]=k;return f},p||{}):p}function u(p){return Array.isArray(p)?p:p.split(".")}function t(p){return p.includes(",")?p.split(",").map(m=>m.trim()):[p.trim()]}function r(p){if(Array.isArray(p)){const m=[];for(const g of p)m.push(...t(g));return m}return t(p)}a.getDependsInfo=function(p,m){const g=d(p);return g?g.getDependsInfo(p,m,""):""};a.getProperties=d;a.isPropertyDeclared=
function(p,m){return null!=p&&p.metadatas&&null!=p.metadatas[m]};a.merge=function(p,m,g){return g?n(p,m,{policy:g,path:""}):n(p,m,null)};a.once=function(p){let m=!1;return()=>{m||(m=!0,p())}};a.parse=function(p,m,g,f){m=r(m);return 1!==m.length?(m=m.map(h=>f(p,h,g)),b.handlesGroup(m)):f(p,m[0],g)};a.parseConditionalPath=function(p){if(!p.includes("?"))return null;p=u(p);const m=Array(p.length);for(let g=0;g<p.length;g++){const f=p[g];m[g]="?"===f[f.length-1];m[g]&&(p[g]=f.slice(0,-1))}return{fullPath:p.join("."),
conditional:m}};a.pathToArray=u;a.pathToStringOrArray=function(p){return!p||"string"===typeof p&&!p.includes(".")?p:u(p)};a.splitPath=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/handleUtils":function(){define(["exports","./maybe"],function(a,b){function c(e){return{remove:()=>{e&&(e(),e=void 0)}}}a.asyncHandle=function(e,d){let n=!1,u=null;e.then(t=>{n?t.remove():u=t});return c(()=>{n=!0;b.isSome(u)?u.remove():b.isSome(d)&&(d.abort(),d=null)})};a.destroyHandle=function(e){return c(b.isSome(e)?
()=>e.destroy():void 0)};a.handlesGroup=function(e){return c(()=>e.forEach(d=>b.isSome(d)&&d.remove()))};a.makeHandle=c;a.refHandle=function(e){return c(()=>{const d=e();b.isSome(d)&&d.remove()})};a.timeoutHandle=function(e,d){const n=setTimeout(e,d);return c(()=>clearTimeout(n))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./maybe","./typedArrayUtil"],function(a,b,c,e){function d(f,h){let q;if(h)for(q in f)f.hasOwnProperty(q)&&
(void 0===f[q]?delete f[q]:f[q]instanceof Object&&d(f[q],!0));else for(q in f)f.hasOwnProperty(q)&&void 0===f[q]&&delete f[q];return f}function n(f){if(!f||"object"!==typeof f||"function"===typeof f)return f;var h=m(f);if(c.isSome(h))return h;if("function"===typeof f.clone)return f.clone();if(t(f))return f.map(n);if(r(f))return f.clone();h={};for(const q of Object.getOwnPropertyNames(f))h[q]=n(f[q]);return h}function u(f){if(!f||"object"!==typeof f||"function"===typeof f||"HTMLElement"in globalThis&&
f instanceof HTMLElement)return f;var h=m(f);if(c.isSome(h))return h;if(t(f)){let q=!0;f=f.map(k=>{const l=u(k);null!=k&&null==l&&(q=!1);return l});return q?f:null}if("function"===typeof f.clone)return f.clone();if(!r(f)){h=new (Object.getPrototypeOf(f).constructor);for(const q of Object.getOwnPropertyNames(f)){const k=f[q],l=u(k);if(null!=k&&null==l)return null;h[q]=l}return h}return null}function t(f){return"function"===typeof f.map&&"function"===typeof f.forEach}function r(f){return"function"===
typeof f.notifyChange&&"function"===typeof f.watch}function p(f){if("[object Object]"!==Object.prototype.toString.call(f))return!1;f=Object.getPrototypeOf(f);return null===f||f===Object.prototype}function m(f){if(e.isInt8Array(f)||e.isUint8Array(f)||e.isUint8ClampedArray(f)||e.isInt16Array(f)||e.isUint16Array(f)||e.isInt32Array(f)||e.isUint32Array(f)||e.isFloat32Array(f)||e.isFloat64Array(f))return f.slice();if(f instanceof Date)return new Date(f.getTime());if(f instanceof ArrayBuffer)return f.slice(0,
f.byteLength);if(f instanceof Map){var h=new Map;for(const [q,k]of f)h.set(q,n(k));return h}if(f instanceof Set){h=new Set;for(const q of f)h.add(n(q));return h}return null}function g(f,h){if(null===f||null===h)return!1;const q=Object.keys(f);if(null===h||Object.keys(h).length!==q.length)return!1;for(const k of q)if(f[k]!==h[k]||!Object.prototype.hasOwnProperty.call(h,k))return!1;return!0}a.clone=n;a.equals=function(f,h){return f===h||"number"===typeof f&&isNaN(f)&&"number"===typeof h&&isNaN(h)||
"function"===typeof(f||{}).getTime&&"function"===typeof(h||{}).getTime&&f.getTime()===h.getTime()||!1};a.equalsShallow=function(f,h){if(f===h)return!0;if(null===f||void 0===f||"string"===typeof f)return f===h;if("number"===typeof f)return f===h||"number"===typeof h&&isNaN(f)&&isNaN(h);if(f instanceof Date)return h instanceof Date&&f.getTime()===h.getTime();if(Array.isArray(f))return Array.isArray(h)&&b.equals(f,h);if(f instanceof Set){var q;if(q=h instanceof Set)a:if(f.size!==h.size)q=!1;else{for(const k of f)if(!h.has(k)){q=
!1;break a}q=!0}return q}if(f instanceof Map){if(q=h instanceof Map)a:if(f.size!==h.size)q=!1;else{for(const [k,l]of f)if(f=h.get(k),f!==l||void 0===f&&!h.has(k)){q=!1;break a}q=!0}return q}return p(f)?p(h)&&g(f,h):!1};a.fixJson=d;a.isAccessorLike=r;a.isPlainObject=p;a.tryClone=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/arrayUtils":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./RandomLCG"],function(a,b,c,e){function d(f){return f}
function n(f,h=d){if(f&&0!==f.length){var q=f[0],k=h(q);for(let l=1;l<f.length;++l){const v=f[l],w=Number(h(v));w>k&&(k=w,q=v)}return q}}function u(f,h,q,k){k=k||p;var l=Math.max(0,k.last-10);for(let v=l;v<q;++v)if(f[v]===h)return k.last=v;q=Math.min(l,q);for(l=0;l<q;++l)if(f[l]===h)return k.last=l;return-1}function t(f){return f?(g.seed=f,()=>g.getFloat()):Math.random}const r=!!Array.prototype.fill;b=b._createClass(function(){this.last=0});const p=new b,m=new Set,g=new e;a.PositionHint=b;a.binaryFindClosest=
function(f,h,q){if(f&&0!==f.length){var k=f.length-1,l=f[0];if(h<=q(l))return l;l=f[k];if(h>=q(l))return l;var v=0;l=0;for(var w=k;v<w;){l=v+Math.floor((w-v)/2);const z=f[l],A=q(z);if(A===h)return z;if(h<A){if(0<l){w=f[l-1];var x=q(w);if(h>x)return h-x>=A-h?z:w}w=l}else{if(l<k&&(v=f[l+1],x=q(v),h<x))return h-A>=x-h?v:z;v=l+1}}return f[l]}};a.binaryIndexOf=function(f,h,q){const k=f.length;let l=0;for(var v=k-1;l<v;){const w=l+Math.floor((v-l)/2);h>f[w]?l=w+1:v=w}v=f[l];return q?h>=f[k-1]?-1:v===h?
l:l-1:v===h?l:-1};a.constant=function(f,h){if(r)return Array(f).fill(h);const q=Array(f);for(let k=0;k<f;k++)q[k]=h;return q};a.difference=function(f,h,q){let k,l;q?(k=h.filter(v=>!f.some(w=>q(w,v))),l=f.filter(v=>!h.some(w=>q(w,v)))):(k=h.filter(v=>!f.includes(v)),l=f.filter(v=>!h.includes(v)));return{added:k,removed:l}};a.equals=function(f,h,q){if(c.isNone(f)&&c.isNone(h))return!0;if(c.isNone(f)||c.isNone(h)||f.length!==h.length)return!1;if(q)for(let k=0;k<f.length;k++){if(!q(f[k],h[k]))return!1}else for(q=
0;q<f.length;q++)if(f[q]!==h[q])return!1;return!0};a.filterInPlace=function(f,h){let q=0;for(let k=0;k<f.length;++k){const l=f[k];h(l,k)&&(f[q]=l,q++)}f.length=q};a.first=function(f){if(f)return 0<f.length?f[0]:void 0};a.groupToMap=function(f,h){const q=new Map,k=f.length;for(let l=0;l<k;l++){const v=f[l],w=h(v,l,f),x=q.get(w);x?x.push(v):q.set(w,[v])}return q};a.indexOf=u;a.intersect=function(f,h,q){return f&&h?q?f.filter(k=>-1<h.findIndex(l=>q(k,l))):f.filter(k=>h.includes(k)):[]};a.isArrayLike=
function(f){return f&&"number"===typeof f.length};a.last=function(f){if(f){var h=f.length;return 0<h?f[h-1]:void 0}};a.max=n;a.min=function(f,h=d){return n(f,q=>-h(q))};a.pickRandom=function(f,h,q){const k=f.length;if(h>=k)return f.slice(0);q=t(q);const l=new Set,v=[];for(;v.length<h;){const w=Math.floor(q()*k);l.has(w)||(l.add(w),v.push(f[w]))}return v};a.range=function(f,h){void 0===h&&(h=f,f=0);const q=Array(h-f);for(let k=f;k<h;k++)q[k-f]=k;return q};a.remove=function(f,h){const q=f.indexOf(h);
return-1!==q?(f.splice(q,1),h):null};a.removeUnordered=function(f,h,q,k){const l=null==q?f.length:q;k=u(f,h,l,k);if(-1!==k)return f[k]=f[l-1],null==q&&f.pop(),h};a.removeUnorderedMany=function(f,h,q=f.length,k=h.length,l,v){if(0===k||0===q)return q;m.clear();for(let w=0;w<k;++w)m.add(h[w]);l=l||p;h=Math.max(0,l.last-10);for(k=h;k<q;++k)if(m.has(f[k])&&(v&&v.push(f[k]),m.delete(f[k]),f[k]=f[q-1],--q,--k,0===m.size||0===q))return m.clear(),q;for(k=0;k<h;++k)if(m.has(f[k])&&(v&&v.push(f[k]),m.delete(f[k]),
f[k]=f[q-1],--q,--k,0===m.size||0===q))return m.clear(),q;m.clear();return q};a.shuffle=function(f,h){h=t(h);for(let q=f.length-1;0<q;q--){const k=Math.floor(h()*(q+1)),l=f[q];f[q]=f[k];f[k]=l}return f};a.splitIntoChunks=function(f,h){const q=f.length;if(0===q)return[];const k=[];for(let l=0;l<q;l+=h)k.push(f.slice(l,l+h));return k};a.unique=function(f,h){return h?f.filter((q,k,l)=>l.findIndex(h.bind(null,q))===k):f.filter((q,k,l)=>l.indexOf(q)===k)};a.update=function(f,h){let q=f.length!==h.length;
q&&(f.length=h.length);for(let k=0;k<h.length;++k)f[k]!==h[k]&&(f[k]=h[k],q=!0);return q};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/RandomLCG":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let b=function(){function c(d=1){this._seed=d}var e=c.prototype;e.getInt=function(){return this._seed=(c._a*this._seed+c._c)%c._m};e.getFloat=function(){return this.getInt()/(c._m-1)};e.getIntRange=function(d,n){return Math.round(this.getFloatRange(d,n))};
e.getFloatRange=function(d,n){n-=d;const u=this.getInt()/c._m;return d+u*n};a._createClass(c,[{key:"seed",set:function(d){this._seed=null==d?Math.random()*c._m:d}}]);return c}();b._m=2147483647;b._a=48271;b._c=0;return b})},"esri/core/typedArrayUtil":function(){define(["exports","./has","./maybe"],function(a,b,c){function e(h){return"Int8Array"===h?.constructor?.name}function d(h){return"Uint8Array"===h?.constructor?.name}function n(h){return"Uint8ClampedArray"===h?.constructor?.name}function u(h){return"Int16Array"===
h?.constructor?.name}function t(h){return"Uint16Array"===h?.constructor?.name}function r(h){return"Int32Array"===h?.constructor?.name}function p(h){return"Uint32Array"===h?.constructor?.name}function m(h){return"Float32Array"===h?.constructor?.name}function g(h){return"Float64Array"===h?.constructor?.name}function f(h){return!("buffer"in h)}a.NATIVE_ARRAY_MAX_SIZE=1024;a.estimateSize=function(h){return c.isSome(h)?f(h)?8*h.length+12:h.byteLength+145:0};a.isArray=f;a.isArrayBuffer=function(h){return h instanceof
ArrayBuffer};a.isFloat=function(h){return g(h)||m(h)};a.isFloat32Array=m;a.isFloat64Array=g;a.isInt16Array=u;a.isInt32Array=r;a.isInt8Array=e;a.isSigned=function(h){return g(h)||m(h)||r(h)||u(h)||e(h)};a.isUint16Array=t;a.isUint32Array=p;a.isUint8Array=d;a.isUint8ClampedArray=n;a.maximumValue=function(h){return g(h)?1.79769E308:m(h)?3.402823E38:p(h)?4294967295:t(h)?65535:d(h)||n(h)?255:r(h)?2147483647:u(h)?32767:e(h)?127:256};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/has":function(){define(function(){function a(c){return"function"===
typeof b[c]?b[c]=b[c](globalThis):b[c]}let b;b=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{};a.add=(c,e,d,n)=>{if(n||"undefined"===typeof b[c])b[c]=e;return d&&a(c)};a.cache=b;a.add("esri-deprecation-warnings",!0);a.add("esri-force-fullscreen-debug",!1);(()=>{a.add("host-webworker","undefined"!==typeof globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var c="undefined"!==typeof window&&"undefined"!==
typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;a.add("host-browser",c);a.add("dom",c);if(a("host-browser")){var e=navigator;c=e.userAgent;var d=e.appVersion;e=parseFloat(d);a.add("edge",parseFloat(c.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(c.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(c.split("Chrome/")[1])||void 0);a.add("safari",!d.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(d.split("Version/")[1]));
a.add("mac",d.includes("Macintosh"));if(c.match(/(iPhone|iPod|iPad)/)){d=RegExp.$1.replace(/P/,"p");var n=c.match(/OS ([\d_]+)/)?RegExp.$1:"1";n=parseFloat(n.replace(/_/,".").replace(/_/g,""));a.add(d,n);a.add("ios",n)}a("webkit")||(c.includes("Gecko")&&!a("edge")&&a.add("mozilla",e),a("mozilla")&&a.add("ff",parseFloat(c.split("Firefox/")[1]||c.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var c=navigator.userAgent;const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(c);
c=/iPhone/i.test(c);e&&a.add("esri-mobile",e);c&&a.add("esri-iPhone",c);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-shared-array-buffer",()=>{const e=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!e});a.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers",
"Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-animation-enabled",!0);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",
.1);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",24E6);a.add("mapserver-pbf-version-support",10.81);a.add("mapservice-popup-identify-max-tolerance",20);a.add("heatmap-allow-raster-fallback",!0);a.add("heatmap-force-raster",!1);!a("host-webworker")&&a("host-browser")&&
(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;e.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';e.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");e.href="?'";return e.href.includes("?%27")}))})();
a.add("enable-feature:SceneLayer-editing",!0);a("enable-feature:SceneLayer-editing")&&(a.add("enable-feature:direct-3d-object-feature-layer-display",!0),a.add("enable-i3s-patching",!0));return a})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","../maybe","./utils"],function(a,b,c,e){function d(t){let r=t.constructor.__accessorMetadata__;const p=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(!r)r={},Object.defineProperty(t.constructor,"__accessorMetadata__",
{value:r,enumerable:!1,configurable:!0,writable:!0});else if(!p){r=Object.create(r);for(const m in r)r[m]=b.clone(r[m]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:r,enumerable:!1,configurable:!0,writable:!0})}return c.assumeNonNull(t.constructor.__accessorMetadata__)}function n(t){return u.test(t)?"replace":"merge"}const u=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;a.getPropertiesMetadata=d;a.getPropertyMetadata=function(t,r){t=d(t);let p=t[r];p||
(p=t[r]={});return p};a.mergeProperty=function(t,r){return e.merge(t,r,n)};a.setPropertyMetadata=function(t,r,p){d(t)[r]=p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Properties":function(){define("../../chunks/_rollupPluginBabelHelpers ../has ../lang ../Logger ../maybe ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./utils ./tracking/Flags".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g,f){e.getLogger("esri.core.accessorSupport.Properties");
b=function(){function q(l){this.host=l;this.properties=new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=u.Lifecycle.INITIALIZING;this.store=new p.Store;this._origin=r.OriginId.USER;l=d.assumeNonNull(this.host.constructor.__accessorMetadata__);for(const v in l){const w=new t.Property(this,v,l[v]);this.properties.set(v,w)}this.metadatas=l}var k=q.prototype;k.initialize=function(){this.lifecycle=u.Lifecycle.CONSTRUCTING};k.constructed=function(){this.lifecycle=u.Lifecycle.CONSTRUCTED};k.destroy=
function(){this.destroyed=!0;for(const [l,v]of this.properties){if(v.metadata.autoDestroy){const w=this.internalGet(l);w&&w&&"function"===typeof w.destroy&&(w.destroy(),~v.observerObject.flags&f.Flags.NonNullable&&this._internalSet(v,null))}v.destroy()}};k.get=function(l){const v=this.properties.get(l);if(v.metadata.get)return v.getComputed();m.trackAccess(v.observerObject);const w=this.store;return w.has(l)?w.get(l):v.metadata.value};k.originOf=function(l){const v=this.store.originOf(l);return void 0===
v&&(l=this.properties.get(l),void 0!==l&&l.observerObject.flags&f.Flags.HasDefaultValue)?"defaults":r.idToName(v)};k.has=function(l){return this.properties.has(l)?this.store.has(l):!1};k.keys=function(){return[...this.properties.keys()]};k.internalGet=function(l){const v=this.properties.get(l);if(void 0!==v)return this.store.has(l)?this.store.get(l):v.metadata.value};k.internalSet=function(l,v){l=this.properties.get(l);void 0!==l&&this._internalSet(l,v)};k.getDependsInfo=function(l,v,w){const x=this.properties.get(v);
if(void 0===x)return"";const z=new Set;var A=m.runTracked({onObservableAccessed:D=>z.add(D),onTrackingEnd:()=>{}},()=>x.metadata.get?.call(l)),B=l.declaredClass.split(".").pop();v=`${w}${B}.${v}: ${A}\n`;if(0===z.size)return v;w+="  ";for(const D of z){if(!(D instanceof t.Property))continue;A=D.properties.host;B=D.propertyName;const y=g.getProperties(A);v=y?v+y.getDependsInfo(A,B,w):v+`${w}${B}: undefined\n`}return v};k.setAtOrigin=function(l,v,w){l=this.properties.get(l);if(void 0!==l)return this._setAtOrigin(l,
v,w)};k.isOverridden=function(l){l=this.properties.get(l);return void 0!==l&&!!(l.observerObject.flags&f.Flags.Overriden)};k.clearOverride=function(l){l=this.properties.get(l);const v=l?.observerObject;v&&v.flags&f.Flags.Overriden&&(v.flags&=~f.Flags.Overriden,l.notifyChange())};k.override=function(l,v){l=this.properties.get(l);if(!(void 0===l||null==v&&l.observerObject.flags&f.Flags.NonNullable)){var w=l.metadata.cast;if(w){v=this._cast(w,v);const {valid:x,value:z}=v;h.release(v);if(!x)return;v=
z}l.observerObject.flags|=f.Flags.Overriden;this._internalSet(l,v)}};k.set=function(l,v){l=this.properties.get(l);if(!(void 0===l||null==v&&l.observerObject.flags&f.Flags.NonNullable)){var w=l.metadata.cast;if(w){v=this._cast(w,v);const {valid:x,value:z}=v;h.release(v);if(!x)return;v=z}(w=l.metadata.set)?w.call(this.host,v):this._internalSet(l,v)}};k.setDefaultOrigin=function(l){this._origin=r.nameToId(l)};k.getDefaultOrigin=function(){return r.idToName(this._origin)};k.notifyChange=function(l){l=
this.properties.get(l);void 0!==l&&l.notifyChange()};k.invalidate=function(l){l=this.properties.get(l);void 0!==l&&l.invalidate()};k.commit=function(l){l=this.properties.get(l);void 0!==l&&l.commit()};k._internalSet=function(l,v){this._setAtOrigin(l,v,this.lifecycle!==u.Lifecycle.INITIALIZING?this._origin:r.OriginId.DEFAULTS)};k._setAtOrigin=function(l,v,w){const x=this.store,z=l.propertyName;x.has(z,w)&&c.equals(v,x.get(z))&&~l.observerObject.flags&f.Flags.Overriden&&w===x.originOf(z)||(l.invalidate(),
x.set(z,v,w),l.commit(),m.initializeDependencyTracking(this.host,l))};k._cast=function(l,v){const w=h.acquire();w.valid=!0;w.value=v;l&&(w.value=l.call(this.host,v,w));return w};a._createClass(q,[{key:"initialized",get:function(){return this.lifecycle!==u.Lifecycle.INITIALIZING}}]);return q}();e=function(){function q(){this.value=null;this.valid=!0}var k=q.prototype;k.acquire=function(){this.valid=!0};k.release=function(){this.value=null};return a._createClass(q)}();const h=new n(e);return b})},"esri/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers",
"../config","./has","./maybe","./string"],function(a,b,c,e,d){const n={info:0,warn:1,error:2,none:3};c=function(){function u(r){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=r.level&&(this.level=r.level);null!=r.writer&&(this.writer=r.writer);this._module=r.module;u._loggers[this.module]=this;r=this.module.lastIndexOf(".");-1!==r&&(this._parent=u.getLogger(this.module.slice(0,r)))}var t=u.prototype;t.error=function(...r){this._log("error",
"always",...r)};t.warn=function(...r){this._log("warn","always",...r)};t.info=function(...r){this._log("info","always",...r)};t.errorOnce=function(...r){this._log("error","once",...r)};t.warnOnce=function(...r){this._log("warn","once",...r)};t.infoOnce=function(...r){this._log("info","once",...r)};t.errorOncePerTick=function(...r){this._log("error","oncePerTick",...r)};t.warnOncePerTick=function(...r){this._log("warn","oncePerTick",...r)};t.infoOncePerTick=function(...r){this._log("info","oncePerTick",
...r)};u.getLogger=function(r){let p=u._loggers[r];p||(p=new u({module:r}));return p};t._log=function(r,p,...m){if(this._matchLevel(r)){if("always"!==p&&!u._throttlingDisabled){const g=this._argsToKey(m),f=this._loggedMessages[r].get(g);if("once"===p&&null!=f||"oncePerTick"===p&&f&&f>=u._tickCounter)return;this._loggedMessages[r].set(g,u._tickCounter);u._scheduleTickCounterIncrement()}for(const g of b.log.interceptors)if(g(r,this.module,...m))return;this._inheritedWriter()(r,this.module,...m)}};t._parentWithMember=
function(r,p){let m=this;for(;e.isSome(m);){const g=m[r];if(e.isSome(g))return g;m=m.parent}return p};t._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};t._consoleWriter=function(r,p,...m){console[r](`[${p}]`,...m)};t._matchLevel=function(r){return n[this._parentWithMember("level",b.log.level||"warn")]<=n[r]};t._argsToKey=function(...r){return d.numericHash(JSON.stringify(r,(p,m)=>"object"!==typeof m||Array.isArray(m)?m:"[Object]"))};u._scheduleTickCounterIncrement=
function(){u._tickCounterScheduled||(u._tickCounterScheduled=!0,Promise.resolve().then(()=>{u._tickCounter++;u._tickCounterScheduled=!1}))};a._createClass(u,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},{key:"test",get:function(){const r=this;return{loggedMessages:r._loggedMessages,clearLoggedWarnings(){return r._loggedMessages.warn.clear()}}}}],[{key:"testSingleton",get:function(){return{resetLoggers(r={}){const p=u._loggers;u._loggers=r;return p},
set throttlingDisabled(r){u._throttlingDisabled=r}}}}]);return u}();c._loggers={};c._tickCounter=0;c._tickCounterScheduled=!1;c._throttlingDisabled=!1;return c})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,c){b={analysisTheme:{accentColor:[255,128,0],textColor:"white"},apiKey:void 0,applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",
geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],maxUrlLength:2E3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(c.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")),b.defaultAssetsPath=b.assetsPath);return b})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function c(d,n,u){for(const t of d){if(null==
u)return;if(!(t in u))if(n)u[t]={};else return;u=u[t]}return u}function e(d,n,u){return n?Object.keys(n).reduce((t,r)=>{let p=t[r],m=n[r];if(p===m)return t;if(void 0===p)return t[r]=b.clone(m),t;if(Array.isArray(m)||Array.isArray(t))p=p?Array.isArray(p)?t[r]=p.concat():t[r]=[p]:t[r]=[],m&&(Array.isArray(m)||(m=[m]),u?m.forEach(g=>{p.includes(g)||p.push(g)}):t[r]=m.concat());else if(m&&"object"===typeof m)t[r]=e(p,m,u);else if(!t.hasOwnProperty(r)||n.hasOwnProperty(r))t[r]=m;return t},d||{}):d}a.deepMerge=
function(d,n,u=!1){return e(d,n,u)};a.getDeepValue=function(d,n){if(null!=n)return n[d]||c(d.split("."),!1,n)};a.setDeepValue=function(d,n,u){const t=d.split(".");d=t.pop();(u=c(t,!0,u))&&d&&(u[d]=n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function c(d){return null==d?"":d}const e=/\{([^\}]+)\}/g;a.escapeRegExpString=function(d,n){return d.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,u=>n&&n.includes(u)?
u:`\\${u}`)};a.numericHash=function(d){let n=0;for(let u=0;u<d.length;u++)n=(n<<5)-n+d.charCodeAt(u),n|=0;return n};a.replace=function(d,n){return d.replace(e,"object"===typeof n?(u,t)=>c(b.getDeepValue(t,n)):(u,t)=>c(n(t)))};a.stripHTML=function(d){return(new DOMParser).parseFromString(d||"","text/html").body.innerText||""};a.templateHasKey=function(d,n){return(new RegExp(`{${n}}`,"ig")).test(d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],
function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Property":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ./ObservableBase ./PropertyOrigin ./tracking ./tracking/Flags".split(" "),function(a,b,c,e,d,n){let u=function(){function p(g,f,h){this.properties=g;this.propertyName=
f;this.metadata=h;this.observerObject=new t;this._handles=this._accessed=null;this.observerObject.flags=n.Flags.Dirty|(h.nonNullable?n.Flags.NonNullable:0)|(h.hasOwnProperty("value")?n.Flags.HasDefaultValue:0)|(void 0===h.get?n.Flags.DepTrackingInitialized:0)|(void 0===h.dependsOn?n.Flags.AutoTracked:0);r.register(this,this.observerObject,this.observerObject)}var m=p.prototype;m.destroy=function(){r.unregister(this.observerObject);this.observerObject.destroy();this._accessed=null;this._clearObservationHandles()};
m.getComputed=function(){const g=this.observerObject;d.trackAccess(g);var f=this.properties.store;const h=this.propertyName;var q=g.flags;const k=f.get(h);if(q&n.Flags.Computing||~q&n.Flags.Dirty&&f.has(h))return k;g.flags|=n.Flags.Computing;const l=this.properties.host;q&n.Flags.AutoTracked?q=d.runTracked(this,this.metadata.get,l):(d.trackExplicitDependencies(l,this),q=this.metadata.get.call(l));f.set(h,q,e.OriginId.COMPUTED);f=f.get(h);f===k?g.flags&=~n.Flags.Dirty:d.runUntracked(this.commit,this);
g.flags&=~n.Flags.Computing;return f};m.onObservableAccessed=function(g){g!==this.observerObject&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(g)||this._accessed.push(g))};m.onTrackingEnd=function(){this._clearObservationHandles();const g=this.observerObject;g.flags|=n.Flags.DepTrackingInitialized;const f=this._accessed;if(null!==f){var h=this._handles;null===h&&(h=this._handles=[]);for(let q=0;q<f.length;++q)h.push(f[q].observe(g));f.length=0}};m.notifyChange=function(){const g=
this.observerObject;g.onInvalidated();g.onCommitted()};m.invalidate=function(){this.observerObject.onInvalidated()};m.commit=function(){const g=this.observerObject;g.flags&=~n.Flags.Dirty;g.onCommitted()};m._clearObservationHandles=function(){const g=this._handles;if(null!==g){for(let f=0;f<g.length;++f)g[f].remove();g.length=0}};return b._createClass(p)}(),t=function(p){function m(){var f=g.apply(this,arguments);f.flags=0;return f}b._inherits(m,p);var g=b._createSuper(m);p=m.prototype;p.onInvalidated=
function(){~this.flags&n.Flags.Overriden&&(this.flags|=n.Flags.Dirty);const f=this._observers;if(f&&0<f.length)for(const h of f)h.onInvalidated()};p.onCommitted=function(){var f=this._observers;if(f&&0<f.length){f=f.slice();for(const h of f)h.onCommitted()}};p.destroy=function(){if(this.flags&n.Flags.Dirty)this.onCommitted();b._get(b._getPrototypeOf(m.prototype),"destroy",this).call(this)};return b._createClass(m)}(c.ObservableBase);const r=new FinalizationRegistry(p=>{p.destroy()});a.Property=u;
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ObservableBase":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","./tracking/ObservationHandle"],function(a,b,c){let e=function(){function n(){this._observers=null;this.destroyed=!1}var u=n.prototype;u.observe=function(t){if(this.destroyed||t.destroyed)return d;null==this._observers&&(this._observers=[]);const r=this._observers;let p=!1,m=!1;const g=r.length;for(let f=0;f<g;++f){const h=
r[f];if(h.destroyed)m=!0;else if(h===t){p=!0;break}}p||(r.push(t),m&&this._removeDestroyedObservers());return new c.ObservationHandle(r,t)};u._removeDestroyedObservers=function(){const t=this._observers;if(t&&0!==t.length){var r=t.length,p=0;for(let m=0;m<r;++m){for(;m+p<r;)if(t[m+p].destroyed)++p;else break;if(0<p)if(m+p<r)t[m]=t[m+p];else break}t.length=r-p}};u.destroy=function(){if(!this.destroyed){this.destroyed=!0;var t=this._observers;if(null!=t){for(const r of t)r.onCommitted();this._observers=
null}}};return b._createClass(n)}();const d={remove:()=>{}};a.ObservableBase=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../arrayUtils"],function(a,b,c){let e=function(){function d(n,u){this._observers=n;this._observer=u}d.prototype.remove=function(){c.remove(this._observers,this._observer)};return b._createClass(d)}();a.ObservationHandle=e;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports","../maybe"],function(a,b){function c(d){switch(d){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;case "web-scene":return a.OriginId.WEB_SCENE;case "web-map":return a.OriginId.WEB_MAP;case "user":return a.OriginId.USER;default:return null}}function e(d){switch(d){case a.OriginId.DEFAULTS:return"defaults";
case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.USER:return"user"}return b.assumeNonNull(void 0)}a.OriginId=void 0;(function(d){d[d.DEFAULTS=0]="DEFAULTS";d[d.COMPUTED=1]="COMPUTED";d[d.SERVICE=2]="SERVICE";d[d.PORTAL_ITEM=3]="PORTAL_ITEM";d[d.WEB_SCENE=4]="WEB_SCENE";d[d.WEB_MAP=5]="WEB_MAP";d[d.USER=6]="USER"})(a.OriginId||(a.OriginId={}));a.OriginIdNum=a.OriginId.USER+
1;a.idToName=e;a.idToReadableName=function(d){return e(d)};a.idToWritableName=function(d){return e(d)};a.nameToId=c;a.readableNameToId=function(d){return c(d)};a.writableNameToId=function(d){return c(d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils","./tracking/Flags"],function(a,b,c,e,d){function n(w){q.onObservableAccessed(w)}function u(w,x,z){if(k)return t(w,x,z);q=w;h.push(w);w=x.call(z);
r();return w}function t(w,x,z){const A=k;k=!0;q=w;h.push(w);w=null;try{w=x.call(z)}catch(B){l&&c.getLogger("esri.core.accessorSupport.tracking").error(B)}r();k=A;return w}function r(){var w=h.length;if(1<w){const x=h.pop();q=h[w-2];x.onTrackingEnd()}else 1===w?(w=h.pop(),q=f,w.onTrackingEnd()):q=f}function p(w,x){const z=x.observerObject;if(!(z.flags&d.Flags.DepTrackingInitialized)){var A=l;l=!1;z.flags&d.Flags.AutoTracked?t(x,x.metadata.get,w):m(w,x);l=A}}function m(w,x){const z=x.observerObject;
z.flags&d.Flags.ExplicitlyTracking||(z.flags|=d.Flags.ExplicitlyTracking,t(x,()=>{var A=x.metadata.dependsOn||v;for(const B of A)if("string"!==typeof B||B.includes(".")){A=e.pathToArray(B);for(let D=0,y=w;D<A.length&&null!=y&&"object"===typeof y;++D)y=g(y,A[D],D!==A.length-1)}else g(w,B,!1)}),z.flags&=~d.Flags.ExplicitlyTracking)}function g(w,x,z){x="?"===x[x.length-1]?x.slice(0,-1):x;if(null!=w.getItemAt||Array.isArray(w)){var A=parseInt(x,10);if(!isNaN(A))return Array.isArray(w)?w[A]:w.getItemAt(A)}if(A=
e.getProperties(w)?.properties.get(x))n(A.observerObject),p(w,A);return z?w[x]:void 0}const f={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},h=[];let q=f,k=!1,l=!1;const v=[];a.initializeDependencyTracking=p;a.runTracked=u;a.runTrackedNoThrow=t;a.runUntracked=function(w,x){return u(f,w,x)};a.trackAccess=n;a.trackExplicitDependencies=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],function(a){a.Flags=void 0;
var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overriden=2]="Overriden";b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Store":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../lang","./PropertyOrigin"],
function(a,b,c,e){let d=function(){function n(){this._values=new Map;this.multipleOriginsSupported=!1}var u=n.prototype;u.clone=function(t){const r=new n;this._values.forEach((p,m)=>{t&&t.has(m)||r.set(m,c.clone(p))});return r};u.get=function(t){return this._values.get(t)};u.originOf=function(){return e.OriginId.USER};u.keys=function(){return[...this._values.keys()]};u.set=function(t,r){this._values.set(t,r)};u.delete=function(t){this._values.delete(t)};u.has=function(t){return this._values.has(t)};
u.forEach=function(t){this._values.forEach(t)};return b._createClass(n)}();a.Store=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(a,b,c,e,d){function n(u,t,r){if(u&&t)if("object"===typeof t)for(var p of Object.getOwnPropertyNames(t))n(u,p,t[p]);else if(t.includes("."))t=t.split("."),p=t.splice(t.length-1,1)[0],n(d.get(u,t),p,r);else{p=u.__accessor__;if(null!=p&&c("esri-unknown-property-errors")&&
null==p.metadatas[t])throw new b("set:unknown-property","setting unknown property '"+t+"' on instance of "+p.host.declaredClass);u[t]=r}}a.set=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers","./lang","./Logger","./Message"],function(a,b,c,e){e=function(d){function n(t,r,p){return u.call(this,t,r,p)}a._inherits(n,d);var u=a._createSuper(n);n.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,
message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&"object"===typeof r&&"function"===typeof r.toJSON)return r;try{return b.clone(r)}catch(p){return"[object]"}}))}}catch(t){throw c.getLogger("esri.core.Error").error(t),t;}return{name:this.name,message:this.message,details:this.details}};n.fromJSON=function(t){return new n(t.name,t.message,t.details)};return a._createClass(n)}(e);e.prototype.type="error";return e})},"esri/core/Message":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./object"],function(a,b){function c(e,d){return e.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,(n,u)=>{if(""===u)return"$";n=b.getDeepValue(u,d);n=null==n?"":n;if("undefined"===typeof n)throw Error(`could not find key "${u}" in template`);return n.toString()})}return function(){function e(d,n,u){this.name=d;this.details=u;this.message=(n&&c(n,u))??""}e.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a._createClass(e)}()})},"esri/core/accessorSupport/watch":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./trackingUtils ./utils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){function g(C){B.delete(C);B.add(C);D||(D=n.schedule(h))}function f(C){if(!C.removed){var F=C.oldValue,G=C.getValue();C.equals(F,G)||(C.oldValue=G,C.notify(G,F))}}function h(){let C=10;for(;D&&C--;){D=null;const F=q(),G=A.acquire();for(const E of F){const P=E.uid;f(E);P===E.uid&&E.removed&&G.push(E)}for(const E of B)E.removed&&(G.push(E),B.delete(E));for(const E of G)z.pool.release(E);A.release(G);A.release(F);y.forEach(E=>E())}}function q(){const C=A.acquire();C.length=
B.size;let F=0;for(const G of B)C[F]=G,++F;B.clear();return C}function k(C,F,G){let E=m.parse(C,F,G,(P,O,K)=>{let M,I,H=p.reactionDeferred(()=>r.valueOf(P,O),(L,aa)=>{P.__accessor__.destroyed||M&&M.uid!==I?E.remove():(M||(M=z.acquireUntracked(L,K,aa,P,O),I=M.uid),g(M))});return{remove:m.once(()=>{H.remove();M&&(M.uid!==I||M.removed||(M.removed=!0,g(M)),M=null);E=H=null})}});return E}function l(C,F,G){const E=m.parse(C,F,G,(P,O,K)=>{let M=!1;return p.reaction(()=>r.valueOf(P,O),(I,H)=>{P.__accessor__.destroyed?
E.remove():M||(M=!0,e.equals(H,I)||K.call(P,I,H,O,P),M=!1)})});return E}function v(C,F,G){let E,P,O=p.reactionDeferred(C,(K,M)=>{E&&E.uid!==P?O.remove():(E||(E=z.acquireTracked(K,F,M,G),P=E.uid),g(E))});return{remove:m.once(()=>{O.remove();E&&(E.uid!==P||E.removed||(E.removed=!0,g(E)),E=null);O=null})}}function w(C,F,G){let E=!1;return p.reaction(C,(P,O)=>{E||(E=!0,G(O,P)||F(P,O),E=!1)})}var x;(function(C){C[C.Untracked=0]="Untracked";C[C.Tracked=1]="Tracked"})(x||(x={}));let z=function(){function C(){this.uid=
t.generateUID();this.removed=!1;this.equals=this.path=this.target=this.getValue=this.callback=this.oldValue=this.type=null}C.acquireUntracked=function(G,E,P,O,K){return this.pool.acquire(x.Untracked,G,E,P,O,K,e.equals)};C.acquireTracked=function(G,E,P,O){return this.pool.acquire(x.Tracked,G,E,P,null,null,O)};var F=C.prototype;F.notify=function(G,E){this.type===x.Untracked?this.callback.call(this.target,G,E,this.path,this.target):this.callback.call(null,G,E)};F.acquire=function(G,E,P,O,K,M,I){this.uid=
t.generateUID();this.removed=!1;this.type=G;this.oldValue=E;this.callback=P;this.getValue=O;this.target=K;this.path=M;this.equals=I};F.release=function(){this.target=this.path=this.oldValue=this.callback=this.getValue=null;this.uid=t.generateUID();this.removed=!0};return b._createClass(C)}();z.pool=new d.ReentrantObjectPool(z);const A=new c,B=new Set;let D;const y=new Set;a.afterDispatch=function(C){y.add(C);return{remove(){y.delete(C)}}};a.dispatch=h;a.isValueInUse=function(C){return u.someSet(B,
F=>F.oldValue===C)};a.removeTarget=function(C){for(const F of B.values())F.target===C&&(F.removed=!0)};a.watch=function(C,F,G,E=!1){return!C.__accessor__||C.__accessor__.destroyed?{remove(){}}:E?l(C,F,G):k(C,F,G)};a.watchTracked=function(C,F,G=!1,E=e.equalsShallow){return G?w(C,F,E):v(C,F,E)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ReentrantObjectPool":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./ObjectPool"],function(a,b,c,e){e=
function(d){function n(){var t=u.apply(this,arguments);t._set=new Set;return t}b._inherits(n,d);var u=b._createSuper(n);d=n.prototype;d.destroy=function(){b._get(b._getPrototypeOf(n.prototype),"destroy",this).call(this);this._set=c.nullifyNonNullableForDispose(this._set)};d.acquire=function(...t){t=b._get(b._getPrototypeOf(n.prototype),"acquire",this).call(this,...t);this._set.delete(t);return t};d.release=function(t){t&&!this._set.has(t)&&(b._get(b._getPrototypeOf(n.prototype),"release",this).call(this,
t),this._set.add(t))};d._dispose=function(t){this._set.delete(t);b._get(b._getPrototypeOf(n.prototype),"_dispose",this).call(this,t)};return b._createClass(n)}(e);a.ReentrantObjectPool=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/scheduling":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./maybe ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,b,c,e,d,n,u,t){function r(G){G=new q(G);x.push(G);B.willDispatch||
(B.willDispatch=!0,e.nextTick(f));return G}function p(G){G=new h(G);z.push(G);null==D&&(k=performance.now(),D=requestAnimationFrame(m));return new A(G)}function m(){const G=performance.now();D=null;D=0<z.length?requestAnimationFrame(m):null;B.executeFrameTasks(G)}function g(){z.forAll(G=>{G.removed&&y.push(G)});z.removeUnorderedMany(y.data,y.length);y.clear()}function f(){for(;x.length;){const G=c.assumeNonNull(x.shift());G.isActive&&G.callback()}B.willDispatch=!1}let h=b._createClass(function(G){this.phases=
G;this.paused=!1;this.ticks=-1;this.removed=!1}),q=function(){function G(E){this.callback=E;this.isActive=!0}G.prototype.remove=function(){this.isActive=!1};return b._createClass(G)}(),k=0,l=0;const v={time:t.Milliseconds(0),deltaTime:t.Milliseconds(0),elapsedFrameTime:t.Milliseconds(0),frameDuration:t.Milliseconds(0)},w="prepare preRender render postRender update finish".split(" "),x=[],z=new n;let A=function(){function G(P){this._task=P}var E=G.prototype;E.remove=function(){this._task.removed=!0};
E.pause=function(){this._task.paused=!0};E.resume=function(){this._task.paused=!1};return b._createClass(G)}();const B={frameTasks:z,willDispatch:!1,clearFrameTasks:function(G=!1){z.forAll(E=>{E.removed=!0});G&&g()},dispatch:f,executeFrameTasks:function(G){const E=t.Milliseconds(G-k);k=G;var P=0<l?l:1E3/60;const O=Math.max(0,E-P);v.time=G;v.frameDuration=t.Milliseconds(P-O);for(let K=0;K<w.length;K++){P=performance.now();const M=w[K];z.forAll(I=>{I.paused||I.removed||(0===K&&I.ticks++,I.phases[M]&&
(v.elapsedFrameTime=t.Milliseconds(performance.now()-G),v.deltaTime=0===I.ticks?t.Milliseconds(0):E,I.phases[M]?.call(I,v)))});C[K].record(performance.now()-P)}g();F.record(performance.now()-G)}};let D=null;const y=new n,C=w.map(G=>new d(G)),F=new d("total");a.FrameTaskHandle=A;a.addFrameTask=p;a.debug=B;a.performanceInfo=C;a.performanceTotal=F;a.schedule=r;a.setFrameDuration=function(G){l=Math.max(0,G)};a.waitAnimationFrame=function(){const G=u.createResolver(),E=p({postRender:()=>{E.remove();r(G)}});
return G.promise};a.waitTicks=function(G=1,E){const P=u.createResolver(),O=()=>{u.isAborted(E)?P.reject(u.createAbortError()):0===G?P():(--G,e.nextTick(()=>O()))};O();return P.promise};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(c){b.push(c);1===b.length&&queueMicrotask(()=>{const e=b.slice();b.length=0;for(const d of e)d()})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/PerformanceSampler":function(){define(["../chunks/_rollupPluginBabelHelpers","./maybe"],function(a,b){return function(){function c(e,d=30){this.name=e;this._counter=0;this._samples=Array(d)}c.prototype.record=function(e){b.isSome(e)&&(this._samples[++this._counter%this._samples.length]=e)};a._createClass(c,[{key:"median",get:function(){return this._samples.slice().sort((e,d)=>e-d)[Math.floor(this._samples.length/2)]}},{key:"average",get:function(){return this._samples.reduce((e,d)=>e+d,
0)/this._samples.length}},{key:"last",get:function(){return this._samples[this._counter%this._samples.length]}}]);return c}()})},"esri/core/PooledArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./arrayUtils","./HeapSort"],function(a,b,c){function e(d){d.data.length>1.5*d.length&&(d.data.length=Math.floor(1.1*d.length))}return function(){function d(u){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new b.PositionHint;u&&
(u.initialSize&&(this.data=Array(u.initialSize)),u.allocator&&(this._allocator=u.allocator),void 0!==u.deallocator&&(this._deallocator=u.deallocator),u.shrink&&(this._shrink=()=>e(this)))}var n=d.prototype;n.toArray=function(){return this.data.slice(0,this.length)};n.filter=function(u){const t=[];for(let r=0;r<this._length;r++){const p=this.data[r];u(p)&&t.push(p)}return t};n.getItemAt=function(u){if(!(0>u||u>=this._length))return this.data[u]};n.includes=function(u,t){u=this.data.indexOf(u,t);return-1!==
u&&u<this.length};n.clear=function(){this.length=0};n.prune=function(){this.clear();this.data=[]};n.push=function(u){this.data[this._length++]=u};n.pushArray=function(u,t=u.length){for(let r=0;r<t;r++)this.data[this._length++]=u[r]};n.fill=function(u,t){for(let r=0;r<t;r++)this.data[this._length++]=u};n.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const u=this.data[this._length];++this._length;return u};n.unshift=function(u){this.data.unshift(u);
this._length++;e(this)};n.pop=function(){if(0!==this.length){var u=this.data[this.length-1];--this.length;this._shrink();return u}};n.remove=function(u){const t=b.indexOf(this.data,u,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),--this.length,u};n.removeUnordered=function(u){return this.removeUnorderedIndex(b.indexOf(this.data,u,this.length,this._hint))};n.removeUnorderedIndex=function(u){if(!(u>=this.length||0>u))return this.swapElements(u,this.length-1),this.pop()};n.removeUnorderedMany=
function(u,t=u.length,r){this.length=b.removeUnorderedMany(this.data,u,this.length,t,this._hint,r);this._shrink()};n.front=function(){if(0!==this.length)return this.data[0]};n.back=function(){if(0!==this.length)return this.data[this.length-1]};n.swapElements=function(u,t){if(!(u>=this.length||t>=this.length||u===t)){var r=this.data[u];this.data[u]=this.data[t];this.data[t]=r}};n.sort=function(u){c.sort(this.data,0,this.length,u)};n.iterableSort=function(u){return c.iterableSort(this.data,0,this.length,
u)};n.some=function(u,t){for(let r=0;r<this.length;++r)if(u.call(t,this.data[r],r,this.data))return!0;return!1};n.find=function(u,t){for(let r=0;r<this.length;++r){const p=this.data[r];if(u.call(t,p,r))return p}};n.filterInPlace=function(u,t){let r=0;for(let p=0;p<this._length;++p){const m=this.data[p];u.call(t,m,p,this.data)&&(this.data[p]=this.data[r],this.data[r]=m,r++)}if(this._deallocator)for(u=r;u<this._length;u++)this.data[u]=this._deallocator(this.data[u]);this._length=r;this._shrink();return this};
n.forAll=function(u,t){const r=this.length,p=this.data;for(let m=0;m<r;++m)u.call(t,p[m],m,p)};n.forEach=function(u,t){for(let r=0;r<this.length;++r)u.call(t,this.data[r],r,this.data)};n.map=function(u,t){const r=Array(this.length);for(let p=0;p<this.length;++p)r[p]=u.call(t,this.data[p],p,this.data);return r};n.reduce=function(u,t){for(let r=0;r<this.length;++r)t=u(t,this.data[r],r,this.data);return t};n.has=function(u){const t=this.length,r=this.data;for(let p=0;p<t;++p)if(r[p]===u)return!0;return!1};
a._createClass(d,[{key:"length",get:function(){return this._length},set:function(u){if(u>this._length)if(this._allocator)for(;this._length<u;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=u;else{if(this._deallocator)for(let t=u;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=u;this._shrink()}}}]);return d}()})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const c=(d,n,u,t)=>{let r=n;const p=u>>>1,m=d[r-1];
for(;n<=p;){n=r<<1;n<u&&0>t(d[n-1],d[n])&&++n;const g=d[n-1];if(0>=t(g,m))break;d[r-1]=g;r=n}d[r-1]=m},e=(d,n)=>d<n?-1:d>n?1:0;b.sort=function(d,n,u,t){void 0===n&&(n=0);void 0===u&&(u=d.length);void 0===t&&(t=e);for(var r=u>>>1;r>n;r--)c(d,r,u,t);r=n+1;for(--u;u>n;u--){const p=d[n];d[n]=d[u];d[u]=p;c(d,r,u,t)}};b.iterableSort=function*(d,n,u,t){void 0===n&&(n=0);void 0===u&&(u=d.length);void 0===t&&(t=e);for(var r=u>>>1;r>n;r--)c(d,r,u,t),yield;r=n+1;for(--u;u>n;u--){const p=d[n];d[n]=d[u];d[u]=
p;c(d,r,u,t);yield}}})(a||(a={}));return a})},"esri/core/promiseUtils":function(){define("exports ./clock ./deprecate ./Error ./events ./Logger ./maybe".split(" "),function(a,b,c,e,d,n,u){function t(w="Aborted"){return new e("AbortError",w)}function r(w,x="Aborted"){if(m(w))throw t(x);}function p(w){return u.isSome(w)?"aborted"in w?w:w.signal:w}function m(w){w=p(w);return u.isSome(w)&&w.aborted}function g(w,x){w=p(w);if(!u.isNone(w))if(w.aborted)x();else return d.once(w,"abort",()=>x())}function f(w){return"AbortError"===
w?.name}function h(){let w=null;const x=new Promise((z,A)=>{w={promise:void 0,resolve:z,reject:A}});w.promise=x;return w}async function q(w){if(w){if("function"!==typeof w.forEach){const x=Object.keys(w),z=x.map(D=>w[D]),A=await q(z),B={};x.map((D,y)=>B[D]=A[y]);return B}return new Promise(x=>{const z=[];let A=w.length;0===A&&x(z);w.forEach(B=>{const D={promise:B||Promise.resolve(B)};z.push(D);D.promise.then(y=>{D.value=y}).catch(y=>{D.error=y}).then(()=>{--A;0===A&&x(z)})})})}}function k(w,x,z){const A=
new AbortController;g(z,()=>A.abort());return new Promise((B,D)=>{let y=setTimeout(()=>{y=0;B(x)},w);g(A,()=>{y&&(clearTimeout(y),D(t()))})})}function l(w){return w&&"function"===typeof w.then}function v(w){return l(w)?w:Promise.resolve(w)}a.after=k;a.always=function(w,x){return w.then(x,x)};a.create=function(w){c.deprecatedFunction(n.getLogger("esri.core.promiseUtils"),"create",{moduleName:"esri.core.promiseUtils",replacement:"new Promise()",version:"4.24"});return new Promise((x,z)=>{try{w(x,z)}catch(A){Promise.resolve().then(()=>
z(A))}})};a.createAbortError=t;a.createDeferred=h;a.createResolver=function(){let w,x;const z=new Promise((B,D)=>{w=B;x=D}),A=B=>{w(B)};A.resolve=B=>w(B);A.reject=B=>x(B);A.timeout=(B,D)=>b.clock.setTimeout(()=>A.reject(D),B);A.promise=z;return A};a.debounce=function(w,x=-1){let z,A,B,D,y=null;const C=(...F)=>{if(z){A=F;D&&D.reject(t());D=h();F=u.assumeNonNull(D.promise);if(y){var G=y;y=null;G.abort()}return F}B=D||h();D=null;if(0<x){const P=new AbortController,O=z=v(w(...F,P.signal));k(x).then(()=>
{z===O&&(D?P.abort():y=P)})}else z=1,z=v(w(...F));F=()=>{const P=A;A=B=z=y=null;null!=P&&C(...P)};G=z;const E=B;G.then(F,F);G.then(E.resolve,E.reject);return u.assumeNonNull(E.promise)};return C};a.eachAlways=q;a.eachAlwaysValues=async function(w){return(await q(w)).filter(x=>!!x.value).map(x=>x.value)};a.filter=async function(w,x){const z=w.slice(),A=await Promise.all(w.map((B,D)=>x(B,D)));return z.filter((B,D)=>A[D])};a.ignoreAbortErrors=async function(w){try{return await w}catch(x){if(!f(x))throw x;
}};a.isAbortError=f;a.isAborted=m;a.isPromiseLike=l;a.logOnError=async function(w,x=n.getLogger("esri")){try{return await w}catch(z){f(z)||x.error(z)}};a.onAbort=g;a.onAbortOrThrow=function(w,x){w=p(w);if(!u.isNone(w))return r(w),d.once(w,"abort",()=>x(t()))};a.throwIfAbortError=function(w){if(f(w))throw w;};a.throwIfAborted=r;a.throwIfNotAbortError=function(w){if(!f(w))throw w;};a.timeout=function(w,x,z,A){const B=z&&"abort"in z?z:null;null!=A||B||(A=z);let D=setTimeout(()=>{D=0;B&&B.abort()},x);
const y=()=>A||new e("promiseUtils:timeout","The wrapped promise did not resolve within "+x+" ms");return w.then(C=>{if(0===D)throw y();clearTimeout(D);return C},C=>{clearTimeout(D);throw 0===D?y():C;})};a.waitTick=async function(w){await Promise.resolve();r(w)};a.when=v;a.whenOrAbort=function(w,x){const z=p(x);return u.isNone(z)?w:new Promise((A,B)=>{let D=g(x,()=>B(t()));const y=()=>D=u.removeMaybe(D);w.then(y,y);w.then(A,B)})};a.whenOrTimeout=function(w,x,z){return Promise.race([w,k(x).then(()=>
{throw new e("timeout",`Did not resolve within ${x} milliseconds (${z??"timeout"})`);})])};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/clock":function(){define(["exports"],function(a){function b(e){return{setTimeout:(d,n)=>{const u=e.setTimeout(d,n);return{remove:()=>e.clearTimeout(u)}}}}const c=b(globalThis);a.clock=c;a.wrap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/deprecate":function(){define(["exports","./has"],function(a,b){function c(n,
u,t=!1){t&&d.has(u)||(t&&d.add(u),n.warn(`\ud83d\uded1 DEPRECATED - ${u}`))}function e(n,u,t={}){if(b("esri-deprecation-warnings")){const {replacement:r,version:p,see:m,warnOnce:g}=t;r&&(u+=`\n\t\ud83d\udee0\ufe0f Replacement: ${r}`);p&&(u+=`\n\t\u2699\ufe0f Version: ${p}`);m&&(u+=`\n\t\ud83d\udd17 See ${m} for more details.`);c(n,u,g)}}const d=new Set;a.deprecated=e;a.deprecatedFunction=function(n,u,t={}){if(b("esri-deprecation-warnings")){const {moduleName:r}=t;e(n,`Function: ${(r?r+"::":"")+u+
"()"}`,t)}};a.deprecatedModule=function(n,u,t={}){b("esri-deprecation-warnings")&&e(n,`Module: ${u}`,t)};a.deprecatedProperty=function(n,u,t={}){if(b("esri-deprecation-warnings")){const {moduleName:r}=t;e(n,`Property: ${(r?r+"::":"")+u}`,t)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/events":function(){define(["exports"],function(a){function b(d){return d&&("function"===typeof d.on||"function"===typeof d.addEventListener)}function c(d,n,u){if(!b(d))throw new TypeError("target is not a Evented or EventTarget object");
if("on"in d)return d.on(n,u);if(Array.isArray(n)){const t=n.slice();for(const r of t)d.addEventListener(r,u);return{remove(){for(const r of t)d.removeEventListener(r,u)}}}d.addEventListener(n,u);return{remove(){d.removeEventListener(n,u)}}}const e={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:d}){return e[d]||
d};a.ieKeyNormalizationMap=e;a.isEventTarget=b;a.on=c;a.once=function(d,n,u){if(!b(d))throw new TypeError("target is not a Evented or EventTarget object");if("once"in d)return d.once(n,u);const t=c(d,n,r=>{t.remove();u.call(d,r)});return{remove(){t.remove()}}};a.pausable=function(d,n,u){let t=!1;const r=c(d,n,p=>{t||u.call(d,p)});return{resume(){t=!1},pause(){t=!0},remove(){r.remove()}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/time":function(){define(["exports"],
function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/SetUtils":function(){define(["exports","./maybe"],function(a,b){a.someSet=function(c,e){for(const d of c.entries())if(e(d[0]))return!0;return!1};a.union=function(c,e){const d=new Set;b.isSome(c)&&c.forEach(n=>d.add(n));b.isSome(e)&&e.forEach(n=>
d.add(n));return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/uid":function(){define(["exports"],function(a){let b=0;a.NullUID=0;a.generateUID=function(){return++b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","./tracking","./tracking/SimpleTrackingTarget"],function(a,b,c){let e=!1;const d=[];a.autorun=function(n){function u(){if(t&&!r)if(e)d.includes(u)||d.unshift(u);else for(t.clear(),
r=e=!0,b.runTracked(t,n),e=r=!1;d.length;)d.pop()()}let t=new c.SimpleTrackingTarget(u),r=!1;r=!0;b.runTracked(t,n);r=!1;return{remove:function(){t&&(t.destroy(),t=null)}}};a.reaction=function(n,u){function t(){if(r&&!m)if(e)d.includes(t)||d.unshift(t);else{var g=p;r.clear();m=e=!0;p=b.runTracked(r,n);e=m=!1;for(u(p,g);d.length;)d.pop()()}}let r=new c.SimpleTrackingTarget(t),p=null,m=!1;m=!0;p=b.runTracked(r,n);m=!1;return{remove:function(){r&&(r.destroy(),p=r=null)}}};a.reactionDeferred=function(n,
u){function t(){if(!r)return null;r.clear();return p=b.runTracked(r,n)}let r=new c.SimpleTrackingTarget(function(){u(p,t)}),p=null;t();return{remove:function(){r&&(r.destroy(),r=null);p=null}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers"],function(a,b){function c(){}let e=function(){function u(r){this._accessed=[];this._handles=[];this._observerObject=
new d(r);n.register(this,this._observerObject,this._observerObject)}var t=u.prototype;t.destroy=function(){n.unregister(this._observerObject);this._accessed.length=0;this._observerObject?.destroy();this.clear()};t.onObservableAccessed=function(r){const p=this._accessed;p.includes(r)||p.push(r)};t.onTrackingEnd=function(){const r=this._handles,p=this._accessed,m=this._observerObject;for(let g=0;g<p.length;++g)r.push(p[g].observe(m));p.length=0};t.clear=function(){const r=this._handles;for(let p=0;p<
r.length;++p)r[p].remove();r.length=0};return b._createClass(u)}(),d=function(){function u(r){this._notify=r;this._invalidCount=0;this.destroyed=!1}var t=u.prototype;t.onInvalidated=function(){this._invalidCount++};t.onCommitted=function(){if(!this.destroyed){var r=this._invalidCount;1===r?(this._invalidCount=0,this._notify()):this._invalidCount=0<r?r-1:0}};t.destroy=function(){this.destroyed=!0;this._notify=c};return b._createClass(u)}();const n=new FinalizationRegistry(u=>{u.destroy()});a.SimpleTrackingTarget=
e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,c,e,d,n){function u(r){let p=0;var m=r;if(c.isLongFormType(r))return c.ensureLongFormType(r);for(;Array.isArray(m)&&1===m.length&&"string"!==typeof m[0]&&"number"!==typeof m[0];)m=m[0],p++;return c.isOneOf(m)?0===p?c.ensureOneOf(m):c.ensureNArrayTyped(c.ensureOneOf(m),p):1===p?c.ensureArray(m):
1<p?c.ensureNArray(m,p):r.from?r.from:c.ensureType(r)}function t(r,p){return m=>{m=+r(m);null!=p.step&&(m=Math.round(m/p.step)*p.step);null!=p.min&&(m=Math.max(p.min,m));null!=p.max&&(m=Math.min(p.max,m));return m}}a.ensureRange=t;a.property=function(r={}){return(p,m)=>{if(p===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${p.name}.${m}. Accessor does not support static properties.`);var g=Object.getOwnPropertyDescriptor(p,m);const f=d.getPropertyMetadata(p,m);
g&&(g.get||g.set?(f.get=g.get||f.get,f.set=g.set||f.set):"value"in g&&("value"in r&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${m}" on "${p.constructor.name}" already defined in the metadata`,r),f.value=r.value=g.value));null!=r.readOnly&&(f.readOnly=r.readOnly);if(p=r.aliasOf){const h="string"===typeof p?p:p.source;p="string"===typeof p?null:!0===p.overridable;let q;f.dependsOn=[h];f.get=function(){let k=e.get(this,h);if("function"===
typeof k){q||(q=h.split(".").slice(0,-1).join("."));const l=e.get(this,q);l&&(k=k.bind(l))}return k};f.readOnly||(f.set=p?function(k){this._override(m,k)}:function(k){n.set(this,h,k)})}p=r.type;g=r.types;f.cast||(p?f.cast=u(p):g&&(Array.isArray(g)?f.cast=c.ensureArrayTyped(c.ensureOneOfType(g[0])):f.cast=c.ensureOneOfType(g)));d.mergeProperty(f,r);r.range&&(f.cast=t(f.cast,r.range))}};a.propertyJSONMeta=function(r,p,m){r=d.getPropertyMetadata(r,m);r.json||(r.json={});r=r.json;void 0!==p&&(r.origins||
(r.origins={}),r.origins[p]||(r.origins[p]={}),r=r.origins[p]);return r};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../has","../Logger","../MapUtils"],function(a,b,c,e,d){function n(K){return null==K?K:new Date(K)}function u(K){return null==K?K:!!K}function t(K){return null==K?K:K.toString()}function r(K){if(null==K)return K;K=parseFloat(K);return isNaN(K)?0:K}function p(K){return null==
K?K:Math.round(parseFloat(K))}function m(K){return K&&K.constructor&&void 0!==K.constructor.__accessorMetadata__}function g(K,M){return null!=M&&K&&!(M instanceof K)}function f(K){return K&&K.Type?"function"===typeof K.Type?K.Type:K.Type.base:null}function h(K,M){var I;(I=!M||!M.constructor)||(I=M.constructor,I=!(I&&"isCollection"in I));if(I)return q(K,M)?M:new K(M);I=f(K.prototype.itemType);const H=f(M.constructor.prototype.itemType);if(!I)return M;if(!H)return new K(M);if(I===H)return M;if(I.prototype.isPrototypeOf(H.prototype))return new K(M);
q(K,M);return M}function q(K,M){return m(M)?(E.error("Accessor#set","Assigning an instance of '"+(M.declaredClass||"unknown")+"' which is not a subclass of '"+l(K)+"'"),!0):!1}function k(K,M){return null==M?M:K&&"isCollection"in K?h(K,M):g(K,M)?q(K,M)?M:new K(M):M}function l(K){return K&&K.prototype&&K.prototype.declaredClass||"unknown"}function v(K){switch(K){case Number:return r;case O:return p;case Boolean:return u;case String:return t;case Date:return n;default:return d.getOrCreateMapValue(P,
K,()=>k.bind(null,K))}}function w(K,M){const I=v(K);return 1===arguments.length?I:I(M)}function x(K,M,I){return 1===arguments.length?x.bind(null,K):M?Array.isArray(M)?M.map(H=>K(H,I)):[K(M,I)]:M}function z(K,M,I){return 0!==M&&Array.isArray(I)?I.map(H=>z(K,M-1,H)):K(I)}function A(K,M,I){if(2===arguments.length)return A.bind(null,K,M);if(!I)return I;I=z(K,M,I);let H=M;for(var L=I;0<H&&Array.isArray(L);)H--,L=L[0];if(void 0!==L)for(L=0;L<H;L++)I=[I];return I}function B(K,M){if(2===arguments.length)return B(K).call(null,
M);const I=new Set,H=K.filter(S=>"function"!==typeof S),L=K.filter(S=>"function"===typeof S);for(const S of K)"string"!==typeof S&&"number"!==typeof S||I.add(S);let aa=null,R=null;return(S,V)=>{if(null==S)return S;const ea=typeof S,ha="string"===ea||"number"===ea;if(ha&&(I.has(S)||L.some(la=>"string"===ea&&la===String||"number"===ea&&la===Number))||"object"===ea&&L.some(la=>!g(S,la)))return S;ha&&H.length?(aa||(aa=H.map(la=>"string"===typeof la?`'${la}'`:`${la}`).join(", ")),E.error("Accessor#set",
`'${S}' is not a valid value for this property, only the following values are valid: ${aa}`)):"object"===typeof S&&L.length?(R||(R=L.map(la=>l(la)).join(", ")),E.error("Accessor#set",`'${S}' is not a valid value for this property, value must be one of ${R}`)):E.error("Accessor#set",`'${S}' is not a valid value for this property`);V&&(V.valid=!1);return null}}function D(K,M){if(2===arguments.length)return D(K).call(null,M);const I={},H=[],L=[];for(const R in K.typeMap){const S=K.typeMap[R];I[R]=w(S);
H.push(l(S));L.push(R)}const aa="string"===typeof K.key?R=>R[K.key]:K.key;return R=>{if(K.base&&!g(K.base,R)||null==R)return R;var S=aa(R)||K.defaultKeyValue;const V=I[S];if(!V)return E.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${H.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${L.join("', '")}'`})`),null;if(!g(K.typeMap[S],R))return R;if("string"===typeof K.key&&!m(R)){S={};for(const ea in R)ea!==K.key&&(S[ea]=R[ea]);return V(S)}return V(R)}}
function y(K){switch(K.type){case "native":return w(K.value);case "array":return x(y(K.value));case "one-of":return C(K);default:return null}}function C(K){let M=null;return(I,H)=>{if(G(I,K))return I;null==M&&(M=F(K));E.error("Accessor#set",`Invalid property value, value needs to be of type ${M}`);H&&(H.valid=!1);return null}}function F(K){switch(K.type){case "native":switch(K.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case O:return"integer";case Date:return"date";
default:return l(K.value)}case "array":return`array of ${F(K.value)}`;case "one-of":return K=K.values.map(M=>F(M)),`one of ${K.slice(0,K.length-1)} or ${K[K.length-1]}`}return"unknown"}function G(K,M){if(null==K)return!0;switch(M.type){case "native":switch(M.value){case Number:case O:return"number"===typeof K;case Boolean:return"boolean"===typeof K;case String:return"string"===typeof K}return K instanceof M.value;case "array":return Array.isArray(K)?!K.some(I=>!G(I,M.value)):!1;case "one-of":return M.values.some(I=>
G(K,I))}}const E=e.getLogger("esri.core.accessorSupport.ensureTypes"),P=new WeakMap;let O=b._createClass(function(){});a.Integer=O;a.ensureArray=function(K,M){return 1===arguments.length?x(w.bind(null,K)):x(w.bind(null,K),M)};a.ensureArrayTyped=x;a.ensureBoolean=u;a.ensureClass=k;a.ensureDate=n;a.ensureInteger=p;a.ensureLongFormType=y;a.ensureNArray=function(K,M,I){return 2===arguments.length?A(w.bind(null,K),M):A(w.bind(null,K),M,I)};a.ensureNArrayTyped=A;a.ensureNumber=r;a.ensureOneOf=B;a.ensureOneOfType=
D;a.ensureString=t;a.ensureType=w;a.isClassedType=m;a.isLongFormType=function(K){if(!(K&&"type"in K))return!1;switch(K.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(K){return Array.isArray(K)?!K.some(M=>{M=typeof M;return!("string"===M||"number"===M||"function"===M&&1<K.length)}):!1};a.requiresType=g;a.types={native(K){return{type:"native",value:K}},array(K){return{type:"array",value:K}},oneOf(K){return{type:"one-of",values:K}}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,c){for(const [e,d]of b)if(c(d,e))return d;return null};a.first=function(b){b=b.values().next();return!0!==b.done?b.value:null};a.getOrCreateMapValue=function(b,c,e){const d=b.get(c);if(void 0!==d)return d;e=e();b.set(c,e);return e};a.someMap=function(b,c){for(const [e,d]of b)if(c(d,e))return!0;return!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../has ../beforeDestroy ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),
function(a,b,c,e,d,n,u,t){function r(f,h){return null==h.get?function(){const q=this.__accessor__.properties.get(f);if(void 0!==q){u.trackAccess(q.observerObject);var k=this.__accessor__.store;return k.has(f)?k.get(f):q.metadata.value}}:function(){const q=this.__accessor__.properties.get(f);if(void 0!==q)return q.getComputed()}}function p(f){const h=n.getPropertiesMetadata(f.prototype),q={};for(const k of Object.getOwnPropertyNames(h)){const l=h[k];t.processPrototypePropertyMetadata(l);q[k]={enumerable:!0,
configurable:!0,get:r(k,l),set(v){const w=this.__accessor__;if(void 0===w)Object.defineProperty(this,k,{enumerable:!0,configurable:!0,writable:!0,value:v});else if(!Object.isFrozen(this)){if(w.initialized&&l.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${k}' of ${this.declaredClass}`);if(w.lifecycle===d.Lifecycle.CONSTRUCTED&&l.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${k}' of ${this.declaredClass}`);w.set(k,v)}}}}Object.defineProperties(f.prototype,
q)}const m=new Set,g=new Set;a.finalizeClass=p;a.subclass=function(f){return h=>{h.prototype.declaredClass=f;p(h);const q=[],k=[];for(var l=h.prototype;l;)l.hasOwnProperty("initialize")&&!m.has(l.initialize)&&(m.add(l.initialize),q.push(l.initialize)),l.hasOwnProperty("destroy")&&!g.has(l.destroy)&&(g.add(l.destroy),k.push(l.destroy)),l=Object.getPrototypeOf(l);m.clear();g.clear();l=function(v){function w(...z){var A=x.call(this,...z);if(A.constructor===w&&"function"===typeof A.postscript){q.length&&
Object.defineProperty(b._assertThisInitialized(A),"initialize",{enumerable:!1,configurable:!0,value(){for(let B=q.length-1;0<=B;B--)q[B].call(this)}});if(k.length){let B=!1;const D=A[e.BEFORE_DESTROY_SYMBOL];Object.defineProperty(b._assertThisInitialized(A),"destroy",{enumerable:!1,configurable:!0,value(){if(!B){B=!0;D.call(this);for(let y=0;y<k.length;y++)k[y].call(this)}}})}A.postscript(...z)}return A}b._inherits(w,v);var x=b._createSuper(w);return b._createClass(w)}(h);l.__accessorMetadata__=n.getPropertiesMetadata(h.prototype);
l.prototype.declaredClass=f;return l}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,c,e,d,n){function u(p,m,g){let f=p&&p.json;p&&p.json&&p.json.origins&&g&&(p=g.origin&&p.json.origins[g.origin])&&("any"===m||m in p)&&(f=p);return f}
function t(p){if(p.type){var m=0;for(p=p.type;Array.isArray(p)&&!b.isOneOf(p);)p=p[0],m++;return{type:p,ndimArray:m}}}function r(p){if(p.types){var m=0;for(p=p.types;Array.isArray(p);)p=p[0],m++;return{types:p,ndimArray:m}}}a.originSpecificPropertyDefinition=u;a.originSpecificReadPropertyDefinition=function(p,m){return u(p,"read",m)};a.originSpecificWritePropertyDefinition=function(p,m){return u(p,"write",m)};a.processPrototypePropertyMetadata=function(p){if(d.process(p)){c.process(p);var m=p.json.types?
r(p.json):p.type?t(p):r(p);if(p.json.origins)for(const f in p.json.origins){const h=p.json.origins[f];if(h.types){var g=h;g=g.type?t(g):r(g)}else g=m;e.create(g,h,!1);h.types&&!h.write&&p.json.write&&p.json.write.enabled&&(h.write={...p.json.write});n.create(g,h)}e.create(m,p.json,!0);n.create(m,p.json)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=function(b){if(b.json&&
b.json.origins){const c=b.json.origins;b={"web-document":["web-scene","web-map"]};for(const e in b)if(c[e]){const d=c[e];b[e].forEach(n=>{c[n]=d});delete c[e]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,b,c,e,d,n){function u(v){var w=v.ndimArray??0;if(1<w)return m(v);if(1===w)return g(v);if("type"in
v&&f(v.type)){w=v.type.prototype?.itemType?.Type;const x=g("function"===typeof w?{type:w}:{types:w});return(z,A,B)=>(z=x(z,A,B))?new v.type(z):z}return t(v)}function t(v){return"type"in v?r(v.type):k(v.types)}function r(v){return v.prototype.read?(w,x,z)=>{if(null==w)return w;x=typeof w;if("object"!==x)l.error(`Expected JSON value of type 'object' to deserialize type '${v.prototype.declaredClass}', but got '${x}'`);else return x=new v,x.read(w,z),x}:v.fromJSON}function p(v,w,x,z){return 0!==z&&Array.isArray(w)?
w.map(A=>p(v,A,x,z-1)):v(w,void 0,x)}function m(v){const w=t(v),x=p.bind(null,w),z=v.ndimArray??0;return(A,B,D)=>{if(null==A)return A;A=x(A,D,z);B=z;for(D=A;0<B&&Array.isArray(D);)B--,D=D[0];if(void 0!==D)for(D=0;D<B;D++)A=[A];return A}}function g(v){const w=t(v);return(x,z,A)=>{if(null==x)return x;if(Array.isArray(x)){z=[];for(const B of x)x=w(B,void 0,A),void 0!==x&&z.push(x);return z}A=w(x,void 0,A);return void 0!==A?[A]:void 0}}function f(v){return n.isCollection(v)?(v=v.prototype.itemType)&&
v.Type?"function"===typeof v.Type?h(v.Type):q(v.Type):!1:!1}function h(v){return Array.isArray(v)?!1:!!v&&v.prototype&&("read"in v.prototype||"fromJSON"in v||f(v))}function q(v){for(const w in v.typeMap)if(!h(v.typeMap[w]))return!1;return!0}function k(v){let w=null;const x=v.errorContext??"type";return(z,A,B)=>{if(null==z)return z;A=typeof z;if("object"!==A)l.error(`Expected JSON value of type 'object' to deserialize, but got '${A}'`);else{if(!w){A={};for(var D in v.typeMap){const F=v.typeMap[D];
var y=d.getPropertiesMetadata(F.prototype);if("function"===typeof v.key)continue;y=y[v.key];if(!y)continue;y.json?.type&&Array.isArray(y.json.type)&&1===y.json.type.length&&"string"===typeof y.json.type[0]&&(A[y.json.type[0]]=F);y=y.json?.write;if(!y||!y.writer){A[D]=F;continue}var C=y.target;C="string"===typeof C?C:v.key;const G={};y.writer(D,G,C);G[C]&&(A[G[C]]=F)}w=A}D=v.key;if("string"===typeof D){if(A=(D=z[D])?w[D]:v.defaultKeyValue?v.typeMap[v.defaultKeyValue]:void 0)return D=new A,D.read(z,
B),D;D=`Type '${D||"unknown"}' is not supported`;B&&B.messages&&z&&B.messages.push(new e(`${x}:unsupported`,D,{definition:z,context:B}));l.error(D)}}}}const l=b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(v,w,x){v&&(x||w.read)&&!w.read?.reader&&!1!==w.read?.enabled&&(x="types"in v?q(v.types):h(v.type),x&&c.setDeepValue("read.reader",u(v),w))};a.createTypeReader=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Warning":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./Message"],function(a,b){b=function(c){function e(n,u,t){return d.call(this,n,u,t)}a._inherits(e,c);var d=a._createSuper(e);return a._createClass(e)}(b);b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=function(b){return!!b&&b.prototype&&b.prototype.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function b(d){d.name&&(d.read?"object"===typeof d.read?void 0===d.read.source&&(d.read.source=d.name):d.read={source:d.name}:d.read={source:d.name},d.write?"object"===typeof d.write?void 0===d.write.target&&(d.write.target=d.name):d.write={target:d.name}:d.write={target:d.name})}function c(d){"boolean"===typeof d.read?d.read={enabled:d.read}:"function"===typeof d.read?d.read={enabled:!0,
reader:d.read}:d.read&&"object"===typeof d.read&&void 0===d.read.enabled&&(d.read.enabled=!0)}function e(d){"boolean"===typeof d.write?d.write={enabled:d.write}:"function"===typeof d.write?d.write={enabled:!0,writer:d.write}:d.write&&"object"===typeof d.write&&void 0===d.write.enabled&&(d.write.enabled=!0)}a.process=function(d){d.json||(d.json={});c(d.json);e(d.json);b(d.json);if(d.json.origins)for(const n in d.json.origins)c(d.json.origins[n]),e(d.json.origins[n]),b(d.json.origins[n]);return!0};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../Error","../../../Logger","../../../object","./type"],function(a,b,c,e,d){function n(q){return(k,l,v,w)=>{if(!k||u(k,q,w))return r(k,l,v,w)}}function u(q,k,l){for(var v in k.typeMap)if(q instanceof k.typeMap[v])return!0;l?.messages&&(v=k.errorContext??"type",k=`Values of type '${("function"!==typeof k.key?q[k.key]:q.declaredClass)??
"Unknown"}' cannot be written`,l&&l.messages&&q&&l.messages.push(new b(`${v}:unsupported`,k,{definition:q,context:l})),c.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(k));return!1}function t(q){return(k,l,v,w)=>{if(!k||!Array.isArray(k))return r(k,l,v,w);k=k.filter(x=>u(x,q,w));return r(k,l,v,w)}}function r(q,k,l,v){e.setDeepValue(l,p(q,v),k)}function p(q,k){return q&&"function"===typeof q.write?q.write({},k):q&&"function"===typeof q.toJSON?q.toJSON():"number"===
typeof q?m(q):q}function m(q){return-Infinity===q?-Number.MAX_VALUE:Infinity===q?Number.MAX_VALUE:isNaN(q)?null:q}function g(q,k,l,v){null===q?q=null:q&&"function"===typeof q.map?(q=q.map(w=>p(w,v)),"function"===typeof q.toArray&&(q=q.toArray())):q=[p(q,v)];e.setDeepValue(l,q,k)}function f(q,k,l){return 0!==l&&Array.isArray(q)?q.map(v=>f(v,k,l-1)):p(q,k)}function h(q){return(k,l,v,w)=>{if(null===k)k=null;else{k=f(k,w,q);w=q;for(var x=k;0<w&&Array.isArray(x);)w--,x=x[0];if(void 0!==x)for(x=0;x<w;x++)k=
[k]}e.setDeepValue(v,k,l)}}a.create=function(q,k){if(k.write&&!k.write.writer&&(!1!==k.write.enabled||k.write.overridePolicy)){var l=q?.ndimArray??0;q&&(1===l||"type"in q&&d.isCollection(q.type))?k.write.writer=g:1<l?k.write.writer=h(l):k.types?Array.isArray(k.types)?k.write.writer=t(k.types[0]):k.write.writer=n(k.types):k.write.writer=r}};a.numberToJSON=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObservableChangesType":function(){define(["exports"],function(a){a.ObservableChangesType=
void 0;var b=a.ObservableChangesType||(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(c,e)=>{c[e]=b}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers",
"../ObservableBase"],function(a,b,c){c=function(e){function d(){return n.apply(this,arguments)}b._inherits(d,e);var n=b._createSuper(d);d.prototype.notify=function(){var u=this._observers;if(u&&0<u.length){u=u.slice();for(const t of u)t.onInvalidated(),t.onCommitted()}};return b._createClass(d)}(c.ObservableBase);a.SimpleObservable=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,b){a.castForReferenceSetter=
function(c){return c};a.referenceSetter=function(c,e,d=b){e||(e=new d);if(e===c)return e;e.removeAll();c&&(Array.isArray(c)||"items"in c&&Array.isArray(c.items))?e.addMany(c):c&&e.add(c);return e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/JSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){const g=f=>{f=function(h){function q(...l){l=k.call(this,...l);const v=d.assumeNonNull(r.getProperties(b._assertThisInitialized(l))),w=v.store,x=new n.DefaultsStore;v.store=x;u.setupConstructedDefaults(v,w,x);return l}b._inherits(q,h);var k=b._createSuper(q);h=q.prototype;h.read=function(l,v){t.read(this,l,v)};h.write=function(l,v){return p.write(this,l??{},v)};h.toJSON=function(l){return this.write({},l)};q.fromJSON=function(l,v){if(l){if(l.declaredClass)throw Error("JSON object is already hydrated");
var w=new this;w.read(l,v);l=w}else l=null;return l};return b._createClass(q)}(f);f=c.__decorate([m.subclass("esri.core.JSONSupport")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f};a.JSONSupport=function(f){function h(){return q.apply(this,arguments)}b._inherits(h,f);var q=b._createSuper(h);return b._createClass(h)}(g(e));a.JSONSupport=c.__decorate([m.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=g;a.isJSONSupport=function(f){return f&&"read"in f&&"write"in f&&"toJSON"in
f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../lang","./PropertyOrigin"],function(a,b,c,e){let d=function(){function u(){this._values=new Map;this.multipleOriginsSupported=!1}var t=u.prototype;t.clone=function(r){const p=new u;this._values.forEach((m,g)=>{r&&r.has(g)||p.set(g,c.clone(m.value),m.origin)});return p};t.get=function(r,p){p=this._normalizeOrigin(p);r=
this._values.get(r);return null==p||r?.origin===p?r?.value:void 0};t.originOf=function(r){return this._values.get(r)?.origin??e.OriginId.USER};t.keys=function(r){r=this._normalizeOrigin(r);const p=[...this._values.keys()];return null==r?p:p.filter(m=>this._values.get(m)?.origin===r)};t.set=function(r,p,m){m=this._normalizeOrigin(m);if(m===e.OriginId.DEFAULTS){const g=this._values.get(r);if(g&&null!=g.origin&&g.origin>m)return}this._values.set(r,new n(p,m))};t.delete=function(r,p){p=this._normalizeOrigin(p);
null!=p&&this._values.get(r)?.origin!==p||this._values.delete(r)};t.has=function(r,p){p=this._normalizeOrigin(p);return null!=p?this._values.get(r)?.origin===p:this._values.has(r)};t.forEach=function(r){this._values.forEach(({value:p},m)=>r(p,m))};t._normalizeOrigin=function(r){if(null!=r)return r===e.OriginId.DEFAULTS?r:e.OriginId.USER};return b._createClass(u)}(),n=b._createClass(function(u,t){this.value=u;this.origin=t});a.DefaultsStore=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports","./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(c,e,d){e.keys().forEach(n=>{d.set(n,e.get(n),b.OriginId.DEFAULTS)});Object.keys(c.metadatas).forEach(n=>{c.internalGet(n)&&d.set(n,c.internalGet(n),b.OriginId.DEFAULTS)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,
b,c,e){const d={origin:"service"};a.read=function(n,u,t=d){if(u&&"object"===typeof u){var r=c.getProperties(n),p=r.metadatas,m={};for(const z of Object.getOwnPropertyNames(u)){var g=m,f=p,h=z,q=u,k=t,l=e.originSpecificReadPropertyDefinition(f[h],k);l&&(!l.read||!1!==l.read.enabled&&!l.read.source)&&(g[h]=!0);for(const A of Object.getOwnPropertyNames(f)){l=e.originSpecificReadPropertyDefinition(f[A],k);a:{var v=h;var w=q;if(l&&l.read&&!1!==l.read.enabled&&l.read.source){l=l.read.source;if("string"===
typeof l){if(l===v||l.includes(".")&&0===l.indexOf(v)&&b.exists(l,w)){v=!0;break a}}else for(const B of l)if(B===v||B.includes(".")&&0===B.indexOf(v)&&b.exists(B,w)){v=!0;break a}v=!1}else v=!1}v&&(g[A]=!0)}}r.setDefaultOrigin(t.origin);for(var x of Object.getOwnPropertyNames(m))f=(f=(g=e.originSpecificReadPropertyDefinition(p[x],t).read)&&g.source)&&"string"===typeof f?b.valueOf(u,f):u[x],g&&g.reader&&(f=g.reader.call(n,f,u,t)),void 0!==f&&r.set(x,f);if(!t||!t.ignoreDefaults){r.setDefaultOrigin("defaults");
for(const z of Object.getOwnPropertyNames(p))m[z]||(x=n,u=z,p=r,g=t,f=(f=e.originSpecificPropertyDefinition(p.metadatas[u],"any",g))&&f.default,void 0!==f&&(x="function"===typeof f?f.call(x,u,g):f,void 0!==x&&p.set(u,x)))}r.setDefaultOrigin("user")}};a.readLoadable=function(n,u,t,r=d){u={...r,messages:[]};t(u);u.messages?.forEach(p=>{"warning"!==p.type||n.loaded?r&&r.messages&&r.messages.push(p):n.loadWarnings.push(p)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(a,b,c,e,d,n,u){function t(p,m,g,f,h){const q={};m.write?.writer?.call(p,f,q,g,h);return q}function r(p,m,g,f,h,q){if(!f||!f.write)return!1;const k=p.get(g);if(!h&&f.write.overridePolicy){var l=f.write.overridePolicy.call(p,k,g,q);void 0!==l&&(h=l)}h||(h=f.write);if(!h||!1===h.enabled)return!1;if((null===k&&!h.allowNull&&!h.writerEnsuresNonNull||void 0===k)&&h.isRequired)return(m=new c("web-document-write:property-required",`Missing value for required property '${g}' on '${p.declaredClass}'`,
{propertyName:g,target:p}),q)&&q.messages?q.messages.push(m):m&&!q&&e.getLogger("esri.core.accessorSupport.write").error(m.name,m.message),!1;if(void 0===k||null===k&&!h.allowNull&&!h.writerEnsuresNonNull)return!1;if(l=!m.store.multipleOriginsSupported||m.store.originOf(g)===d.OriginId.DEFAULTS)l=f.default,void 0===l?l=!1:null!=f.defaultEquals?l=f.defaultEquals(k):"function"===typeof l?Array.isArray(k)?(p=l.call(p,g,q),l=b.equals(p,k)):l=!1:l=l===k;return l||!h.ignoreOrigin&&q&&q.origin&&m.store.multipleOriginsSupported&&
m.store.originOf(g)<d.nameToId(q.origin)?!1:!0}a.willPropertyWrite=function(p,m,g,f){const h=n.getProperties(p),q=u.originSpecificWritePropertyDefinition(h.metadatas[m],f);return q?r(p,h,m,q,g,f):!1};a.write=function(p,m,g){if(p&&"function"===typeof p.toJSON&&(!p.toJSON.isDefaultToJSON||!p.write))return n.merge(m,p.toJSON(g));const f=n.getProperties(p),h=f.metadatas;for(const q in h){const k=u.originSpecificWritePropertyDefinition(h[q],g);if(!r(p,f,q,k,void 0,g))continue;const l=p.get(q),v=t(p,k,
k.write&&"string"===typeof k.write.target?k.write.target:q,l,g);0<Object.keys(v).length&&(m=n.merge(m,v),g?.resources?.pendingOperations?.length&&g.resources.pendingOperations.push(Promise.all(g.resources.pendingOperations).then(()=>n.merge(m,v,()=>"replace-arrays"))),g&&g.writtenProperties&&g.writtenProperties.push({target:p,propName:q,oldOrigin:d.idToReadableName(f.store.originOf(q)),newOrigin:g.origin}))}return m};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){const r=p=>{p=function(m){function g(...h){var q=f.call(this,...h);q._loadController=null;q.loadError=null;q.loadStatus="not-loaded";q._set("loadWarnings",[]);q.addResolvingPromise(new Promise(k=>{const l=q.load.bind(a._assertThisInitialized(q));q.load=v=>{const w=new Promise((x,z)=>{const A=d.onAbortOrThrow(v,z);q.destroyed&&z(new c("load:instance-destroyed",`Instance of '${q.declaredClass||q.constructor.name}' is already destroyed`,{instance:a._assertThisInitialized(q)}));
q._promiseProps.when(x,z).finally(()=>{A&&A.remove()})});if("not-loaded"===q.loadStatus){q._set("loadStatus","loading");const x=q._loadController=new AbortController;l({signal:x.signal});d.onAbort(x.signal,()=>{q._promiseProps.abort()})}k();return w}}));q.when(()=>{q._set("loadStatus","loaded");q._loadController=null},k=>{q._set("loadStatus","failed");q._set("loadError",k);q._loadController=null});return q}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.destroy=function(){this._loadController=
null;this._set("loadError",null);this._set("loadWarnings",[])};m.load=function(){return null};m.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new c("load:cancelled","Cancelled"));this._loadController?.abort();return this};a._createClass(g,[{key:"loaded",get:function(){return"loaded"===this.loadStatus}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}}]);return g}(p);b.__decorate([u.property({readOnly:!0})],p.prototype,"loaded",null);b.__decorate([u.property({readOnly:!0})],
p.prototype,"loadError",void 0);b.__decorate([u.property({clonable:!1})],p.prototype,"loadStatus",void 0);b.__decorate([u.property({type:[n],readOnly:!0})],p.prototype,"loadWarnings",null);return p=b.__decorate([t.subclass("esri.core.Loadable")],p)};e=function(p){function m(){return g.apply(this,arguments)}a._inherits(m,p);var g=a._createSuper(m);return a._createClass(m)}(r(e.EsriPromise));e=b.__decorate([t.subclass("esri.core.Loadable")],e);(function(p){p.LoadableMixin=r;p.isLoadable=function(m){return!(!m||
!m.load)}})(e||(e={}));return e})},"esri/core/Promise":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u){var t;(function(m){m[m.PENDING=0]="PENDING";m[m.RESOLVED=1]="RESOLVED";m[m.REJECTED=2]="REJECTED"})(t||(t={}));let r=function(){function m(f){this.instance=f;this._resolver=n.createDeferred();this._status=t.PENDING;this._resolvingPromises=[];this._resolver.promise.then(()=>
{this._status=t.RESOLVED;this._cleanUp()},()=>{this._status=t.REJECTED;this._cleanUp()})}var g=m.prototype;g.addResolvingPromise=function(f){this._resolvingPromises.push(f);this._tryResolve()};g.isResolved=function(){return this._status===t.RESOLVED};g.isRejected=function(){return this._status===t.REJECTED};g.isFulfilled=function(){return this._status!==t.PENDING};g.abort=function(){this._resolver.reject(n.createAbortError())};g.when=function(f,h){return this._resolver.promise.then(f,h)};g._cleanUp=
function(){this._allPromise=this._resolvingPromises=this._allPromise=null};g._tryResolve=function(){if(!this.isFulfilled()){var f=n.createDeferred(),h=[...this._resolvingPromises,d.assumeNonNull(f.promise)],q=this._allPromise=Promise.all(h);q.then(()=>{this.isFulfilled()||this._allPromise!==q||this._resolver.resolve(this.instance)},k=>{this.isFulfilled()||this._allPromise!==q||n.isAbortError(k)||this._resolver.reject(k)});f.resolve()}};return b._createClass(m)}();const p=m=>{m=function(g){function f(...q){q=
h.call(this,...q);q._promiseProps=new r(b._assertThisInitialized(q));q.addResolvingPromise(Promise.resolve());return q}b._inherits(f,g);var h=b._createSuper(f);g=f.prototype;g.isResolved=function(){return this._promiseProps.isResolved()};g.isRejected=function(){return this._promiseProps.isRejected()};g.isFulfilled=function(){return this._promiseProps.isFulfilled()};g.when=function(q,k){return(new Promise((l,v)=>{this._promiseProps.when(l,v)})).then(q,k)};g.catch=function(q){return this.when(null,
q)};g.addResolvingPromise=function(q){q&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in q?q.when():q)};return b._createClass(f)}(m);return m=c.__decorate([u.subclass("esri.core.Promise")],m)};a.EsriPromise=function(m){function g(){return f.apply(this,arguments)}b._inherits(g,m);var f=b._createSuper(g);return b._createClass(g)}(p(e));a.EsriPromise=c.__decorate([u.subclass("esri.core.Promise")],a.EsriPromise);a.EsriPromiseMixin=p;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/loadAll":function(){define(["exports","./asyncUtils","./Collection","./Loadable","./maybe"],function(a,b,c,e,d){async function n(u,t){const r=[],p=(...g)=>{for(const f of g)d.isNone(f)||(Array.isArray(f)?p(...f):c.isCollection(f)?f.forEach(h=>p(h)):e.isLoadable(f)&&r.push(f))};t(p);let m=null;await b.map(r,async g=>{g=await b.result("loadAll"in g&&"function"===typeof g.loadAll?g.loadAll():g.load());!1!==g.ok||m||(m=g)});if(m)throw m.error;return u}
a.loadAll=async function(u,t){await u.load();return n(u,t)};a.loadAllChildren=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/asyncUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t){function r(h){return{ok:!0,value:h}}function p(h){return{ok:!1,error:h}}function m(h){return d.isSome(h)&&
!0===h.ok?h.value:null}function g(h){return d.isSome(h)&&!1===h.ok?h.error:null}let f=function(h){function q(l,v){var w=k.call(this,{});w._result=null;w._abortHandle=null;w.abort=()=>{w._abortController=d.abortMaybe(w._abortController)};w.remove=w.abort;w._abortController=new AbortController;const {signal:x}=w._abortController;w.promise=l(x);w.promise.then(z=>{w._result=r(z);w._cleanup()},z=>{w._result=p(z);w._cleanup()});w._abortHandle=n.onAbort(v,w.abort);return w}b._inherits(q,h);var k=b._createSuper(q);
h=q.prototype;h.normalizeCtorArgs=function(){return{}};h.destroy=function(){this.abort()};h._cleanup=function(){this._abortHandle=d.removeMaybe(this._abortHandle);this._abortController=null};b._createClass(q,[{key:"value",get:function(){return m(this._result)}},{key:"error",get:function(){return g(this._result)}},{key:"finished",get:function(){return d.isSome(this._result)}}]);return q}(e);c.__decorate([u.property()],f.prototype,"value",null);c.__decorate([u.property()],f.prototype,"error",null);
c.__decorate([u.property()],f.prototype,"finished",null);c.__decorate([u.property()],f.prototype,"promise",void 0);c.__decorate([u.property()],f.prototype,"_result",void 0);f=c.__decorate([t.subclass("esri.core.asyncUtils.ReactiveTask")],f);a.assertResult=function(h){if(!0===h.ok)return h.value;throw h.error;};a.createTask=function(h,q){return new f(h,q)};a.forEach=function(h,q,k){return n.eachAlways(h.map((l,v)=>q.apply(k,[l,v])))};a.makeResultError=p;a.makeResultOk=r;a.map=async function(h,q,k){return(await n.eachAlways(h.map((l,
v)=>q.apply(k,[l,v])))).map(l=>l.value)};a.result=async function(h){if(d.isNone(h))return{ok:!1,error:Error("no promise provided")};try{return r(await h)}catch(q){return p(q)}};a.resultError=g;a.resultOrAbort=async function(h){try{return r(await h)}catch(q){return n.throwIfAbortError(q),p(q)}};a.resultValue=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/urlUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../config ./Error ./Logger ./maybe ../portal/support/urlUtils".split(" "),
function(a,b,c,e,d,n,u){function t(Q){if(!Q)return null;const ca={path:null,query:null},ja=new xa(Q),ua=Q.indexOf("?");null===ja.query?ca.path=Q:(ca.path=Q.substring(0,ua),ca.query=r(ja.query));ja.fragment&&(ca.hash=ja.fragment,null===ja.query&&(ca.path=ca.path.substring(0,ca.path.length-(ja.fragment.length+1))));return ca}function r(Q){var ca=Q.split("\x26");Q={};for(const ua of ca){if(!ua)continue;var ja=ua.indexOf("\x3d");0>ja?(ca=decodeURIComponent(ua),ja=""):(ca=decodeURIComponent(ua.slice(0,
ja)),ja=decodeURIComponent(ua.slice(ja+1)));let da=Q[ca];"string"===typeof da&&(da=Q[ca]=[da]);Array.isArray(da)?da.push(ja):Q[ca]=ja}return Q}function p(Q){return Q&&"object"===typeof Q&&"toJSON"in Q&&"function"===typeof Q.toJSON}function m(Q,ca){return Q?ca&&"function"===typeof ca?Object.keys(Q).map(ja=>encodeURIComponent(ja)+"\x3d"+encodeURIComponent(ca(ja,Q[ja]))).join("\x26"):Object.keys(Q).map(ja=>{const ua=Q[ja];if(null==ua)return"";const da=encodeURIComponent(ja)+"\x3d";return(ja=ca&&ca[ja])?
da+encodeURIComponent(ja(ua)):Array.isArray(ua)?ua.map(ra=>p(ra)?da+encodeURIComponent(JSON.stringify(ra)):da+encodeURIComponent(ra)).join("\x26"):p(ua)?da+encodeURIComponent(JSON.stringify(ua)):da+encodeURIComponent(ua)}).filter(ja=>ja).join("\x26"):""}function g(Q){const ca=Q.indexOf("?");-1!==ca?(fa.path=Q.slice(0,ca),fa.query=Q.slice(ca+1)):(fa.path=Q,fa.query=null);return fa}function f(Q){Q=g(Q).path;Q&&"/"===Q[Q.length-1]||(Q=`${Q}/`);Q=L(Q,!0);return Q=Q.toLowerCase()}function h(Q){const ca=
V.proxyRules;Q=f(Q);for(let ja=0;ja<ca.length;ja++)if(0===Q.indexOf(ca[ja].urlPrefix))return ca[ja]}function q(Q){Q=v(Q);const ca=Q.indexOf("/sharing");return 0<ca?Q.substring(0,ca):Q.replace(/\/+$/,"")}function k(Q,ca,ja=!1){if(!Q||!ca)return!1;Q=R(Q);ca=R(ca);return!ja&&Q.scheme!==ca.scheme||null==Q.host||null==ca.host?!1:Q.host.toLowerCase()===ca.host.toLowerCase()&&Q.port===ca.port}function l(Q,ca=Fa,ja){if(E(Q))return ja&&ja.preserveProtocolRelative?Q:"http"===qa.scheme&&qa.authority===x(Q).slice(2)?
`http:${Q}`:`https:${Q}`;if(!P(Q)){ja=n.assumeNonNull;var ua=w;if("/"===Q[0]){var da=ca.indexOf("//");da=ca.indexOf("/",da+2);ca=-1===da?ca:ca.slice(0,da)}return ja.call(n,ua(ca,Q))}return Q}function v(Q){Q=Q.trim();Q=l(Q);if(/^https?:\/\//i.test(Q)){const ca=g(Q);Q=ca.path.replace(/\/{2,}/g,"/");Q=Q.replace("/","//");ca.query&&(Q+=`?${ca.query}`)}Q=Q.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return Q=aa(Q)}function w(...Q){var ca=Q.filter(n.isSome);if(ca&&ca.length){Q=[];if(z(ca[0])){var ja=
ca[0],ua=ja.indexOf("//");-1!==ua&&(Q.push(ja.slice(0,ua+1)),M(ca[0])&&(Q[0]+="/"),ca[0]=ja.slice(ua+2))}else"/"===ca[0][0]&&Q.push("");ca=ca.reduce((da,ra)=>ra?da.concat(ra.split("/")):da,[]);for(ja=0;ja<ca.length;ja++)ua=ca[ja],".."===ua&&0<Q.length&&".."!==Q[Q.length-1]?Q.pop():(!ua&&ja===ca.length-1||ua&&("."!==ua||0===Q.length))&&Q.push(ua);return Q.join("/")}}function x(Q,ca=!1){if(null==Q||A(Q)||B(Q))return null;var ja=Q.indexOf("://");if(-1===ja&&E(Q))ja=2;else if(-1!==ja)ja+=3;else return null;
ja=Q.indexOf("/",ja);-1!==ja&&(Q=Q.slice(0,ja));ca&&(Q=L(Q,!0));return Q}function z(Q){return E(Q)||P(Q)}function A(Q){return null!=Q&&"blob:"===Q.slice(0,5)}function B(Q){return null!=Q&&"data:"===Q.slice(0,5)}function D(Q){Q=y(Q);if(!Q||!Q.isBase64)return null;Q=atob(Q.data);const ca=new Uint8Array(Q.length);for(let ja=0;ja<Q.length;ja++)ca[ja]=Q.charCodeAt(ja);return ca.buffer}function y(Q){Q=Q.match(ba);if(!Q)return null;const [,ca,ja,ua]=Q;return{mediaType:ca,isBase64:!!ja,data:ua}}function C(Q){const ca=
D(Q);if(!ca)return null;Q=y(Q);return new Blob([ca],{type:Q.mediaType})}function F(Q,ca){if(!Q)return!1;const ja=document.createElement("a");if(!("download"in ja))return!1;Q=URL.createObjectURL(Q);ja.download=ca;ja.href=Q;ja.style.display="none";document.body.appendChild(ja);ja.click();document.body.removeChild(ja);URL.revokeObjectURL(Q);return!0}function G(Q,ca){return window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(Q,ca):!1}function E(Q){return null!=Q&&"/"===Q[0]&&"/"===Q[1]}
function P(Q){return null!=Q&&ea.test(Q)}function O(Q){return null!=Q&&la.test(Q)||"https"===qa.scheme&&E(Q)}function K(Q){return null!=Q&&ha.test(Q)||"http"===qa.scheme&&E(Q)}function M(Q){return null!=Q&&ia.test(Q)}function I(Q){return E(Q)?`https:${Q}`:Q.replace(ha,"https:")}function H(){return"https"===qa.scheme}function L(Q,ca=!1){if(E(Q))return Q.slice(2);Q=Q.replace(ea,"");ca&&1<Q.length&&"/"===Q[0]&&"/"===Q[1]&&(Q=Q.slice(2));return Q}function aa(Q){const ca=V.httpsDomains;if(!K(Q))return Q;
const ja=Q.indexOf("/",7);let ua;ua=-1===ja?Q:Q.slice(0,ja);ua=ua.toLowerCase().slice(7);if(Y.test(ua))if(ua.endsWith(":80"))ua=ua.slice(0,-3),Q=Q.replace(":80","");else return Q;if("http"===qa.scheme&&ua===qa.authority&&!Z.test(Q))return Q;if(H()&&ua===qa.authority||ca&&ca.some(da=>ua===da||ua.endsWith(`.${da}`))||H()&&!h(Q))Q=I(Q);return Q}function R(Q){if("string"===typeof Q)return new xa(l(Q));Q.scheme||(Q.scheme=qa.scheme);return Q}const S=d.getLogger("esri.core.urlUtils"),V=c.request,ea=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,
ha=/^\s*http:/i,la=/^\s*https:/i,ia=/^\s*file:/i,Y=/:\d+$/,Z=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,U=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),pa=RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");let xa=function(){function Q(ca=""){this.uri=ca;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;ca=n.assumeNonNull(this.uri.match(U));this.scheme=ca[2]||(ca[1]?"":null);this.authority=
ca[4]||(ca[3]?"":null);this.path=ca[5];this.query=ca[7]||(ca[6]?"":null);this.fragment=ca[9]||(ca[8]?"":null);null!=this.authority&&(ca=n.assumeNonNull(this.authority.match(pa)),this.user=ca[3]||null,this.password=ca[4]||null,this.host=ca[6]||ca[7],this.port=ca[9]||null)}Q.prototype.toString=function(){return this.uri};return b._createClass(Q)}();const N={},T=new xa(c.applicationUrl);let qa=T;const Ca=function(){var Q=n.assumeNonNull(qa.path);Q=Q.substring(0,Q.lastIndexOf(Q.split("/")[Q.split("/").length-
1]));return`${`${qa.scheme}://${qa.host}${null!=qa.port?`:${qa.port}`:""}`}${Q}`}();let Fa=Ca;const fa={path:"",query:""},ba=/^data:(.*?)(;base64)?,(.*)$/,ka=/([^.]*)\.([^\/]*)$/,X=/(^data:image\/svg|\.svg$)/i;a.Url=xa;a.addProxy=function(Q){var ca=h(Q),ja=void 0;if(ca){var ua=g(ca.proxyUrl);ja=ua.path;ua=ua.query?r(ua.query):null}ja&&(ca=t(Q),Q=ja+"?"+ca.path,(ja=m({...ua,...ca.query}))&&(Q=`${Q}?${ja}`));return Q};a.addProxyRule=function(Q){Q={proxyUrl:Q.proxyUrl,urlPrefix:f(Q.urlPrefix)};const ca=
V.proxyRules,ja=Q.urlPrefix;let ua=ca.length;for(let da=0;da<ca.length;da++){const ra=ca[da].urlPrefix;if(0===ja.indexOf(ra)){if(ja.length===ra.length)return-1;ua=da;break}0===ra.indexOf(ja)&&(ua=da+1)}ca.splice(ua,0,Q);return ua};a.addQueryParameter=function(Q,ca,ja){Q=t(Q);const ua=Q.query||{};ua[ca]=String(ja);return`${Q.path}?${m(ua)}`};a.addQueryParameters=function(Q,ca){Q=t(Q);const ja=Q.query||{};for(const ua in ca)ja[ua]=ca[ua];return(ca=m(ja))?`${Q.path}?${ca}`:Q.path};a.base64UrlEncode=
function(Q){return btoa(String.fromCharCode.apply(null,Q)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};a.changeDomain=function(Q,ca,ja){if(!(ca&&ja&&Q&&z(Q)))return Q;const ua=Q.indexOf("//");var da=Q.indexOf("/",ua+2);const ra=Q.indexOf(":",ua+2);da=Math.min(0>da?Q.length:da,0>ra?Q.length:ra);if(Q.slice(ua+2,da).toLowerCase()!==ca.toLowerCase())return Q;ca=Q.slice(0,ua+2);Q=Q.slice(da);return`${ca}${ja}${Q}`};a.dataComponents=y;a.dataToArrayBuffer=D;a.dataToBlob=C;a.downloadBlobAsFile=
function(Q,ca){F(Q,ca)||G(Q,ca)};a.downloadDataAsFile=function(Q,ca){var ja=(ja=C(Q))?F(ja,ca):!1;ja||(Q=C(Q))&&G(Q,ca)};a.getAppBaseUrl=()=>Fa;a.getAppUrl=()=>qa;a.getFilename=function(Q,ca){if(!Q)return"";Q=t(Q).path.replace(/\/+$/,"");Q=Q.substring(Q.lastIndexOf("/")+1);if(!ca?.length)return Q;ca=new RegExp(`.(${ca.join("|")})$`,"ig");return Q.replace(ca,"")};a.getInterceptor=function(Q){const ca=ua=>null==ua||ua instanceof RegExp&&ua.test(Q)||"string"===typeof ua&&Q.startsWith(ua),ja=V.interceptors;
if(ja)for(const ua of ja)if(Array.isArray(ua.urls)){if(ua.urls.some(ca))return ua}else if(ca(ua.urls))return ua;return null};a.getOrigin=x;a.getPathExtension=function(Q){return n.isNone(Q)?null:(Q=Q.match(ka))?Q[2]:null};a.getProxyRule=h;a.getProxyUrl=function(Q=!1){let ca,ja=V.proxyUrl;if("string"===typeof Q){if(ca=O(Q),Q=h(Q))ja=Q.proxyUrl}else ca=!!Q;if(!ja)throw S.warn("esri/config: esriConfig.request.proxyUrl is not set."),new e("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");
ca&&H()&&(ja=I(ja));return t(ja)};a.hasProtocol=P;a.hasSameCanonicalArcGISOnlinePortal=function(Q,ca){if(!Q||!ca)return!1;Q=q(Q);ca=q(ca);Q=u.parseKnownArcGISOnlineDomain(Q);ca=u.parseKnownArcGISOnlineDomain(ca);return n.isSome(Q)&&n.isSome(ca)?Q.portalHostname===ca.portalHostname:!1};a.hasSameCanonicalPortal=function(Q,ca){if(!Q||!ca)return!1;Q=q(Q);ca=q(ca);const ja=u.parseKnownArcGISOnlineDomain(Q),ua=u.parseKnownArcGISOnlineDomain(ca);return n.isSome(ja)&&n.isSome(ua)?ja.portalHostname===ua.portalHostname:
n.isSome(ja)||n.isSome(ua)?!1:k(Q,ca,!0)};a.hasSameOrigin=k;a.hasSamePortal=function(Q,ca){Q=q(Q);ca=q(ca);return L(Q)===L(ca)};a.isAbsolute=z;a.isAppHTTPS=H;a.isBlobProtocol=A;a.isDataProtocol=B;a.isHTTPSProtocol=O;a.isProtocolRelative=E;a.isSVG=function(Q){return X.test(Q)};a.isTrustedServer=function(Q){if("string"===typeof Q)if(z(Q))Q=R(Q);else return!0;if(k(Q,qa))return!0;const ca=V.trustedServers||[];for(let ua=0;ua<ca.length;ua++){var ja=ca[ua];N[ja]||(P(ja)||E(ja)?N[ja]=[new xa(l(ja))]:N[ja]=
[new xa(`http://${ja}`),new xa(`https://${ja}`)]);ja=N[ja];for(let da=0;da<ja.length;da++)if(k(Q,ja[da]))return!0}return!1};a.join=w;a.makeAbsolute=l;a.makeData=function(Q){return Q.isBase64?`data:${Q.mediaType};base64,${Q.data}`:`data:${Q.mediaType},${Q.data}`};a.makeRelative=function(Q,ca=Fa,ja){if(null==Q||!z(Q))return Q;var ua=v(Q),da=ua.toLowerCase();ca=v(ca).toLowerCase().replace(/\/+$/,"");if((ja=ja?v(ja).toLowerCase().replace(/\/+$/,""):null)&&0!==ca.indexOf(ja))return Q;const ra=(Oa,ma,ta)=>
{ta=Oa.indexOf(ma,ta);return-1===ta?Oa.length:ta};let wa=ra(da,"/",da.indexOf("//")+2),Ia=-1;for(;da.slice(0,wa+1)===ca.slice(0,wa)+"/";){Ia=wa+1;if(wa===da.length)break;wa=ra(da,"/",wa+1)}if(-1===Ia||ja&&Ia<ja.length)return Q;Q=ua.slice(Ia);ua=ca.slice(Ia-1).replace(/[^/]+/g,"").length;if(0<ua)for(da=0;da<ua;da++)Q=`../${Q}`;else Q=`./${Q}`;return Q};a.normalize=v;a.objectToQuery=m;a.queryToObject=r;a.removeFile=function(Q){let ca=0;if(z(Q)){var ja=Q.indexOf("//");-1!==ja&&(ca=ja+2)}ja=Q.lastIndexOf("/");
return ja<ca?Q:Q.slice(0,ja+1)};a.removeQueryParameter=function(Q,ca){const {path:ja,query:ua}=t(Q);if(!ua)return Q;delete ua[ca];return(Q=m(ua))?`${ja}?${Q}`:ja};a.removeQueryParameters=function(Q,ca){Q=t(Q);const ja=Object.keys(Q.query||{});0<ja.length&&ca&&ca.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${ja.join(", ")}.`);return Q.path};a.removeTrailingSlash=function(Q){return Q.replace(/\/+$/,"")};a.splitPathExtension=function(Q){if(n.isNone(Q))return null;
const ca=Q.match(ka);return ca?{path:ca[1],extension:ca[2]}:{path:Q,extension:null}};a.test={setAppUrl:Q=>qa=Q,setAppBaseUrl:Q=>Fa=Q,restoreUrls:()=>{qa=T;Fa=Ca}};a.toHTTP=function(Q){return E(Q)?`http:${Q}`:Q.replace(la,"http:")};a.toHTTPS=I;a.trustedServersUrlCache=N;a.urlToObject=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/urlUtils":function(){define(["exports"],function(a){const b=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,c={devext:{customBaseUrl:"mapsdevext.arcgis.com",
portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};a.isSecureProxyService=function(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)};a.parseKnownArcGISOnlineDomain=function(e){e=e?.match(b);if(!e)return null;const [,d,n,u]=e;if(!d)return null;let t=e=null,r=null;const {devext:p,qaext:m,www:g}=c;if(n)if(e=d,u)switch(u.toLowerCase()){case "devext":({customBaseUrl:t,
portalHostname:r}=p);break;case "qa":({customBaseUrl:t,portalHostname:r}=m);break;default:return null}else({customBaseUrl:t,portalHostname:r}=g);else switch(d.toLowerCase()){case "devext":({customBaseUrl:t,portalHostname:r}=p);break;case "qaext":({customBaseUrl:t,portalHostname:r}=m);break;case "www":({customBaseUrl:t,portalHostname:r}=g);break;default:return null}return{customBaseUrl:t,isPortal:!1,portalHostname:r,urlKey:e}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports",
"./property"],function(a,b){a.writer=function(c,e,d){let n,u;void 0===e?(u=c,n=[void 0]):"string"!==typeof e?(u=c,n=[void 0],d=e):(u=e,n=Array.isArray(c)?c:[c]);return(t,r)=>{const p=t.constructor.prototype;for(const m of n){const g=b.propertyJSONMeta(t,m,u);g.write&&"object"===typeof g.write||(g.write={});d&&(g.write.target=d);g.write.writer=p[r]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/SpatialReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/unitUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;c=m=function(g){function f(q){q=h.call(this,q);q.latestWkid=null;q.wkid=null;q.wkt=null;q.vcsWkid=null;q.latestVcsWkid=null;q.imageCoordinateSystem=null;return q}a._inherits(f,g);var h=a._createSuper(f);f.fromJSON=function(q){if(!q)return null;if(q.wkid){if(102100===q.wkid)return m.WebMercator;if(4326===q.wkid)return m.WGS84}const k=new m;k.read(q);return k};g=f.prototype;g.normalizeCtorArgs=function(q){return q&&"object"===typeof q?q:{["string"===typeof q?"wkt":
"wkid"]:q}};g.writeWkt=function(q,k){this.wkid||(k.wkt=q)};g.clone=function(){if(this===m.WGS84)return m.WGS84;if(this===m.WebMercator)return m.WebMercator;const q=new m;null!=this.wkid?(q.wkid=this.wkid,null!=this.latestWkid&&(q.latestWkid=this.latestWkid),null!=this.vcsWkid&&(q.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(q.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(q.wkt=this.wkt);this.imageCoordinateSystem&&(q.imageCoordinateSystem=e.clone(this.imageCoordinateSystem));return q};g.equals=
function(q){if(null==q)return!1;if(this.imageCoordinateSystem||q.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==q.imageCoordinateSystem)return!1;const {id:k,referenceServiceName:l}=q.imageCoordinateSystem,{geodataXform:v}=q.imageCoordinateSystem,w=this.imageCoordinateSystem;return null==k||v?JSON.stringify(w)===JSON.stringify(q.imageCoordinateSystem):l?w.id===k&&w.referenceServiceName===l:w.id===k}return p.equals(this,q)};g.toJSON=function(q){return this.write(void 0,q)};a._createClass(f,
[{key:"isWGS84",get:function(){return p.isWGS84(this)}},{key:"isWebMercator",get:function(){return p.isWebMercator(this)}},{key:"isGeographic",get:function(){return p.isGeographic(this)}},{key:"isWrappable",get:function(){return p.isWrappable(this)}},{key:"metersPerUnit",get:function(){return d.getMetersPerUnitForSR(this)}},{key:"unit",get:function(){return d.getUnitString(this)||(this.isGeographic?"degrees":null)}}]);return f}(c.JSONSupport);c.GCS_NAD_1927=null;c.WGS84=null;c.WebMercator=null;c.PlateCarree=
null;b.__decorate([u.property({readOnly:!0})],c.prototype,"isWGS84",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"isWebMercator",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"isGeographic",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"isWrappable",null);b.__decorate([u.property({type:n.Integer,json:{write:!0}})],c.prototype,"latestWkid",void 0);b.__decorate([u.property({readOnly:!0})],c.prototype,"metersPerUnit",null);b.__decorate([u.property({readOnly:!0})],
c.prototype,"unit",null);b.__decorate([u.property({type:n.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],c.prototype,"wkid",void 0);b.__decorate([u.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],c.prototype,"wkt",void 0);b.__decorate([r.writer("wkt"),r.writer("web-scene","wkt")],c.prototype,"writeWkt",null);b.__decorate([u.property({type:n.Integer,json:{write:!0}})],
c.prototype,"vcsWkid",void 0);b.__decorate([u.property({type:n.Integer,json:{write:!0}})],c.prototype,"latestVcsWkid",void 0);b.__decorate([u.property()],c.prototype,"imageCoordinateSystem",void 0);c=m=b.__decorate([t.subclass("esri.geometry.SpatialReference")],c);c.prototype.toJSON.isDefaultToJSON=!0;c.GCS_NAD_1927=new c({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
c.WGS84=new c(p.WGS84);c.WebMercator=new c(p.WebMercator);c.PlateCarree=new c(p.PlateCarree);Object.freeze&&(Object.freeze(c.GCS_NAD_1927),Object.freeze(c.WGS84),Object.freeze(c.WebMercator));return c})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ./maybe ../geometry/ellipsoidUtils ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,c,e,d,n,u,t){function r(L){L=M[L];if(!L)throw Error("unknown type");
return L}function p(L){return K[L].baseUnit}function m(L,aa=null){aa=aa||r(L);return K[aa].baseUnit===L}function g(L,aa,R){if(aa===R)return L;const S=r(aa);if(S!==r(R))throw Error("incompatible units");L=m(aa,S)?L:L*K[S].units[aa].inBaseUnits;return m(R,S)?L:L/K[S].units[R].inBaseUnits}function f(L,aa){L=g(L,aa,"meters");return 3E3>Math.abs(L)?"meters":"kilometers"}function h(L,aa){L=g(L,aa,"meters");return 1E5>Math.abs(L)?"meters":"kilometers"}function q(L,aa){L=g(L,aa,"feet");return 1E3>Math.abs(L)?
"feet":"miles"}function k(L,aa){L=g(L,aa,"feet");return 1E5>Math.abs(L)?"feet":"miles"}function l(L,aa){L=g(L,aa,"square-meters");return 3E6>Math.abs(L)?"square-meters":"square-kilometers"}function v(L,aa){L=g(L,aa,"square-feet");return 1E6>Math.abs(L)?"square-feet":"square-miles"}function w(L){return O.fromJSON(L.toLowerCase())||null}function x(L){const aa=z(L),R=d.getReferenceEllipsoid(L).metersPerDegree;return aa>=R?"meters":D(L)}function z(L,aa=n.earth.metersPerDegree){return e.unwrapOr(A(L,!0),
aa)}function A(L,aa=!1){const R=e.isSome(L)?L.wkid:null;L=e.isSome(L)?L.wkt:null;let S=null;if(R){if(u.isWKIDFromMars(R))return n.mars.metersPerDegree;if(u.isWKIDFromMoon(R))return n.moon.metersPerDegree;S=G.values[G[R]];!S&&aa&&P.has(R)&&(S=C)}else L&&(y(L)?S=B(F.exec(L),S):/^GEOCCS/i.test(L)&&(S=B(E.exec(L),S)));return S}function B(L,aa){return L&&L[1]?parseFloat(L[1].split(",")[1]):aa}function D(L){var aa=e.isSome(L)?L.wkid:null,R=e.isSome(L)?L.wkt:null;L=null;if(aa)L=G.units[G[aa]];else if(R&&
(aa=y(R)?F:/^GEOCCS/i.test(R)?E:null)&&(aa=aa.exec(R))&&aa[1]&&(aa=aa[1],L=(L=/[\\"\\']{1}([^\\"\\']+)/.exec(aa))&&L[1],!L||!G.units.includes(L))){aa=parseFloat(aa.split(",")[1]);L=null;R=G.values;for(let S=0;S<R.length;++S)if(1E-7>Math.abs(aa-R[S])){L=G.units[S];break}}return e.isSome(L)?w(L):null}function y(L){return/^PROJCS/i.test(L)}const C=n.earth.radius*Math.PI/200,F=/UNIT\[([^\]]+)\]\]$/i,G=t,E=/UNIT\[([^\]]+)\]/i,P=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,
104140]),O=c.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},
centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};t={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},
"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(L=>L*L)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const K={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:t},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},
"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},M=(()=>{const L={};for(const aa in K)for(const R in K[aa].units)L[R]=aa;return L})(),I="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),
H=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);b=c.strict()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"});
t=c.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"});c=c.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});a.angleUnitsJSONMap=c;a.areaUnitFromSpatialReference=function(L){L=D(L);return e.isNone(L)?null:H.get(L)};a.areaUnitsJSONMap=b;a.baseUnitForUnit=function(L){return p(r(L))};
a.baseUnitForUnitType=p;a.convertUnit=g;a.getDefaultUnitSystem=function(L){L=D(L);if(e.isNone(L))return null;switch(L){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerUnit=
A;a.getMetersPerUnitForSR=z;a.getMetersPerVerticalUnitForSR=function(L){if(e.isSome(L)&&!u.isEarth(L))return 1;L=z(L);return 1E5<L?1:L};a.getUnitString=D;a.getVerticalUnitStringForSR=x;a.inchesPerMeter=39.37;a.isBaseUnit=m;a.isMeasurementSystem=function(L){return"imperial"===L||"metric"===L};a.isProjectedWKT=y;a.lengthToDegrees=function(L,aa,R){return g(L,aa,"meters")/(R*Math.PI/180)};a.lengthUnitFromSpatialReference=function(L){L=D(L);return e.isNone(L)||!I.includes(L)?null:L};a.lengthUnitsJSONMap=
t;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits=I;a.preferredAreaUnit=function(L,aa,R){switch(R){case "metric":return l(L,aa);case "imperial":return v(L,aa);default:return R}};a.preferredImperialAreaUnit=v;a.preferredImperialLengthUnit=q;a.preferredImperialVerticalLengthUnit=k;a.preferredLengthUnit=function(L,aa,R){switch(R){case "metric":return f(L,
aa);case "imperial":return q(L,aa);default:return R}};a.preferredMetricAreaUnit=l;a.preferredMetricLengthUnit=f;a.preferredMetricVerticalLengthUnit=h;a.preferredVerticalLengthUnit=function(L,aa,R){switch(R){case "metric":return h(L,aa);case "imperial":return k(L,aa);default:return R}};a.unitFromRESTJSON=w;a.unitToRESTJSON=function(L){return O.toJSON(L)||null};a.unitType=r;a.verticalLengthUnitFromSpatialReference=function(L){L=x(L);return e.isNone(L)||!I.includes(L)?null:L};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/jsonMap":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./object"],function(a,b,c){let e=function(){function d(u,t={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=u;this._options=t;this.apiValues=[];this.jsonValues=[];this._apiToJSON=this._invertMap(u);this.apiValues=this._getKeysSorted(this._apiToJSON);this.jsonValues=this._getKeysSorted(this._jsonToAPI);this.read=r=>this.fromJSON(r);this.write=(r,p,m)=>{r=this.toJSON(r);
void 0!==r&&c.setDeepValue(m,r,p)};this.write.isJSONMapWriter=!0}var n=d.prototype;n.toJSON=function(u){return null==u?null:this._apiToJSON.hasOwnProperty(u)?(u=this._apiToJSON[u],this._options.useNumericKeys?+u:u):this._options.ignoreUnknown?void 0:u};n.fromJSON=function(u){return null!=u&&this._jsonToAPI.hasOwnProperty(u)?this._jsonToAPI[u]:this._options.ignoreUnknown?void 0:u};n._invertMap=function(u){const t={};for(const r in u)t[u[r]]=r;return t};n._getKeysSorted=function(u){const t=[];for(const r in u)t.push(r);
t.sort();return t};return b._createClass(d)}();a.JSONMap=e;a.strict=function(){return function(d,n){return new e(d,{ignoreUnknown:!0,...n})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/ellipsoidUtils":function(){define(["exports","../core/maybe","./support/Ellipsoid","./support/spatialReferenceUtils"],function(a,b,c,e){function d(p){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${p.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}
const n=d(c.earth),u=d(c.mars),t=d(c.moon),r={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${c.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`};a.SphericalECEFSpatialReferenceLike=n;a.SphericalPCPFMarsLike=
u;a.SphericalPCPFMoonLike=t;a.WGS84ECEFSpatialReferenceLike=r;a.getReferenceEllipsoid=function(p){return b.isSome(p)&&(e.isMars(p)||e.equals(p,u))?c.mars:b.isSome(p)&&(e.isMoon(p)||e.equals(p,t))?c.moon:c.earth};a.getReferenceEllipsoidFromWKID=function(p){return e.isWKIDFromMars(p)?c.mars:e.isWKIDFromMoon(p)?c.moon:c.earth};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Ellipsoid":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,
b){let c=function(){function u(t,r,p,m){this.semiMajorAxis=t;this.flattening=r;this.outerAtmosphereRimWidth=p;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=m||2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/
3}b._createClass(u,[{key:"radius",get:function(){return this.semiMajorAxis}}]);return u}();const e=new c(6378137,1/298.257223563,3E5,.006694379990137799),d=new c(3396190,.005886007555525457,23E4),n=new c(1737400,0,0);a.Ellipsoid=c;a.earth=e;a.mars=d;a.moon=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/maybe","../../core/string","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,c,e,d){function n(l){return m(l)&&
null!=l.wkid&&!0===g[l.wkid]}function u(l){return l===e.SupportedGCSWkids.GCSMARS2000||l===e.SupportedGCSWkids.GCSMARS2000_SPHERE}function t(l){return m(l)&&null!=l.wkid&&u(l.wkid)}function r(l){return l===e.SupportedGCSWkids.GCSMOON2000}function p(l){return m(l)&&null!=l.wkid&&r(l.wkid)}function m(l){return b.isSome(l)&&(null!=l.wkid&&2E3<=l.wkid||null!=l.wkt)}const g={102113:!0,102100:!0,3857:!0,3785:!0},f={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},h=[-2.0037508342788905E7,
2.0037508342788905E7],q=[-2.0037508342787E7,2.0037508342787E7],k={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:h,origin:q,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:h,origin:q,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:h,origin:q,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:h,origin:q,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};c={wkid:4326,wkt:c.replace(k[4326].wkTemplate,{Central_Meridian:"0.0"})};a.PlateCarree={wkid:32662};a.WGS84=c;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(l,v){return l===v?!0:b.isNone(l)||b.isNone(v)?!1:null!=l.wkid||null!=v.wkid?l.wkid===v.wkid||n(l)&&n(v)||null!=v.latestWkid&&l.wkid===v.latestWkid||null!=l.latestWkid&&v.wkid===l.latestWkid:l.wkt&&v.wkt?l.wkt.toUpperCase()===v.wkt.toUpperCase():!1};a.getInfo=function(l){return m(l)&&l.wkid?k[l.wkid]||null:null};a.isCGCS2000=
function(l){return m(l)&&l.wkid===e.SupportedGCSWkids.CGCS2000};a.isEarth=function(l){return!(t(l)||p(l))};a.isGeographic=function(l){return m(l)?l.wkid?null==d[l.wkid]:l.wkt?!!/^\s*GEOGCS/i.test(l.wkt):!1:!1};a.isMars=t;a.isMoon=p;a.isPlateCarree=function(l){return m(l)&&32662===l.wkid};a.isValid=m;a.isWGS84=function(l){return m(l)&&4326===l.wkid};a.isWKIDFromMars=u;a.isWKIDFromMoon=r;a.isWebMercator=n;a.isWrappable=function(l){return m(l)&&null!=l.wkid&&!0===f[l.wkid]};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;const b={values:[1,
.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,
2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,
3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,
3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,
3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,
5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,
6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,
6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,
6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,
6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,
7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,
7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,
8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,
8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,
8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,
21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,
28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,
102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,
103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,
103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,
103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,
103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=
a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=
a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=
a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=
a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=
a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=
a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=
a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=
a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=
a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=
a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=9821;9865>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20047;20049>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=
a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22207;22222>=a;a++)b[a]=0;for(a=22234;22236>=
a;a++)b[a]=0;for(a=22243;22250>=a;a++)b[a]=0;for(a=22262;22265>=a;a++)b[a]=0;for(a=22307;22322>=a;a++)b[a]=0;for(a=22348;22357>=a;a++)b[a]=0;for(a=22407;22422>=a;a++)b[a]=0;for(a=22462;22465>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22607;22622>=a;a++)b[a]=0;for(a=22641;22646>=a;a++)b[a]=0;for(a=22648;22657>=a;a++)b[a]=0;for(a=22707;22722>=a;a++)b[a]=0;for(a=22762;22765>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=
a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=
a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=
a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=
a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32159>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=
a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=
a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=
a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=a;a++)b[a]=13;for(a=102951;102955>=
a;a++)b[a]=0;for(a=102961;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=
a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=
a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=
a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=
a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103890>=a;a++)b[a]=0;for(a=103891;103896>=a;a++)b[a]=2;for(a=103900;103971>=a;a++)b[a]=2;for(a=103972;103977>=a;a++)b[a]=0;for(a=112E3;112101>=
a;a++)b[a]=0;return b})},"esri/portal/Portal":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B){const D=G=>Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));var y;let C;const F={PortalGroup:()=>new Promise((G,E)=>a(["./PortalGroup"],P=>G(D(P)),E)),PortalItem:()=>new Promise((G,E)=>a(["./PortalItem"],P=>G(D(P)),E)),PortalUser:()=>new Promise((G,E)=>a(["./PortalUser"],P=>G(D(P)),E))};t=y=function(G){function E(O){O=P.call(this,O);O._esriIdCredentialCreateHandle=null;O.access=null;O.allSSL=
!1;O.authMode="auto";O.authorizedCrossOriginDomains=null;O.basemapGalleryGroupQuery=null;O.bingKey=null;O.canListApps=!1;O.canListData=!1;O.canListPreProvisionedItems=!1;O.canProvisionDirectPurchase=!1;O.canSearchPublic=!0;O.canShareBingPublic=!1;O.canSharePublic=!1;O.canSignInArcGIS=!1;O.canSignInIDP=!1;O.colorSetsGroupQuery=null;O.commentsEnabled=!1;O.created=null;O.culture=null;O.customBaseUrl=null;O.defaultBasemap=null;O.defaultDevBasemap=null;O.defaultExtent=null;O.defaultVectorBasemap=null;
O.description=null;O.devBasemapGalleryGroupQuery=null;O.eueiEnabled=null;O.featuredGroups=null;O.featuredItemsGroupQuery=null;O.galleryTemplatesGroupQuery=null;O.livingAtlasGroupQuery=null;O.hasCategorySchema=!1;O.helperServices=null;O.homePageFeaturedContent=null;O.homePageFeaturedContentCount=null;O.httpPort=null;O.httpsPort=null;O.id=null;O.ipCntryCode=null;O.isPortal=!1;O.isReadOnly=!1;O.layerTemplatesGroupQuery=null;O.maxTokenExpirationMinutes=null;O.modified=null;O.name=null;O.portalHostname=
null;O.portalMode=null;O.portalProperties=null;O.region=null;O.rotatorPanels=null;O.showHomePageDescription=!1;O.sourceJSON=null;O.supportsHostedServices=!1;O.symbolSetsGroupQuery=null;O.templatesGroupQuery=null;O.units=null;O.url=e.portalUrl;O.urlKey=null;O.user=null;O.useStandardizedQuery=!1;O.useVectorBasemaps=!1;O.vectorBasemapGalleryGroupQuery=null;return O}b._inherits(E,G);var P=b._createSuper(E);G=E.prototype;G.normalizeCtorArgs=function(O){return"string"===typeof O?{url:O}:O};G.destroy=function(){this.defaultBasemap=
p.destroyMaybe(this.defaultBasemap);this.defaultDevBasemap=p.destroyMaybe(this.defaultDevBasemap);this.defaultVectorBasemap=p.destroyMaybe(this.defaultVectorBasemap);this._esriIdCredentialCreateHandle=p.removeMaybe(this._esriIdCredentialCreateHandle)};G.readAuthorizedCrossOriginDomains=function(O){if(O)for(const K of O)e.request.trustedServers.includes(K)||e.request.trustedServers.push(K);return O};G.readDefaultBasemap=function(O){return this._readBasemap(O)};G.readDefaultDevBasemap=function(O){return this._readBasemap(O)};
G.readDefaultVectorBasemap=function(O){return this._readBasemap(O)};G.readUrlKey=function(O){return O?O.toLowerCase():O};G.readUser=function(O){let K=null;O&&(K=A.fromJSON(O),K.portal=this);return K};G.load=function(O){const K=(new Promise((M,I)=>a(["../Basemap"],H=>M(D(H)),I))).then(({default:M})=>{m.throwIfAborted(O);C=M}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,O)).then(M=>{if(d.id){const I=d.id;this.credential=I.findCredential(this.restUrl);this.credential||this.authMode!==
y.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle=I.on("credential-create",()=>{I.findCredential(this.restUrl)&&this.signIn().catch(()=>{})}))}this.sourceJSON=M;this.read(M)});this.addResolvingPromise(K);return Promise.resolve(this)};G.createElevationLayers=async function(){await this.load();const O=this._getHelperService("defaultElevationLayers"),K=(await new Promise((M,I)=>a(["../layers/ElevationLayer"],H=>M(D(H)),I))).default;return O?O.map(M=>new K({id:M.id,url:M.url})):[]};G.fetchBasemaps=
function(O,K){const M=new x;M.query=O||(e.apiKey&&B.supportsApiKey(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);M.disableExtraQuery=!0;return this.queryGroups(M,K).then(I=>{M.num=100;M.query='type:"Web Map" -type:"Web Application"';return I.total?(I=I.results[0],M.sortField=I.sortField||"name",M.sortOrder=I.sortOrder||"desc",I.queryItems(M,K)):null}).then(I=>I&&I.total?I.results.filter(H=>"Web Map"===H.type).map(H=>
new C({portalItem:H})):[])};G.fetchCategorySchema=function(O){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",O).then(K=>K.categorySchema):m.isAborted(O)?Promise.reject(m.createAbortError()):Promise.resolve([])};G.fetchFeaturedGroups=function(O){const K=this.featuredGroups,M=new x;M.num=100;M.sortField="title";if(K&&K.length){const I=[];for(const H of K)I.push(`(title:"${H.title}" AND owner:${H.owner})`);M.query=I.join(" OR ");return this.queryGroups(M,O).then(H=>
H.results)}return m.isAborted(O)?Promise.reject(m.createAbortError()):Promise.resolve([])};G.fetchRegions=function(O){const K=this.user?.culture||this.culture||w.getLocale();return this.request(this.restUrl+"/portals/regions",{...O,query:{culture:K}})};G.fetchSettings=function(O){const K=this.user?.culture||this.culture||w.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...O,query:{culture:K}})};E.getDefault=function(){if(!y._default||y._default.destroyed)y._default=new y;return y._default};
G.queryGroups=function(O,K){return this.queryPortal("/community/groups",O,"PortalGroup",K)};G.queryItems=function(O,K){return this.queryPortal("/search",O,"PortalItem",K)};G.queryUsers=function(O,K){O.sortField||(O.sortField="username");return this.queryPortal("/community/users",O,"PortalUser",K)};G.fetchSelf=function(O=this.authMode,K=!1,M){const I=this.restUrl+"/portals/self";O={authMode:O,query:{culture:w.getLocale().toLowerCase()},...M};"auto"===O.authMode&&(O.authMode="no-prompt");K&&(O.query.default=
!0);return this.request(I,O)};G.queryPortal=function(O,K,M,I){const H=f.ensureType(x,K),L=aa=>this.request(this.restUrl+O,{...H.toRequestOptions(this),...I}).then(R=>{const S=H.clone();S.start=R.nextStart;return new z({nextQueryParams:S,queryParams:H,total:R.total,results:y._resultsToTypedArray(aa,{portal:this},R,I)})}).then(R=>Promise.all(R.results.map(S=>"function"===typeof S.when?S.when():R)).then(()=>R,S=>{m.throwIfAbortError(S);return R}));return M&&F[M]?F[M]().then(({default:aa})=>{m.throwIfAborted(I);
return L(aa)}):L()};G.signIn=function(){if(this.authMode===y.AUTH_MODE_ANONYMOUS)return Promise.reject(new u("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const O=K=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return K||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=K;return this.fetchSelf("immediate")});
if(this.user&&this.credential===K)return null;this.credential=K;return this.fetchSelf("immediate")}).then(M=>{M&&(this.sourceJSON=M,this.read(M))});return d.id?d.id.getCredential(this.restUrl).then(K=>O(K)):O(this.credential)};G.normalizeUrl=function(O){const K=this.credential&&this.credential.token;return this._normalizeSSL(K?O+(O.includes("?")?"\x26":"?")+"token\x3d"+K:O)};G.requestToTypedArray=function(O,K,M){return this.request(O,K).then(I=>{const H=y._resultsToTypedArray(M,{portal:this},I);return Promise.all(H.map(L=>
"function"===typeof L.when?L.when():I)).then(()=>H,()=>H)})};G.request=function(O,K={}){const M={f:"json",...K.query},{authMode:I=this.authMode===y.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:H=null,cacheBust:L=!1,method:aa="auto",responseType:R="json",signal:S}=K;K={authMode:I,body:H,cacheBust:L,method:aa,query:M,responseType:R,timeout:0,signal:S};return n(this._normalizeSSL(O),K).then(V=>V.data)};G.toJSON=function(){throw new u("internal:not-yet-implemented","Portal.toJSON is not yet implemented");
};E.fromJSON=function(O){if(!O)return null;if(O.declaredClass)throw Error("JSON object is already hydrated");return new y({sourceJSON:O})};G._getHelperService=function(O){const K=this.helperServices&&this.helperServices[O];if(!K)throw new u("portal:service-not-found",`The \`helperServices\` do not include an entry named "${O}"`);return K};G._normalizeSSL=function(O){return O.replace(/^http:/i,"https:").replace(":7080",":7443")};G._readBasemap=function(O){return O?(O=C.fromJSON(O),O.portalItem={portal:this},
O):null};E._resultsToTypedArray=function(O,K,M,I){let H=[];if(M){const L=p.isSome(I)?I.signal:null;H=M.listings||M.notifications||M.userInvitations||M.tags||M.items||M.groups||M.comments||M.provisions||M.results||M.relatedItems||M;if(O||K)H=H.map(aa=>{aa=Object.assign(O?O.fromJSON(aa):aa,K);"function"===typeof aa.load&&aa.load(L);return aa})}else H=[];return H};b._createClass(E,[{key:"extraQuery",get:function(){const O=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!O?` AND orgid:${this.id}`:
null}},{key:"isOrganization",get:function(){return!!this.access}},{key:"itemPageUrl",get:function(){return this.url?`${this.url}/home/item.html`:null}},{key:"restUrl",get:function(){let O=this.url;if(O){const K=O.indexOf("/sharing");O=0<K?O.substring(0,K):this.url.replace(/\/+$/,"");O+="/sharing/rest"}return O}},{key:"thumbnailUrl",get:function(){const O=this.restUrl,K=this.thumbnail;return O&&K?this._normalizeSSL(O+"/portals/self/resources/"+K):null}}]);return E}(t.JSONSupportMixin(r));t.AUTH_MODE_ANONYMOUS=
"anonymous";t.AUTH_MODE_AUTO="auto";t.AUTH_MODE_IMMEDIATE="immediate";c.__decorate([g.property()],t.prototype,"access",void 0);c.__decorate([g.property()],t.prototype,"allSSL",void 0);c.__decorate([g.property()],t.prototype,"authMode",void 0);c.__decorate([g.property()],t.prototype,"authorizedCrossOriginDomains",void 0);c.__decorate([k.reader("authorizedCrossOriginDomains")],t.prototype,"readAuthorizedCrossOriginDomains",null);c.__decorate([g.property()],t.prototype,"basemapGalleryGroupQuery",void 0);
c.__decorate([g.property()],t.prototype,"bingKey",void 0);c.__decorate([g.property()],t.prototype,"canListApps",void 0);c.__decorate([g.property()],t.prototype,"canListData",void 0);c.__decorate([g.property()],t.prototype,"canListPreProvisionedItems",void 0);c.__decorate([g.property()],t.prototype,"canProvisionDirectPurchase",void 0);c.__decorate([g.property()],t.prototype,"canSearchPublic",void 0);c.__decorate([g.property()],t.prototype,"canShareBingPublic",void 0);c.__decorate([g.property()],t.prototype,
"canSharePublic",void 0);c.__decorate([g.property()],t.prototype,"canSignInArcGIS",void 0);c.__decorate([g.property()],t.prototype,"canSignInIDP",void 0);c.__decorate([g.property()],t.prototype,"colorSetsGroupQuery",void 0);c.__decorate([g.property()],t.prototype,"commentsEnabled",void 0);c.__decorate([g.property({type:Date})],t.prototype,"created",void 0);c.__decorate([g.property()],t.prototype,"credential",void 0);c.__decorate([g.property()],t.prototype,"culture",void 0);c.__decorate([g.property()],
t.prototype,"currentVersion",void 0);c.__decorate([g.property()],t.prototype,"customBaseUrl",void 0);c.__decorate([g.property()],t.prototype,"defaultBasemap",void 0);c.__decorate([k.reader("defaultBasemap")],t.prototype,"readDefaultBasemap",null);c.__decorate([g.property()],t.prototype,"defaultDevBasemap",void 0);c.__decorate([k.reader("defaultDevBasemap")],t.prototype,"readDefaultDevBasemap",null);c.__decorate([g.property({type:v})],t.prototype,"defaultExtent",void 0);c.__decorate([g.property()],
t.prototype,"defaultVectorBasemap",void 0);c.__decorate([k.reader("defaultVectorBasemap")],t.prototype,"readDefaultVectorBasemap",null);c.__decorate([g.property()],t.prototype,"description",void 0);c.__decorate([g.property()],t.prototype,"devBasemapGalleryGroupQuery",void 0);c.__decorate([g.property()],t.prototype,"eueiEnabled",void 0);c.__decorate([g.property({readOnly:!0})],t.prototype,"extraQuery",null);c.__decorate([g.property()],t.prototype,"featuredGroups",void 0);c.__decorate([g.property()],
t.prototype,"featuredItemsGroupQuery",void 0);c.__decorate([g.property()],t.prototype,"galleryTemplatesGroupQuery",void 0);c.__decorate([g.property()],t.prototype,"livingAtlasGroupQuery",void 0);c.__decorate([g.property()],t.prototype,"hasCategorySchema",void 0);c.__decorate([g.property()],t.prototype,"helpBase",void 0);c.__decorate([g.property()],t.prototype,"helperServices",void 0);c.__decorate([g.property()],t.prototype,"helpMap",void 0);c.__decorate([g.property()],t.prototype,"homePageFeaturedContent",
void 0);c.__decorate([g.property()],t.prototype,"homePageFeaturedContentCount",void 0);c.__decorate([g.property()],t.prototype,"httpPort",void 0);c.__decorate([g.property()],t.prototype,"httpsPort",void 0);c.__decorate([g.property()],t.prototype,"id",void 0);c.__decorate([g.property()],t.prototype,"ipCntryCode",void 0);c.__decorate([g.property({readOnly:!0})],t.prototype,"isOrganization",null);c.__decorate([g.property()],t.prototype,"isPortal",void 0);c.__decorate([g.property()],t.prototype,"isReadOnly",
void 0);c.__decorate([g.property({readOnly:!0})],t.prototype,"itemPageUrl",null);c.__decorate([g.property()],t.prototype,"layerTemplatesGroupQuery",void 0);c.__decorate([g.property()],t.prototype,"maxTokenExpirationMinutes",void 0);c.__decorate([g.property({type:Date})],t.prototype,"modified",void 0);c.__decorate([g.property()],t.prototype,"name",void 0);c.__decorate([g.property()],t.prototype,"portalHostname",void 0);c.__decorate([g.property()],t.prototype,"portalMode",void 0);c.__decorate([g.property()],
t.prototype,"portalProperties",void 0);c.__decorate([g.property()],t.prototype,"region",void 0);c.__decorate([g.property({readOnly:!0})],t.prototype,"restUrl",null);c.__decorate([g.property()],t.prototype,"rotatorPanels",void 0);c.__decorate([g.property()],t.prototype,"showHomePageDescription",void 0);c.__decorate([g.property()],t.prototype,"sourceJSON",void 0);c.__decorate([g.property()],t.prototype,"staticImagesUrl",void 0);c.__decorate([g.property({json:{name:"2DStylesGroupQuery"}})],t.prototype,
"stylesGroupQuery2d",void 0);c.__decorate([g.property({json:{name:"stylesGroupQuery"}})],t.prototype,"stylesGroupQuery3d",void 0);c.__decorate([g.property()],t.prototype,"supportsHostedServices",void 0);c.__decorate([g.property()],t.prototype,"symbolSetsGroupQuery",void 0);c.__decorate([g.property()],t.prototype,"templatesGroupQuery",void 0);c.__decorate([g.property()],t.prototype,"thumbnail",void 0);c.__decorate([g.property({readOnly:!0})],t.prototype,"thumbnailUrl",null);c.__decorate([g.property()],
t.prototype,"units",void 0);c.__decorate([g.property()],t.prototype,"url",void 0);c.__decorate([g.property()],t.prototype,"urlKey",void 0);c.__decorate([k.reader("urlKey")],t.prototype,"readUrlKey",null);c.__decorate([g.property()],t.prototype,"user",void 0);c.__decorate([k.reader("user")],t.prototype,"readUser",null);c.__decorate([g.property()],t.prototype,"useStandardizedQuery",void 0);c.__decorate([g.property()],t.prototype,"useVectorBasemaps",void 0);c.__decorate([g.property()],t.prototype,"vectorBasemapGalleryGroupQuery",
void 0);return t=y=c.__decorate([l.subclass("esri.portal.Portal")],t)})},"esri/kernel":function(){define(["require","exports","./core/has","./core/urlUtils","./support/revision"],function(a,b,c,e,d){b.id=void 0;c("host-webworker")||console.warn(`Using ArcGIS Maps SDK for JavaScript ${"4.27"}-next [Date: ${d.buildDate}, Revision: ${d.commitHash.slice(0,8)}]`);b.buildDate=d.buildDate;b.revision=d.commitHash;b.addTokenParameter=function(n){const u=b.id&&b.id.findCredential(n);return u&&u.token?e.addQueryParameter(n,
"token",u.token):n};b.setId=function(n){b.id=n};b.version="4.27";b.workerMessages={async request(n,u){const {default:t}=await new Promise((m,g)=>a(["./request"],f=>m(Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}))),g)),r=n.options,p=r.responseType;r.signal=u?.signal;r.responseType="native"===p||"native-request-init"===p?"native-request-init":p&&["blob","json","text"].includes(p)&&e.getInterceptor(n.url)?.after?p:"array-buffer";n=await t(n.url,r);
u={data:n.data,httpStatus:n.httpStatus,ssl:n.ssl};switch(n.requestOptions?.responseType){case "native-request-init":return delete u.data.signal,u;case "blob":u.data=await u.data.arrayBuffer();break;case "json":u.data=(new TextEncoder).encode(JSON.stringify(u.data)).buffer;break;case "text":u.data=(new TextEncoder).encode(u.data).buffer}return{result:u,transferList:[u.data]}}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate=
"20230313";a.commitHash="b9187c09c09f8e8c050251651ad8855e6326b8bb";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/request":function(){define("require ./config ./kernel ./core/Error ./core/has ./core/lang ./core/maybe ./core/promiseUtils ./core/urlUtils ./portal/support/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g){async function f(L,aa){var R=r.isDataProtocol(L);const S=r.isBlobProtocol(L);S||R||(L=r.normalize(L));const V=
{url:L,requestOptions:{...u.unwrap(aa)}};let ea=r.getInterceptor(L);if(ea){L=await A(ea,V);if(null!=L)return{data:L,getHeader:I,httpStatus:200,requestOptions:V.requestOptions,url:V.url};ea.after||ea.error||(ea=null)}L=V.url;aa=V.requestOptions;if("image"===aa.responseType){if(d("host-webworker")||d("host-node"))throw k("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),V);}else if(R)throw k("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+
aa.responseType),V);if("head"===aa.method){if(aa.body)throw k("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),V);if(R||S)throw k("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),V);}await l();if(G)return G.execute(L,aa);const ha=new AbortController;t.onAbort(aa,()=>ha.abort());R=await y({controller:ha,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:ea,params:V,redoRequest:!1,useIdentity:E.useIdentity,
useProxy:!1,useSSL:!1,withCredentials:!1});ea?.after?.(R);return R}function h(L){(L=r.getOrigin(L))&&!f._corsServers.includes(L)&&f._corsServers.push(L)}function q(L){L=r.getOrigin(L);return!L||L.endsWith(".arcgis.com")||f._corsServers.includes(L)||r.isTrustedServer(L)}function k(L,aa,R,S){let V="Error";const ea={url:R.url,requestOptions:R.requestOptions,getHeader:I,ssl:!1};if(aa instanceof e)return aa.details?(aa.details=n.clone(aa.details),aa.details.url=R.url,aa.details.requestOptions=R.requestOptions):
aa.details=ea,aa;if(aa){R=S&&(ia=>S.headers.get(ia));const ha=S&&S.status,la=aa.message;la&&(V=la);R&&(ea.getHeader=R);ea.httpStatus=(null!=aa.httpCode?aa.httpCode:aa.code)||ha||0;ea.subCode=aa.subcode;ea.messageCode=aa.messageCode;ea.messages="string"===typeof aa.details?[aa.details]:aa.details;ea.raw=H in aa?aa[H]:aa}return t.isAbortError(aa)?t.createAbortError():new e(L,V,ea)}async function l(){d("host-webworker")?G||(G=await new Promise((L,aa)=>a(["./core/workers/request"],L,aa))):f._abortableFetch||
(f._abortableFetch=globalThis.fetch.bind(globalThis))}async function v(){c.id||await new Promise((L,aa)=>a(["./identity/IdentityManager"],R=>L(Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}))),aa))}async function w(L){const aa=L.params.url,R=L.params.requestOptions,S=L.controller.signal,V=R.body;let ea=null,ha=null;P&&"HTMLFormElement"in globalThis&&(V instanceof FormData?ea=V:V instanceof HTMLFormElement&&(ea=new FormData(V)));"string"===typeof V&&
(ha=V);L.fetchOptions={cache:R.cacheBust&&!f._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:R.headers||{},method:"head"===R.method?"HEAD":"GET",mode:"cors",priority:E.priority,redirect:"follow",signal:S};if(ea||ha)L.fetchOptions.body=ea||ha;"anonymous"===R.authMode&&(L.useIdentity=!1);L.hasToken=!!(/token=/i.test(aa)||R.query?.token||ea?.get("token"));!L.hasToken&&b.apiKey&&m.supportsApiKey(aa)&&(R.query||(R.query={}),R.query.token=b.apiKey,L.hasToken=!0);if(L.useIdentity&&
!L.hasToken&&!L.credentialToken&&!x(aa)&&!t.isAborted(S)){let la;"immediate"===R.authMode?(await v(),la=await c.id.getCredential(aa,{signal:S}),L.credential=la):"no-prompt"===R.authMode?(await v(),la=await c.id.getCredential(aa,{prompt:!1,signal:S}).catch(()=>{}),L.credential=la):c.id&&(la=c.id.findCredential(aa));la&&(L.credentialToken=la.token,L.useSSL=!!la.ssl)}}function x(L){return M.some(aa=>aa.test(L))}async function z(L){let aa=L.params.url;const R=L.params.requestOptions,S=L.fetchOptions??
{},V=r.isBlobProtocol(aa)||r.isDataProtocol(aa),ea=R.responseType||"json";var ha=V?0:null!=R.timeout?R.timeout:E.timeout,la=!1;if(!V){L.useSSL&&(aa=r.toHTTPS(aa));R.cacheBust&&"default"===S.cache&&(aa=r.addQueryParameter(aa,"request.preventCache",Date.now()));var ia={...R.query};L.credentialToken&&(ia.token=L.credentialToken);la=r.objectToQuery(ia);d("esri-url-encodes-apostrophe")&&(la=la.replace(/'/g,"%27"));const pa=aa.length+1+la.length;la="delete"===R.method||"post"===R.method||"put"===R.method||
!!R.body||pa>E.maxUrlLength;const xa=R.useProxy||!!r.getProxyRule(aa);if(xa){const N=r.getProxyUrl(aa);var Y=N.path;!la&&Y.length+1+pa>E.maxUrlLength&&(la=!0);N.query&&(ia={...N.query,...ia})}if("HEAD"===S.method&&(la||xa)){if(la){if(pa>E.maxUrlLength)throw k("request:invalid-parameters",Error("URL exceeds maximum length"),L.params);throw k("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),L.params);}if(xa)throw k("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),
L.params);}la?(S.method="delete"===R.method?"DELETE":"put"===R.method?"PUT":"POST",R.body?aa=r.addQueryParameters(aa,ia):(S.body=r.objectToQuery(ia),S.headers||(S.headers={}),S.headers["Content-Type"]="application/x-www-form-urlencoded")):aa=r.addQueryParameters(aa,ia);xa&&(L.useProxy=!0,aa=`${Y}?${aa}`);ia.token&&P&&S.body instanceof FormData&&!p.isSecureProxyService(aa)&&S.body.set("token",ia.token);R.hasOwnProperty("withCredentials")?L.withCredentials=R.withCredentials:r.hasSameOrigin(aa,r.getAppUrl())||
(r.isTrustedServer(aa)?L.withCredentials=!0:c.id&&(Y=c.id.findServerInfo(aa))&&Y.webTierAuth&&(L.withCredentials=!0));L.withCredentials&&(S.credentials="include",g.isNoCorsRequestRequired(aa)&&await g.sendNoCorsRequest(la?r.addQueryParameters(aa,ia):aa))}ia=0;let Z=!1;0<ha&&(ia=setTimeout(()=>{Z=!0;L.controller.abort()},ha));ha=void 0;let U;try{if("native-request-init"===R.responseType)U=S,U.url=aa;else if("image"!==R.responseType||"default"!==S.cache||"GET"!==S.method||la||B(R.headers)||!V&&!L.useProxy&&
E.proxyUrl&&!q(aa))if(ha=await f._abortableFetch(aa,S),L.useProxy||h(aa),"native"===R.responseType)U=ha;else{if("HEAD"!==S.method)if(ha.ok){switch(ea){case "array-buffer":U=await ha.arrayBuffer();break;case "blob":case "image":U=await ha.blob();break;default:U=await ha.text()}ia&&(clearTimeout(ia),ia=0);if("json"===ea||"xml"===ea||"document"===ea)if(U)switch(ea){case "json":U=JSON.parse(U);break;case "xml":U=D(U,"application/xml");break;case "document":U=D(U,"text/html")}else U=null;if(U){if("array-buffer"===
ea||"blob"===ea){const pa=ha.headers.get("Content-Type");if(pa&&/application\/json|text\/plain/i.test(pa)&&750>=U["blob"===ea?"size":"byteLength"])try{const xa=await (new Response(U)).json();xa.error&&(U=xa)}catch{}}"image"===ea&&U instanceof Blob&&(U=await F(URL.createObjectURL(U),L,!0))}}else U=await ha.text()}else U=await F(aa,L)}catch(pa){if("AbortError"===pa.name){if(Z)throw Error("Timeout exceeded");throw t.createAbortError("Request canceled");}if(!ha&&pa instanceof TypeError&&E.proxyUrl&&!R.body&&
"delete"!==R.method&&"head"!==R.method&&"post"!==R.method&&"put"!==R.method&&!L.useProxy&&!q(aa))L.redoRequest=!0,r.addProxyRule({proxyUrl:E.proxyUrl,urlPrefix:r.getOrigin(aa)??""});else throw pa;}finally{ia&&clearTimeout(ia)}return[ha,U]}async function A(L,aa){if(null!=L.responseData)return L.responseData;L.headers&&(aa.requestOptions.headers={...aa.requestOptions.headers,...L.headers});L.query&&(aa.requestOptions.query={...aa.requestOptions.query,...L.query});if(L.before){let R,S;try{S=await L.before(aa)}catch(V){R=
k("request:interceptor",V,aa)}if(S instanceof Error||S instanceof e)R=k("request:interceptor",S,aa);if(R)throw L.error&&L.error(R),R;return S}}function B(L){if(L)for(const aa of Object.getOwnPropertyNames(L))if(L[aa])return!0;return!1}function D(L,aa){let R;try{R=(new DOMParser).parseFromString(L,aa)}catch{}if(!R||R.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return R}async function y(L){await w(L);let aa;try{do[aa,R]=await z(L);while(!await C(L,aa,R))}catch(ea){var R=
k("request:server",ea,L.params,aa);R.details.ssl=L.useSSL;L.interceptor&&L.interceptor.error&&L.interceptor.error(R);throw R;}var S=L.params.url;R&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(S)&&(L.hasToken||L.credentialToken||!R.user?.username||r.isTrustedServer(S)||(S=r.getOrigin(S,!0))&&E.trustedServers.push(S),Array.isArray(R.authorizedCrossOriginNoCorsDomains)&&g.registerNoCorsDomains(R.authorizedCrossOriginNoCorsDomains));if((S=L.credential)&&c.id){var V=c.id.findServerInfo(S.server);
if(V=V&&V.owningSystemUrl)V=V.replace(/\/?$/,"/sharing"),(S=c.id.findCredential(V,S.userId))&&-1===c.id._getIdenticalSvcIdx(V,S)&&S.resources.unshift(V)}return{data:R,getHeader:aa?ea=>aa?.headers.get(ea):I,httpStatus:aa?.status??200,requestOptions:L.params.requestOptions,ssl:L.useSSL,url:L.params.url}}async function C(L,aa,R){if(L.redoRequest)return L.redoRequest=!1;var S=L.params.requestOptions;if(!aa||"native"===S.responseType||"native-request-init"===S.responseType)return!0;let V;if(!aa.ok)throw V=
Error(`Unable to load ${aa.url} status: ${aa.status}`),V[H]=R,V;R&&(R.error?V=R.error:"error"===R.status&&Array.isArray(R.messages)&&(V={...R},V[H]=R,V.details=R.messages));let ea;aa=null;let ha;V&&(ea=Number(V.code),aa=V.hasOwnProperty("subcode")?Number(V.subcode):null,ha=(ha=V.messageCode)&&ha.toUpperCase());S=S.authMode;if(403===ea&&(4===aa||V.message&&V.message.toLowerCase().includes("ssl")&&!V.message.toLowerCase().includes("permission"))){if(!L.useSSL)return L.useSSL=!0,!1}else if(!L.hasToken&&
L.useIdentity&&("no-prompt"!==S||498===ea)&&void 0!==ea&&O.includes(ea)&&!x(L.params.url)&&(403!==ea||ha&&!K.includes(ha)&&(null==aa||2===aa&&L.credentialToken))){await v();try{const la=await c.id.getCredential(L.params.url,{error:k("request:server",V,L.params),prompt:"no-prompt"!==S,signal:L.controller.signal,token:L.credentialToken});L.credential=la;L.credentialToken=la.token;L.useSSL=L.useSSL||la.ssl;return!1}catch(la){if("no-prompt"===S)return L.credential=void 0,L.credentialToken=void 0,!1;V=
la}}if(V)throw V;return!0}function F(L,aa,R=!1){const S=aa.controller.signal,V=new Image;V.crossOrigin=aa.withCredentials?"use-credentials":"anonymous";V.alt="";V.fetchPriority=E.priority;V.src=L;return g.loadImageAsync(V,L,R,S)}let G;const E=b.request,P="FormData"in globalThis,O=[499,498,403,401],K=["COM_0056","COM_0057","SB_0008"],M=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],I=()=>null,H=Symbol();f._abortableFetch=null;f._corsServers=["https://server.arcgisonline.com",
"https://services.arcgisonline.com"];return f})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,b){const c=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];a.isApiKey=function(e){return!!e&&4<e.length&&e.startsWith("AAPK")};a.supportsApiKey=function(e){const d=b.getOrigin(e,!0);return d?d.endsWith(".arcgis.com")&&!c.includes(d)&&!e.endsWith("/sharing/rest/generateToken"):!1};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/support/requestUtils":function(){define("exports ../config ../core/has ../core/maybe ../core/promiseUtils ../core/urlUtils".split(" "),function(a,b,c,e,d,n){function u(){try{return new DOMException("Aborted","AbortError")}catch{const t=Error();t.name="AbortError";return t}}a.isNoCorsRequestRequired=function(t){const r=b.request.crossOriginNoCorsDomains;return r&&(t=n.getOrigin(t))?(t=t.toLowerCase(),!n.hasSameOrigin(t,n.getAppUrl())&&r[t]<Date.now()-36E5):!1};a.loadImageAsync=
function(t,r,p=!1,m){return new Promise((g,f)=>{if(d.isAborted(m))f(u());else{var h=()=>{l();f(Error(`Unable to load ${r}`))},q=()=>{const v=t;l();g(v)},k=()=>{if(t){var v=t;l();v.src="";f(u())}},l=()=>{c("esri-image-decode")||(t.removeEventListener("error",h),t.removeEventListener("load",q));t=q=h=null;e.isSome(m)&&m.removeEventListener("abort",k);k=null;p&&URL.revokeObjectURL(r)};e.isSome(m)&&m.addEventListener("abort",k);c("esri-image-decode")?t.decode().then(q,h):(t.addEventListener("error",h),
t.addEventListener("load",q))}})};a.registerNoCorsDomains=function(t){b.request.crossOriginNoCorsDomains||(b.request.crossOriginNoCorsDomains={});const r=b.request.crossOriginNoCorsDomains;for(let p of t)p=p.toLowerCase(),/^https?:\/\//.test(p)?r[n.getOrigin(p)??""]=0:(r[n.getOrigin("http://"+p)??""]=0,r[n.getOrigin("https://"+p)??""]=0)};a.sendNoCorsRequest=async function(t){var r=b.request.crossOriginNoCorsDomains;const p=n.getOrigin(t);r&&p&&(r[p.toLowerCase()]=Date.now());r=n.urlToObject(t);t=
r.path;"json"===r.query?.f&&(t+="?f\x3djson");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(c,e,d){let n,u;void 0===e||Array.isArray(e)?(u=c,d=e,n=[void 0]):(u=e,n=Array.isArray(c)?c:[c]);return(t,r)=>{const p=t.constructor.prototype;n.forEach(m=>{m=b.propertyJSONMeta(t,m,u);m.read&&"object"===
typeof m.read||(m.read={});m.read.reader=p[r];d&&(m.read.source=(m.read.source||[]).concat(d))})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Extent":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k){function l(w,x,z){return null==x?z:null==z?x:w(x,z)}var v;n=v=function(w){function x(...A){A=z.call(this,...A);A.type="extent";A.xmin=0;A.ymin=0;A.mmin=void 0;A.zmin=void 0;A.xmax=0;A.ymax=0;A.mmax=void 0;A.zmax=void 0;return A}a._inherits(x,w);var z=a._createSuper(x);w=x.prototype;w.normalizeCtorArgs=function(A,B,D,y,C){return!A||"esri.geometry.SpatialReference"!==A.declaredClass&&null==A.wkid?"object"===typeof A?(A.spatialReference=null==A.spatialReference?
g.WGS84:A.spatialReference,A):{xmin:A,ymin:B,xmax:D,ymax:y,spatialReference:null==C?g.WGS84:C}:{spatialReference:A,xmin:0,ymin:0,xmax:0,ymax:0}};x.fromBounds=function(A,B){return new v({xmin:A[0],ymin:A[1],xmax:A[2],ymax:A[3],spatialReference:B})};x.fromPoint=function(A){return new v({xmin:A.x,ymin:A.y,zmin:A.z,xmax:A.x,ymax:A.y,zmax:A.z,spatialReference:A.spatialReference})};w.centerAt=function(A){const B=this.center;return null!=A.z&&this.hasZ?this.offset(A.x-B.x,A.y-B.y,A.z-B.z):this.offset(A.x-
B.x,A.y-B.y)};w.clone=function(){const A=new v;A.xmin=this.xmin;A.ymin=this.ymin;A.xmax=this.xmax;A.ymax=this.ymax;A.spatialReference=this.spatialReference;null!=this.zmin&&(A.zmin=this.zmin,A.zmax=this.zmax);null!=this.mmin&&(A.mmin=this.mmin,A.mmax=this.mmax);return A};w.contains=function(A){if(!A)return!1;const B=this.spatialReference,D=A.spatialReference;B&&D&&!B.equals(D)&&k.canProject(B,D)&&(A=B.isWebMercator?k.geographicToWebMercator(A):k.webMercatorToGeographic(A,!0));return"point"===A.type?
f.extentContainsPoint(this,A):"extent"===A.type?f.extentContainsExtent(this,A):!1};w.equals=function(A){if(this===A)return!0;if(c.isNone(A))return!1;const B=this.spatialReference,D=A.spatialReference;B&&D&&!B.equals(D)&&k.canProject(B,D)&&(A=B.isWebMercator?k.geographicToWebMercator(A):k.webMercatorToGeographic(A,!0));return this.xmin===A.xmin&&this.ymin===A.ymin&&this.zmin===A.zmin&&this.mmin===A.mmin&&this.xmax===A.xmax&&this.ymax===A.ymax&&this.zmax===A.zmax&&this.mmax===A.mmax};w.expand=function(A){A=
.5*(1-A);var B=this.width*A;const D=this.height*A;this.xmin+=B;this.ymin+=D;this.xmax-=B;this.ymax-=D;this.hasZ&&(B=(this.zmax-this.zmin)*A,this.zmin+=B,this.zmax-=B);this.hasM&&(A*=this.mmax-this.mmin,this.mmin+=A,this.mmax-=A);return this};w.intersects=function(A){if(c.isNone(A))return!1;"mesh"===A.type&&(A=A.extent);const B=this.spatialReference,D=A.spatialReference;B&&D&&!q.equals(B,D)&&k.canProject(B,D)&&(A=B.isWebMercator?k.geographicToWebMercator(A):k.webMercatorToGeographic(A,!0));return h.getFeatureExtentIntersector(A.type)(this,
A)};w.normalize=function(){const A=this._normalize(!1,!0);return Array.isArray(A)?A:[A]};w.offset=function(A,B,D){this.xmin+=A;this.ymin+=B;this.xmax+=A;this.ymax+=B;null!=D&&(this.zmin+=D,this.zmax+=D);return this};w.shiftCentralMeridian=function(){return this._normalize(!0)};w.union=function(A){if(this===A)return this;this.xmin=Math.min(this.xmin,A.xmin);this.ymin=Math.min(this.ymin,A.ymin);this.xmax=Math.max(this.xmax,A.xmax);this.ymax=Math.max(this.ymax,A.ymax);if(this.hasZ||A.hasZ)this.zmin=
l(Math.min,this.zmin,A.zmin),this.zmax=l(Math.max,this.zmax,A.zmax);if(this.hasM||A.hasM)this.mmin=l(Math.min,this.mmin,A.mmin),this.mmax=l(Math.max,this.mmax,A.mmax);return this};w.intersection=function(A){if(this===A)return this;if(c.isNone(A)||!this.intersects(A))return null;this.xmin=Math.max(this.xmin,A.xmin);this.ymin=Math.max(this.ymin,A.ymin);this.xmax=Math.min(this.xmax,A.xmax);this.ymax=Math.min(this.ymax,A.ymax);if(this.hasZ||A.hasZ)this.zmin=l(Math.max,this.zmin,A.zmin),this.zmax=l(Math.min,
this.zmax,A.zmax);if(this.hasM||A.hasM)this.mmin=l(Math.max,this.mmin,A.mmin),this.mmax=l(Math.min,this.mmax,A.mmax);return this};w.toJSON=function(A){return this.write({},A)};w._shiftCM=function(A=q.getInfo(this.spatialReference)){if(!A||!this.spatialReference)return this;const B=this.spatialReference,D=this._getCM(A);if(D){const y=B.isWebMercator?k.webMercatorToGeographic(D):D;this.xmin-=D.x;this.xmax-=D.x;B.isWebMercator||(y.x=this._normalizeX(y.x,A).x);this.spatialReference=new g(e.replace((B.isWGS84?
A.altTemplate:null)??A.wkTemplate,{Central_Meridian:y.x}))}return this};w._getCM=function(A){let B=null;const [D,y]=A.valid;A=this.xmin;const C=this.xmax;A>=D&&A<=y&&C>=D&&C<=y||(B=this.center);return B};w._normalize=function(A,B,D){const y=this.spatialReference;if(!y)return this;D=D??q.getInfo(y);if(null==D)return this;const C=this._getParts(D).map(E=>E.extent);if(2>C.length)return C[0]||this;if(2<C.length)return A?this._shiftCM(D):this.set({xmin:D.valid[0],xmax:D.valid[1]});if(A)return this._shiftCM(D);
if(B)return C;let F=!0,G=!0;C.forEach(E=>{E.hasZ||(F=!1);E.hasM||(G=!1)});return{rings:C.map(E=>{const P=[[E.xmin,E.ymin],[E.xmin,E.ymax],[E.xmax,E.ymax],[E.xmax,E.ymin],[E.xmin,E.ymin]];if(F){var O=(E.zmax-E.zmin)/2;for(let K=0;K<P.length;K++)P[K].push(O)}if(G)for(E=(E.mmax-E.mmin)/2,O=0;O<P.length;O++)P[O].push(E);return P}),hasZ:F,hasM:G,spatialReference:y}};w._getParts=function(A){let B=this.cache._parts;if(!B){B=[];const {ymin:O,ymax:K,spatialReference:M}=this;var D=this.width,y=this.xmin,C=
this.xmax;A=A||q.getInfo(M);const [I,H]=A.valid;var F=this._normalizeX(this.xmin,A);var G=F.x,E=F.frameId;F=this._normalizeX(this.xmax,A);A=F.x;F=F.frameId;var P=G===A&&0<D;if(D>2*H){D=new v(y<C?G:A,O,H,K,M);y=new v(I,O,y<C?A:G,K,M);C=new v(0,O,H,K,M);G=new v(I,O,0,K,M);A=[];P=[];D.contains(C)&&A.push(E);D.contains(G)&&P.push(E);y.contains(C)&&A.push(F);y.contains(G)&&P.push(F);for(let L=E+1;L<F;L++)A.push(L),P.push(L);B.push({extent:D,frameIds:[E]},{extent:y,frameIds:[F]},{extent:C,frameIds:A},{extent:G,
frameIds:P})}else G>A||P?B.push({extent:new v(G,O,H,K,M),frameIds:[E]},{extent:new v(I,O,A,K,M),frameIds:[F]}):B.push({extent:new v(G,O,A,K,M),frameIds:[E]});this.cache._parts=B}F=this.hasZ;D=this.hasM;if(F||D)for(E={},F&&(E.zmin=this.zmin,E.zmax=this.zmax),D&&(E.mmin=this.mmin,E.mmax=this.mmax),F=0;F<B.length;F++)B[F].extent.set(E);return B};w._normalizeX=function(A,B){const [D,y]=B.valid;B=2*y;var C=0;A>y?(C=Math.ceil(Math.abs(A-y)/B),A-=C*B):A<D&&(C=Math.ceil(Math.abs(A-D)/B),A+=C*B,C=-C);return{x:A,
frameId:C}};a._createClass(x,[{key:"cache",get:function(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}},{key:"center",get:function(){const A=new m({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(A.z=.5*(this.zmin+
this.zmax));this.hasM&&(A.m=.5*(this.mmin+this.mmax));return A}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}}]);return x}(p);b.__decorate([d.property({readOnly:!0})],n.prototype,"cache",null);b.__decorate([d.property({readOnly:!0})],
n.prototype,"center",null);b.__decorate([d.property({readOnly:!0})],n.prototype,"extent",null);b.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],n.prototype,"hasM",null);b.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],n.prototype,"hasZ",null);b.__decorate([d.property({readOnly:!0})],n.prototype,"height",null);b.__decorate([d.property({readOnly:!0})],n.prototype,"width",null);b.__decorate([d.property({type:Number,json:{type:[Number,
String],write:{enabled:!0,allowNull:!0}}})],n.prototype,"xmin",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],n.prototype,"ymin",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],n.prototype,"mmin",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],n.prototype,"zmin",void 0);b.__decorate([d.property({type:Number,
json:{write:!0}})],n.prototype,"xmax",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],n.prototype,"ymax",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],n.prototype,"mmax",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],n.prototype,"zmax",void 0);n=v=b.__decorate([r.subclass("esri.geometry.Extent")],
n);n.prototype.toJSON.isDefaultToJSON=!0;return n})},"esri/geometry/Geometry":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),function(a,b,c,e,d,n,u,t,r,p){c=function(m){function g(...h){h=f.call(this,...h);h.type=null;h.hasM=!1;
h.hasZ=!1;h.spatialReference=p.WGS84;return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.readSpatialReference=function(h,q){if(h instanceof p)return h;if(null!=h){const k=new p;k.read(h,q);return k}return h};m.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};m.clearCache=function(){this.notifyChange("cache")};m.getCacheValue=function(h){return this.cache[h]};m.setCacheValue=function(h,q){this.cache[h]=q};a._createClass(g,[{key:"cache",
get:function(){this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){return null}}]);return g}(c.JSONSupport);b.__decorate([e.property()],c.prototype,"type",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"cache",null);b.__decorate([e.property({readOnly:!0})],c.prototype,"extent",null);b.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(m){return{enabled:m}}}}})],c.prototype,"hasM",void 0);b.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(m){return{enabled:m}}}}})],
c.prototype,"hasZ",void 0);b.__decorate([e.property({type:p,json:{write:!0},value:p.WGS84})],c.prototype,"spatialReference",void 0);b.__decorate([t.reader("spatialReference")],c.prototype,"readSpatialReference",null);return c=b.__decorate([r.subclass("esri.geometry.Geometry")],c)})},"esri/geometry/Point":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l){function v(z){return z&&("esri.geometry.SpatialReference"===z.declaredClass||null!=z.wkid)}var w;const x=[0,0];u=w=function(z){function A(...D){D=B.call(this,...D);D.x=0;D.y=0;D.z=void 0;D.m=void 0;D.type="point";return D}a._inherits(A,z);var B=a._createSuper(A);A.copy=function(D,y){y._set("x",D._get("x"));y._set("y",D._get("y"));y._set("z",D._get("z"));y._set("m",D._get("m"));D=D._get("spatialReference");y._set("spatialReference",Object.isFrozen(D)?D:D.clone())};
z=A.prototype;z.normalizeCtorArgs=function(D,y,C,F,G){let E;if(Array.isArray(D))E=D,G=y,D=E[0],y=E[1],C=E[2],F=E[3];else if(D&&"object"===typeof D){if(E=D,D=null!=E.x?E.x:E.longitude,y=null!=E.y?E.y:E.latitude,C=E.z,F=E.m,(G=E.spatialReference)&&"esri.geometry.SpatialReference"!==G.declaredClass&&(G=new h(G)),null!=E.longitude||null!=E.latitude)null==E.longitude?c.getLogger(this.declaredClass).warn(".longitude\x3d","Latitude was defined without longitude"):null==E.latitude?c.getLogger(this.declaredClass).warn(".latitude\x3d",
"Longitude was defined without latitude"):!E.declaredClass&&G&&G.isWebMercator&&(y=l.lngLatToXY(E.longitude,E.latitude,x),D=y[0],y=y[1])}else v(C)?(G=C,C=null):v(F)&&(G=F,F=null);D={x:D,y};null==D.x&&null!=D.y?c.getLogger(this.declaredClass).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==D.y&&null!=D.x&&c.getLogger(this.declaredClass).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=G&&(D.spatialReference=G);null!=C&&(D.z=C);null!=F&&(D.m=F);return D};
z.writeX=function(D,y,C){y[C]=isNaN(D)?"NaN":D};z.readX=function(D){return"string"===typeof D?NaN:D};z.clone=function(){const D=new w;D.x=this.x;D.y=this.y;D.z=this.z;D.m=this.m;D.spatialReference=this.spatialReference;return D};z.copy=function(D){w.copy(D,this);return this};z.equals=function(D){if(e.isNone(D))return!1;const {x:y,y:C,z:F,m:G,spatialReference:E}=this,{z:P,m:O}=D;let {x:K,y:M,spatialReference:I}=D;if(!E.equals(I))if(E.isWebMercator&&I.isWGS84)[K,M]=l.lngLatToXY(K,M),I=E;else if(E.isWGS84&&
I.isWebMercator)[K,M]=l.xyToLngLat(K,M),I=E;else return!1;return y===K&&C===M&&F===P&&G===O&&E.wkid===I.wkid};z.offset=function(D,y,C){this.x+=D;this.y+=y;null!=C&&(this.z=(this.z??0)+C);return this};z.normalize=function(){if(!this.spatialReference)return this;var D=k.getInfo(this.spatialReference);if(!D)return this;let y=this.x;const [C,F]=D.valid;D=2*F;let G;y>F?(G=Math.ceil(Math.abs(y-F)/D),y-=G*D):y<C&&(G=Math.ceil(Math.abs(y-C)/D),y+=G*D);this._set("x",y);return this};z.distance=function(D){return q.distance(this,
D)};z.toArray=function(){const D=this.hasZ,y=this.hasM;return D&&y?[this.x,this.y,this.z,this.m]:D?[this.x,this.y,this.z]:y?[this.x,this.y,this.m]:[this.x,this.y]};z.toJSON=function(D){return this.write({},D)};a._createClass(A,[{key:"cache",get:function(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");return{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(D){const y=void 0!==this._get("m");
D!==y&&(this._set("m",D?0:void 0),this._set("hasM",D))}},{key:"hasZ",get:function(){return void 0!==this.z},set:function(D){const y=void 0!==this._get("z");D!==y&&(this._set("z",D?0:void 0),this._set("hasZ",D))}},{key:"latitude",get:function(){const {spatialReference:D,x:y,y:C}=this;if(D){if(D.isWebMercator)return l.xyToLngLat(y,C,x)[1];if(D.isGeographic)return C}return null},set:function(D){const {spatialReference:y,x:C}=this;null!=D&&y&&(y.isWebMercator?this._set("y",l.lngLatToXY(C,D,x)[1]):y.isGeographic&&
this._set("y",D),this._set("latitude",D))}},{key:"longitude",get:function(){const {x:D,y,spatialReference:C}=this;if(C){if(C.isWebMercator)return l.xyToLngLat(D,y,x)[0];if(C.isGeographic)return D}return null},set:function(D){const {y,spatialReference:C}=this;null!=D&&C&&(C.isWebMercator?this._set("x",l.lngLatToXY(D,y,x)[0]):C.isGeographic&&this._set("x",D),this._set("longitude",D))}}]);return A}(f);b.__decorate([d.property({readOnly:!0})],u.prototype,"cache",null);b.__decorate([d.property({type:Boolean,
json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],u.prototype,"hasM",null);b.__decorate([d.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],u.prototype,"hasZ",null);b.__decorate([d.property({type:Number})],u.prototype,"latitude",null);b.__decorate([d.property({type:Number})],u.prototype,"longitude",null);b.__decorate([d.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),n.cast(z=>isNaN(z)?z:g.ensureNumber(z))],u.prototype,"x",
void 0);b.__decorate([m.writer("x")],u.prototype,"writeX",null);b.__decorate([r.reader("x")],u.prototype,"readX",null);b.__decorate([d.property({type:Number,json:{write:!0}})],u.prototype,"y",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],u.prototype,"z",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],u.prototype,"m",void 0);u=w=b.__decorate([p.subclass("esri.geometry.Point")],
u);u.prototype.toJSON.isDefaultToJSON=!0;return u})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports","../ensureType","../metadata"],function(a,b,c){function e(t){const r="__accessorMetadata__"in t?b.ensureType(t):t;return function(...p){p.push(r);if("number"===typeof p[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return d.apply(this,p)}}function d(t,r,p,m){c.getPropertyMetadata(t,r).cast=m}function n(t){return(r,p)=>{c.getPropertyMetadata(r,
t).cast=r[p]}}const u=Object.prototype.toString;a.cast=function(...t){if(3!==t.length||"string"!==typeof t[1]){if(1===t.length&&"[object Function]"===u.call(t[0]))return e(t[0]);if(1===t.length&&"string"===typeof t[0])return n(t[0])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/pointUtils":function(){define(["exports"],function(a){a.distance=function(b,c){const e=b.x-c.x,d=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return Math.sqrt(e*e+d*d+b*b)};a.squareDistance=
function(b,c){const e=b.x-c.x,d=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return e*e+d*d+b*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/webMercatorUtils":function(){define("exports ../../core/lang ../../core/maybe ../SpatialReference ./Ellipsoid ./spatialReferenceUtils".split(" "),function(a,b,c,e,d,n){function u(g,f,h,q,k){k.spatialReference=h;if("x"in g&&"x"in k)[k.x,k.y]=f(g.x,g.y,m,q);else if("xmin"in g&&"xmin"in k)[k.xmin,k.ymin]=f(g.xmin,g.ymin,m,q),[k.xmax,
k.ymax]=f(g.xmax,g.ymax,m,q);else if("paths"in g&&"paths"in k||"rings"in g&&"rings"in k){g="paths"in g?g.paths:g.rings;h=[];for(let v=0;v<g.length;v++){const w=g[v];var l=[];h.push(l);for(let x=0;x<w.length;x++)l.push(f(w[x][0],w[x][1],[0,0],q)),2<w[x].length&&l[x].push(w[x][2]),3<w[x].length&&l[x].push(w[x][3])}"paths"in k?k.paths=h:k.rings=h}else if("points"in g&&"points"in k){g=g.points;h=[];for(l=0;l<g.length;l++)h[l]=f(g[l][0],g[l][1],[0,0],q),2<g[l].length&&h[l].push(g[l][2]),3<g[l].length&&
h[l].push(g[l][3]);k.points=h}return k}function t(g,f){const h=g&&(null!=g.wkid||null!=g.wkt?g:g.spatialReference),q=f&&(null!=f.wkid||null!=f.wkt?f:f.spatialReference);return g&&"type"in g&&"mesh"===g.type||f&&"type"in f&&"mesh"===f.type||!h||!q?!1:n.equals(q,h)?!0:n.isWebMercator(q)&&n.isWGS84(h)||n.isWebMercator(h)&&n.isWGS84(q)}function r(g,f,h=[0,0]){89.99999<f?f=89.99999:-89.99999>f&&(f=-89.99999);f*=.017453292519943;h[0]=.017453292519943*g*d.earth.radius;h[1]=d.earth.halfSemiMajorAxis*Math.log((1+
Math.sin(f))/(1-Math.sin(f)));return h}function p(g,f,h=[0,0],q=!1){g=g/d.earth.radius*57.29577951308232;h[0]=q?g:g-360*Math.floor((g+180)/360);h[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-f/d.earth.radius)));return h}const m=[0,0];a.canProject=t;a.geographicToWebMercator=function(g,f=!1,h=b.clone(g)){return u(g,r,e.WebMercator,f,h)};a.lngLatToXY=r;a.project=function(g,f){if(c.isNone(g))return null;const h=g.spatialReference;f=f&&(null!=f.wkid||null!=f.wkt?f:f.spatialReference);return t(h,
f)?n.equals(h,f)?b.clone(g):n.isWebMercator(f)?u(g,r,e.WebMercator,!1,b.clone(g)):n.isWGS84(f)?u(g,p,e.WGS84,!1,b.clone(g)):null:null};a.webMercatorToGeographic=function(g,f=!1,h=b.clone(g)){return u(g,p,e.WGS84,f,h)};a.x2lon=function(g){return g/d.earth.radius};a.xyToLngLat=p;a.y2lat=function(g){return Math.PI/2-2*Math.atan(Math.exp(-g/d.earth.radius))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/contains":function(){define(["exports","../../core/maybe"],
function(a,b){function c(r,p){return e(r,p[0],p[1])}function e(r,p,m,g){return p>=r.xmin&&p<=r.xmax&&m>=r.ymin&&m<=r.ymax?null!=g&&r.hasZ?g>=r.zmin&&g<=r.zmax:!0:!1}function d(r,p){return n(r.rings,p)}function n(r,p){if(!r)return!1;if(!Array.isArray(r[0][0]))return u(!1,r,p);let m=!1;for(let g=0,f=r.length;g<f;g++)m=u(m,r[g],p);return m}function u(r,p,m){const [g,f]=m;m=0;for(let h=0,q=p.length;h<q;h++){m++;m===q&&(m=0);const [k,l]=p[h],[v,w]=p[m];(l<f&&w>=f||w<f&&l>=f)&&k+(f-l)/(w-l)*(v-k)<g&&(r=
!r)}return r}const t=[0,0];a.extentContainsCoords2D=c;a.extentContainsCoords3D=function(r,p){return e(r,p[0],p[1],p[2])};a.extentContainsExtent=function(r,p){const {xmin:m,ymin:g,zmin:f,xmax:h,ymax:q,zmax:k}=p;return r.hasZ&&p.hasZ?e(r,m,g,f)&&e(r,m,q,f)&&e(r,h,q,f)&&e(r,h,g,f)&&e(r,m,g,k)&&e(r,m,q,k)&&e(r,h,q,k)&&e(r,h,g,k):e(r,m,g)&&e(r,m,q)&&e(r,h,q)&&e(r,h,g)};a.extentContainsMultipoint=function(r,p){if(!p.points||p.points.length)return!1;for(const m of p.points)if(!c(r,m))return!1;return!0};
a.extentContainsPoint=function(r,p){return b.isSome(p)?e(r,p.x,p.y,p.z):!1};a.extentContainsXYZ=e;a.polygonContainsCoords=d;a.polygonContainsPoint=function(r,p){t[1]=p.y;t[0]=p.x;return d(r,t)};a.ringsContainsCoords=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function c(v,w){return b.extentContainsPoint(v,w)}function e(v,w){var x=v.hasZ&&w.hasZ;if(v.xmin<=w.xmin){var z=w.xmin;if(v.xmax<
z)return!1}else if(z=v.xmin,w.xmax<z)return!1;if(v.ymin<=w.ymin){if(z=w.ymin,v.ymax<z)return!1}else if(z=v.ymin,w.ymax<z)return!1;if(x&&w.hasZ)if(v.zmin<=w.zmin){if(x=w.zmin,v.zmax<x)return!1}else if(x=v.zmin,w.zmax<x)return!1;return!0}function d(v,w){const {points:x,hasZ:z}=w;w=z?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const A of x)if(w(v,A))return!0;return!1}function n(v,w){return u(v,w.rings)}function u(v,w){m[0]=v.xmin;m[1]=v.ymax;g[0]=v.xmax;g[1]=v.ymax;f[0]=v.xmin;f[1]=v.ymin;
h[0]=v.xmax;h[1]=v.ymin;for(var x of q)if(b.ringsContainsCoords(w,x))return!0;for(const z of w)if(z.length){w=z[0];if(b.extentContainsCoords2D(v,w))return!0;for(x=1;x<z.length;x++){const A=z[x];if(b.extentContainsCoords2D(v,A)||r(w,A,k))return!0;w=A}}return!1}function t(v,w){m[0]=v.xmin;m[1]=v.ymax;g[0]=v.xmax;g[1]=v.ymax;f[0]=v.xmin;f[1]=v.ymin;h[0]=v.xmax;h[1]=v.ymin;w=w.paths;for(const x of w){if(!w.length)continue;let z=x[0];if(b.extentContainsCoords2D(v,z))return!0;for(let A=1;A<x.length;A++){const B=
x[A];if(b.extentContainsCoords2D(v,B)||r(z,B,k))return!0;z=B}}return!1}function r(v,w,x){for(let z=0;z<x.length;z++)if(p(v,w,x[z][0],x[z][1]))return!0;return!1}function p(v,w,x,z,A){const [B,D]=v,[y,C]=w,[F,G]=x,[E,P]=z;var O=E-F;v=B-F;w=y-B;const K=P-G;x=D-G;z=C-D;const M=K*w-O*z;if(0===M)return!1;O=(O*x-K*v)/M;v=(w*x-z*v)/M;return 0<=O&&1>=O&&0<=v&&1>=v?(A&&(A[0]=B+O*(y-B),A[1]=D+O*(C-D)),!0):!1}const m=[0,0],g=[0,0],f=[0,0],h=[0,0],q=[m,g,f,h],k=[[f,m],[m,g],[g,h],[h,f]],l=[0,0];a.extentIntersectsExtent=
e;a.extentIntersectsMultipoint=d;a.extentIntersectsPoint=c;a.extentIntersectsPolygon=n;a.extentIntersectsPolyline=t;a.extentIntersectsRings=u;a.getFeatureExtentIntersector=function(v){switch(v){case "esriGeometryEnvelope":case "extent":return e;case "esriGeometryMultipoint":case "multipoint":return d;case "esriGeometryPoint":case "point":return c;case "esriGeometryPolygon":case "polygon":return n;case "esriGeometryPolyline":case "polyline":return t}};a.isSelfIntersecting=function(v){for(let C=0;C<
v.length;C++){const F=v[C];for(var w=0;w<F.length-1;w++){var x=F[w],z=F[w+1];for(var A=C+1;A<v.length;A++)for(var B=0;B<v[A].length-1;B++){var D=v[A][B],y=v[A][B+1];if(p(x,z,D,y,l)&&!(l[0]===x[0]&&l[1]===x[1]||l[0]===D[0]&&l[1]===D[1]||l[0]===z[0]&&l[1]===z[1]||l[0]===y[0]&&l[1]===y[1]))return!0}}w=F.length;if(!(4>=w))for(x=0;x<w-3;x++)for(z=w-1,0===x&&(z=w-2),A=F[x],B=F[x+1],D=x+2;D<z;D++){y=F[D];const G=F[D+1];if(p(A,B,y,G,l)&&!(l[0]===A[0]&&l[1]===A[1]||l[0]===y[0]&&l[1]===y[1]||l[0]===B[0]&&l[1]===
B[1]||l[0]===G[0]&&l[1]===G[1]))return!0}}return!1};a.segmentIntersects=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/locale":function(){define(["exports"],function(a){function b(){return t??globalThis.navigator?.language??"en"}function c(){void 0===u&&(u=b());return u}function e(g=c()){return/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(g)?.[1].toLowerCase()}function d(){const g=n??b();u!==g&&(u=g,[...m].forEach(f=>{f.call(null,g)}),[...p].forEach(f=>{f.call(null,g)}))}let n=
void 0,u=void 0;const t=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,r={he:!0,ar:!0},p=[],m=[];globalThis.addEventListener?.("languagechange",d);a.beforeLocaleChange=function(g){m.push(g);return{remove(){p.splice(m.indexOf(g),1)}}};a.getDefaultLocale=b;a.getLanguage=e;a.getLocale=c;a.onLocaleChange=function(g){p.push(g);return{remove(){p.splice(p.indexOf(g),1)}}};a.prefersRTL=function(g=c()){g=e(g);return void 0!==g&&(r[g]||!1)};a.setLocale=function(g){n=g||void 0;d()};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalQueryParams":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g){var f;const h=new e.JSONMap({avgRating:"avg-rating",
numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});c=f=function(q){function k(v){v=l.call(this,v);v.categories=null;v.disableExtraQuery=!1;v.extent=null;v.filter=null;v.num=10;v.query=null;v.sortField=null;v.start=1;return v}a._inherits(k,q);var l=a._createSuper(k);q=k.prototype;q.clone=function(){return new f({categories:this.categories?d.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,
query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};q.toRequestOptions=function(v,w){let x=[];this.categories&&(x=this.categories.map(B=>Array.isArray(B)?JSON.stringify(B):B));let z="";if(this.extent){var A=g.project(this.extent,m.WGS84);n.isSome(A)&&(z=`${A.xmin},${A.ymin},${A.xmax},${A.ymax}`)}A=this.query;!this.disableExtraQuery&&v.extraQuery&&(A="("+A+")"+v.extraQuery);v={categories:x,bbox:z,q:A,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};
this.sortField&&(v.sortField=this.sortField.split(",").map(B=>h.toJSON(B.trim())).join(","),v.sortOrder=this.sortOrder);return{query:{...w,...v}}};a._createClass(k,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(v){"asc"!==v&&"desc"!==v||this._set("sortOrder",v)}}]);return k}(c);b.__decorate([u.property()],c.prototype,"categories",void 0);b.__decorate([u.property()],c.prototype,"disableExtraQuery",void 0);b.__decorate([u.property({type:p})],c.prototype,"extent",
void 0);b.__decorate([u.property()],c.prototype,"filter",void 0);b.__decorate([u.property()],c.prototype,"num",void 0);b.__decorate([u.property()],c.prototype,"query",void 0);b.__decorate([u.property()],c.prototype,"sortField",void 0);b.__decorate([u.property()],c.prototype,"sortOrder",null);b.__decorate([u.property()],c.prototype,"start",void 0);return c=f=b.__decorate([r.subclass("esri.portal.PortalQueryParams")],c)})},"esri/portal/PortalQueryResult":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){c=function(r){function p(g){g=m.call(this,g);g.nextQueryParams=null;g.queryParams=null;g.results=null;g.total=null;return g}a._inherits(p,r);var m=a._createSuper(p);return a._createClass(p)}(c);b.__decorate([e.property()],c.prototype,"nextQueryParams",void 0);b.__decorate([e.property()],c.prototype,"queryParams",void 0);b.__decorate([e.property()],c.prototype,"results",void 0);b.__decorate([e.property()],c.prototype,"total",void 0);return c=b.__decorate([t.subclass("esri.portal.PortalQueryResult")],
c)})},"esri/portal/PortalUser":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g){var f;d=f=function(h){function q(...l){l=k.call(this,...l);l.access=null;l.created=null;l.culture=null;l.description=null;l.email=
null;l.fullName=null;l.modified=null;l.orgId=null;l.portal=null;l.preferredView=null;l.privileges=null;l.region=null;l.role=null;l.roleId=null;l.sourceJSON=null;l.units=null;l.username=null;l.userType=null;return l}b._inherits(q,h);var k=b._createSuper(q);h=q.prototype;h.addItem=function(l){const v=l&&l.item;var w=l&&l.data;l=l&&l.folder;const x={method:"post"};v&&(x.query=v.createPostQuery(),null!=w&&("string"===typeof w?x.query.text=w:"object"===typeof w&&(x.query.text=JSON.stringify(w))));w=this.userContentUrl;
l&&(w+="/"+("string"===typeof l?l:l.id));return this.portal.request(w+"/addItem",x).then(z=>{v.id=z.id;v.portal=this.portal;return v.loaded?v.reload():v.load()})};h.deleteItem=function(l){let v=this.userContentUrl;l.ownerFolder&&(v+="/"+l.ownerFolder);return this.portal.request(v+`/items/${l.id}/delete`,{method:"post"}).then(()=>{l.id=null;l.portal=null})};h.deleteItems=function(l){const v=this.userContentUrl+"/deleteItems";var w=l.map(x=>x.id);return w.length?(w={method:"post",query:{items:w.join(",")}},
this.portal.request(v,w).then(()=>{l.forEach(x=>{x.id=null;x.portal=null})})):Promise.resolve(void 0)};h.fetchFolders=function(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(l=>l&&l.folders?l.folders.map(v=>{v=m.fromJSON(v);v.portal=this.portal;return v}):[])};h.fetchGroups=function(){return this.portal.request(this.url??"").then(l=>l&&l.groups?l.groups.map(v=>{v=g.fromJSON(v);v.portal=this.portal;return v}):[])};h.fetchItems=function(l){const v=l??{};let w=this.userContentUrl??
"";v.folder&&(w+="/"+v.folder.id);let x;return(new Promise((z,A)=>a(["./PortalItem"],B=>z(Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}))),A))).then(({default:z})=>{x=z;return this.portal.request(w,{query:{folders:!1,num:v.num||10,start:v.start||1,sortField:v.sortField||"created",sortOrder:v.sortOrder||"asc"}})}).then(z=>{let A;return z&&z.items?(A=z.items.map(B=>{B=x.fromJSON(B);B.portal=this.portal;return B}),Promise.all(A.map(B=>B.load())).catch(B=>
B).then(()=>({items:A,nextStart:z.nextStart,total:z.total}))):{items:[],nextStart:-1,total:0}})};h.fetchTags=function(){return this.portal.request(this.url+"/tags").then(l=>l.tags)};h.getThumbnailUrl=function(l){let v=this.thumbnailUrl;v&&l&&(v+=`&w=${l}`);return v};h.queryFavorites=function(l){return this.favGroupId?(this._favGroup||(this._favGroup=new g({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(l)):Promise.reject(new e("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};
h.toJSON=function(){throw new e("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};q.fromJSON=function(l){if(!l)return null;if(l.declaredClass)throw Error("JSON object is already hydrated");const v=new f;v.sourceJSON=l;v.read(l);return v};b._createClass(q,[{key:"thumbnailUrl",get:function(){const l=this.url,v=this.thumbnail;return l&&v?this.portal.normalizeUrl(`${l}/info/${v}?f=json`):null}},{key:"userContentUrl",get:function(){const l=this.get("portal.restUrl");return l?
`${l}/content/users/${this.username}`:null}},{key:"url",get:function(){const l=this.get("portal.restUrl");return l?`${l}/community/users/${this.username}`:null}}]);return q}(d.JSONSupport);c.__decorate([n.property()],d.prototype,"access",void 0);c.__decorate([n.property({type:Date})],d.prototype,"created",void 0);c.__decorate([n.property()],d.prototype,"culture",void 0);c.__decorate([n.property()],d.prototype,"description",void 0);c.__decorate([n.property()],d.prototype,"email",void 0);c.__decorate([n.property()],
d.prototype,"favGroupId",void 0);c.__decorate([n.property()],d.prototype,"fullName",void 0);c.__decorate([n.property({type:Date})],d.prototype,"modified",void 0);c.__decorate([n.property()],d.prototype,"orgId",void 0);c.__decorate([n.property()],d.prototype,"portal",void 0);c.__decorate([n.property()],d.prototype,"preferredView",void 0);c.__decorate([n.property()],d.prototype,"privileges",void 0);c.__decorate([n.property()],d.prototype,"region",void 0);c.__decorate([n.property()],d.prototype,"role",
void 0);c.__decorate([n.property()],d.prototype,"roleId",void 0);c.__decorate([n.property()],d.prototype,"sourceJSON",void 0);c.__decorate([n.property()],d.prototype,"thumbnail",void 0);c.__decorate([n.property({readOnly:!0})],d.prototype,"thumbnailUrl",null);c.__decorate([n.property()],d.prototype,"units",void 0);c.__decorate([n.property({readOnly:!0})],d.prototype,"userContentUrl",null);c.__decorate([n.property({readOnly:!0})],d.prototype,"url",null);c.__decorate([n.property()],d.prototype,"username",
void 0);c.__decorate([n.property()],d.prototype,"userType",void 0);return d=f=c.__decorate([p.subclass("esri.portal.PortalUser")],d)})},"esri/portal/PortalFolder":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r){e=function(p){function m(f){f=g.call(this,
f);f.created=null;f.id=null;f.portal=null;f.title=null;f.username=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.toJSON=function(){throw new c("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};a._createClass(m,[{key:"url",get:function(){const f=this.get("portal.restUrl");return f?`${f}/content/users/${this.username}/${this.id}`:null}}]);return m}(e.JSONSupport);b.__decorate([d.property({type:Date})],e.prototype,"created",void 0);b.__decorate([d.property()],
e.prototype,"id",void 0);b.__decorate([d.property()],e.prototype,"portal",void 0);b.__decorate([d.property()],e.prototype,"title",void 0);b.__decorate([d.property({readOnly:!0})],e.prototype,"url",null);b.__decorate([d.property()],e.prototype,"username",void 0);return e=b.__decorate([r.subclass("esri.portal.PortalFolder")],e)})},"esri/portal/PortalGroup":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){e=function(g){function f(q){q=h.call(this,q);q.access=null;q.created=null;q.description=null;q.id=null;q.isInvitationOnly=!1;q.modified=null;q.owner=null;q.portal=null;q.snippet=null;q.sortField=null;q.sortOrder=null;q.tags=null;q.title=null;return q}a._inherits(f,g);var h=a._createSuper(f);g=f.prototype;g.fetchCategorySchema=function(q){return d.unwrapOrThrow(this.portal).request(this.url+"/categorySchema",q).then(k=>{k=k.categorySchema||[];return k.some(l=>"contentCategorySetsGroupQuery.LivingAtlas"===
l.source)?this._fetchCategorySchemaSet("LivingAtlas",q):k})};g.fetchMembers=function(q){return d.unwrapOrThrow(this.portal).request(this.url+"/users",q)};g.getThumbnailUrl=function(q){let k=this.thumbnailUrl;k&&q&&(k+=`&w=${q}`);return k};g.toJSON=function(){throw new c("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};g.queryItems=function(q,k){q=u.ensureType(m,q);const l=d.unwrapOrThrow(this.portal);if(5<parseFloat(l.currentVersion))return q=q||new m,l.queryPortal(`/content/groups/${this.id}/search`,
q,"PortalItem",k);q=q?q.clone():new m;q.query="group:"+this.id+(q.query?" "+q.query:"");return l.queryItems(q,k)};g._fetchCategorySchemaSet=function(q,k){const l=d.unwrapOrThrow(this.portal);return l.fetchSelf(l.authMode,!0,k).then(v=>{if(v=v.contentCategorySetsGroupQuery){const w=new m;w.disableExtraQuery=!0;w.num=1;w.query=v;return l.queryGroups(w,k)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(v=>{if(v.total){v=v.results[0];const w=new m;
w.num=1;w.query=`typekeywords:"${q}"`;return v.queryItems(w,k)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(v=>v.total?v.results[0].fetchData("json",k).then(w=>(w=w&&w.categorySchema)&&w.length?w:[]):[])};a._createClass(f,[{key:"thumbnailUrl",get:function(){const q=this.url,k=this.thumbnail;return q&&k&&this.portal?this.portal?.normalizeUrl(`${q}/info/${k}?f=json`):null}},{key:"url",get:function(){const q=this.get("portal.restUrl");return q?
q+"/community/groups/"+this.id:null}}]);return f}(e.JSONSupport);b.__decorate([n.property()],e.prototype,"access",void 0);b.__decorate([n.property({type:Date})],e.prototype,"created",void 0);b.__decorate([n.property()],e.prototype,"description",void 0);b.__decorate([n.property()],e.prototype,"id",void 0);b.__decorate([n.property()],e.prototype,"isInvitationOnly",void 0);b.__decorate([n.property({type:Date})],e.prototype,"modified",void 0);b.__decorate([n.property()],e.prototype,"owner",void 0);b.__decorate([n.property()],
e.prototype,"portal",void 0);b.__decorate([n.property()],e.prototype,"snippet",void 0);b.__decorate([n.property()],e.prototype,"sortField",void 0);b.__decorate([n.property()],e.prototype,"sortOrder",void 0);b.__decorate([n.property()],e.prototype,"tags",void 0);b.__decorate([n.property()],e.prototype,"thumbnail",void 0);b.__decorate([n.property({readOnly:!0})],e.prototype,"thumbnailUrl",null);b.__decorate([n.property()],e.prototype,"title",void 0);b.__decorate([n.property({readOnly:!0})],e.prototype,
"url",null);return e=b.__decorate([p.subclass("esri.portal.PortalGroup")],e)})},"esri/portal/PortalItem":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v){var w;const x=new Set("Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;GeoJson;CSV;KML;WFS;WMTS;WMS;Feed".split(";")),z=new Set(["KML","GeoJson","CSV"]);n=w=function(A){function B(y){y=D.call(this,y);y.access=null;y.accessInformation=null;y.apiKey=null;y.applicationProxies=null;y.avgRating=null;y.categories=null;y.created=null;y.culture=null;y.description=null;y.extent=null;y.groupCategories=
null;y.id=null;y.isOrgItem=!1;y.itemControl=null;y.licenseInfo=null;y.modified=null;y.name=null;y.numComments=null;y.numRatings=null;y.numViews=null;y.owner=null;y.ownerFolder=null;y.portal=null;y.screenshots=null;y.size=null;y.snippet=null;y.sourceJSON=null;y.sourceUrl=null;y.spatialReference=null;y.tags=null;y.title=null;y.type=null;y.typeKeywords=null;y.url=null;return y}b._inherits(B,A);var D=b._createSuper(B);B.from=function(y){return g.ensureClass(w,y)};A=B.prototype;A.destroy=function(){this.portal=
null};A.readExtent=function(y){return y&&y.length?new q(y[0][0],y[0][1],y[1][0],y[1][1]):null};A.load=function(y){const C=this.portal??(this.portal=k.getDefault()),F=C.load(y).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?C.request(this.itemUrl,{signal:r.isSome(y)?y.signal:null,query:{token:this.apiKey}}):{}).then(G=>{this.sourceJSON=G;this.read(G)});this.addResolvingPromise(F);return Promise.resolve(this)};A.addRating=async function(y){const C={method:"post",query:{}};y instanceof
v&&(y=y.rating);null==y||isNaN(y)||"number"!==typeof y||(C.query.rating=y);if(!this.portal)return null;await this.portal.request(this.itemUrl+"/addRating",C);return new v({rating:y,created:new Date})};A.clone=function(){var y={access:this.access,accessInformation:this.accessInformation,applicationProxies:u.clone(this.applicationProxies),avgRating:this.avgRating,categories:u.clone(this.categories),created:u.clone(this.created),culture:this.culture,description:this.description,extent:u.clone(this.extent),
groupCategories:u.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:u.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:u.clone(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:u.clone(this.tags),thumbnail:this.thumbnail,title:this.title,
type:this.type,typeKeywords:u.clone(this.typeKeywords),url:this.url};this.loaded&&(y.loadStatus="loaded");y=(new w({sourceJSON:this.sourceJSON})).set(y);y._set("isOrgItem",this.isOrgItem);return y};A.createPostQuery=function(){const y=this.toJSON();for(var C of["tags","typeKeywords","categories"])y[C]&&(y[C]=y[C].join(", "));({extent:C}=y);C&&(y.extent=JSON.stringify(C));return y};A.deleteRating=async function(){await r.unwrapOrThrow(this.portal).request(this.itemUrl+"/deleteRating",{method:"post"})};
A.fetchData=function(y="json",C){return r.unwrapOrThrow(this.portal).request(this.itemUrl+"/data",{responseType:y,...C,query:{token:this.apiKey}})};A.fetchRating=async function(y){y=await r.unwrapOrThrow(this.portal).request(this.itemUrl+"/rating",{query:{token:this.apiKey},...y});return null!=y.rating?(y.created=new Date(y.created),new v(y)):null};A.fetchRelatedItems=function(y,C){return r.unwrapOrThrow(this.portal).requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...y,token:this.apiKey},
...C},w)};A.getThumbnailUrl=function(y){let C=this.thumbnailUrl;C&&y&&(C+=`&w=${y}`);return C};A.reload=function(){return r.unwrapOrThrow(this.portal).request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(y=>{this.sourceJSON=y;this.read(y);return this})};A.update=function(y){return this.id?this.load().then(()=>r.unwrapOrThrow(this.portal).signIn()).then(()=>{const C=y&&y.data,F={method:"post"};F.query=this.createPostQuery();for(const G in F.query)null===F.query[G]&&(F.query[G]="");
F.query.clearEmptyFields=!0;null!=C&&("string"===typeof C?F.query.text=C:"object"===typeof C&&(F.query.text=JSON.stringify(C)));return this.portal.request(`${this.userItemUrl}/update`,F).then(()=>this.reload())}):Promise.reject(new d("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};A.copy=async function(y){if(!this.id)throw new d("portal:item-does-not-exist","The item does not exist yet");await this.load();const {portal:C,itemUrl:F}=this;await r.unwrapOrThrow(C).signIn();
const {copyResources:G,folder:E,tags:P,title:O}=y||{};y={method:"post",query:{copyPrivateResources:"all"===G,folder:"string"===typeof E?E:E?.id,includeResources:!!G,tags:P?.join(","),title:O}};({itemId:y}=await C.request(`${F}/copy`,y));return new w({id:y,portal:C})};A.updateThumbnail=function(y){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const C=y.thumbnail,F=y.filename,G={method:"post"};if("string"===typeof C)p.isDataProtocol(C)?G.query={data:C}:G.query={url:p.makeAbsolute(C)},
r.isSome(F)&&(G.query.filename=F);else{const E=new FormData;r.isSome(F)?E.append("file",C,F):E.append("file",C);G.body=E}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,G).then(()=>this.reload())}):Promise.reject(new d("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};A.fetchResources=async function(y={},C){return(await new Promise((F,G)=>a(["./support/resourceUtils"],F,G))).fetchResources(this,y,C)};A.addResource=async function(y,C,F){const G=await new Promise((E,
P)=>a(["./support/resourceUtils"],E,P));y.portalItem=this;return G.addOrUpdateResource(y,"add",C,F)};A.removeResource=async function(y,C){const F=await new Promise((G,E)=>a(["./support/resourceUtils"],G,E));if(y.portalItem&&y.portalItem.itemUrl!==this.itemUrl)throw new d("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return F.removeResource(this,y,C)};A.removeAllResources=async function(y){return(await new Promise((C,F)=>a(["./support/resourceUtils"],
C,F))).removeAllResources(this,y)};A.resourceFromPath=function(y){return new l({portalItem:this,path:y})};A.toJSON=function(){var y=this.extent;y={accessInformation:this.accessInformation,categories:u.clone(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:y&&[[y.xmin,y.ymin],[y.xmax,y.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,
snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:u.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:u.clone(this.typeKeywords),url:this.url};return u.fixJson(y)};B.fromJSON=function(y){if(!y)return null;if(y.declaredClass)throw Error("JSON object is already hydrated");return new w({sourceJSON:y})};A._getPostQuery=function(){const y=this.toJSON();for(const C in y)"tags"===C&&null!==y[C]&&(y[C]=y[C].join(", ")),"typeKeywords"===
C&&null!==y[C]&&(y[C]=y[C].join(", ")),"extent"===C&&y[C]&&(y[C]=JSON.stringify(y[C]));return y};b._createClass(B,[{key:"displayName",get:function(){const y=this.type,C=this.typeKeywords||[];let F=y;"Feature Service"===y||"Feature Collection"===y?F=C.includes("Table")?"Table":C.includes("Route Layer")?"Route Layer":C.includes("Markup")?"Markup":"Feature Layer":"Image Service"===y?F=C.includes("Elevation 3D Layer")?"Elevation Layer":C.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":
"Scene Service"===y?F="Scene Layer":"Video Service"===y?F="Video Layer":"Scene Package"===y?F="Scene Layer Package":"Stream Service"===y?F="Feature Layer":"Geoprocessing Service"===y&&this.portal&&this.portal.isPortal?F=C.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===y?F="Locator":"Geoenrichment Service"===y?F="GeoEnrichment Service":"Microsoft Powerpoint"===y?F="Microsoft PowerPoint":"GeoJson"===y?F="GeoJSON":"Globe Service"===y?F="Globe Layer":"Vector Tile Service"===
y?F="Tile Layer":"netCDF"===y?F="NetCDF":"Map Service"===y?F=C.includes("Spatiotemporal")||!C.includes("Hosted Service")&&!C.includes("Tiled")||C.includes("Relational")?"Map Image Layer":"Tile Layer":y&&y.toLowerCase().includes("add in")?F=y.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===y?F="Big Data File Share":"Compact Tile Package"===y?F="Tile Package (tpkx)":"OGCFeatureServer"===y?F="OGC Feature Layer":"web mapping application"===y&&C.includes("configurableApp")?F="Instant App":
"Insights Page"===y&&(F="Insights Report");return F}},{key:"iconUrl",get:function(){var y=this.type&&this.type.toLowerCase()||"";const C=this.typeKeywords||[];let F=!1,G=!1,E=!1,P=!1,O=!1,K=!1;0<y.indexOf("service")||"feature collection"===y||"kml"===y||"wms"===y||"wmts"===y||"wfs"===y?(F=C.includes("Hosted Service"),"feature service"===y||"feature collection"===y||"kml"===y||"wfs"===y?(G=C.includes("Table"),E=C.includes("Route Layer"),P=C.includes("Markup"),O=C.includes("Spatiotemporal"),K=C.includes("UtilityNetwork"),
y=O&&G?"spatiotemporaltable":G?"table":E?"routelayer":P?"markup":O?"spatiotemporal":F?"featureshosted":K?"utilitynetwork":"features"):y="map service"===y||"wms"===y||"wmts"===y?F||C.includes("Tiled")||"wmts"===y?"maptiles":"mapimages":"scene service"===y?C.includes("Line")?"sceneweblayerline":C.includes("3DObject")?"sceneweblayermultipatch":C.includes("Point")?"sceneweblayerpoint":C.includes("IntegratedMesh")?"sceneweblayermesh":C.includes("PointCloud")?"sceneweblayerpointcloud":C.includes("Polygon")?
"sceneweblayerpolygon":C.includes("Building")?"sceneweblayerbuilding":C.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===y?C.includes("Elevation 3D Layer")?"elevationlayer":C.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===y?"streamlayer":"video service"===y?"mediaservice":"vector tile service"===y?"vectortile":"datastore catalog service"===y?"datastorecollection":"geocoding service"===y?"geocodeservice":"geoprocessing service"===y?C.includes("Web Tool")&&
this.portal&&this.portal.isPortal?"tool":"layers":"geodata service"===y?"geodataservice":"layers"):y="web map"===y||"cityengine web scene"===y?"maps":"web scene"===y?C.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===y&&C.includes("configurableApp")?"instantapps":"web mapping application"===y||"mobile application"===y||"application"===y||"operation view"===y||"desktop application"===y?"apps":"map document"===y||"map package"===y||"published map"===y||"scene document"===
y||"globe document"===y||"basemap package"===y||"mobile basemap package"===y||"mobile map package"===y||"project package"===y||"project template"===y||"pro map"===y||"layout"===y||"layer"===y&&C.includes("ArcGIS Pro")||"explorer map"===y&&C.indexOf("Explorer Document")?"mapsgray":"service definition"===y||"csv"===y||"shapefile"===y||"cad drawing"===y||"geojson"===y||"360 vr experience"===y||"netcdf"===y||"administrative report"===y?"datafiles":"explorer add in"===y||"desktop add in"===y||"windows viewer add in"===
y||"windows viewer configuration"===y?"appsgray":"arcgis pro add in"===y||"arcgis pro configuration"===y?"addindesktop":"rule package"===y||"file geodatabase"===y||"sqlite geodatabase"===y||"csv collection"===y||"kml collection"===y||"windows mobile package"===y||"map template"===y||"desktop application template"===y||"gml"===y||"arcpad package"===y||"code sample"===y||"form"===y||"document link"===y||"earth configuration"===y||"operations dashboard add in"===y||"rules package"===y||"image"===y||
"workflow manager package"===y||"explorer map"===y&&C.includes("Explorer Mapping Application")||C.includes("Document")?"datafilesgray":"network analysis service"===y||"geoprocessing service"===y||"geodata service"===y||"geometry service"===y||"geoprocessing package"===y||"locator package"===y||"geoprocessing sample"===y||"workflow manager service"===y?"toolsgray":"layer"===y||"layer package"===y||"explorer layer"===y?"layersgray":"scene package"===y?"scenepackage":"mobile scene package"===y?"mobilescenepackage":
"tile package"===y||"compact tile package"===y?"tilepackage":"task file"===y?"taskfile":"report template"===y?"report-template":"statistical data collection"===y?"statisticaldatacollection":"insights workbook"===y?"workbook":"insights model"===y?"insightsmodel":"insights page"===y?"insightspage":"insights theme"===y?"insightstheme":"hub initiative"===y?"hubinitiative":"hubpage"===y?"hubpage":"hub event"===y?"hubevent":"hub site application"===y?"hubsite":"hub project"===y?"hubproject":"relational database connection"===
y?"relationaldatabaseconnection":"big data file share"===y?"datastorecollection":"image collection"===y?"imagecollection":"style"===y?"style":"desktop style"===y?"desktopstyle":"dashboard"===y?"dashboard":"raster function template"===y?"rasterprocessingtemplate":"vector tile package"===y?"vectortilepackage":"ortho mapping project"===y?"orthomappingproject":"ortho mapping template"===y?"orthomappingtemplate":"solution"===y?"solutions":"geopackage"===y?"geopackage":"deep learning package"===y?"deeplearningpackage":
"real time analytic"===y?"realtimeanalytics":"big data analytic"===y?"bigdataanalytics":"feed"===y?"feed":"excalibur imagery project"===y?"excaliburimageryproject":"notebook"===y?"notebook":"storymap"===y?"storymap":"survey123 add in"===y?"survey123addin":"mission"===y?"mission":"mission report"===y?"missionreport":"quickcapture project"===y?"quickcaptureproject":"pro report"===y?"proreport":"pro report template"===y?"proreporttemplate":"urban model"===y?"urbanmodel":"web experience"===y?"experiencebuilder":
"web experience template"===y?"webexperiencetemplate":"experience builder widget"===y?"experiencebuilderwidget":"experience builder widget package"===y?"experiencebuilderwidgetpackage":"workflow"===y?"workflow":"insights script"===y?"insightsscript":"kernel gateway connection"===y?"kernelgatewayconnection":"hub initiative template"===y?"hubinitiativetemplate":"storymap theme"===y?"storymaptheme":"knowledge graph"===y?"knowledgegraph":"native application"===y?"nativeapp":"native application installer"===
y?"nativeappinstaller":"link chart"===y?"linkchart":"investigation"===y?"investigation":"ogcfeatureserver"===y?"features":"pro project"===y?"proproject":"insights workbook package"===y?"insightsworkbookpackage":"apache parquet"===y?"apacheparquet":"notebook code snippets"===y||"notebook code snippet library"===y?"notebookcodesnippets":"suitability model"===y?"suitabilitymodel":"esri classifier definition"===y?"classifierdefinition":"esri classification schema"===y?"classificationschema":"insights data engineering workbook"===
y?"dataengineeringworkbook":"insights data engineering model"===y?"dataengineeringmodel":"deep learning studio project"===y?"deeplearningproject":"discussion"===y?"discussion":"allsource project"===y?"allsourceproject":"api key"===y?"apikey":"maps";return y?e.getAssetUrl("esri/images/portal/"+y+"16.png"):null}},{key:"isLayer",get:function(){return null!=this.type&&x.has(this.type)}},{key:"itemPageUrl",get:function(){const y=this.portal?.itemPageUrl;return y&&this.id?`${y}?id=${this.id}`:null}},{key:"itemUrl",
get:function(){const y=this.portal?.restUrl;return y&&this.id?`${y}/content/items/${this.id}`:null}},{key:"thumbnailUrl",get:function(){const y=this.itemUrl,C=this.thumbnail;return y&&C?this.portal?.normalizeUrl(`${y}/info/${C}?f=json`)??null:null}},{key:"userItemUrl",get:function(){const y=this.get("portal.restUrl");if(!y)return null;const C=this.owner||this.get("portal.user.username");return C?`${y}/content/users/${this.ownerFolder?`${C}/${this.ownerFolder}`:C}/items/${this.id}`:null}}]);return B}(n.JSONSupportMixin(t));
c.__decorate([m.property({type:["private","shared","org","public"]})],n.prototype,"access",void 0);c.__decorate([m.property()],n.prototype,"accessInformation",void 0);c.__decorate([m.property({type:String})],n.prototype,"apiKey",void 0);c.__decorate([m.property({json:{read:{source:"appProxies"}}})],n.prototype,"applicationProxies",void 0);c.__decorate([m.property()],n.prototype,"avgRating",void 0);c.__decorate([m.property()],n.prototype,"categories",void 0);c.__decorate([m.property({type:Date})],
n.prototype,"created",void 0);c.__decorate([m.property()],n.prototype,"culture",void 0);c.__decorate([m.property()],n.prototype,"description",void 0);c.__decorate([m.property({readOnly:!0})],n.prototype,"displayName",null);c.__decorate([m.property({type:q})],n.prototype,"extent",void 0);c.__decorate([f.reader("extent")],n.prototype,"readExtent",null);c.__decorate([m.property()],n.prototype,"groupCategories",void 0);c.__decorate([m.property({readOnly:!0})],n.prototype,"iconUrl",null);c.__decorate([m.property()],
n.prototype,"id",void 0);c.__decorate([m.property({readOnly:!0})],n.prototype,"isLayer",null);c.__decorate([m.property({type:Boolean,readOnly:!0})],n.prototype,"isOrgItem",void 0);c.__decorate([m.property()],n.prototype,"itemControl",void 0);c.__decorate([m.property({readOnly:!0})],n.prototype,"itemPageUrl",null);c.__decorate([m.property({readOnly:!0})],n.prototype,"itemUrl",null);c.__decorate([m.property()],n.prototype,"licenseInfo",void 0);c.__decorate([m.property({type:Date})],n.prototype,"modified",
void 0);c.__decorate([m.property()],n.prototype,"name",void 0);c.__decorate([m.property()],n.prototype,"numComments",void 0);c.__decorate([m.property()],n.prototype,"numRatings",void 0);c.__decorate([m.property()],n.prototype,"numViews",void 0);c.__decorate([m.property()],n.prototype,"owner",void 0);c.__decorate([m.property()],n.prototype,"ownerFolder",void 0);c.__decorate([m.property({type:k})],n.prototype,"portal",void 0);c.__decorate([m.property()],n.prototype,"screenshots",void 0);c.__decorate([m.property()],
n.prototype,"size",void 0);c.__decorate([m.property()],n.prototype,"snippet",void 0);c.__decorate([m.property()],n.prototype,"sourceJSON",void 0);c.__decorate([m.property({type:String})],n.prototype,"sourceUrl",void 0);c.__decorate([m.property({type:String})],n.prototype,"spatialReference",void 0);c.__decorate([m.property()],n.prototype,"tags",void 0);c.__decorate([m.property()],n.prototype,"thumbnail",void 0);c.__decorate([m.property({readOnly:!0})],n.prototype,"thumbnailUrl",null);c.__decorate([m.property()],
n.prototype,"title",void 0);c.__decorate([m.property()],n.prototype,"type",void 0);c.__decorate([m.property()],n.prototype,"typeKeywords",void 0);c.__decorate([m.property({type:String,json:{read(A,B){z.has(B.type)&&(B=this.portal?.restUrl,A||(A=B&&this.id?`${B}/content/items/${this.id}/data`:null));return A}}})],n.prototype,"url",void 0);c.__decorate([m.property({readOnly:!0})],n.prototype,"userItemUrl",null);return n=w=c.__decorate([h.subclass("esri.portal.PortalItem")],n)})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),
function(a,b,c,e,d,n){function u(r){if(!b.assetsPath)throw t.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new e("assets:path-not-set","config.assetsPath is not set");return n.join(b.assetsPath,r)}const t=d.getLogger("esri.assets");a.fetchAsset=function(r,p){return c(u(r),p)};a.getAssetUrl=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalItemResource":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){e=function(h){function q(l){l=k.call(this,l);l.portalItem=null;return l}b._inherits(q,h);var k=b._createSuper(q);h=q.prototype;h.normalizeCtorArgs=function(l){return l&&l.portalItem&&l.path?{...l,path:this._normalizePath(l.path,l.portalItem)}:l};h._castPath=function(l){return this._normalizePath(l,this.portalItem)};h.fetch=function(l="json",v){const w=this.url;if(u.isNone(w))throw new d("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");
return this.portalItem.portal.request(w,{responseType:l,query:{token:this.portalItem.apiKey},signal:u.get(v,"signal")})};h.update=async function(l,v){return(await new Promise((w,x)=>a(["./support/resourceUtils"],w,x))).addOrUpdateResource(this,"update",l,v)};h.hasPath=function(){return u.isSome(this.path)};h._normalizePath=function(l,v){if(u.isNone(l))return l;l=l.replace(/^\/+/,"");u.isSome(v)&&t.isAbsolute(l)&&(l=t.makeRelative(l,v.itemUrl));return l?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,
"")};b._createClass(q,[{key:"path",set:function(l){u.isSome(l)&&t.isAbsolute(l)?n.getLogger(this.declaredClass).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",l)}},{key:"url",get:function(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&this.path?`./resources/${this.path}`:null}}]);return q}(e);c.__decorate([r.property()],e.prototype,
"portalItem",void 0);c.__decorate([r.property({type:String,value:null})],e.prototype,"path",null);c.__decorate([p.cast("path")],e.prototype,"_castPath",null);c.__decorate([r.property({type:String,readOnly:!0})],e.prototype,"url",null);c.__decorate([r.property({type:String,readOnly:!0})],e.prototype,"itemRelativeUrl",null);return e=c.__decorate([f.subclass("esri.portal.PortalItemResource")],e)})},"esri/portal/PortalRating":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){c=function(r){function p(g){g=m.call(this,g);g.created=null;g.rating=null;return g}a._inherits(p,r);var m=a._createSuper(p);return a._createClass(p)}(c);b.__decorate([e.property()],c.prototype,"created",void 0);b.__decorate([e.property()],c.prototype,"rating",void 0);return c=b.__decorate([t.subclass("esri.portal.PortalRating")],c)})},"esri/support/basemapDefinitions":function(){define(["exports","../assets","../intl/messages"],function(a,b,c){a.esriBasemapDefinitions={streets:{id:"streets",
classic:!0,deprecated:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,
get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",
isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,
opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",
styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",
showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",
styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",
title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",
title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",
isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},
title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},
title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",
baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",
baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",
title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",
title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",
title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,
title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",
title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",
title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",
title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};a.getBasemapTitle=async function(e){if(e){var d=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):
e,n=await c.fetchMessageBundle("esri/t9n/basemaps");return n[e]||n[d]}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/messages":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../core/Error","../core/promiseUtils","./locale"],function(a,b,c,e,d){function n(q){for(const k of g.keys())t(q.pattern,k)&&g.delete(k)}async function u(q,k){const l=[];for(const v of m)if(t(v.pattern,q))try{return await v.fetchMessageBundle(q,k)}catch(w){l.push(w)}if(l.length)throw new c("intl:message-bundle-error",
`Errors occurred while loading "${q}"`,{errors:l});throw new c("intl:no-message-bundle-loader",`No loader found for message bundle "${q}"`);}function t(q,k){return"string"===typeof q?k.startsWith(q):q.test(k)}const r=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,p={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,
"zh-TW":!0},m=[],g=new Map;d.beforeLocaleChange(()=>{g.clear()});const f=new (function(){function q(){this._numLoading=0;this._dfd=null}var k=q.prototype;k.waitForAll=async function(){this._dfd&&await this._dfd.promise};k.add=function(l){this._increase();l.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()};k._increase=function(){this._numLoading++;this._dfd||(this._dfd=e.createDeferred())};k._decrease=function(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===
this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return b._createClass(q)}()),h={cache:g,loaders:m};a.fetchMessageBundle=async function(q){const k=d.getLocale();g.has(q)||g.set(q,u(q,k));(q=g.get(q))&&await f.add(q);return q};a.normalizeMessageBundleLocale=function(q){if(!r.test(q))return null;q=r.exec(q);if(null===q)return null;const [,k,l]=q;q=k+(l?"-"+l.toUpperCase():"");return p[q]??!1?q:p[k]??!1?k:null};a.registerMessageBundleLoader=function(q){m.includes(q)||(n(q),m.unshift(q));return{remove(){const k=
m.indexOf(q);-1<k&&(m.splice(k,1),n(q))}}};a.test=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/maybe ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),function(a,b,c,e,d,n,u){function t(m,g){"maxScale"in m&&(g.maxScale=n.numberToJSON(m.maxScale)??void 0);"minScale"in m&&(g.minScale=n.numberToJSON(m.minScale)??
void 0)}const r=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),p=new Set("csv feature geo-rss geojson group imagery imagery-tile kml map-image map-notes media ogc-feature route subtype-group tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));a.disableRestrictedWriting=function(m){r.add(m);p.add(m)};a.enableRestrictedWriting=function(m){r.delete(m);p.delete(m)};a.getLayerJSON=function(m,g,f){if(!("write"in
m&&m.write))return f&&f.messages&&f.messages.push(new b("layer:unsupported",`Layers (${m.title}, ${m.id}) of type '${m.declaredClass}' cannot be persisted`,{layer:m})),null;if(f.restrictedWebMapWriting){var h="basemap"===f.layerContainerType?r:"operational-layers"===f.layerContainerType?p:null;h=e.isSome(h)?h.has(m.type)&&!u.isFeatureCollectionLayer(m):!0}else h=!0;if(h)return g={},m.write(g,f)?g:null;if(e.isSome(g)){g=c.clone(g);if(f=g)u.isFeatureCollectionLayer(m)?(h=(h=d.getDeepValue("featureCollection.layers",
f))&&h[0]&&h[0].layerDefinition)&&t(m,h):"stream"===m.type?(h=f.layerDefinition=f.layerDefinition||{},t(m,h)):"group"!==m.type&&t(m,f);if(f&&("blendMode"in m&&(f.blendMode=m.blendMode,"normal"===f.blendMode&&delete f.blendMode),f.opacity=n.numberToJSON(m.opacity)??void 0,f.title=m.title||"Layer",f.visibility=m.visible,"legendEnabled"in m&&"wmts"!==m.type))if(u.isFeatureCollectionLayer(m)){if(f=f.featureCollection)f.showLegend=m.legendEnabled}else f.showLegend=m.legendEnabled}return g};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../kernel","../../request","../../core/maybe"],function(a,b,c,e){a.getEffectiveEditingEnabled=function(d){a:if("editingEnabled"in d)switch(d.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var n=!0;break a;default:n=!1}else n=!1;return n?"effectiveEditingEnabled"in d?d.effectiveEditingEnabled:d.editingEnabled:!1};
a.getEffectiveLayerCapabilities=function(d){a:if("capabilities"in d)switch(d.type){case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":case "wfs":var n=!0;break a;default:n=!1}else n=!1;return n?"effectiveCapabilities"in d?d.effectiveCapabilities:d.capabilities:null};a.getOwningPortalUrl=async function(d,n){var u=b.id?.findServerInfo(d);if(null!=u?.currentVersion)return u.owningSystemUrl||
null;u=d.toLowerCase().indexOf("/rest/services");if(-1===u)return null;d=`${d.substring(0,u)}/rest/info`;n=e.isSome(n)?n.signal:null;({data:n}=await c(d,{query:{f:"json"},responseType:"json",signal:n}));return n?.owningSystemUrl||null};a.getTileMaxtrixSetFromActiveLayer=function(d){if(d.activeLayer){const n=d.activeLayer.tileMatrixSet;if(n)return n;if(d=d.activeLayer.tileMatrixSets)return d}return null};a.isBaseLayer=function(d){return null!=d&&null!=d.parent&&"declaredClass"in d.parent&&"esri.Basemap"===
d.parent.declaredClass&&d.parent.baseLayers.includes(d)};a.isBasemapSupportedLayer=function(d){d=d?.type;return"imagery-tile"===d||"tile"===d||"open-street-map"===d||"vector-tile"===d||"web-tile"===d||"wmts"===d};a.isFeatureCollectionLayer=function(d){return"feature"===d?.type&&!d.url&&"memory"===d.source?.type};a.isFeatureServiceLayer=function(d){return"feature"===d?.type&&"feature-layer"===d.source?.type};a.isGroupLayer=function(d){return null!=d&&"type"in d&&"group"===d.type};a.isImageryTileLayer=
function(d){return"imagery-tile"===d?.type};a.isSceneServiceLayer=function(d){d=d?.type;return"building-scene"===d||"integrated-mesh"===d||"point-cloud"===d||"scene"===d};a.isTiledLayer=function(d){d=d?.type;return"base-tile"===d||"tile"===d||"elevation"===d||"imagery-tile"===d||"base-elevation"===d||"open-street-map"===d||"wcs"===d||"web-tile"===d||"wmts"===d||"vector-tile"===d};a.isVoxelLayer=function(d){return"voxel"===d?.type};a.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",
IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};a.serializeLayerDefinitions=function(d){const n=/[:;]/,u=[];let t=!1;if(d&&(d.forEach((r,p)=>{u.push([p,r]);!t&&n.test(r)&&(t=!0)}),0<u.length)){if(t){const r={};u.forEach(p=>{r[p[0]]=p[1]});d=JSON.stringify(r)}else{const r=[];u.forEach(p=>{r.push(p[0]+":"+p[1])});d=r.join(";")}return d}return null};a.serializeTimeOptions=function(d){if(d){var n=[];d.forEach((u,t)=>{n.push('"'+t+'":'+JSON.stringify(u))});
if(n.length)return"{"+n.join(",")+"}"}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Ground":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x){function z(B){return"elevation"===B.type||B&&"createElevationSampler"in B}var A;r=A=function(B){function D(C){var F=y.call(this,C);F.opacity=1;F.surfaceColor=null;F.navigationConstraint=null;F.layers=new d;F.addHandles([F.layers.on("after-add",G=>{G=G.item;G.parent&&G.parent!==b._assertThisInitialized(F)&&"remove"in G.parent&&G.parent.remove(G);G.parent=b._assertThisInitialized(F);"elevation"!==G.type&&"base-elevation"!==G.type&&f.getLogger(F.declaredClass).error(`Layer '${G.title}, id:${G.id}' of type '${G.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)}),
F.layers.on("after-remove",G=>{G.item.parent=null})]);return F}b._inherits(D,B);var y=b._createSuper(D);B=D.prototype;B.initialize=function(){this.when().catch(C=>{f.getLogger(this.declaredClass).error("#load()","Failed to load ground",C)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};B.destroy=function(){const C=this.layers.removeAll();for(const F of C)F.destroy();this.layers.destroy()};B.normalizeCtorArgs=function(C){C&&"resourceInfo"in C&&(this._set("resourceInfo",
C.resourceInfo),C={...C},delete C.resourceInfo);return C};B.writeLayers=function(C,F,G,E){const P=[];C&&(E={...E,layerContainerType:"ground"},C.forEach(O=>{if("write"in O){const K={};u.typeCast(O)().write(K,E)&&P.push(K)}else E&&E.messages&&E.messages.push(new t("layer:unsupported",`Layers (${O.title}, ${O.id}) of type '${O.declaredClass}' cannot be persisted in the ground`,{layer:O}))}));F.layers=P};B.load=function(C){this.addResolvingPromise(this._loadFromSource(C));return Promise.resolve(this)};
B.loadAll=function(){return g.loadAll(this,C=>{C(this.layers)})};B.queryElevation=async function(C,F){await this.load({signal:F?.signal});var {ElevationQuery:G}=await new Promise((P,O)=>a(["./layers/support/ElevationQuery"],P,O));h.throwIfAborted(F);G=new G;const E=this.layers.filter(z).toArray();return G.queryAll(E,C,F)};B.createElevationSampler=async function(C,F){await this.load({signal:F?.signal});var {ElevationQuery:G}=await new Promise((P,O)=>a(["./layers/support/ElevationQuery"],P,O));h.throwIfAborted(F);
G=new G;const E=this.layers.filter(z).toArray();return G.createSamplerAll(E,C,F)};B.clone=function(){const C={opacity:this.opacity,surfaceColor:p.clone(this.surfaceColor),navigationConstraint:p.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(C.loadStatus="loaded");return(new A({resourceInfo:this.resourceInfo})).set(C)};B.read=function(C,F){this.resourceInfo||this._set("resourceInfo",{data:C,context:F});b._get(b._getPrototypeOf(D.prototype),"read",this).call(this,C,F)};B._loadFromSource=
function(C){const F=this.resourceInfo;return F?this._loadLayersFromJSON(F.data,F.context,C):Promise.resolve()};B._loadLayersFromJSON=function(C,F,G){const E=F&&F.origin||"web-scene",P=F&&F.portal||null,O=F&&F.url||null;return(new Promise((K,M)=>a(["./layers/support/layersCreator"],K,M))).then(({populateOperationalLayers:K})=>{h.throwIfAborted(G);const M=[];C.layers&&Array.isArray(C.layers)&&M.push(K(this.layers,C.layers,{context:{origin:E,url:O,portal:P,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));
return h.eachAlways(M)}).then(()=>{})};b._createClass(D,[{key:"layers",set:function(C){this._set("layers",n.referenceSetter(C,this._get("layers")))}}]);return D}(r.JSONSupportMixin(m));c.__decorate([q.property({json:{read:!1}})],r.prototype,"layers",null);c.__decorate([v.writer("layers")],r.prototype,"writeLayers",null);c.__decorate([q.property({readOnly:!0})],r.prototype,"resourceInfo",void 0);c.__decorate([q.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:k.Integer,read:{reader:x.transparencyToOpacity,
source:"transparency"},write:{writer:(B,D)=>{D.transparency=x.opacityToTransparency(B)},target:"transparency"}}})],r.prototype,"opacity",void 0);c.__decorate([q.property({type:e,json:{type:[k.Integer],write:(B,D)=>{D.surfaceColor=B.toJSON().slice(0,3)}}})],r.prototype,"surfaceColor",void 0);c.__decorate([q.property({type:w.NavigationConstraint,json:{write:!0}})],r.prototype,"navigationConstraint",void 0);return r=A=c.__decorate([l.subclass("esri.Ground")],r)})},"esri/Color":function(){define(["./chunks/_rollupPluginBabelHelpers",
"./colorUtils","./core/mathUtils","./core/maybe","./core/accessorSupport/ensureType"],function(a,b,c,e,d){function n(r){return c.clamp(d.ensureInteger(r),0,255)}function u(r,p,m){r=Number(r);return isNaN(r)?m:r<p?p:r>m?m:r}let t=function(){function r(m){this.b=this.g=this.r=255;this.a=1;m&&this.setColor(m)}r.blendColors=function(m,g,f,h=new r){h.r=Math.round(m.r+(g.r-m.r)*f);h.g=Math.round(m.g+(g.g-m.g)*f);h.b=Math.round(m.b+(g.b-m.b)*f);h.a=m.a+(g.a-m.a)*f;return h._sanitize()};r.fromRgb=function(m,
g){var f=m.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(f){m=f[2].split(/\s*,\s*/);f=f[1];if("rgb"===f&&3===m.length||"rgba"===f&&4===m.length)return f=m[0],"%"===f.charAt(f.length-1)?(f=m.map(h=>2.56*parseFloat(h)),4===m.length&&(f[3]=parseFloat(m[3])),r.fromArray(f,g)):r.fromArray(m.map(h=>parseFloat(h)),g);if("hsl"===f&&3===m.length||"hsla"===f&&4===m.length)return r.fromArray(b.hsla2rgba(parseFloat(m[0]),parseFloat(m[1])/100,parseFloat(m[2])/100,parseFloat(m[3])),g)}return null};
r.fromHex=function(m,g=new r){if(4!==m.length&&7!==m.length||"#"!==m[0])return null;const f=4===m.length?4:8,h=(1<<f)-1;let q=Number("0x"+m.substr(1));if(isNaN(q))return null;["b","g","r"].forEach(k=>{const l=q&h;q>>=f;g[k]=4===f?17*l:l});g.a=1;return g};r.fromArray=function(m,g=new r){g._set(Number(m[0]),Number(m[1]),Number(m[2]),Number(m[3]));isNaN(g.a)&&(g.a=1);return g._sanitize()};r.fromString=function(m,g){const f=b.isNamedColor(m)?b.getNamedColor(m):null;return f&&r.fromArray(f,g)||r.fromRgb(m,
g)||r.fromHex(m,g)};r.fromJSON=function(m){return m&&new r([m[0],m[1],m[2],m[3]/255])};r.toUnitRGB=function(m){return e.isSome(m)?[m.r/255,m.g/255,m.b/255]:null};r.toUnitRGBA=function(m){return e.isSome(m)?[m.r/255,m.g/255,m.b/255,null!=m.a?m.a:1]:null};var p=r.prototype;p.setColor=function(m){"string"===typeof m?r.fromString(m,this):Array.isArray(m)?r.fromArray(m,this):(this._set(m.r??0,m.g??0,m.b??0,m.a??1),m instanceof r||this._sanitize());return this};p.toRgb=function(){return[this.r,this.g,this.b]};
p.toRgba=function(){return[this.r,this.g,this.b,this.a]};p.toHex=function(){const m=this.r.toString(16),g=this.g.toString(16),f=this.b.toString(16);return`#${2>m.length?"0"+m:m}${2>g.length?"0"+g:g}${2>f.length?"0"+f:f}`};p.toCss=function(m=!1){const g=this.r+", "+this.g+", "+this.b;return m?`rgba(${g}, ${this.a})`:`rgb(${g})`};p.toString=function(){return this.toCss(!0)};p.toJSON=function(){return this.toArray()};p.toArray=function(m=r.AlphaMode.ALWAYS){const g=n(this.r),f=n(this.g),h=n(this.b);
return m===r.AlphaMode.ALWAYS||1!==this.a?[g,f,h,n(255*this.a)]:[g,f,h]};p.clone=function(){return new r(this.toRgba())};p.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};p.equals=function(m){return e.isSome(m)&&m.r===this.r&&m.g===this.g&&m.b===this.b&&m.a===this.a};p._sanitize=function(){this.r=Math.round(u(this.r,0,255));this.g=Math.round(u(this.g,0,255));this.b=Math.round(u(this.b,0,255));this.a=u(this.a,0,1);return this};p._set=function(m,g,f,h){this.r=m;this.g=g;this.b=f;
this.a=h};a._createClass(r,[{key:"isBright",get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b}}]);return r}();t.prototype.declaredClass="esri.Color";(function(r){r=r.AlphaMode||(r.AlphaMode={});r[r.ALWAYS=0]="ALWAYS";r[r.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(t||(t={}));return t})},"esri/colorUtils":function(){define(["exports"],function(a){function b(d){return e[d]??e[d.toLowerCase()]}function c(d,n,u){0>u&&++u;1<u&&--u;const t=6*u;return 1>t?d+(n-d)*t:1>2*u?n:2>3*u?d+(n-d)*(2/3-u)*6:d}
const e={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,
235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],
darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,
248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,
238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,
104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,
218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,
180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(d){return[...b(d)]};a.hex2rgba=function(d){var n=5<d.length;const u=n?8:4,t=(1<<u)-1,r=n?1:17;n=n?9===d.length:5===d.length;d=Number("0x"+d.substr(1));if(isNaN(d))return null;const p=[0,0,0,1];n&&(n=d&t,d>>=u,p[3]=r*n/255);n=d&t;d>>=u;p[2]=r*n;n=d&t;d>>=u;p[1]=r*n;n=d&t;d>>=
u;p[0]=r*n;return p};a.hsla2rgba=function(d,n,u,t=1){d=(d%360+360)%360/360;n=.5>=u?u*(n+1):u+n-u*n;u=2*u-n;return[Math.round(255*c(u,n,d+1/3)),Math.round(255*c(u,n,d)),Math.round(255*c(u,n,d-1/3)),t]};a.isNamedColor=function(d){return e[d]||e[d.toLowerCase()]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/mathUtils":function(){define(["exports","./maybe","../chunks/vec3","../chunks/vec4"],function(a,b,c,e){function d(v,w,x){return Math.min(Math.max(v,w),x)}function n(v,
w,x){return v+(w-v)*x}function u(v){return Math.asin(d(v,-1,1))}function t(v,w,x=1E-6){return v===w?!0:Number.isFinite(v)&&Number.isFinite(w)?(v>w?v-w:w-v)<=x:!1}function r(v){h.setFloat64(0,v);return h.getBigInt64(0)}function p(v){h.setBigInt64(0,v);return h.getFloat64(0)}function m(v){v=Math.abs(v);var w=r(v);w=w<=q?p(q):p(w-q);return Math.abs(v-w)}function g(v){f[0]=v;return f[0]}const f=new Float32Array(1),h=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),q=BigInt("1000000"),k=m(1),
l=g(3.4028234663852886E38);a.NUMBER_MAX_FLOAT32=l;a.acosClamped=function(v){return Math.acos(d(v,-1,1))};a.applyOpacity=function(v,w,x){return e.set(v,w[0],w[1],w[2],w[3]*x)};a.asinClamped=u;a.cartesianToSpherical=function(v,w){const x=c.length(v),z=u(v[2]/x);c.set(w,x,z,Math.atan2(v[1]/x,v[0]/x));return w};a.clamp=d;a.clampFloat32=function(v){return g(Math.max(-l,Math.min(v,l)))};a.deg2rad=function(v){return v*Math.PI/180};a.floatEqualAbsolute=t;a.floatEqualRelative=function(v,w,x=1E-6){if(v===w)return!0;
if(!Number.isFinite(v)||!Number.isFinite(w))return!1;const z=Math.abs(v-w),A=Math.abs(v),B=Math.abs(w);if(0===v||0===w||1E-12>A&&1E-12>B){if(z>.01*x)return!1}else if(z/(A+B)>x)return!1;return!0};a.floatEqualUlp=function(v,w,x=k){if(v===w)return!0;if(!Number.isFinite(v)||!Number.isFinite(w))return!1;if(b.isSome(x)&&m(Math.min(Math.abs(v),Math.abs(w)))<x)return Math.abs(v-w)<=x;v=r(v);w=r(w);return 0>v!==0>w||(v<w?w-v:v-w)>q?!1:!0};a.hasScaling=function(v){const w=v[3]*v[3]+v[4]*v[4]+v[5]*v[5],x=v[6]*
v[6]+v[7]*v[7]+v[8]*v[8];return!(t(v[0]*v[0]+v[1]*v[1]+v[2]*v[2],1)&&t(w,1)&&t(x,1))};a.isPowerOfTwo=function(v){return 0===(v&v-1)};a.lerp=n;a.nextHighestPowerOfTen=function(v){return 10**Math.ceil(Math.LOG10E*Math.log(v))};a.nextHighestPowerOfTwo=function(v){--v;for(let w=1;32>w;w<<=1)v|=v>>w;return v+1};a.nextPowerOfTwo=function(v){v--;v|=v>>1;v|=v>>2;v|=v>>4;v|=v>>8;v|=v>>16;v++;return v};a.rad2deg=function(v){return 180*v/Math.PI};a.reciprocalClamped=function(v,w=1E-6){return(0>v?-1:1)/Math.max(Math.abs(v),
w)};a.roundToNearest=function(v,w){return 0===w?0:Math.round(v/w)*w};a.scale=function(v,w,x,z,A){return n(z,A,(v-w)/(x-w))};a.smoothstep=function(v,w,x){v=d((x-v)/(w-v),0,1);return v*v*(3-2*v)};a.sphericalToCartesian=function(v,w){const x=v[0],z=v[1];v=v[2];const A=Math.cos(z);c.set(w,x*A*Math.cos(v),x*A*Math.sin(v),x*Math.sin(z))};a.step=function(v,w){return w<v?0:1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],
function(a,b,c){function e(Y){const Z=Y[0],U=Y[1];Y=Y[2];return Math.sqrt(Z*Z+U*U+Y*Y)}function d(Y,Z){Y[0]=Z[0];Y[1]=Z[1];Y[2]=Z[2];return Y}function n(Y,Z,U,pa){Y[0]=Z;Y[1]=U;Y[2]=pa;return Y}function u(Y,Z,U){Y[0]=Z[0]+U[0];Y[1]=Z[1]+U[1];Y[2]=Z[2]+U[2];return Y}function t(Y,Z,U){Y[0]=Z[0]-U[0];Y[1]=Z[1]-U[1];Y[2]=Z[2]-U[2];return Y}function r(Y,Z,U){Y[0]=Z[0]*U[0];Y[1]=Z[1]*U[1];Y[2]=Z[2]*U[2];return Y}function p(Y,Z,U){Y[0]=Z[0]/U[0];Y[1]=Z[1]/U[1];Y[2]=Z[2]/U[2];return Y}function m(Y,Z){Y[0]=
Math.ceil(Z[0]);Y[1]=Math.ceil(Z[1]);Y[2]=Math.ceil(Z[2]);return Y}function g(Y,Z){Y[0]=Math.floor(Z[0]);Y[1]=Math.floor(Z[1]);Y[2]=Math.floor(Z[2]);return Y}function f(Y,Z){Y[0]=Math.abs(Z[0]);Y[1]=Math.abs(Z[1]);Y[2]=Math.abs(Z[2]);return Y}function h(Y,Z){Y[0]=Math.sign(Z[0]);Y[1]=Math.sign(Z[1]);Y[2]=Math.sign(Z[2]);return Y}function q(Y,Z,U){Y[0]=Math.min(Z[0],U[0]);Y[1]=Math.min(Z[1],U[1]);Y[2]=Math.min(Z[2],U[2]);return Y}function k(Y,Z,U){Y[0]=Math.max(Z[0],U[0]);Y[1]=Math.max(Z[1],U[1]);
Y[2]=Math.max(Z[2],U[2]);return Y}function l(Y,Z){Y[0]=Math.round(Z[0]);Y[1]=Math.round(Z[1]);Y[2]=Math.round(Z[2]);return Y}function v(Y,Z,U){Y[0]=Z[0]*U;Y[1]=Z[1]*U;Y[2]=Z[2]*U;return Y}function w(Y,Z,U,pa){Y[0]=Z[0]+U[0]*pa;Y[1]=Z[1]+U[1]*pa;Y[2]=Z[2]+U[2]*pa;return Y}function x(Y,Z){const U=Z[0]-Y[0],pa=Z[1]-Y[1];Y=Z[2]-Y[2];return Math.sqrt(U*U+pa*pa+Y*Y)}function z(Y,Z){const U=Z[0]-Y[0],pa=Z[1]-Y[1];Y=Z[2]-Y[2];return U*U+pa*pa+Y*Y}function A(Y){const Z=Y[0],U=Y[1];Y=Y[2];return Z*Z+U*U+Y*
Y}function B(Y,Z){Y[0]=-Z[0];Y[1]=-Z[1];Y[2]=-Z[2];return Y}function D(Y,Z){Y[0]=1/Z[0];Y[1]=1/Z[1];Y[2]=1/Z[2];return Y}function y(Y,Z){var U=Z[0];const pa=Z[1],xa=Z[2];U=U*U+pa*pa+xa*xa;0<U&&(U=1/Math.sqrt(U),Y[0]=Z[0]*U,Y[1]=Z[1]*U,Y[2]=Z[2]*U);return Y}function C(Y,Z){return Y[0]*Z[0]+Y[1]*Z[1]+Y[2]*Z[2]}function F(Y,Z,U){const pa=Z[0],xa=Z[1];Z=Z[2];const N=U[0],T=U[1];U=U[2];Y[0]=xa*U-Z*T;Y[1]=Z*N-pa*U;Y[2]=pa*T-xa*N;return Y}function G(Y,Z,U,pa){const xa=Z[0],N=Z[1];Z=Z[2];Y[0]=xa+pa*(U[0]-
xa);Y[1]=N+pa*(U[1]-N);Y[2]=Z+pa*(U[2]-Z);return Y}function E(Y,Z,U,pa,xa,N){const T=N*N,qa=T*(2*N-3)+1,Ca=T*(N-2)+N,Fa=T*(N-1);N=T*(3-2*N);Y[0]=Z[0]*qa+U[0]*Ca+pa[0]*Fa+xa[0]*N;Y[1]=Z[1]*qa+U[1]*Ca+pa[1]*Fa+xa[1]*N;Y[2]=Z[2]*qa+U[2]*Ca+pa[2]*Fa+xa[2]*N;return Y}function P(Y,Z,U,pa,xa,N){var T=1-N,qa=T*T;const Ca=N*N,Fa=qa*T;qa*=3*N;T*=3*Ca;N*=Ca;Y[0]=Z[0]*Fa+U[0]*qa+pa[0]*T+xa[0]*N;Y[1]=Z[1]*Fa+U[1]*qa+pa[1]*T+xa[1]*N;Y[2]=Z[2]*Fa+U[2]*qa+pa[2]*T+xa[2]*N;return Y}function O(Y,Z){Z=Z||1;var U=c.RANDOM;
const pa=2*U()*Math.PI;U=2*U()-1;const xa=Math.sqrt(1-U*U)*Z;Y[0]=Math.cos(pa)*xa;Y[1]=Math.sin(pa)*xa;Y[2]=U*Z;return Y}function K(Y,Z,U){const pa=Z[0],xa=Z[1];Z=Z[2];Y[0]=U[0]*pa+U[4]*xa+U[8]*Z+U[12];Y[1]=U[1]*pa+U[5]*xa+U[9]*Z+U[13];Y[2]=U[2]*pa+U[6]*xa+U[10]*Z+U[14];return Y}function M(Y,Z,U){const pa=Z[0],xa=Z[1];Z=Z[2];Y[0]=pa*U[0]+xa*U[3]+Z*U[6];Y[1]=pa*U[1]+xa*U[4]+Z*U[7];Y[2]=pa*U[2]+xa*U[5]+Z*U[8];return Y}function I(Y,Z,U){const pa=U[0],xa=U[1],N=U[2],T=Z[0],qa=Z[1];Z=Z[2];let Ca=xa*Z-
N*qa,Fa=N*T-pa*Z,fa=pa*qa-xa*T;U=2*U[3];Y[0]=T+Ca*U+2*(xa*fa-N*Fa);Y[1]=qa+Fa*U+2*(N*Ca-pa*fa);Y[2]=Z+fa*U+2*(pa*Fa-xa*Ca);return Y}function H(Y,Z,U,pa){const xa=[],N=[];xa[0]=Z[0]-U[0];xa[1]=Z[1]-U[1];xa[2]=Z[2]-U[2];N[0]=xa[0];N[1]=xa[1]*Math.cos(pa)-xa[2]*Math.sin(pa);N[2]=xa[1]*Math.sin(pa)+xa[2]*Math.cos(pa);Y[0]=N[0]+U[0];Y[1]=N[1]+U[1];Y[2]=N[2]+U[2];return Y}function L(Y,Z,U,pa){const xa=[],N=[];xa[0]=Z[0]-U[0];xa[1]=Z[1]-U[1];xa[2]=Z[2]-U[2];N[0]=xa[2]*Math.sin(pa)+xa[0]*Math.cos(pa);N[1]=
xa[1];N[2]=xa[2]*Math.cos(pa)-xa[0]*Math.sin(pa);Y[0]=N[0]+U[0];Y[1]=N[1]+U[1];Y[2]=N[2]+U[2];return Y}function aa(Y,Z,U,pa){const xa=[],N=[];xa[0]=Z[0]-U[0];xa[1]=Z[1]-U[1];xa[2]=Z[2]-U[2];N[0]=xa[0]*Math.cos(pa)-xa[1]*Math.sin(pa);N[1]=xa[0]*Math.sin(pa)+xa[1]*Math.cos(pa);N[2]=xa[2];Y[0]=N[0]+U[0];Y[1]=N[1]+U[1];Y[2]=N[2]+U[2];return Y}function R(Y,Z){d(la,Y);d(ia,Z);y(la,la);y(ia,ia);Y=C(la,ia);return 1<Y?0:-1>Y?Math.PI:Math.acos(Y)}function S(Y){return"vec3("+Y[0]+", "+Y[1]+", "+Y[2]+")"}function V(Y,
Z){return Y[0]===Z[0]&&Y[1]===Z[1]&&Y[2]===Z[2]}function ea(Y,Z){if(Y===Z)return!0;const U=Y[0],pa=Y[1];Y=Y[2];const xa=Z[0],N=Z[1];Z=Z[2];const T=c.getEpsilon();return Math.abs(U-xa)<=T*Math.max(1,Math.abs(U),Math.abs(xa))&&Math.abs(pa-N)<=T*Math.max(1,Math.abs(pa),Math.abs(N))&&Math.abs(Y-Z)<=T*Math.max(1,Math.abs(Y),Math.abs(Z))}function ha(Y,Z,U){const pa=U[0]-Z[0],xa=U[1]-Z[1];Z=U[2]-Z[2];U=pa*pa+xa*xa+Z*Z;if(0<U)return U=1/Math.sqrt(U),Y[0]=pa*U,Y[1]=xa*U,Y[2]=Z*U,Y;Y[0]=0;Y[1]=0;Y[2]=0;return Y}
const la=b.create(),ia=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,abs:f,add:u,angle:R,bezier:P,ceil:m,copy:d,cross:F,direction:ha,dist:x,distance:x,div:p,divide:p,dot:C,equals:ea,exactEquals:V,floor:g,hermite:E,inverse:D,len:e,length:e,lerp:G,max:k,min:q,mul:r,multiply:r,negate:B,normalize:y,random:O,rotateX:H,rotateY:L,rotateZ:aa,round:l,scale:v,scaleAndAdd:w,set:n,sign:h,sqrDist:z,sqrLen:A,squaredDistance:z,squaredLength:A,str:S,sub:t,subtract:t,transformMat3:M,transformMat4:K,
transformQuat:I},Symbol.toStringTag,{value:"Module"}));a.abs=f;a.add=u;a.angle=R;a.bezier=P;a.ceil=m;a.copy=d;a.cross=F;a.direction=ha;a.dist=x;a.distance=x;a.div=p;a.divide=p;a.dot=C;a.equals=ea;a.exactEquals=V;a.floor=g;a.hermite=E;a.inverse=D;a.len=e;a.length=e;a.lerp=G;a.max=k;a.min=q;a.mul=r;a.multiply=r;a.negate=B;a.normalize=y;a.random=O;a.rotateX=H;a.rotateY=L;a.rotateZ=aa;a.round=l;a.scale=v;a.scaleAndAdd=w;a.set=n;a.sign=h;a.sqrDist=z;a.sqrLen=A;a.squaredDistance=z;a.squaredLength=A;a.str=
S;a.sub=t;a.subtract=t;a.transformMat3=M;a.transformMat4=K;a.transformQuat=I;a.vec3=b})},"esri/chunks/vec3f64":function(){define(["exports"],function(a){function b(){return[0,0,0]}function c(v){return[v[0],v[1],v[2]]}function e(v,w,x){return[v,w,x]}function d(v){const w=b(),x=Math.min(3,v.length);for(let z=0;z<x;++z)w[z]=v[z];return w}function n(v,w){return new Float64Array(v,w,3)}function u(){return b()}function t(){return[1,1,1]}function r(){return[1,0,0]}function p(){return[0,1,0]}function m(){return[0,
0,1]}const g=b(),f=t(),h=r(),q=p(),k=m(),l=Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_X:h,UNIT_Y:q,UNIT_Z:k,ZEROS:g,clone:c,create:b,createView:n,fromArray:d,fromValues:e,ones:t,unitX:r,unitY:p,unitZ:m,zeros:u},Symbol.toStringTag,{value:"Module"}));a.ONES=f;a.UNIT_X=h;a.UNIT_Y=q;a.UNIT_Z=k;a.ZEROS=g;a.clone=c;a.create=b;a.createView=n;a.fromArray=d;a.fromValues=e;a.ones=t;a.unitX=r;a.unitY=p;a.unitZ=m;a.vec3f64=l;a.zeros=u})},"esri/chunks/common":function(){define(["exports"],
function(a){function b(){return u}function c(g){u=g}function e(g){return g*r}function d(g){return g*p}function n(g,f){return Math.abs(g-f)<=u*Math.max(1,Math.abs(g),Math.abs(f))}let u=1E-6;const t=Math.random,r=Math.PI/180,p=180/Math.PI,m=Object.freeze(Object.defineProperty({__proto__:null,RANDOM:t,equals:n,getEpsilon:b,setEpsilon:c,toDegree:d,toRadian:e},Symbol.toStringTag,{value:"Module"}));a.RANDOM=t;a.common=m;a.equals=n;a.getEpsilon=b;a.setEpsilon=c;a.toDegree=d;a.toRadian=e})},"esri/chunks/vec4":function(){define(["exports",
"./common"],function(a,b){function c(K,M){K[0]=M[0];K[1]=M[1];K[2]=M[2];K[3]=M[3];return K}function e(K,M,I,H,L){K[0]=M;K[1]=I;K[2]=H;K[3]=L;return K}function d(K,M,I){K[0]=M[0]+I[0];K[1]=M[1]+I[1];K[2]=M[2]+I[2];K[3]=M[3]+I[3];return K}function n(K,M,I){K[0]=M[0]-I[0];K[1]=M[1]-I[1];K[2]=M[2]-I[2];K[3]=M[3]-I[3];return K}function u(K,M,I){K[0]=M[0]*I[0];K[1]=M[1]*I[1];K[2]=M[2]*I[2];K[3]=M[3]*I[3];return K}function t(K,M,I){K[0]=M[0]/I[0];K[1]=M[1]/I[1];K[2]=M[2]/I[2];K[3]=M[3]/I[3];return K}function r(K,
M){K[0]=Math.ceil(M[0]);K[1]=Math.ceil(M[1]);K[2]=Math.ceil(M[2]);K[3]=Math.ceil(M[3]);return K}function p(K,M){K[0]=Math.floor(M[0]);K[1]=Math.floor(M[1]);K[2]=Math.floor(M[2]);K[3]=Math.floor(M[3]);return K}function m(K,M,I){K[0]=Math.min(M[0],I[0]);K[1]=Math.min(M[1],I[1]);K[2]=Math.min(M[2],I[2]);K[3]=Math.min(M[3],I[3]);return K}function g(K,M,I){K[0]=Math.max(M[0],I[0]);K[1]=Math.max(M[1],I[1]);K[2]=Math.max(M[2],I[2]);K[3]=Math.max(M[3],I[3]);return K}function f(K,M){K[0]=Math.round(M[0]);
K[1]=Math.round(M[1]);K[2]=Math.round(M[2]);K[3]=Math.round(M[3]);return K}function h(K,M,I){K[0]=M[0]*I;K[1]=M[1]*I;K[2]=M[2]*I;K[3]=M[3]*I;return K}function q(K,M,I,H){K[0]=M[0]+I[0]*H;K[1]=M[1]+I[1]*H;K[2]=M[2]+I[2]*H;K[3]=M[3]+I[3]*H;return K}function k(K,M){const I=M[0]-K[0],H=M[1]-K[1],L=M[2]-K[2];K=M[3]-K[3];return Math.sqrt(I*I+H*H+L*L+K*K)}function l(K,M){const I=M[0]-K[0],H=M[1]-K[1],L=M[2]-K[2];K=M[3]-K[3];return I*I+H*H+L*L+K*K}function v(K){const M=K[0],I=K[1],H=K[2];K=K[3];return Math.sqrt(M*
M+I*I+H*H+K*K)}function w(K){const M=K[0],I=K[1],H=K[2];K=K[3];return M*M+I*I+H*H+K*K}function x(K,M){K[0]=-M[0];K[1]=-M[1];K[2]=-M[2];K[3]=-M[3];return K}function z(K,M){K[0]=1/M[0];K[1]=1/M[1];K[2]=1/M[2];K[3]=1/M[3];return K}function A(K,M){const I=M[0],H=M[1],L=M[2];M=M[3];let aa=I*I+H*H+L*L+M*M;0<aa&&(aa=1/Math.sqrt(aa),K[0]=I*aa,K[1]=H*aa,K[2]=L*aa,K[3]=M*aa);return K}function B(K,M){return K[0]*M[0]+K[1]*M[1]+K[2]*M[2]+K[3]*M[3]}function D(K,M,I,H){const L=M[0],aa=M[1],R=M[2];M=M[3];K[0]=L+
H*(I[0]-L);K[1]=aa+H*(I[1]-aa);K[2]=R+H*(I[2]-R);K[3]=M+H*(I[3]-M);return K}function y(K,M){var I=b.RANDOM;M=M||1;let H,L,aa,R,S,V;do H=2*I()-1,L=2*I()-1,S=H*H+L*L;while(1<=S);do aa=2*I()-1,R=2*I()-1,V=aa*aa+R*R;while(1<=V);I=Math.sqrt((1-S)/V);K[0]=M*H;K[1]=M*L;K[2]=M*aa*I;K[3]=M*R*I;return K}function C(K,M,I){const H=M[0],L=M[1],aa=M[2];M=M[3];K[0]=I[0]*H+I[4]*L+I[8]*aa+I[12]*M;K[1]=I[1]*H+I[5]*L+I[9]*aa+I[13]*M;K[2]=I[2]*H+I[6]*L+I[10]*aa+I[14]*M;K[3]=I[3]*H+I[7]*L+I[11]*aa+I[15]*M;return K}function F(K,
M,I){var H=M[0];const L=M[1],aa=M[2],R=I[0],S=I[1],V=I[2];I=I[3];const ea=I*H+S*aa-V*L,ha=I*L+V*H-R*aa,la=I*aa+R*L-S*H;H=-R*H-S*L-V*aa;K[0]=ea*I+H*-R+ha*-V-la*-S;K[1]=ha*I+H*-S+la*-R-ea*-V;K[2]=la*I+H*-V+ea*-S-ha*-R;K[3]=M[3];return K}function G(K){return"vec4("+K[0]+", "+K[1]+", "+K[2]+", "+K[3]+")"}function E(K,M){return K[0]===M[0]&&K[1]===M[1]&&K[2]===M[2]&&K[3]===M[3]}function P(K,M){const I=K[0],H=K[1],L=K[2];K=K[3];const aa=M[0],R=M[1],S=M[2];M=M[3];const V=b.getEpsilon();return Math.abs(I-
aa)<=V*Math.max(1,Math.abs(I),Math.abs(aa))&&Math.abs(H-R)<=V*Math.max(1,Math.abs(H),Math.abs(R))&&Math.abs(L-S)<=V*Math.max(1,Math.abs(L),Math.abs(S))&&Math.abs(K-M)<=V*Math.max(1,Math.abs(K),Math.abs(M))}const O=Object.freeze(Object.defineProperty({__proto__:null,add:d,ceil:r,copy:c,dist:k,distance:k,div:t,divide:t,dot:B,equals:P,exactEquals:E,floor:p,inverse:z,len:v,length:v,lerp:D,max:g,min:m,mul:u,multiply:u,negate:x,normalize:A,random:y,round:f,scale:h,scaleAndAdd:q,set:e,sqrDist:l,sqrLen:w,
squaredDistance:l,squaredLength:w,str:G,sub:n,subtract:n,transformMat4:C,transformQuat:F},Symbol.toStringTag,{value:"Module"}));a.add=d;a.ceil=r;a.copy=c;a.dist=k;a.distance=k;a.div=t;a.divide=t;a.dot=B;a.equals=P;a.exactEquals=E;a.floor=p;a.inverse=z;a.len=v;a.length=v;a.lerp=D;a.max=g;a.min=m;a.mul=u;a.multiply=u;a.negate=x;a.normalize=A;a.random=y;a.round=f;a.scale=h;a.scaleAndAdd=q;a.set=e;a.sqrDist=l;a.sqrLen=w;a.squaredDistance=l;a.squaredLength=w;a.str=G;a.sub=n;a.subtract=n;a.transformMat4=
C;a.transformQuat=F;a.vec4=O})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(a,b){a.neverReached=function(c){};a.neverReachedSilent=function(c){};a.typeCast=function(c){return()=>c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/Error ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;a.NavigationConstraint=g=function(f){function h(k){k=q.call(this,k);k.type="none";return k}b._inherits(h,f);var q=b._createSuper(h);h.prototype.clone=function(){return new g({type:this.type})};return b._createClass(h)}(e.JSONSupport);c.__decorate([p.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=g=c.__decorate([m.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(a,b,c){a.enumeration=function(e,d={}){e=e instanceof b.JSONMap?e:new b.JSONMap(e,d);e={type:d?.ignoreUnknown??!0?e.apiValues:String,json:{type:e.jsonValues,read:d?.readOnly?!1:{reader:e.read},write:{writer:e.write}}};void 0!==d?.readOnly&&(e.readOnly=!!d.readOnly);void 0!==d?.default&&(e.json.default=d.default);void 0!==d?.name&&(e.json.name=
d.name);void 0!==d?.nonNullable&&(e.nonNullable=d.nonNullable);return c.property(e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=function(c){c=b.ensureInteger(100*(1-c));return Math.max(0,Math.min(c,100))};a.transparencyToOpacity=function(c){return Math.max(0,Math.min(1-c/100,1))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/CollectionFlattener":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Collection ./maybe ./has ./Error ./Logger ./accessorSupport/watch ./accessorSupport/trackingUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p,m){d=function(g){function f(q){q=h.call(this,q);q.getCollections=null;return q}a._inherits(f,g);var h=a._createSuper(f);g=f.prototype;g.initialize=function(){this.own(r.autorun(()=>
this._refresh()))};g.destroy=function(){this.getCollections=null};g._refresh=function(){const q=e.isSome(this.getCollections)?this.getCollections():null;if(e.isNone(q))this.removeAll();else{var k=0;for(const l of q)e.isSome(l)&&(k=this._processCollection(k,l));this.splice(k,this.length)}};g._createNewInstance=function(q){return new c(q)};g._processCollection=function(q,k){if(!k)return q;const l=this.itemFilterFunction??(v=>!!v);for(const v of k)if(v&&(l(v)&&(k=this.indexOf(v,q),0<=k?k!==q&&this.reorder(v,
q):this.add(v,q),++q),this.getChildrenFunction))if(k=this.getChildrenFunction(v),Array.isArray(k))for(const w of k)q=this._processCollection(q,w);else q=this._processCollection(q,k);return q};return a._createClass(f)}(c);b.__decorate([p.property()],d.prototype,"getCollections",void 0);b.__decorate([p.property()],d.prototype,"getChildrenFunction",void 0);b.__decorate([p.property()],d.prototype,"itemFilterFunction",void 0);return d=b.__decorate([m.subclass("esri.core.CollectionFlattener")],d)})},"esri/layers/support/editableLayers":function(){define(["exports",
"./layerUtils"],function(a,b){a.isEditableLayer=function(c){return!(!c?.loaded||!b.getEffectiveLayerCapabilities(c)?.operations?.supportsEditing||"editingEnabled"in c&&!b.getEffectiveEditingEnabled(c))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ./basemapDefinitions".split(" "),function(a,b,c,e,d,n,u,t,
r){function p(y,C){let F;if("string"===typeof y){if(!(y in r.esriBasemapDefinitions))return C=Object.entries(r.esriBasemapDefinitions).filter(([,G])=>c.apiKey&&!G.classic||!c.apiKey&&G.classic&&!G.deprecated).map(([G])=>`"${G}"`).join(", "),B.warn(`Unable to find basemap definition for: ${y}. Try one of these: ${C}`),null;C&&(F=C[y]);F||(F=b.fromId(y),C&&(C[y]=F))}else F=t.ensureType(b,y);F?.destroyed&&(B.warn("The provided basemap is already destroyed",{basemap:F}),F=null);return F}function m(y,
C){const F=new e;y.forEach(G=>{const E=C.find(P=>z(k(G),k(P)))||G;F.includes(E)?F.push(G):F.push(E)});return F}function g(y){if(f(y.url))return!0;if("vector-tile"===y.type)for(const C in y.sourceNameToSource)if(f(y.sourceNameToSource[C]?.sourceUrl))return!0;return!1}function f(y){if(!y)return!1;y=new u.Url(u.makeAbsolute(y));return!!y.authority&&D.test(y.authority)}function h(y){return y?!y.loaded&&y.resourceInfo?l(y.resourceInfo.data):{baseLayers:q(y.baseLayers),referenceLayers:q(y.referenceLayers)}:
null}function q(y){return(e.isCollection(y)?y.toArray():y).map(k)}function k(y){return{type:y.type,url:A("urlTemplate"in y&&y.urlTemplate||y.url||"styleUrl"in y&&y.styleUrl||""),minScale:"minScale"in y&&null!=y.minScale?y.minScale:0,maxScale:"maxScale"in y&&null!=y.maxScale?y.maxScale:0,opacity:null!=y.opacity?y.opacity:1,visible:null!=y.visible?!!y.visible:!0,sublayers:"map-image"!==y.type&&"wms"!==y.type||!n.isSome(y.sublayers)?void 0:y.sublayers?.map(C=>({id:C.id,visible:C.visible})),activeLayerId:"wmts"===
y.type?y.activeLayer?.id:void 0}}function l(y){return y?{baseLayers:v((y.baseMapLayers??[]).filter(C=>!C.isReference)),referenceLayers:v((y.baseMapLayers??[]).filter(C=>C.isReference))}:null}function v(y){return y.map(C=>{let F;switch(C.layerType){case "VectorTileLayer":F="vector-tile";break;case "ArcGISTiledMapServiceLayer":F="tile";break;default:F="unknown"}return{type:F,url:A(C.templateUrl||C.urlTemplate||C.styleUrl||C.url),minScale:null!=C.minScale?C.minScale:0,maxScale:null!=C.maxScale?C.maxScale:
0,opacity:null!=C.opacity?C.opacity:1,visible:null!=C.visibility?!!C.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function w(y,C,F){return null!=y!==(null!=C)?"not-equal":y&&C?x(y.baseLayers,C.baseLayers)?x(y.referenceLayers,C.referenceLayers)?"equal":F.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function x(y,C){if(y.length!==C.length)return!1;for(let F=0;F<y.length;F++)if(!z(y[F],C[F]))return!1;return!0}function z(y,C){if(y.type!==C.type||"scene"===y.type||y.url!==
C.url||y.minScale!==C.minScale||y.maxScale!==C.maxScale||y.visible!==C.visible||y.opacity!==C.opacity)return!1;if(n.isSome(y.activeLayerId)||n.isSome(C.activeLayerId))return y.activeLayerId===C.activeLayerId;if(n.isSome(y.sublayers)||n.isSome(C.sublayers)){if(n.isNone(y.sublayers)||n.isNone(C.sublayers)||y.sublayers.length!==C.sublayers.length)return!1;for(let F=0;F<y.sublayers.length;F++){const G=y.sublayers.at(F),E=C.sublayers.at(F);if(G?.id!==E?.id||G?.visible!==E?.visible)return!1}}return!0}function A(y){return y?
u.normalize(y).replace(/^\s*https?:/i,"").toLowerCase():""}const B=d.getLogger("esri.support.basemapUtils"),D=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(y,C=null){y=p(y);if(!y)return null;const F=new b({id:y.id,title:y.title,baseLayers:y.baseLayers.slice(),referenceLayers:y.referenceLayers.slice()});C&&(F.baseLayers=m(F.baseLayers,C.baseLayers),F.referenceLayers=m(F.referenceLayers,C.referenceLayers));F.load().catch(()=>{});F.portalItem=y.portalItem;return F};
a.contentEquals=function(y,C){if(y===C)return!0;y=h(y);C=h(C);return"equal"===w(y,C,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(y){for(const C in y){const F=y[C];!1===F?.destroyed&&F.destroy();delete y[C]}};a.ensureType=p;a.findSpatialReference=function(y,C){if(n.isNone(C)||n.isNone(y))return{spatialReference:null,updating:!1};if("not-loaded"===C.loadStatus)return C.load(),{spatialReference:null,updating:!0};if(C.spatialReference)return{spatialReference:C.spatialReference,
updating:!1};if(0===C.baseLayers.length)return{spatialReference:null,updating:!1};C=C.baseLayers.getItemAt(0);switch(C.loadStatus){case "not-loaded":C.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,updating:!1}}C=(("supportedSpatialReferences"in C?C.supportedSpatialReferences:null)||["tileInfo"in C?C.tileInfo?.spatialReference:C.spatialReference]).filter(Boolean);const F=y.spatialReference;return F?{spatialReference:C.find(G=>F.equals(G))??
C[0]??null,updating:!1}:{spatialReference:C[0],updating:!1}};a.getWellKnownBasemapId=function(y){let C=null;y=h(y);const F=!y?.baseLayers.length;for(const E in r.esriBasemapDefinitions){var G=l(r.esriBasemapDefinitions[E]);G=w(y,G,{mustMatchReferences:F});if("equal"===G){C=E;break}"base-layers-equal"===G&&(C=E)}return C};a.hasDeveloperBasemapLayer=function(y){return!!y?.baseLayers.concat(y.referenceLayers).some(g)};a.isDeveloperBasemapLayer=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/support/collectionUtils":function(){define(["exports","../core/CollectionFlattener"],function(a,b){a.createFlattenedTablesCollection=function(c){return new b({getCollections:()=>[c.tables,c.layers],getChildrenFunction:e=>{const d=[];"tables"in e&&d.push(e.tables);"layers"in e&&d.push(e.layers);return d},itemFilterFunction:e=>{const d=e.parent;return!!d&&"tables"in d&&d.tables.includes(e)}})};a.destroyMap=function(c){for(const e of c.values())e?.destroy();c.clear()};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/support/groundUtils":function(){define(["exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,c,e){const d={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};
a.ensureType=function(n){let u=null;"string"===typeof n?n in d?u=new b({resourceInfo:{data:{layers:[d[n]]}}}):c.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${n}. Try "world-elevation"`):u=e.ensureType(b,n);return u};a.groundElevationLayers=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/LayersMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){function h(q,k,l){if(q)for(let w=0,x=q.length;w<x;w++){var v=q.getItemAt(w);if(v[k]===l||"group"===v?.type&&(v=h(v.layers,k,l)))return v}}a.LayersMixin=q=>{q=function(k){function l(...w){var x=v.call(this,...w);x.layers=new e;x.addHandles([x.layers.on("before-add",z=>{z=z.item;z.parent&&"remove"in z.parent&&z.parent.remove(z)}),x.layers.on("after-add",z=>{z=z.item;z.parent=b._assertThisInitialized(x);x.layerAdded(z);"elevation"!==z.type&&"base-elevation"!==z.type||
n.getLogger(x.declaredClass).error(`Layer 'title:${z.title}, id:${z.id}' of type '${z.type}' is not supported as an operational layer and will therefore be ignored.`)}),x.layers.on("after-remove",z=>{z=z.item;z.parent=null;x.layerRemoved(z)})]);return x}b._inherits(l,k);var v=b._createSuper(l);k=l.prototype;k.destroy=function(){const w=this.layers.toArray();for(const x of w)x.destroy();this.layers.destroy()};k.add=function(w,x){const z=this.layers;x=z.getNextIndex(x);w instanceof f?w.parent===this?
this.reorder(w,x):z.add(w,x):u.isPromiseLike(w)?w.then(A=>{this.destroyed||this.add(A,x)}):n.getLogger(this.declaredClass).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")};k.addMany=function(w,x){const z=this.layers;let A=z.getNextIndex(x);w.slice().forEach(B=>{B.parent===this?this.reorder(B,A):(z.add(B,A),A+=1)})};k.findLayerById=function(w){return h(this.layers,"id",w)};k.findLayerByUid=function(w){return h(this.layers,"uid",w)};k.remove=function(w){return this.layers.remove(w)};
k.removeMany=function(w){return this.layers.removeMany(w)};k.removeAll=function(){return this.layers.removeAll()};k.reorder=function(w,x){return this.layers.reorder(w,x)};k.layerAdded=function(w){};k.layerRemoved=function(w){};b._createClass(l,[{key:"layers",set:function(w){this._set("layers",d.referenceSetter(w,this._get("layers")))}}]);return l}(q);c.__decorate([t.property()],q.prototype,"layers",null);return q=c.__decorate([g.subclass("esri.support.LayersMixin")],q)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/Layer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/fromPortalItem ../geometry/Extent ../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x){let z=0;e=function(A){function B(){var y=D.apply(this,arguments);y.attributionDataUrl=null;y.fullExtent=new w(-180,-90,180,90,x.WGS84);y.id=Date.now().toString(16)+"-layer-"+z++;y.legendEnabled=!0;y.listMode="show";y.opacity=1;y.parent=null;y.popupEnabled=!0;y.attributionVisible=!0;y.spatialReference=x.WGS84;y.title=null;y.type=null;y.url=null;y.visible=!0;return y}b._inherits(B,A);var D=b._createSuper(B);B.fromArcGISServerUrl=async function(y){y=
"string"===typeof y?{url:y}:y;return(await new Promise((C,F)=>a(["./support/arcgisLayers"],C,F))).fromUrl(y)};B.fromPortalItem=function(y){return v.fromPortalItem(y)};A=B.prototype;A.initialize=function(){this.when().catch(y=>{m.isAbortError(y)||p.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:y})})};A.destroy=function(){if(this.parent){const y=this.parent;"layers"in y&&y.layers.includes(this)?y.layers.remove(this):
"tables"in y&&y.tables.includes(this)?y.tables.remove(this):"baseLayers"in y&&y.baseLayers.includes(this)?y.baseLayers.remove(this):"baseLayers"in y&&y.referenceLayers.includes(this)&&y.referenceLayers.remove(this)}};A.fetchAttributionData=async function(){const y=this.attributionDataUrl;if(this.hasAttributionData&&y)return(await d(y,{query:{f:"json"},responseType:"json"})).data;throw new n("layer:no-attribution-data","Layer does not have attribution data");};b._createClass(B,[{key:"hasAttributionData",
get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){return g.urlToObject(this.url)}}]);return B}(u.EventedMixin(t.IdentifiableMixin(r)));c.__decorate([f.property({type:String})],e.prototype,"attributionDataUrl",void 0);c.__decorate([f.property({type:w})],e.prototype,"fullExtent",void 0);c.__decorate([f.property({readOnly:!0})],e.prototype,"hasAttributionData",null);c.__decorate([f.property({type:String,clonable:!1})],e.prototype,"id",void 0);c.__decorate([f.property({type:Boolean,
nonNullable:!0})],e.prototype,"legendEnabled",void 0);c.__decorate([f.property({type:["show","hide","hide-children"]})],e.prototype,"listMode",void 0);c.__decorate([f.property({type:Number,range:{min:0,max:1},nonNullable:!0})],e.prototype,"opacity",void 0);c.__decorate([f.property({clonable:!1})],e.prototype,"parent",void 0);c.__decorate([f.property({readOnly:!0})],e.prototype,"parsedUrl",null);c.__decorate([f.property({type:Boolean})],e.prototype,"popupEnabled",void 0);c.__decorate([f.property({type:Boolean})],
e.prototype,"attributionVisible",void 0);c.__decorate([f.property({type:x})],e.prototype,"spatialReference",void 0);c.__decorate([f.property({type:String})],e.prototype,"title",void 0);c.__decorate([f.property({readOnly:!0,json:{read:!1}})],e.prototype,"type",void 0);c.__decorate([f.property()],e.prototype,"url",void 0);c.__decorate([f.property({type:Boolean,nonNullable:!0})],e.prototype,"visible",void 0);return e=c.__decorate([l.subclass("esri.layers.Layer")],e)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){const g={base:e,key:"type",typeMap:{extent:c,multipoint:d,point:n,polyline:t,polygon:u}};b=b.ensureOneOfType(g);a.Extent=c;a.BaseGeometry=e;a.Multipoint=d;a.Point=n;a.Polygon=u;a.Polyline=t;a.SpatialReference=r;a.featureGeometryTypeKebabDictionary=p.featureGeometryTypeKebabDictionary;a.typeKebabDictionary=p.typeKebabDictionary;a.fromJSON=m.fromJSON;a.ensureType=b;a.geometryTypes=g;a.isGeometry=function(f){return f instanceof e};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/Multipoint":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(a,b,c,e,d,n,u,t,r,p,m){function g(h){return(q,k)=>null==q?k:null==k?q:h(q,k)}var f;d=f=function(h){function q(...l){l=k.call(this,...l);
l.points=[];l.type="multipoint";return l}a._inherits(q,h);var k=a._createSuper(q);h=q.prototype;h.normalizeCtorArgs=function(l,v){if(!l&&!v)return{};const w={};Array.isArray(l)?(w.points=l,w.spatialReference=v):!l||"esri.geometry.SpatialReference"!==l.declaredClass&&null==l.wkid?(l.points&&(w.points=l.points),l.spatialReference&&(w.spatialReference=l.spatialReference),l.hasZ&&(w.hasZ=l.hasZ),l.hasM&&(w.hasM=l.hasM)):w.spatialReference=l;if(l=w.points&&w.points[0])void 0===w.hasZ&&void 0===w.hasM?
(w.hasZ=2<l.length,w.hasM=!1):void 0===w.hasZ?w.hasZ=3<l.length:void 0===w.hasM&&(w.hasM=3<l.length);return w};h.writePoints=function(l,v){v.points=c.clone(this.points)};h.addPoint=function(l){m.updateSupportFromPoint(this,l);Array.isArray(l)?this.points.push(l):this.points.push(l.toArray());this.notifyChange("points");return this};h.clone=function(){const l={points:c.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(l.hasZ=!0);this.hasM&&(l.hasM=!0);return new f(l)};h.getPoint=
function(l){if(!this._validateInputs(l))return null;l=this.points[l];const v={x:l[0],y:l[1],spatialReference:this.spatialReference};let w=2;this.hasZ&&(v.z=l[2],w=3);this.hasM&&(v.m=l[w]);return new p(v)};h.removePoint=function(l){if(!this._validateInputs(l))return null;l=new p(this.points.splice(l,1)[0],this.spatialReference);this.notifyChange("points");return l};h.setPoint=function(l,v){if(!this._validateInputs(l))return this;m.updateSupportFromPoint(this,v);Array.isArray(v)||(v=v.toArray());this.points[l]=
v;this.notifyChange("points");return this};h.toJSON=function(l){return this.write({},l)};h._validateInputs=function(l){return null!=l&&0<=l&&l<this.points.length};a._createClass(q,[{key:"cache",get:function(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const l=this.points;if(!l.length)return null;const v=new t,w=this.hasZ,x=this.hasM,z=w?3:2;var A=l[0];const B=g(Math.min),D=g(Math.max);
let [y,C]=A,[F,G]=A,E,P,O,K;for(let M=0,I=l.length;M<I;M++){A=l[M];const [H,L]=A;y=B(y,H);C=B(C,L);F=D(F,H);G=D(G,L);if(w&&2<A.length){const aa=A[2];E=B(E,aa);O=D(O,aa)}x&&A.length>z&&(A=A[z],P=B(P,A),K=D(K,A))}v.xmin=y;v.ymin=C;v.xmax=F;v.ymax=G;v.spatialReference=this.spatialReference;w?(v.zmin=E,v.zmax=O):(v.zmin=void 0,v.zmax=void 0);x?(v.mmin=P,v.mmax=K):(v.mmin=void 0,v.mmax=void 0);return v}}]);return q}(r);b.__decorate([e.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([e.property()],
d.prototype,"extent",null);b.__decorate([e.property({type:[[Number]],json:{write:{isRequired:!0}}})],d.prototype,"points",void 0);b.__decorate([u.writer("points")],d.prototype,"writePoints",null);d=f=b.__decorate([n.subclass("esri.geometry.Multipoint")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/geometry/support/zmUtils":function(){define(["exports"],function(a){a.updateSupportFromPoint=function(b,c,e=!1){let {hasM:d,hasZ:n}=b;Array.isArray(c)?4!==c.length||d||n?3===c.length&&e&&!d?
(n=!0,d=!1):3===c.length&&d&&n&&(n=d=!1):n=d=!0:(n=!n&&c.hasZ&&(!d||c.hasM),d=!d&&c.hasM&&(!n||c.hasZ));b.hasZ=n;b.hasM=d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polygon":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x){var z;u=z=function(A){function B(...y){y=D.call(this,...y);y.rings=[];y.type="polygon";return y}a._inherits(B,A);var D=a._createSuper(B);B.fromExtent=function(y){var C=y.clone().normalize();y=y.spatialReference;let F=!1,G=!1;for(const E of C)E.hasZ&&(F=!0),E.hasM&&(G=!0);C={rings:C.map(E=>{const P=[[E.xmin,E.ymin],[E.xmin,E.ymax],[E.xmax,E.ymax],[E.xmax,E.ymin],[E.xmin,E.ymin]];if(F&&E.hasZ){var O=E.zmin+.5*(E.zmax-E.zmin);for(let K=0;K<P.length;K++)P[K].push(O)}if(G&&
E.hasM)for(E=E.mmin+.5*(E.mmax-E.mmin),O=0;O<P.length;O++)P[O].push(E);return P}),spatialReference:y};F&&(C.hasZ=!0);G&&(C.hasM=!0);return new z(C)};A=B.prototype;A.normalizeCtorArgs=function(y,C){let F=null,G,E,P=null;y&&!Array.isArray(y)?(F=y.rings??null,C||(y.spatialReference?C=y.spatialReference:y.rings||(C=y)),G=y.hasZ,E=y.hasM):F=y;F=F||[];C=C||f.WGS84;F.length&&F[0]&&null!=F[0][0]&&"number"===typeof F[0][0]&&(F=[F]);if(P=F[0]&&F[0][0])void 0===G&&void 0===E?(G=2<P.length,E=3<P.length):void 0===
G?G=E?3<P.length:2<P.length:void 0===E&&(E=G?3<P.length:2<P.length);return{rings:F,spatialReference:C,hasZ:G,hasM:E}};A.writeRings=function(y,C){C.rings=e.clone(this.rings)};A.addRing=function(y){if(y){var C=this.rings,F=C.length;if(Array.isArray(y[0]))C[F]=y.concat();else{const G=[];for(let E=0,P=y.length;E<P;E++)G[E]=y[E].toArray();C[F]=G}this.notifyChange("rings");return this}};A.clone=function(){const y=new z;y.spatialReference=this.spatialReference;y.rings=e.clone(this.rings);y.hasZ=this.hasZ;
y.hasM=this.hasM;return y};A.equals=function(y){if(this===y)return!0;if(d.isNone(y))return!1;var C=this.spatialReference,F=y.spatialReference;if(d.isSome(C)!==d.isSome(F)||d.isSome(C)&&d.isSome(F)&&!C.equals(F)||this.rings.length!==y.rings.length)return!1;C=([G,E,P,O],[K,M,I,H])=>G===K&&E===M&&(null==P&&null==I||P===I)&&(null==O&&null==H||O===H);for(F=0;F<this.rings.length;F++)if(!c.equals(this.rings[F],y.rings[F],C))return!1;return!0};A.contains=function(y){if(!y)return!1;const C=w.project(y,this.spatialReference);
return q.polygonContainsPoint(this,d.isSome(C)?C:y)};A.isClockwise=function(y){y=Array.isArray(y[0])?y:y.map(C=>this.hasZ?this.hasM?[C.x,C.y,C.z,C.m]:[C.x,C.y,C.z]:[C.x,C.y]);return k.isClockwise(y,this.hasM,this.hasZ)};A.getPoint=function(y,C){if(!this._validateInputs(y,C))return null;y=this.rings[y][C];C=this.hasZ;const F=this.hasM;return C&&!F?new g(y[0],y[1],y[2],void 0,this.spatialReference):F&&!C?new g(y[0],y[1],void 0,y[2],this.spatialReference):C&&F?new g(y[0],y[1],y[2],y[3],this.spatialReference):
new g(y[0],y[1],this.spatialReference)};A.insertPoint=function(y,C,F){if(!this._validateInputs(y,C,!0))return this;x.updateSupportFromPoint(this,F);Array.isArray(F)||(F=F.toArray());this.rings[y].splice(C,0,F);this.notifyChange("rings");return this};A.removePoint=function(y,C){if(!this._validateInputs(y,C))return null;y=new g(this.rings[y].splice(C,1)[0],this.spatialReference);this.notifyChange("rings");return y};A.removeRing=function(y){if(!this._validateInputs(y,null))return null;y=this.rings.splice(y,
1)[0];const C=this.spatialReference;y=y.map(F=>new g(F,C));this.notifyChange("rings");return y};A.setPoint=function(y,C,F){if(!this._validateInputs(y,C))return this;x.updateSupportFromPoint(this,F);Array.isArray(F)||(F=F.toArray());this.rings[y][C]=F;this.notifyChange("rings");return this};A._validateInputs=function(y,C,F=!1){return null==y||0>y||y>=this.rings.length||null!=C&&(y=this.rings[y],F&&(0>C||C>y.length)||!F&&(0>C||C>=y.length))?!1:!0};A.toJSON=function(y){return this.write({},y)};a._createClass(B,
[{key:"cache",get:function(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"centroid",get:function(){const y=h.polygonCentroid(this);if(!y||isNaN(y[0])||isNaN(y[1])||this.hasZ&&isNaN(y[2]))return null;const C=new g;C.x=y[0];C.y=y[1];C.spatialReference=this.spatialReference;this.hasZ&&(C.z=y[2]);return C}},{key:"extent",get:function(){const {spatialReference:y}=this;var C=l.getPolygonExtent(this);if(!C)return null;
C=new p(C);C.spatialReference=y;return C}},{key:"isSelfIntersecting",get:function(){return v.isSelfIntersecting(this.rings)}}]);return B}(m);b.__decorate([n.property({readOnly:!0})],u.prototype,"cache",null);b.__decorate([n.property({readOnly:!0})],u.prototype,"centroid",null);b.__decorate([n.property({readOnly:!0})],u.prototype,"extent",null);b.__decorate([n.property({readOnly:!0})],u.prototype,"isSelfIntersecting",null);b.__decorate([n.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],
u.prototype,"rings",void 0);b.__decorate([r.writer("rings")],u.prototype,"writeRings",null);u=z=b.__decorate([t.subclass("esri.geometry.Polygon")],u);u.prototype.toJSON.isDefaultToJSON=!0;return u})},"esri/geometry/support/centroid":function(){define(["exports","../geometryCursorCollectUtils","./coordsUtils"],function(a,b,c){function e(p,m){if(!p||!p.length)return null;const g=[],f=[],h=m?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let q=
0,k=p.length;q<k;q++){const l=d(p[q],m,h);l&&f.push(l)}f.sort((q,k)=>{let l=q[2]-k[2];0===l&&m&&(l=q[4]-k[4]);return l});f.length&&(g[0]=f[0][0],g[1]=f[0][1],m&&(g[2]=f[0][3]),g[0]<h[0]||g[0]>h[1]||g[1]<h[2]||g[1]>h[3]||m&&(g[2]<h[4]||g[2]>h[5]))&&(g.length=0);if(!g.length)if(p=p[0]&&p[0].length?n(p[0],m):null)g[0]=p[0],g[1]=p[1],m&&2<p.length&&(g[2]=p[2]);else return null;return g}function d(p,m,g){let f=0,h=0,q=0,k=0,l=0;const v=p.length?p[0][0]:0,w=p.length?p[0][1]:0,x=p.length&&m?p[0][2]:0;for(let D=
0;D<p.length;D++){var z=p[D],A=p[(D+1)%p.length];const [y,C,F]=z;var B=y-v;const G=C-w,[E,P,O]=A,K=E-v,M=P-w,I=B*M-K*G;k+=I;f+=(B+K)*I;h+=(G+M)*I;m&&2<z.length&&2<A.length&&(z=F-x,A=O-x,B=B*A-K*z,q+=(z+A)*B,l+=B);y<g[0]&&(g[0]=y);y>g[1]&&(g[1]=y);C<g[2]&&(g[2]=C);C>g[3]&&(g[3]=C);m&&(F<g[4]&&(g[4]=F),F>g[5]&&(g[5]=F))}0<k&&(k*=-1);0<l&&(l*=-1);if(!k)return null;k*=.5;l*=.5;p=[f/(6*k)+v,h/(6*k)+w,k];m&&(g[4]===g[5]||0===l?(p[3]=(g[4]+g[5])/2,p[4]=0):(p[3]=q/(6*l)+x,p[4]=l));return p}function n(p,m){const g=
m?[0,0,0]:[0,0],f=m?[0,0,0]:[0,0];let h=0,q=0,k=0,l=0;for(let w=0,x=p.length;w<x-1;w++){var v=p[w];const z=p[w+1];if(v&&z){g[0]=v[0];g[1]=v[1];f[0]=z[0];f[1]=z[1];m&&2<v.length&&2<z.length&&(g[2]=v[2],f[2]=z[2]);const A=c.getLength(g,f);A&&(h+=A,v=c.getMidpoint(v,z),q+=A*v[0],k+=A*v[1],m&&2<v.length&&(l+=A*v[2]))}}return 0<h?m?[q/h,k/h,l/h]:[q/h,k/h]:p.length?p[0]:null}function u(p){const {hasZ:m,numPaths:g}=p;if(0===g)return null;const f=[],h=[],q=m?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,
Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(p.reset();p.nextPath();){const k=d(b.collectRing(p),p.hasZ,q);k&&h.push(k)}h.sort((k,l)=>{let v=k[2]-l[2];0===v&&m&&(v=k[4]-l[4]);return v});h.length&&(f[0]=h[0][0],f[1]=h[0][1],m&&(f[2]=h[0][3]),f[0]<q[0]||f[0]>q[1]||f[1]<q[2]||f[1]>q[3]||m&&(f[2]<q[4]||f[2]>q[5]))&&(f.length=0);if(!f.length)if(p.reset(),
p.nextPath(),p=p.numPoints?t(p):null)f[0]=p[0],f[1]=p[1],m&&2<p.length&&(f[2]=p[2]);else return null;return f}function t(p){const {hasZ:m}=p,g=m?[0,0,0]:[0,0],f=m?[0,0,0]:[0,0];let h=0,q=0,k=0,l=0;if(p.nextPoint()){var v=p.x,w=p.y;let x=p.z;for(;p.nextPoint();){const z=p.x,A=p.y,B=p.z;g[0]=v;g[1]=w;f[0]=z;f[1]=A;m&&(g[2]=x,f[2]=B);if(v=c.getLength(g,f))h+=v,w=c.getMidpoint(g,f),q+=v*w[0],k+=v*w[1],m&&2<w.length&&(l+=v*w[2]);v=z;w=A;x=B}}return 0<h?m?[q/h,k/h,l/h]:[q/h,k/h]:p.numPoints?(p.seekPathFront(),
p.nextPoint(),[p.x,p.y]):null}const r=1/3;a.extentCentroid=function(p){return p?p.hasZ?[p.xmax-p.xmin/2,p.ymax-p.ymin/2,p.zmax-p.zmin/2]:[p.xmax-p.xmin/2,p.ymax-p.ymin/2]:null};a.lineCentroid=n;a.lineCentroidCursor=t;a.polygonCentroid=function(p){return p?e(p.rings,p.hasZ??!1):null};a.ringCentroid=d;a.ringsCentroid=e;a.ringsCentroidCursor=u;a.weightedAreaCentroid=function(p){let m=0;for(p.reset();p.nextPath();)m+=c.getRingAreaCursor(p);if(1E-6>m)return(p=u(p))?[p[0],p[1]]:null;const g=[0,0];p.reset();
if(!p.nextPath()||!p.nextPoint())return null;const f=[p.x,p.y];for(p.reset();p.nextPath();)a:{let v=void 0;var h=g,q=f,k=p;if(!h||!k||3>k.numPoints)break a;k.nextPoint();var l=k.x;const w=k.y;k.nextPoint();let x=k.x-l,z=k.y-w,A=0,B=0;for(;k.nextPoint();)A=k.x-l,B=k.y-w,v=.5*r*(A*z-B*x),h[0]+=v*(x+A),h[1]+=v*(z+B),x=A,z=B;k=c.getRingAreaCursor(k);l=[l,w];l[0]-=q[0];l[1]-=q[1];l[0]*=k;l[1]*=k;h[0]+=l[0];h[1]+=l[1]}g[0]*=1/m;g[1]*=1/m;g[0]+=f[0];g[1]+=f[1];return g};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/geometryCursorCollectUtils":function(){define(["exports"],function(a){a.collectRing=function(b){const c=[];for(;b.nextPoint();)c.push([b.x,b.y]);return c};a.collectRings=function(b){const c=[];for(b.reset();b.nextPath();){const e=[];for(;b.nextPoint();)e.push([b.x,b.y]);c.push(e)}return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/coordsUtils":function(){define(["exports","../../core/arrayUtils","./spatialReferenceUtils"],
function(a,b,c){function e(g,f){const h=f[0]-g[0],q=f[1]-g[1];return 2<g.length&&2<f.length?(g=g[2]-f[2],Math.sqrt(h*h+q*q+g*g)):Math.sqrt(h*h+q*q)}function d(g,f,h){const q=g[0]+h*(f[0]-g[0]),k=g[1]+h*(f[1]-g[1]);return 2<g.length&&2<f.length?[q,k,g[2]+h*(f[2]-g[2])]:[q,k]}function n(g,f,h,q,k,l){let v=k-h,w=l-q;if(0!==v||0!==w){const x=((g-h)*v+(f-q)*w)/(v*v+w*w);1<x?(h=k,q=l):0<x&&(h+=v*x,q+=w*x)}v=g-h;w=f-q;return v*v+w*w}function u(g,f,h){const q=g.length;let k=0,l=0,v=0;for(let w=0;w<q;w++){const x=
g[w],z=g[(w+1)%q];let A=2;k+=x[0]*z[1]-z[0]*x[1];2<x.length&&2<z.length&&h&&(l+=x[0]*z[2]-z[0]*x[2],A=3);x.length>A&&z.length>A&&f&&(v+=x[0]*z[A]-z[0]*x[A])}return 0>=k&&0>=l&&0>=v}function t(g){const f=g.length;return 2<f&&b.equals(g[0],g[f-1])}function r(g){if("rings"in g)for(const f of g.rings)t(f)||f.push(f[0].slice())}function p(g,f){var h=c.getInfo(f);if(h){f=h.valid[0];h=h.valid[1];var q=h-f;for(const k of g){g=Infinity;let l=-Infinity;for(const v of k){const w=m(v[0],f,h);g=Math.min(g,w);
l=Math.max(l,w);v[0]=w}g=l-g;q-g<g&&k.forEach(v=>{0>v[0]&&(v[0]+=q)})}}}function m(g,f,h){const q=h-f;return g<f?h-(f-g)%q:g>h?f+(g-f)%q:g}a.closeRings=r;a.closeRingsAndFixWinding=function(g){if("rings"in g&&(r(g),0<g.rings.length&&!u(g.rings[0],g.hasM??!1,g.hasZ??!1)))for(const f of g.rings)f.reverse()};a.distanceFromPointToPolygon=function(g,f,h){let q=!1,k=Infinity,l,v,w,x;for(h.reset();h.nextPath();)if(h.nextPoint())for(l=h.x,v=h.y;h.nextPoint();)w=h.x,x=h.y,v>f!==x>f&&g<(w-l)*(f-v)/(x-v)+l&&
(q=!q),k=Math.min(k,n(g,f,l,v,w,x)),l=w,v=x;return 0===k?0:(q?1:-1)*Math.sqrt(k)};a.distanceToSegmentSquared=n;a.geometryToCoordinates=function(g){if(!g)return null;if(Array.isArray(g))return g;const f=g.hasZ,h=g.hasM;if("point"===g.type)return h&&f?[g.x,g.y,g.z,g.m]:f?[g.x,g.y,g.z]:h?[g.x,g.y,g.m]:[g.x,g.y];if("polygon"===g.type)return g.rings.slice(0);if("polyline"===g.type)return g.paths.slice(0);if("multipoint"===g.type)return g.points.slice(0);if("extent"===g.type){g=g.clone().normalize();if(!g)return null;
let q=!1,k=!1;g.forEach(l=>{l.hasZ&&(q=!0);l.hasM&&(k=!0)});return g.map(l=>{const v=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(q&&l.hasZ){var w=.5*(l.zmax-l.zmin);for(let x=0;x<v.length;x++)v[x].push(w)}if(k&&l.hasM)for(l=.5*(l.mmax-l.mmin),w=0;w<v.length;w++)v[w].push(l);return v})}return null};a.getLength=e;a.getMidpoint=function(g,f){return d(g,f,.5)};a.getPathLength=function(g){const f=g.length;let h=0;for(let q=0;q<f-1;++q)h+=e(g[q],g[q+1]);return h};
a.getPointOnPath=function(g,f){if(0>=f)return g[0];const h=g.length;let q=0;for(let k=0;k<h-1;++k){const l=e(g[k],g[k+1]);if(f-q<l)return d(g[k],g[k+1],(f-q)/l);q+=l}return g[h-1]};a.getRingArea=function(g){if(!g||3>g.length)return 0;let f=0;const h=g.length-1;for(let q=0;q<h;q++)f+=(g[q][0]-g[q+1][0])*(g[q][1]+g[q+1][1]);f+=(g[h][0]-g[0][0])*(g[h][1]+g[0][1]);return-.5*f};a.getRingAreaCursor=function(g){if(!g||3>g.numPoints)return 0;let f=0,h,q;g.seekPathFront();if(!g.nextPoint())return 0;h=g.x;
q=g.y;const k=h,l=q;for(;g.nextPoint();)f+=(h-g.x)*(q+g.y),h=g.x,q=g.y;return-.5*(f+(h-k)*(q+l))};a.hasCompatibleTopology=function(g,f){if(g===f)return!0;if(g.type!==f.type)return!1;if("point"===g.type||"extent"===g.type)return!0;if("multipoint"===g.type)return g.points.length===f.points.length;const [h,q]="polyline"===g.type?[g.paths,f.paths]:[g.rings,f.rings];return h.length===q.length&&h.every((k,l)=>k.length===q[l].length)};a.isClockwise=u;a.isClosed=t;a.projectPointOnLine=function(g,f,h,q){const [k,
l]=f,[v,w]=h[q],[x,z]=h[q+1];f=x-v;h=z-w;q=Math.min(1,Math.max(0,((k-v)*f+(l-w)*h)/(f*f+h*h)));g[0]=v+f*q;g[1]=w+h*q;return g};a.unnormalizeGeometryOnDatelineCrossing=function(g){if("polygon"!==g.type&&"polyline"!==g.type)return g;p("polygon"===g.type?g.rings:g.paths,g.spatialReference);return g};a.unnormalizeVerticesOnDatelineCrossing=p;a.unnormalizedCoordinate=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],
function(a,b){function c(r,p=!1,m=!1){return p?m?{xmin:r[0],ymin:r[1],zmin:r[2],mmin:r[3],xmax:r[4],ymax:r[5],zmax:r[6],mmax:r[7]}:{xmin:r[0],ymin:r[1],zmin:r[2],xmax:r[3],ymax:r[4],zmax:r[5]}:m?{xmin:r[0],ymin:r[1],mmin:r[2],xmax:r[3],ymax:r[4],mmax:r[5]}:{xmin:r[0],ymin:r[1],xmax:r[2],ymax:r[3]}}function e(r){const {hasZ:p,hasM:m,points:g}=r;return c(b.getPointsBounds(t,g,p??!1,m??!1),p,m)}function d(r){const {x:p,y:m,z:g,m:f}=r;r=null!=f;return null!=g?r?{xmin:p,ymin:m,zmin:g,mmin:f,xmax:p,ymax:m,
zmax:g,mmax:f}:{xmin:p,ymin:m,zmin:g,xmax:p,ymax:m,zmax:g}:r?{xmin:p,ymin:m,mmin:f,xmax:p,ymax:m,mmax:f}:{xmin:p,ymin:m,xmax:p,ymax:m}}function n(r){const {hasZ:p,hasM:m,rings:g}=r;return(r=b.getRingsOrPathsBounds(t,g,p??!1,m??!1))?c(r,p,m):null}function u(r){const {hasZ:p,hasM:m,paths:g}=r;return(r=b.getRingsOrPathsBounds(t,g,p??!1,m??!1))?c(r,p,m):null}const t=[];a.getGeometryExtent=function(r){return r?void 0!==r.xmin&&void 0!==r.ymin&&void 0!==r.xmax&&void 0!==r.ymax?r:void 0!==r.x&&void 0!==
r.y?d(r):void 0!==r.rings?n(r):void 0!==r.paths?u(r):void 0!==r.points?e(r):null:null};a.getMultipointExtent=e;a.getPointExtent=d;a.getPolygonExtent=n;a.getPolylineExtent=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/boundsUtils":function(){define(["exports","./aaBoundingRect"],function(a,b){function c(m){return void 0!==m.xmin&&void 0!==m.ymin&&void 0!==m.xmax&&void 0!==m.ymax}function e(m){return function(g,f){return null==g?f:null==f?g:m(g,f)}}function d(m){let g,
f,h,q;g=h=Infinity;for(f=q=-Infinity;m.nextPoint();)g=Math.min(m.x,g),h=Math.min(m.y,h),f=Math.max(m.x,f),q=Math.max(m.y,q);return b.create([g,h,f,q])}function n(m,g,f,h){const q=f?3:2;if(!g.length||!g[0].length)return null;let [k,l]=g[0][0],[v,w]=g[0][0],x=void 0,z=void 0,A=void 0;var B=void 0;for(let D=0;D<g.length;D++){const y=g[D];for(let C=0;C<y.length;C++){const F=y[C],[G,E]=F;k=r(k,G);l=r(l,E);v=p(v,G);w=p(w,E);if(f&&2<F.length){const P=F[2];x=r(x,P);z=p(z,P)}h&&F.length>q&&(B=F[q],A=r(x,B),
B=p(z,B))}}if(f){if(h)return m[0]=k,m[1]=l,m[2]=x,m[3]=A,m[4]=v,m[5]=w,m[6]=z,m[7]=B,m.length=8,m;m[0]=k;m[1]=l;m[2]=x;m[3]=v;m[4]=w;m[5]=z;m.length=6;return m}if(h)return m[0]=k,m[1]=l,m[2]=A,m[3]=v,m[4]=w,m[5]=B,m.length=6,m;m[0]=k;m[1]=l;m[2]=v;m[3]=w;m.length=4;return m}function u(m,g,f,h,q,k){f=g.xmin;h=g.xmax;const l=g.ymin,v=g.ymax;let w=g.zmin,x=g.zmax,z=g.mmin;g=g.mmax;if(q){w=w||0;x=x||0;if(k)return m[0]=f,m[1]=l,m[2]=w,m[3]=z||0,m[4]=h,m[5]=v,m[6]=x,m[7]=g||0,m;m[0]=f;m[1]=l;m[2]=w;m[3]=
h;m[4]=v;m[5]=x;return m}if(k)return m[0]=f,m[1]=l,m[2]=z||0,m[3]=h,m[4]=v,m[5]=g||0,m;m[0]=f;m[1]=l;m[2]=h;m[3]=v;return m}function t(m,g,f,h,q,k){const l=f?3:2;h=h&&k;f=f&&q;if(!g.length||!g[0].length)return null;let [v,w]=g[0],[x,z]=g[0],A=void 0,B=void 0,D=void 0;var y=void 0;for(let C=0;C<g.length;C++){const F=g[C],[G,E]=F;v=r(v,G);w=r(w,E);x=p(x,G);z=p(z,E);if(f&&2<F.length){const P=F[2];A=r(A,P);B=p(B,P)}h&&F.length>l&&(y=F[l],D=r(A,y),y=p(B,y))}if(q){A=A||0;B=B||0;if(k)return m[0]=v,m[1]=
w,m[2]=A,m[3]=D||0,m[4]=x,m[5]=z,m[6]=B,m[7]=y||0,m;m[0]=v;m[1]=w;m[2]=A;m[3]=x;m[4]=z;m[5]=B;return m}if(k)return m[0]=v,m[1]=w,m[2]=D||0,m[3]=x,m[4]=z,m[5]=y||0,m;m[0]=v;m[1]=w;m[2]=x;m[3]=z;return m}const r=e(Math.min),p=e(Math.max);a.currPathBounds=d;a.getBoundsXY=function(m,g){if(void 0!==g.paths)return n(m,g.paths,!1,!1);if(void 0!==g.rings)return n(m,g.rings,!1,!1);if(void 0!==g.points)return t(m,g.points,!1,!1,!1,!1);if(c(g))return u(m,g);void 0!==g.x&&void 0!==g.y&&(m[0]=g.x,m[1]=g.y,m[2]=
g.x,m[3]=g.y);return m};a.getBoundsXYCursor=function(m){m.reset();let g,f,h,q;g=h=Infinity;for(f=q=-Infinity;m.nextPath();){const k=d(m);g=Math.min(k[0],g);h=Math.min(k[1],h);f=Math.max(k[2],f);q=Math.max(k[3],q)}return b.create([g,h,f,q])};a.getBoundsXYZ=function(m,g){if(void 0!==g.paths)return n(m,g.paths,!0,!1);if(void 0!==g.rings)return n(m,g.rings,!0,!1);if(void 0!==g.points)return t(m,g.points,!0,!1,!0,!1);if(c(g))return u(m,g,!0,!1,!0,!1);void 0!==g.x&&void 0!==g.y&&(m[0]=g.x,m[1]=g.y,m[2]=
g.z,m[3]=g.x,m[4]=g.y,m[5]=g.z);return m};a.getExtentBounds=u;a.getPointsBounds=t;a.getRingsOrPathsBounds=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(a,b,c,e,d){function n(h=f){return[h[0],h[1],h[2],h[3]]}function u(h,q){h!==q&&(h[0]=q[0],h[1]=q[1],h[2]=q[2],h[3]=q[3]);return h}function t(h){return e.isNone(h)||h[0]>=h[2]?0:h[2]-
h[0]}function r(h){return h[1]>=h[3]?0:h[3]-h[1]}function p(h,q,k){return q>=h[0]&&k>=h[1]&&q<=h[2]&&k<=h[3]}function m(h){return null!=h&&4===h.length}const g=[Infinity,Infinity,-Infinity,-Infinity],f=[0,0,0,0];a.NEGATIVE_INFINITY=g;a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];a.UNIT=[0,0,1,1];a.ZERO=f;a.allFinite=function(h){for(let q=0;4>q;q++)if(!isFinite(h[q]))return!1;return!0};a.area=function(h){return t(h)*r(h)};a.center=function(h,q=[0,0]){q[0]=(h[0]+h[2])/2;q[1]=(h[1]+h[3])/
2;return q};a.clone=function(h){return[h[0],h[1],h[2],h[3]]};a.contains=function(h,q){return q[0]>=h[0]&&q[2]<=h[2]&&q[1]>=h[1]&&q[3]<=h[3]};a.containsPoint=function(h,q){return p(h,q[0],q[1])};a.containsPointObject=function(h,q){return p(h,q.x,q.y)};a.containsPointWithMargin=function(h,q,k){return q[0]>=h[0]-k&&q[1]>=h[1]-k&&q[0]<=h[2]+k&&q[1]<=h[3]+k};a.containsXY=p;a.containsXYWithMargin=function(h,q,k,l){return q>=h[0]-l&&k>=h[1]-l&&q<=h[2]+l&&k<=h[3]+l};a.copy=u;a.create=n;a.distance=function(h,
q){const k=(h[1]+h[3])/2,l=Math.max(Math.abs(q[0]-(h[0]+h[2])/2)-t(h)/2,0);h=Math.max(Math.abs(q[1]-k)-r(h)/2,0);return Math.sqrt(l*l+h*h)};a.empty=function(h){return h?u(h,g):n(g)};a.equals=function(h,q){return m(h)&&m(q)?h[0]===q[0]&&h[1]===q[1]&&h[2]===q[2]&&h[3]===q[3]:h===q};a.expand=function(h,q,k){if(e.isNone(q))u(k,h);else if("length"in q)if(m(q))k[0]=Math.min(h[0],q[0]),k[1]=Math.min(h[1],q[1]),k[2]=Math.max(h[2],q[2]),k[3]=Math.max(h[3],q[3]);else{if(2===q.length||3===q.length)k[0]=Math.min(h[0],
q[0]),k[1]=Math.min(h[1],q[1]),k[2]=Math.max(h[2],q[0]),k[3]=Math.max(h[3],q[1])}else switch(q.type){case "extent":k[0]=Math.min(h[0],q.xmin);k[1]=Math.min(h[1],q.ymin);k[2]=Math.max(h[2],q.xmax);k[3]=Math.max(h[3],q.ymax);break;case "point":k[0]=Math.min(h[0],q.x),k[1]=Math.min(h[1],q.y),k[2]=Math.max(h[2],q.x),k[3]=Math.max(h[3],q.y)}};a.expandPointInPlace=function(h,q){q[0]<h[0]&&(h[0]=q[0]);q[0]>h[2]&&(h[2]=q[0]);q[1]<h[1]&&(h[1]=q[1]);q[1]>h[3]&&(h[3]=q[1])};a.expandWithNestedArray=function(h,
q,k=h){const l=q.length;let v=h[0],w=h[1],x=h[2];h=h[3];for(let z=0;z<l;z++){const A=q[z];v=Math.min(v,A[0]);w=Math.min(w,A[1]);x=Math.max(x,A[0]);h=Math.max(h,A[1])}k[0]=v;k[1]=w;k[2]=x;k[3]=h;return k};a.fromExtent=function(h,q=n()){q[0]=h.xmin;q[1]=h.ymin;q[2]=h.xmax;q[3]=h.ymax;return q};a.fromValues=function(h,q,k,l,v=n()){v[0]=h;v[1]=q;v[2]=k;v[3]=l;return v};a.height=r;a.intersection=function(h,q,k){if(e.isNone(q))return u(k,h);const l=q[0],v=q[1],w=q[2];q=q[3];k[0]=c.clamp(h[0],l,w);k[1]=
c.clamp(h[1],v,q);k[2]=c.clamp(h[2],l,w);k[3]=c.clamp(h[3],v,q);return k};a.intersects=function(h,q){return Math.max(q[0],h[0])<=Math.min(q[2],h[2])&&Math.max(q[1],h[1])<=Math.min(q[3],h[3])};a.intersectsSegment=function(h,q,k){const l=h[0],v=h[1],w=h[2];h=h[3];const {x,y:z}=q,{x:A,y:B}=k;var D=(C,F)=>0>(B-z)*C+(x-A)*F+(A*z-x*B);q=D(l,h);k=D(w,h);const y=D(w,v);D=D(l,v);return q===k&&k===y&&y===D&&D===q||x<l&&A<l||x>w&&A>w||z>h&&B>h||z<v&&B<v?!1:!0};a.intersectsSphere=function(h,q){const k=q[3];var l=
Math.abs(q[0]-.5*(h[0]+h[2]));const v=.5*(h[2]-h[0]);if(l>k+v)return!1;var w=.5*(h[3]-h[1]);h=Math.abs(q[1]-.5*(h[1]+h[3]));if(h>k+w)return!1;if(l<v||h<w)return!0;l-=v;w=h-w;return l*l+w*w<=k*k};a.is=m;a.isPoint=function(h){return(0===t(h)||!isFinite(h[0]))&&(0===r(h)||!isFinite(h[1]))};a.offset=function(h,q,k,l=h){l[0]=h[0]+q;l[1]=h[1]+k;l[2]=h[2]+q;l[3]=h[3]+k;return l};a.pad=function(h,q,k=h){k[0]=h[0]-q;k[1]=h[1]-q;k[2]=h[2]+q;k[3]=h[3]+q;return k};a.setMax=function(h,q,k=h){k[2]=q[0];k[3]=q[1];
k!==h&&(k[0]=h[0],k[1]=h[1]);return h};a.setMin=function(h,q,k=h){k[0]=q[0];k[1]=q[1];k!==h&&(k[2]=h[2],k[3]=h[3]);return k};a.size=function(h,q){q[0]=h[2]-h[0];q[1]=h[3]-h[1]};a.toExtent=function(h,q){return new d({xmin:h[0],ymin:h[1],xmax:h[2],ymax:h[3],spatialReference:q})};a.width=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polyline":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){var h;d=h=function(q){function k(...v){v=l.call(this,...v);v.paths=[];v.type="polyline";return v}a._inherits(k,q);var l=a._createSuper(k);q=k.prototype;q.normalizeCtorArgs=function(v,w){let x=null,z,A,B=null;v&&!Array.isArray(v)?(x=v.paths??null,w||(v.spatialReference?w=v.spatialReference:v.paths||(w=v)),z=v.hasZ,A=v.hasM):x=v;x=x||[];w=w||m.WGS84;x.length&&x[0]&&null!=x[0][0]&&"number"===typeof x[0][0]&&(x=[x]);if(B=x[0]&&x[0][0])void 0===z&&void 0===A?(z=2<B.length,
A=!1):void 0===z?z=!A&&3<B.length:void 0===A&&(A=!z&&3<B.length);return{paths:x,spatialReference:w,hasZ:z,hasM:A}};q.writePaths=function(v,w){w.paths=c.clone(this.paths)};q.addPath=function(v){if(v){var w=this.paths,x=w.length;if(Array.isArray(v[0]))w[x]=v.concat();else{const z=[];for(let A=0,B=v.length;A<B;A++)z[A]=v[A].toArray();w[x]=z}this.notifyChange("paths");return this}};q.clone=function(){const v=new h;v.spatialReference=this.spatialReference;v.paths=c.clone(this.paths);v.hasZ=this.hasZ;v.hasM=
this.hasM;return v};q.getPoint=function(v,w){if(!this._validateInputs(v,w))return null;v=this.paths[v][w];w=this.hasZ;const x=this.hasM;return w&&!x?new p(v[0],v[1],v[2],void 0,this.spatialReference):x&&!w?new p(v[0],v[1],void 0,v[2],this.spatialReference):w&&x?new p(v[0],v[1],v[2],v[3],this.spatialReference):new p(v[0],v[1],this.spatialReference)};q.insertPoint=function(v,w,x){if(!this._validateInputs(v,w,!0))return this;f.updateSupportFromPoint(this,x);Array.isArray(x)||(x=x.toArray());this.paths[v].splice(w,
0,x);this.notifyChange("paths");return this};q.removePath=function(v){if(!this._validateInputs(v,null))return null;v=this.paths.splice(v,1)[0];const w=this.spatialReference;v=v.map(x=>new p(x,w));this.notifyChange("paths");return v};q.removePoint=function(v,w){if(!this._validateInputs(v,w))return null;v=new p(this.paths[v].splice(w,1)[0],this.spatialReference);this.notifyChange("paths");return v};q.setPoint=function(v,w,x){if(!this._validateInputs(v,w))return this;f.updateSupportFromPoint(this,x);
Array.isArray(x)||(x=x.toArray());this.paths[v][w]=x;this.notifyChange("paths");return this};q._validateInputs=function(v,w,x=!1){return null==v||0>v||v>=this.paths.length||null!=w&&(v=this.paths[v],x&&(0>w||w>v.length)||!x&&(0>w||w>=v.length))?!1:!0};q.toJSON=function(v){return this.write({},v)};a._createClass(k,[{key:"cache",get:function(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const {spatialReference:v}=
this;var w=g.getPolylineExtent(this);if(!w)return null;w=new t(w);w.spatialReference=v;return w}}]);return k}(r);b.__decorate([e.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([e.property({readOnly:!0})],d.prototype,"extent",null);b.__decorate([e.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"paths",void 0);b.__decorate([u.writer("paths")],d.prototype,"writePaths",null);d=h=b.__decorate([n.subclass("esri.geometry.Polyline")],d);d.prototype.toJSON.isDefaultToJSON=
!0;return d})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const c=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=c;a.typeKebabDictionary=
b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/jsonUtils":function(){define("exports ../../core/maybe ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,c,e,d,n,u,t){function r(q){return void 0!==q.xmin&&void 0!==q.ymin&&void 0!==q.xmax&&void 0!==q.ymax}function p(q){return void 0!==q.points}function m(q){return void 0!==q.x&&void 0!==q.y}function g(q){return void 0!==q.paths}function f(q){return void 0!==q.rings}
const h={esriGeometryPoint:n,esriGeometryPolyline:t,esriGeometryPolygon:u,esriGeometryEnvelope:c,esriGeometryMultipoint:d};a.fromJSON=function(q){return b.isNone(q)?null:q instanceof e?q:m(q)?n.fromJSON(q):g(q)?t.fromJSON(q):f(q)?u.fromJSON(q):p(q)?d.fromJSON(q):r(q)?c.fromJSON(q):null};a.getGeometryType=function(q){return q&&h[q]||null};a.getJsonType=function(q){return q?m(q)?"esriGeometryPoint":g(q)?"esriGeometryPolyline":f(q)?"esriGeometryPolygon":r(q)?"esriGeometryEnvelope":p(q)?"esriGeometryMultipoint":
null:null};a.isExtent=r;a.isMesh=function(q){return void 0!==q.vertexAttributes};a.isMultipoint=p;a.isPoint=m;a.isPolygon=f;a.isPolyline=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Identifiable":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./accessorSupport/decorators/subclass"],function(a,b,c,e){let d=0;const n=u=>{u=function(t){function r(...m){m=p.call(this,...m);Object.defineProperty(b._assertThisInitialized(m),"uid",
{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+d++});return m}b._inherits(r,t);var p=b._createSuper(r);return b._createClass(r)}(u);return u=c.__decorate([e.subclass("esri.core.Identifiable")],u)};a.Identifiable=function(u){function t(){return r.apply(this,arguments)}b._inherits(t,u);var r=b._createSuper(t);return b._createClass(t)}(n(function(){return b._createClass(function(){})}()));a.Identifiable=c.__decorate([e.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=
n;a.NumericIdentifiableMixin=u=>{u=function(t){function r(...m){m=p.call(this,...m);Object.defineProperty(b._assertThisInitialized(m),"uid",{writable:!1,configurable:!1,value:d++});return m}b._inherits(r,t);var p=b._createSuper(r);return b._createClass(r)}(u);return u=c.__decorate([e.subclass("esri.core.NumericIdentifiable")],u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fromPortalItem":function(){define(["require","exports","../../config","../../core/Logger"],
function(a,b,c,e){b.fromPortalItem=async function(d){d="portalItem"in d?d:{portalItem:d};var n=await new Promise((u,t)=>a(["../../portal/support/portalLayers"],u,t));try{return await n.fromItem(d)}catch(u){throw d=(n=d&&d.portalItem)&&n.id||"unset",n=n&&n.portal&&n.portal.url||c.portalUrl,e.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+n+"', id: '"+d+"')",u),u;}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/support/TablesMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p,m){function g(f,h,q){if(f)for(let l=0,v=f.length;l<v;l++){var k=f.getItemAt(l);if(k[h]===q||"group"===k?.type&&(k=g(k.tables,h,q)))return k}}
a.TablesMixin=f=>{f=function(h){function q(...l){var v=k.call(this,...l);v.tables=new e;v.addHandles([v.tables.on("after-add",w=>{w=w.item;w.parent&&w.parent!==b._assertThisInitialized(v)&&"tables"in w.parent&&w.parent.tables.remove(w);w.parent=b._assertThisInitialized(v);"feature"!==w.type&&n.getLogger(v.declaredClass).error(`Layer 'title:${w.title}, id:${w.id}' of type '${w.type}' is not supported as a table and will therefore be ignored.`)}),v.tables.on("after-remove",w=>{w.item.parent=null})]);
return v}b._inherits(q,h);var k=b._createSuper(q);h=q.prototype;h.destroy=function(){const l=this.tables.removeAll();for(const v of l)v.destroy();this.tables.destroy()};h.findTableById=function(l){return g(this.tables,"id",l)};h.findTableByUid=function(l){return g(this.tables,"uid",l)};b._createClass(q,[{key:"tables",set:function(l){this._set("tables",d.referenceSetter(l,this._get("tables")))}}]);return q}(f);c.__decorate([u.property()],f.prototype,"tables",null);return f=c.__decorate([m.subclass("esri.support.TablesMixin")],
f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Viewpoint":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Camera ./geometry ./core/JSONSupport ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g){function f(){return{enabled:!this.camera}}var h;d=h=function(q){function k(v){v=
l.call(this,v);v.rotation=0;v.scale=0;v.targetGeometry=null;v.camera=null;return v}a._inherits(k,q);var l=a._createSuper(k);q=k.prototype;q.castRotation=function(v){v%=360;0>v&&(v+=360);return v};q.clone=function(){return new h({rotation:this.rotation,scale:this.scale,targetGeometry:n.isSome(this.targetGeometry)?this.targetGeometry.clone():null,camera:n.isSome(this.camera)?this.camera.clone():null})};return a._createClass(k)}(d.JSONSupport);b.__decorate([u.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,
write:!0},"web-scene":{write:{overridePolicy:f}}}}})],d.prototype,"rotation",void 0);b.__decorate([t.cast("rotation")],d.prototype,"castRotation",null);b.__decorate([u.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:f}}}}})],d.prototype,"scale",void 0);b.__decorate([u.property({types:e.geometryTypes,json:{read:g.fromJSON,write:!0,origins:{"web-scene":{read:g.fromJSON,write:{overridePolicy:f}}}}})],d.prototype,"targetGeometry",void 0);
b.__decorate([u.property({type:c,json:{write:!0}})],d.prototype,"camera",void 0);return d=h=b.__decorate([m.subclass("esri.Viewpoint")],d)})},"esri/Camera":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Clonable ./core/Cyclical ./core/JSONSupport ./core/mathUtils ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k){c=function(l){function v(...x){x=w.call(this,...x);x.position=new k([0,0,0]);x.heading=0;x.tilt=0;x.fov=55;return x}a._inherits(v,l);var w=a._createSuper(v);l=v.prototype;l.normalizeCtorArgs=function(x,z,A,B){return x&&"object"===typeof x&&("x"in x||Array.isArray(x))?(x={position:x},null!=z&&(x.heading=z),null!=A&&(x.tilt=A),null!=B&&(x.fov=B),x):x};l.writePosition=function(x,z,A,B){const D=x.clone();D.x=q.ensureNumber(x.x||0);D.y=q.ensureNumber(x.y||0);D.z=
x.hasZ?q.ensureNumber(x.z||0):x.z;z[A]=D.write({},B)};l.readPosition=function(x,z){const A=new k;A.read(x,z);A.x=q.ensureNumber(A.x||0);A.y=q.ensureNumber(A.y||0);A.z=A.hasZ?q.ensureNumber(A.z||0):A.z;return A};l.equals=function(x){return u.isNone(x)?!1:this.tilt===x.tilt&&this.heading===x.heading&&this.fov===x.fov&&this.position.equals(x.position)};return a._createClass(v)}(c.ClonableMixin(d.JSONSupport));b.__decorate([t.property({type:k,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0);
b.__decorate([h.writer("position")],c.prototype,"writePosition",null);b.__decorate([g.reader("position")],c.prototype,"readPosition",null);b.__decorate([t.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),r.cast(l=>e.cyclicalDegrees.normalize(q.ensureNumber(l)))],c.prototype,"heading",void 0);b.__decorate([t.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),r.cast(l=>n.clamp(q.ensureNumber(l),-180,180))],c.prototype,"tilt",void 0);b.__decorate([t.property({type:Number,
nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"fov",void 0);return c=b.__decorate([f.subclass("esri.Camera")],c)})},"esri/core/Clonable":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p,m){d=g=>{g=function(f){function h(){return q.apply(this,arguments)}b._inherits(h,f);var q=b._createSuper(h);
h.prototype.clone=function(){var k=t.unwrapOrThrow(p.getProperties(this),"unable to clone instance of non-accessor class"),l=k.metadatas;const v=k.store,w={};k=new Map;for(var x in l){var z=l[x];const A=v?.originOf(x),B=z.clonable;if(z.readOnly||!1===B||A!==r.OriginId.USER&&A!==r.OriginId.DEFAULTS&&A!==r.OriginId.WEB_MAP&&A!==r.OriginId.WEB_SCENE)continue;z=this[x];let D=null;D="function"===typeof B?B(z):"reference"===B?z:n.tryClone(z);if(null==z||null!=D)A===r.OriginId.DEFAULTS?k.set(x,D):w[x]=D}l=
new (Object.getPrototypeOf(this).constructor)(w);if(k.size&&(x=p.getProperties(l)?.store))for(const [A,B]of k)x.set(A,B,r.OriginId.DEFAULTS);return l};return b._createClass(h)}(g);return g=c.__decorate([m.subclass("esri.core.Clonable")],g)};a.Clonable=function(g){function f(){return h.apply(this,arguments)}b._inherits(f,g);var h=b._createSuper(f);return b._createClass(f)}(d(e));a.Clonable=c.__decorate([m.subclass("esri.core.Clonable")],a.Clonable);a.ClonableMixin=d;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/Cyclical":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./mathUtils"],function(a,b,c){function e(r){for(const p in r){const m=r[p];m instanceof Function&&(r[p]=m.bind(r))}return r}let d=function(){function r(m,g){this.min=m;this.max=g;this.range=g-m}var p=r.prototype;p.ndiff=function(m,g=0){return Math.ceil((m-g)/this.range)*this.range+g};p._normalize=function(m,g,f,h=0,q=!1){f-=h;f<m?f+=this.ndiff(m-f):f>g&&(f-=this.ndiff(f-g));q&&f===g&&(f=m);
return f+h};p.normalize=function(m,g=0,f=!1){return this._normalize(this.min,this.max,m,g,f)};p.clamp=function(m,g=0){return c.clamp(m-g,this.min,this.max)+g};p.monotonic=function(m,g,f){return m<g?g:g+this.ndiff(m-g,f)};p.minimalMonotonic=function(m,g,f){return this._normalize(m,m+this.range,g,f)};p.center=function(m,g,f){g=this.monotonic(m,g,f);return this.normalize((m+g)/2,f)};p.diff=function(m,g,f){return this.monotonic(m,g,f)-m};p.shortestSignedDiff=function(m,g){m=this.normalize(m);g=this.normalize(g);
const f=g-m;m=g<m?this.minimalMonotonic(m,g)-m:g-this.minimalMonotonic(g,m);return Math.abs(f)<Math.abs(m)?f:m};p.contains=function(m,g,f){g=this.minimalMonotonic(m,g);f=this.minimalMonotonic(m,f);return f>m&&f<g};return b._createClass(r)}();const n=e(new d(0,2*Math.PI)),u=e(new d(-Math.PI,Math.PI)),t=e(new d(0,360));a.Cyclical=d;a.cyclical2PI=n;a.cyclicalDegrees=t;a.cyclicalPI=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){a.OperationalLayer=k=>{k=function(l){function v(){var x=w.apply(this,arguments);x.title=null;return x}b._inherits(v,l);var w=b._createSuper(v);l=v.prototype;l.writeListMode=function(x,z,A,B){B&&"ground"===B.layerContainerType?z[A]=x:x&&f.willPropertyWrite(this,A,{},B)&&(z[A]=x)};l.writeOperationalLayerType=function(x,z,A,B){!x||B&&"tables"===B.layerContainerType||(z.layerType=x)};l.writeTitle=function(x,z){z.title=x??"Layer"};l.read=function(x,z){z&&(z.layer=
this);g.readLoadable(this,x,A=>b._get(b._getPrototypeOf(v.prototype),"read",this).call(this,x,A),z)};l.write=function(x,z){if(z?.origin){var A=`${z.origin}/${z.layerContainerType||"operational-layers"}`,B=h.supportedTypes[A];B=B&&B[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===A&&(B=!1);"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===A&&(B=!1);if(!B)return z.messages?.push(new e("layer:unsupported",
`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${A}'`,{layer:this})),null}x=b._get(b._getPrototypeOf(v.prototype),"write",this).call(this,x,{...z,layer:this});A=!!z&&!!z.messages&&!!z.messages.filter(D=>D instanceof e&&"web-document-write:property-required"===D.name).length;return d.isBlobProtocol(x?.url)?(z?.messages?.push(new e("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,
{layer:this})),null):!this.url&&A?null:x};l.beforeSave=function(){};return b._createClass(v)}(k);c.__decorate([n.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],k.prototype,"id",void 0);c.__decorate([n.property(q.listMode)],k.prototype,"listMode",void 0);c.__decorate([m.writer("listMode")],k.prototype,"writeListMode",null);c.__decorate([n.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",
ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],k.prototype,"operationalLayerType",void 0);c.__decorate([m.writer("operationalLayerType")],k.prototype,"writeOperationalLayerType",null);c.__decorate([n.property(q.opacity)],k.prototype,"opacity",void 0);c.__decorate([n.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],k.prototype,"title",
void 0);c.__decorate([m.writer("title"),m.writer(["web-scene"],"title")],k.prototype,"writeTitle",null);c.__decorate([n.property({type:Boolean,json:{name:"visibility"}})],k.prototype,"visible",void 0);return k=c.__decorate([p.subclass("esri.layers.mixins.OperationalLayer")],k)};a.isOperationalLayer=function(k){return"operationalLayerType"in k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){a.supportedTypes=
{"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,
ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,
BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},
"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/commonProperties":function(){define("exports ../../TimeExtent ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../support/timeUtils ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,n,u,t){const r={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},p={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(w,x){return!x.disablePopup}},write:{enabled:!0,writer(w,x,z){x[z]=!w}}}},m={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:!0}};d={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:d.write}}};const g={type:Boolean,
value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}};u={value:null,type:u,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};var f={write:!0,read:!0};const h={type:Number,json:{origins:{"web-document":f,"portal-item":{write:!0}}}};f={...h,json:{...h.json,origins:{"web-document":{...f,write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency",
"drawingInfo.transparency"],reader(w,x,z){if((!z||"service"===z.origin)&&x.drawingInfo&&void 0!==x.drawingInfo.transparency)return t.transparencyToOpacity(x.drawingInfo.transparency);if(x.layerDefinition&&x.layerDefinition.drawingInfo&&void 0!==x.layerDefinition.drawingInfo.transparency)return t.transparencyToOpacity(x.layerDefinition.drawingInfo.transparency)}}}};const q={type:c,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(w,x)=>{w=c.fromJSON(w);null!=
x.spatialReference&&"object"===typeof x.spatialReference&&(w.spatialReference=e.fromJSON(x.spatialReference));return w}}}},read:!1}},k={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},l={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},v={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}};a.combinedViewLayerTimeExtentProperty=
{type:b,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const {datesInUnknownTimezone:w,timeOffset:x,useViewTime:z}=this.layer;var A=this.view?.timeExtent,B=this.layer.timeExtent;w&&(B=n.toLocalTimeExtent(B));A=z?A&&B?A.intersection(B):A||B:B;if(!A||A.isEmpty||A.isAllTime)return A;x&&(A=A.offset(-x.value,x.unit));w&&(A=n.toUTCTimeExtent(A));B=this._get("timeExtent");return A.equals(B)?B:A}};a.elevationInfo=u;a.id=k;a.labelsVisible=m;a.legendEnabled=g;a.listMode={json:{write:{ignoreOrigin:!0},
origins:{"web-map":{read:!1,write:!1}}}};a.maxScale=v;a.minScale=l;a.opacity=h;a.opacityDrawingInfo=f;a.popupEnabled=p;a.readOnlyService=function(w){return{type:w,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=q;a.screenSizePerspectiveEnabled=r;a.url=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeExtent":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/maybe ./core/timeUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){var f;c=f=function(k){function l(w){w=v.call(this,w);w.end=null;w.start=null;return w}a._inherits(l,k);var v=a._createSuper(l);k=l.prototype;k.readEnd=function(w,x){return null!=x.end?new Date(x.end):null};k.writeEnd=function(w,x){x.end=w?w.getTime():null};k.readStart=function(w,x){return null!=x.start?new Date(x.start):null};k.writeStart=function(w,x){x.start=w?w.getTime():null};k.clone=function(){return new f({end:this.end,start:this.start})};k.equals=function(w){if(!w)return!1;
const x=e.isSome(this.start)?this.start.getTime():this.start,z=e.isSome(this.end)?this.end.getTime():this.end,A=e.isSome(w.start)?w.start.getTime():w.start;w=e.isSome(w.end)?w.end.getTime():w.end;return x===A&&z===w};k.expandTo=function(w){if(this.isEmpty||this.isAllTime)return this.clone();const x=e.applySome(this.start,A=>d.truncateDate(A,w)),z=e.applySome(this.end,A=>{const B=d.truncateDate(A,w);return A.getTime()===B.getTime()?B:d.offsetDate(B,1,w)});return new f({start:x,end:z})};k.intersection=
function(w){if(!w)return this.clone();if(this.isEmpty||w.isEmpty)return f.empty;if(this.isAllTime)return w.clone();if(w.isAllTime)return this.clone();var x=e.mapOr(this.start,-Infinity,y=>y.getTime());const z=e.mapOr(this.end,Infinity,y=>y.getTime()),A=e.mapOr(w.start,-Infinity,y=>y.getTime());w=e.mapOr(w.end,Infinity,y=>y.getTime());let B,D;A>=x&&A<=z?B=A:x>=A&&x<=w&&(B=x);z>=A&&z<=w?D=z:w>=x&&w<=z&&(D=w);return null==B||null==D||isNaN(B)||isNaN(D)?f.empty:(x=new f,x.start=-Infinity===B?null:new Date(B),
x.end=Infinity===D?null:new Date(D),x)};k.offset=function(w,x){if(this.isEmpty||this.isAllTime)return this.clone();const z=new f,{start:A,end:B}=this;e.isSome(A)&&(z.start=d.offsetDate(A,w,x));e.isSome(B)&&(z.end=d.offsetDate(B,w,x));return z};k.union=function(w){if(!w||w.isEmpty)return this.clone();if(this.isEmpty)return w.clone();if(this.isAllTime||w.isAllTime)return h.clone();const x=e.isSome(this.start)&&e.isSome(w.start)?new Date(Math.min(this.start.getTime(),w.start.getTime())):null;w=e.isSome(this.end)&&
e.isSome(w.end)?new Date(Math.max(this.end.getTime(),w.end.getTime())):null;return new f({start:x,end:w})};a._createClass(l,[{key:"isAllTime",get:function(){return this.equals(f.allTime)}},{key:"isEmpty",get:function(){return this.equals(f.empty)}}],[{key:"allTime",get:function(){return h}},{key:"empty",get:function(){return q}}]);return l}(c.JSONSupport);b.__decorate([n.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"end",void 0);b.__decorate([p.reader("end")],c.prototype,"readEnd",
null);b.__decorate([g.writer("end")],c.prototype,"writeEnd",null);b.__decorate([n.property({readOnly:!0,json:{read:!1}})],c.prototype,"isAllTime",null);b.__decorate([n.property({readOnly:!0,json:{read:!1}})],c.prototype,"isEmpty",null);b.__decorate([n.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"start",void 0);b.__decorate([p.reader("start")],c.prototype,"readStart",null);b.__decorate([g.writer("start")],c.prototype,"writeStart",null);c=f=b.__decorate([m.subclass("esri.TimeExtent")],
c);const h=new c,q=new c({start:void 0,end:void 0});return c})},"esri/core/timeUtils":function(){define(["exports","./has"],function(a,b){function c(n,u,t){return 0===n?0:n*e[u]/e[t]}const e={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8},d={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",
setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};a.convertTime=c;a.makeUTCTime=function(n,u,t=
"milliseconds"){u=new Date(c(u,t,"milliseconds"));u.setUTCFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate());return u};a.offsetDate=function(n,u,t){n=new Date(n.getTime());if(u&&t){const {getter:p,setter:m,multiplier:g}=d[t];if("months"===t){t=n.getFullYear();var r=n.getMonth()+u;t=new Date(t,r+1,1);t.setDate(0);t=t.getDate();n.getDate()>t&&n.setDate(t)}n[m](n[p]()+u*g)}return n};a.offsetDateUTC=function(n,u,t="milliseconds"){n=n.getTime();u=c(u,t,"milliseconds");return new Date(n+u)};a.resetUTCDate=
function(n,u){n=new Date(n.getTime());n.setUTCFullYear(u.getFullYear(),u.getMonth(),u.getDate());return n};a.timeSinceUTCMidnight=function(n,u="milliseconds"){const t=c(n.getUTCHours(),"hours","milliseconds"),r=c(n.getUTCMinutes(),"minutes","milliseconds"),p=c(n.getUTCSeconds(),"seconds","milliseconds");n=n.getUTCMilliseconds();return c(t+r+p+n,"milliseconds",u)};a.truncateDate=function(n,u){switch(u){case "milliseconds":return new Date(n.getTime());case "seconds":return new Date(n.getFullYear(),
n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds());case "minutes":return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes());case "hours":return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours());case "days":return new Date(n.getFullYear(),n.getMonth(),n.getDate());case "weeks":return new Date(n.getFullYear(),n.getMonth(),n.getDate()-n.getDay());case "months":return new Date(n.getFullYear(),n.getMonth(),1);case "years":return new Date(n.getFullYear(),
0,1);case "decades":return new Date(n.getFullYear()-n.getFullYear()%10,0,1);case "centuries":return new Date(n.getFullYear()-n.getFullYear()%100,0,1);default:return new Date}};a.truncateLocalTime=function(n){const u=new Date(0);u.setHours(0);u.setMinutes(0);u.setSeconds(0);u.setMilliseconds(0);u.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate());return u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../core/maybe",
"../core/urlUtils"],function(a,b,c){function e(q,k){var l=k&&k.url&&k.url.path;q&&l&&(q=c.makeAbsolute(q,l,{preserveProtocolRelative:!0}),k.portalItem&&k.readResourcePaths&&(l=c.makeRelative(q,k.portalItem.itemUrl),null!=l&&f.test(l)&&k.readResourcePaths.push(k.portalItem.resourceFromPath(l).path)));return m(q,k&&k.portal)}function d(q,k,l=a.MarkKeep.YES){if(null==q)return q;!c.isAbsolute(q)&&k&&k.blockedRelativeUrls&&k.blockedRelativeUrls.push(q);let v=c.makeAbsolute(q);if(k){var w=k.verifyItemRelativeUrls&&
k.verifyItemRelativeUrls.rootPath||k.url&&k.url.path;if(w){w=m(w,k.portal);const x=m(v,k.portal);v=c.makeRelative(x,w,w);null!=v&&v!==x&&v!==q&&k.verifyItemRelativeUrls&&k.verifyItemRelativeUrls.writtenUrls.push(v)}}v=p(v,k?.portal);c.isAbsolute(v)&&(v=c.normalize(v));k?.resources&&k?.portalItem&&!c.isAbsolute(v)&&!c.isDataProtocol(v)&&l===a.MarkKeep.YES&&k.resources.toKeep.push({resource:k.portalItem.resourceFromPath(v),compress:!1});return v}function n(q,k,l){return e(q,l)}function u(q,k,l,v){q=
d(q,v);void 0!==q&&(k[l]=q)}function t(q){return(q?.match(g)??null)?.[1]??null}function r(q){q=q?.match(g)??null;if(null==q)return null;q=q[2];const k=q.lastIndexOf("/");if(-1===k){const {path:w,extension:x}=c.splitPathExtension(q);return{prefix:null,filename:w,extension:b.unwrap(x)}}const {path:l,extension:v}=c.splitPathExtension(q.slice(k+1));return{prefix:q.slice(0,k),filename:l,extension:b.unwrap(v)}}function p(q,k){return k&&!k.isPortal&&k.urlKey&&k.customBaseUrl?c.changeDomain(q,`${k.urlKey}.${k.customBaseUrl}`,
k.portalHostname):q}function m(q,k){if(!k||k.isPortal||!k.urlKey||!k.customBaseUrl)return q;const l=`${k.urlKey}.${k.customBaseUrl}`,v=c.getAppUrl();return c.hasSameOrigin(v,`${v.scheme}://${l}`)?c.changeDomain(q,k.portalHostname,l):c.changeDomain(q,l,k.portalHostname)}const g=/\/items\/([^\/]+)\/resources\/(.*)/,f=/^\.\/resources\//;a.MarkKeep=void 0;(function(q){q[q.YES=0]="YES";q[q.NO=1]="NO"})(a.MarkKeep||(a.MarkKeep={}));const h=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return a.MarkKeep},
ensureMainOnlineDomain:p,fromJSON:e,itemIdFromResourceUrl:t,prefixAndFilenameFromResourceUrl:r,read:n,toJSON:d,write:u},Symbol.toStringTag,{value:"Module"}));a.ensureMainOnlineDomain=p;a.fromJSON=e;a.itemIdFromResourceUrl=t;a.persistableUrlUtils=h;a.prefixAndFilenameFromResourceUrl=r;a.read=n;a.toJSON=d;a.write=u})},"esri/support/timeUtils":function(){define(["exports","../TimeExtent","../core/maybe","../core/promiseUtils","../core/timeUtils"],function(a,b,c,e,d){function n(u){return void 0!==u.timeInfo}
a.getTimeExtentFromLayers=async function(u,t){if(0===u.length)return b.allTime;const r=u.filter(n);await Promise.all(r.map(g=>g.load({signal:t})));u=[];var p=[];for(var m of r)"feature"!==m?.type&&"map-image"!==m?.type||!m.timeInfo?.hasLiveData?p.push(m):u.push(m);m=g=>c.isNone(g)||g.isAllTime;p=p.map(g=>g.timeInfo?.fullTimeExtent);if(p.some(m))return b.allTime;u=u.map(async g=>{const {timeExtent:f}=await g.fetchRecomputedExtents({signal:t});return f?f:c.unwrap(g.timeInfo?.fullTimeExtent)});u=(await e.eachAlways(u)).map(g=>
g.value);return u.some(m)?b.allTime:[...u,...p].filter(c.isSome).reduce((g,f)=>g.union(f))};a.toLocalTimeExtent=function(u){if(!u)return u;const {start:t,end:r}=u;return new b({start:c.isSome(t)?d.offsetDate(t,t.getTimezoneOffset(),"minutes"):t,end:c.isSome(r)?d.offsetDate(r,r.getTimezoneOffset(),"minutes"):r})};a.toUTCTimeExtent=function(u){if(!u)return u;const {start:t,end:r}=u;return new b({start:c.isSome(t)?d.offsetDate(t,-t.getTimezoneOffset(),"minutes"):t,end:c.isSome(r)?d.offsetDate(r,-r.getTimezoneOffset(),
"minutes"):r})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h){var q;u=c.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});c=new c.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});e=q=function(k){function l(w){w=v.call(this,w);w.offset=null;return w}a._inherits(l,k);var v=a._createSuper(l);k=l.prototype;k.readFeatureExpressionInfo=function(w,x){if(null!=w)return w;if(x.featureExpression&&
0===x.featureExpression.value)return{expression:"0"}};k.writeFeatureExpressionInfo=function(w,x,z,A){x[z]=w.write({},A);"0"===w.expression&&(x.featureExpression={value:0})};k.write=function(w,x){return this.offset||this.mode||this.featureExpressionInfo||this.unit?a._get(a._getPrototypeOf(l.prototype),"write",this).call(this,w,x):null};k.clone=function(){return new q({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};
k.equals=function(w){return this.mode===w.mode&&this.offset===w.offset&&this.unit===w.unit&&d.equalsMaybe(this.featureExpressionInfo,w.featureExpressionInfo)};a._createClass(l,[{key:"mode",get:function(){const {offset:w,featureExpressionInfo:x}=this;return this._isOverridden("mode")?this._get("mode"):d.isSome(w)||x?"relative-to-ground":"on-the-ground"},set:function(w){this._override("mode",w)}},{key:"unit",set:function(w){this._set("unit",w)}}]);return l}(e.JSONSupport);b.__decorate([n.property({type:f,
json:{write:!0}})],e.prototype,"featureExpressionInfo",void 0);b.__decorate([p.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],e.prototype,"readFeatureExpressionInfo",null);b.__decorate([g.writer("featureExpressionInfo",{featureExpressionInfo:{type:f},"featureExpression.value":{type:[0]}})],e.prototype,"writeFeatureExpressionInfo",null);b.__decorate([n.property({type:u.apiValues,nonNullable:!0,json:{type:u.jsonValues,read:u.read,write:{writer:u.write,isRequired:!0}}})],
e.prototype,"mode",null);b.__decorate([n.property({type:Number,json:{write:!0}})],e.prototype,"offset",void 0);b.__decorate([n.property({type:h.supportedUnits,json:{type:String,read:c.read,write:c.write}})],e.prototype,"unit",null);return e=q=b.__decorate([m.subclass("esri.layers.support.ElevationInfo")],e)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;c=p=function(m){function g(h){return f.call(this,h)}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.collectRequiredFields=async function(h,q){return r.collectArcadeFieldNames(h,q,this.expression)};m.clone=function(){return new p({expression:this.expression,title:this.title})};m.equals=function(h){return this.expression===h.expression&&this.title===h.title};return a._createClass(g)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,
"expression",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=p=b.__decorate([t.subclass("esri.layers.support.FeatureExpressionInfo")],c)})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/Error ../../core/maybe ../../core/object ./domainUtils ../../support/arcadeOnDemand".split(" "),function(a,b,c,e,d,n,u){function t(U,pa,xa){if(U)for(const N of U)(U=(U=d.getDeepValue(N,pa))&&"function"!==typeof U&&xa.get(U))&&d.setDeepValue(N,
U.name,pa)}function r(U,pa){if(!U||!pa)return[];S.clear();p(S,U,pa);return Array.from(S).sort()}function p(U,pa,xa){if(xa)if(pa?.fields?.length)if(xa.includes("*"))for(const {name:N}of pa.fields)U.add(N);else for(const N of xa)m(U,pa,N);else if(xa.includes("*"))U.clear(),U.add("*");else for(const N of xa)null!=N&&U.add(N)}function m(U,pa,xa){"string"===typeof xa&&(pa?(pa=pa.get(xa))&&U.add(pa.name):U.add(xa))}async function g(U,pa,xa){if(xa){var {arcadeUtils:N}=await u.loadArcade();xa=N.extractFieldNames(xa,
pa?.fields?.map(T=>T.name));for(const T of xa)m(U,pa,T)}}async function f(U,pa,xa){if(xa&&"1\x3d1"!==xa){const N=(await new Promise((T,qa)=>a(["../../core/sql/WhereClause"],T,qa))).WhereClause.create(xa,pa);if(!N.isStandardized)throw new c("fieldUtils:collectFilterFields","Where clause is not standardized",{where:xa});p(U,pa,N.fieldNames)}}function h(U,pa){for(const xa of U)if(xa&&xa.valueType&&xa.valueType===pa)return xa.name;return null}async function q(U,pa){if(pa){var xa=pa.elevationInfo?.featureExpressionInfo;
if(xa)return xa.collectRequiredFields(U,pa.fieldsIndex)}}async function k(U,pa,xa){const N=[];xa?.expressionInfos&&N.push(...xa.expressionInfos.map(T=>g(U,pa.fieldsIndex,T.expression)));xa=xa?.content;if(Array.isArray(xa))for(const T of xa)"expression"===T.type&&T.expressionInfo&&N.push(g(U,pa.fieldsIndex,T.expressionInfo.expression));await Promise.all(N)}async function l(U,pa,xa){pa&&xa&&(xa.valueExpression?await g(U,pa.fieldsIndex,xa.valueExpression):xa.field&&m(U,pa.fieldsIndex,xa.field))}async function v(U,
pa){const {labelingInfo:xa,fieldsIndex:N}=pa;xa&&xa.length&&await Promise.all(xa.map(T=>w(U,N,T)))}async function w(U,pa,xa){if(xa){var N=xa.getLabelExpression();xa=xa.where;"arcade"===N.type?await g(U,pa,N.expression):(N=N.expression.match(/{[^}]*}/g))&&N.forEach(T=>{m(U,pa,T.slice(1,-1))});await f(U,pa,xa)}}function x(U){return"number"===typeof U&&!isNaN(U)&&isFinite(U)}function z(U){return null===U||x(U)}function A(U){return null===U||V(U)}function B(U){return null!=U&&"string"===typeof U}function D(U){return null===
U||B(U)}function y(){return!0}function C(U,pa){let xa;switch(U.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":xa=U.nullable?A:V;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":xa=U.nullable?z:x;break;case "string":case "esriFieldTypeString":xa=U.nullable?D:B;break;default:xa=y}return 1===arguments.length?xa:xa(pa)}function F(U){return null!=
U&&ha.has(U.type)}function G(U,pa){return null==U||U.nullable&&null===pa?null:F(U)&&!E(U.type,Number(pa))?b.NumericRangeValidationError.OUT_OF_RANGE:C(U,pa)?U.domain?n.validateDomainValue(U.domain,pa):null:b.TypeValidationError.INVALID_TYPE}function E(U,pa){U="string"===typeof U?P(U):U;if(!U)return!1;const xa=U.min,N=U.max;return U.isInteger?V(pa)&&pa>=xa&&pa<=N:pa>=xa&&pa<=N}function P(U){switch(U){case "esriFieldTypeSmallInteger":case "small-integer":return la;case "esriFieldTypeInteger":case "integer":return ia;
case "esriFieldTypeSingle":case "single":return Y;case "esriFieldTypeDouble":case "double":return Z}}function O(U,pa,xa){if(!pa||!pa.attributes||!U){if(e.isSome(xa))for(var N of U??[])xa.add(N);return!0}pa=pa.attributes;N=!1;for(const T of U)if(!(T in pa))if(N=!0,e.isSome(xa))xa.add(T);else break;return N}const K=/^([0-9])/,M=/[^a-z0-9_\u0080-\uffff]/gi,I=/_{2,}/g,H=/^_/,L=/_$/,aa="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),
R=["field","normalizationField"],S=new Set,V=(()=>"isInteger"in Number?Number.isInteger:U=>"number"===typeof U&&isFinite(U)&&Math.floor(U)===U)(),ea=["integer","small-integer","single","double"],ha=new Set([...ea,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);b.NumericRangeValidationError=void 0;(b.NumericRangeValidationError||(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";b.TypeValidationError=void 0;
(b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const la={min:-32768,max:32767,isInteger:!0},ia={min:-2147483648,max:2147483647,isInteger:!0},Y={min:-3.4E38,max:1.2E38,isInteger:!1},Z={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.collectArcadeFieldNames=g;b.collectElevationFields=q;b.collectFeatureReductionFields=async function(U,pa,xa){if(pa&&xa&&"fields"in xa){var N=[];N.push(k(U,pa,xa.popupTemplate));xa.fields&&N.push(...xa.fields.map(async T=>
{T.onStatisticExpression?g(U,pa.fieldsIndex,T.onStatisticExpression.expression):U.add(T.onStatisticField)}));await Promise.all(N)}};b.collectField=m;b.collectFields=p;b.collectFilterFields=async function(U,pa,xa){pa&&(pa.timeInfo&&e.isSome(xa)&&xa.timeExtent&&p(U,pa.fieldsIndex,[pa.timeInfo.startField,pa.timeInfo.endField]),pa.floorInfo&&p(U,pa.fieldsIndex,[pa.floorInfo.floorField]),e.isSome(xa)&&e.isSome(xa.where)&&await f(U,pa.fieldsIndex,xa.where))};b.collectLabelingFields=v;b.collectOrderByInfos=
async function(U,pa,xa){pa&&xa&&await Promise.all(xa.map(N=>l(U,pa,N)))};b.collectPopupTemplateFields=k;b.doubleRange=Z;b.featureHasFields=function(U,pa){return!O(U,pa,null)};b.fixFields=r;b.fixRendererFields=function(U,pa){if(null!=U&&null!=pa)for(const xa of Array.isArray(U)?U:[U])if(t(aa,xa,pa),"visualVariables"in xa&&xa.visualVariables)for(const N of xa.visualVariables)t(R,N,pa)};b.fixTimeInfoFields=function(U,pa){if(null!=U&&pa?.fields?.length)if("startField"in U){var xa=pa.get(U.startField);
pa=pa.get(U.endField);U.startField=xa?.name??null;U.endField=pa?.name??null}else xa=pa.get(U.startTimeField),pa=pa.get(U.endTimeField),U.startTimeField=xa?.name??null,U.endTimeField=pa?.name??null};b.getDisplayFieldName=function({displayField:U,fields:pa}){if(U)return U;if(!pa||!pa.length)return null;if(!(U=h(pa,"name-or-title")||h(pa,"unique-identifier")||h(pa,"type-or-category")))a:{for(const xa of pa)if(xa&&xa.name&&(pa=xa.name.toLowerCase(),pa.includes("name")||pa.includes("title"))){U=xa.name;
break a}U=null}return U};b.getElevationFields=async function(U){if(!U)return[];const pa=new Set;await q(pa,U);return Array.from(pa).sort()};b.getExpressionFields=async function(U,pa){const xa=new Set;for(const N of pa)await g(xa,U.fieldsIndex,N);return Array.from(xa).sort()};b.getFeatureEditFields=function(U){if(!U)return[];const pa="editFieldsInfo"in U&&U.editFieldsInfo;return pa?r(U.fieldsIndex,[pa&&pa.creatorField,pa&&pa.creationDateField,pa&&pa.editorField,pa&&pa.editDateField]):[]};b.getFeatureGeometryFields=
function(U){if(!U)return[];const pa=U.geometryFieldsInfo;return pa?r(U.fieldsIndex,[pa.shapeAreaField,pa.shapeLengthField]):[]};b.getFieldDefaultValue=function(U){const pa=U.defaultValue;if(void 0!==pa&&C(U,pa))return pa;if(U.nullable)return null};b.getFieldRange=function(U){const pa=n.getDomainRange(U.domain);if(pa)return pa;if(F(U))return P(U.type)};b.getLabelingFields=async function(U){if(!U)return[];const pa=new Set;await v(pa,U);return Array.from(pa).sort()};b.getNumericTypeForValue=function(U){if(!x(U))return null;
if(V(U)){if(U>=la.min&&U<=la.max)return"esriFieldTypeSmallInteger";if(U>=ia.min&&U<=ia.max)return"esriFieldTypeInteger"}return U>=Y.min&&U<=Y.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.getTimeFields=async function(U){if(!U)return[];const pa="timeInfo"in U&&U.timeInfo;return pa?r(U.fieldsIndex,[U.trackIdField,pa.startField,pa.endField]):[]};b.integerRange=ia;b.isDateField=function(U){return null!=U&&("date"===U.type||"esriFieldTypeDate"===U.type)};b.isNumberInRange=E;b.isNumericField=F;b.isRasterPixelValueField=
function(U){return U?["raster.itempixelvalue","raster.servicepixelvalue"].some(pa=>U.toLowerCase().startsWith(pa)):!1};b.isStringField=function(U){return null!=U&&("string"===U.type||"esriFieldTypeString"===U.type)};b.isValidFieldValue=function(U,pa){return null===G(U,pa)};b.isValueMatchingFieldType=C;b.normalizeFieldName=function(U){return null==U?null:U.trim().replace(M,"_").replace(I,"_").replace(H,"").replace(L,"").replace(K,"F$1")||null};b.numericTypes=ea;b.packFields=function(U,pa,xa=1){if(!pa||
!U)return[];if(pa.includes("*"))return["*"];pa=r(U,pa);return pa.length/U.fields.length>=xa?["*"]:pa};b.populateMissingFields=O;b.rendererFields=aa;b.sanitizeNullFieldValue=function(U){return null==U||"number"===typeof U&&isNaN(U)?null:U};b.singleRange=Y;b.smallIntegerRange=la;b.unpackFieldNames=function(U,pa){return e.isNone(pa)||e.isNone(U)?[]:pa.includes("*")?(U.fields??[]).map(xa=>xa.name):pa};b.validateFieldValue=G;b.validationErrorToString=function(U,pa,xa){switch(U){case n.DomainValidationError.INVALID_CODED_VALUE:return`Value ${xa} is not in the coded domain - field: ${pa.name}, domain: ${JSON.stringify(pa.domain)}`;
case n.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${xa} is out of the range of valid values - field: ${pa.name}, domain: ${JSON.stringify(pa.domain)}`;case b.TypeValidationError.INVALID_TYPE:return`Value ${xa} is not a valid value for the field type - field: ${pa.name}, type: ${pa.type}, nullable: ${pa.nullable}`;case b.NumericRangeValidationError.OUT_OF_RANGE:const {min:N,max:T}=P(pa.type);return`Value ${xa} is out of range for the number type - field: ${pa.name}, type: ${pa.type}, value range is ${N} to ${T}`}};
b.visualVariableFields=R;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports"],function(a){a.DomainValidationError=void 0;(function(b){b.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";b.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));a.getDomainRange=function(b){if(b&&"range"===b.type)return{min:"range"in b?b.range[0]:b.minValue,max:"range"in
b?b.range[1]:b.maxValue}};a.validateDomainValue=function(b,c){switch(b.type){case "range":const e="range"in b?b.range[0]:b.minValue;b="range"in b?b.range[1]:b.maxValue;if(null!=e&&+c<e||null!=b&&+c>b)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":if(null==b.codedValues||b.codedValues.every(d=>null==d||d.code!==c))return a.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==b.codedValues||b.codedValues.every(d=>null==d||d.code!==c))return a.DomainValidationError.INVALID_CODED_VALUE}return null};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../geometry ../core/Error ../core/Logger ../core/maybe ../geometry/SpatialReference".split(" "),function(a,b,c,e,d,n,u,t){function r(){m||(m=(async()=>{const f=await new Promise((h,q)=>a(["./arcadeUtils"],h,q));return{arcade:f.arcade,arcadeUtils:f,Dictionary:f.Dictionary,Feature:f.arcadeFeature}})());return m}const p=n.getLogger("esri.support.arcadeOnDemand");
let m;e=(f,h,q)=>g.create(f,h,q,null,["$feature","$view"]);let g=function(){function f(q,k,l,v,w,x,z){this.script=q;this.evaluate=v;this.fields=Array.isArray(x)?x:x.fields;this._syntaxTree=l;this._arcade=k;this._arcadeFeature=w;this._spatialReference=z;this._referencesGeometry=k.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}f.create=async function(q,k,l,v,w,x){const {arcade:z,Feature:A,Dictionary:B}=await r(),D=t.fromJSON(k);
let y;try{y=z.parseScript(q,x)}catch(O){return p.error(new d("arcade-bad-expression","Failed to parse arcade script",{script:q,error:O})),null}w=w.reduce((O,K)=>({...O,[K]:null}),{});let C=null;u.isSome(v)&&(C=new B(v),C.immutable=!0,w.$config=null);x=(v=z.scriptUsesGeometryEngine(y))&&z.enableGeometrySupport();const F=z.scriptUsesFeatureSet(y)&&z.enableFeatureSetSupport(),G=(k=z.scriptIsAsync(y))&&z.enableAsyncSupport();w={vars:w,spatialReference:D,useAsync:!!G};await Promise.all([x,F,G]);x=new Set;
await z.loadDependentModules(x,y,null,k,v);const E=new B;E.immutable=!1;E.setField("scale",0);const P=z.compileScript(y,w);return new f(q,z,y,O=>{"$view"in O&&O.$view&&(E.setField("scale","object"===typeof O.$view?O.$view.scale:void 0),O.$view=E);C&&(O.$config=C);return P({vars:O,spatialReference:D})},new A,l,D)};var h=f.prototype;h.repurposeFeature=function(q){q.geometry&&!q.geometry.spatialReference&&(q.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(q.geometry,
q.attributes,{fields:this.fields});return this._arcadeFeature};h.referencesGeometry=function(){return this._referencesGeometry};h.referencesScale=function(){return this._referencesScale};return c._createClass(f)}();b.ArcadeExpression=g;b.createDictionaryExpression=(f,h,q,k)=>g.create(f,h,q,k,["$feature","$view"]);b.createLabelExpression=(f,h,q)=>g.create(f,h,q,null,["$feature"]);b.createRendererExpression=e;b.createVVExpression=e;b.loadArcade=r;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../renderers/support/lengthUtils"],function(a,b){const c=function(){const e=Object.keys(b.meterIn);e.sort();return e}();a.getMetersPerUnit=function(e){return 1/(b.meterIn[e]||1)};a.supportedUnits=c;a.supportsUnit=function(e){return!!e&&null!=b.meterIn[e]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],
function(a,b,c){b={inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,
"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",c.earth.radius)};a.meterIn=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../config ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../support/layerUtils ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser ../../portal/support/portalItemUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y){var C=null,F=null;b.PortalLayer=G=>{G=function(E){function P(){var K=O.apply(this,arguments);K.resourceReferences={portalItem:null,paths:[]};K.userHasEditingPrivileges=!0;K.userHasFullEditingPrivileges=!1;K.userHasUpdateItemPrivileges=!1;return K}c._inherits(P,E);var O=c._createSuper(P);E=P.prototype;E.destroy=function(){this.portalItem=m.destroyMaybe(this.portalItem);this.resourceReferences.portalItem=null;this.resourceReferences.paths.length=
0};E.readPortalItem=function(K,M,I){if(M.itemId)return new B({id:M.itemId,portal:I&&I.portal})};E.writePortalItem=function(K,M){K&&K.id&&(M.itemId=K.id)};E.loadFromPortal=async function(K,M){if(this.portalItem&&this.portalItem.id)try{const I=await new Promise((H,L)=>a(["../../portal/support/layersLoader"],H,L));g.throwIfAborted(M);return await I.load({instance:this,supportedTypes:K.supportedTypes,validateItem:K.validateItem,supportsData:K.supportsData,layerModuleTypeMap:K.layerModuleTypeMap},M)}catch(I){throw g.isAbortError(I)||
p.getLogger(this.declaredClass).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${I}`),I;}};E.finishLoadEditablePortalLayer=async function(K){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(K).catch(M=>{g.throwIfAbortError(M);return!0}))};E._setUserPrivileges=async function(K,M){if(!d.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(M);if(this.url)try{const {features:{edit:I,fullEdit:H},content:{updateItem:L}}=
await this._fetchUserPrivileges(K,M);this._set("userHasEditingPrivileges",I);this._set("userHasFullEditingPrivileges",H);this._set("userHasUpdateItemPrivileges",L)}catch(I){g.throwIfAbortError(I)}};E._fetchUserPrivileges=async function(K,M){let I=this.portalItem;if(!K||!I||!I.loaded||I.sourceUrl)return this._fetchFallbackUserPrivileges(M);const H=K===I.id;if(H&&I.portal.user)return y.getUserPrivileges(I);let L;if(H)L=I.portal.url;else try{L=await z.getOwningPortalUrl(this.url,M)}catch(R){g.throwIfAbortError(R)}if(!L||
!f.hasSameCanonicalPortal(L,I.portal.url))return this._fetchFallbackUserPrivileges(M);let aa;try{const R=m.isSome(M)?M.signal:null;aa=await n.id?.getCredential(`${L}/sharing`,{prompt:!1,signal:R})}catch(R){g.throwIfAbortError(R)}if(!aa)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(H?await I.reload():(I=new B({id:K,portal:{url:L}}),await I.load(M)),I.portal.user)return y.getUserPrivileges(I)}catch(R){g.throwIfAbortError(R)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}};
E._fetchFallbackUserPrivileges=async function(K){let M=!0;try{M=await this._fetchUserHasEditingPrivileges(K)}catch(I){g.throwIfAbortError(I)}return{features:{edit:M,fullEdit:!1},content:{updateItem:!1}}};E._fetchUserHasEditingPrivileges=async function(K){const M=this.url?n.id?.findCredential(this.url):null;if(!M)return!0;K=C===M?F:await this._fetchEditingUser(K);C=M;F=K;return m.isNone(K)||null==K.privileges||K.privileges.includes("features:user:edit")};E._fetchEditingUser=async function(K){var M=
this.portalItem?.portal?.user;if(M)return M;M=n.id.findServerInfo(this.url??"");if(!M?.owningSystemUrl)return null;M=`${M.owningSystemUrl}/sharing/rest`;const I=A.getDefault();if(I&&I.loaded&&f.normalize(I.restUrl)===f.normalize(M))return I.user;M=`${M}/community/self`;K=m.isSome(K)?K.signal:null;K=await t.result(u(M,{authMode:"no-prompt",query:{f:"json"},signal:K}));return K.ok?D.fromJSON(K.value.data):null};E.read=function(K,M){M&&(M.layer=this);c._get(c._getPrototypeOf(P.prototype),"read",this).call(this,
K,M)};E.write=function(K,M){const I=M&&M.portal,H=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||A.getDefault());return I&&H&&!f.hasSamePortal(H.restUrl,I.restUrl)?(M.messages&&M.messages.push(new r("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):c._get(c._getPrototypeOf(P.prototype),
"write",this).call(this,K,{...M,layer:this})};c._createClass(P,[{key:"portalItem",set:function(K){K!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",K))}}]);return P}(G);e.__decorate([h.property({type:B})],G.prototype,"portalItem",null);e.__decorate([v.reader("web-document","portalItem",["itemId"])],G.prototype,"readPortalItem",null);e.__decorate([x.writer("web-document","portalItem",{itemId:{type:String}})],G.prototype,"writePortalItem",null);e.__decorate([h.property({clonable:!1})],
G.prototype,"resourceReferences",void 0);e.__decorate([h.property({type:Boolean,readOnly:!0})],G.prototype,"userHasEditingPrivileges",void 0);e.__decorate([h.property({type:Boolean,readOnly:!0})],G.prototype,"userHasFullEditingPrivileges",void 0);e.__decorate([h.property({type:Boolean,readOnly:!0})],G.prototype,"userHasUpdateItemPrivileges",void 0);return G=e.__decorate([w.subclass("esri.layers.mixins.PortalLayer")],G)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalItemUtils":function(){define(["exports",
"../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(a,b,c,e){async function d(u){const t=u.spatialReference;if(t.isWGS84)return u.clone();if(t.isWebMercator)return e.webMercatorToGeographic(u);const r=c.WGS84;await b.initializeProjection(t,r);return b.project(u,r)}function n(u,t){return!!u.typeKeywords?.includes(t)}a.TypeKeyword={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",
SINGLE_LAYER:"Singlelayer",TABLE:"Table"};a.addTypeKeyword=function(u,t){if(!n(u,t)){const r=u.typeKeywords;r?r.push(t):u.typeKeywords=[t]}};a.getUserPrivileges=function(u){const {portal:t,isOrgItem:r,itemControl:p}=u;var m=t.user?.privileges;u=m?m.includes("features:user:edit"):!0;m=r?!!m?.includes("features:user:fullEdit"):!1;const g="update"===p||"admin"===p;g?m=u=!0:m&&(u=!0);return{features:{edit:u,fullEdit:m},content:{updateItem:g}}};a.getWGS84ExtentForItem=async function(u){u=u.clone().normalize();
let t;if(1<u.length)for(const r of u)t?r.width>t.width&&(t=r):t=r;else t=u[0];return d(t)};a.hasTypeKeyword=n;a.removeTypeKeyword=function(u,t){if(u=u.typeKeywords)t=u.indexOf(t),-1<t&&u.splice(t,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F){function G(){return!!Sa&&l.isLoaded()}function E(sa){n.isNone(eb)&&(eb=Promise.all([l.load(),(new Promise((Ba,va)=>a(["../chunks/geometryEngineBase"],Ba,va))).then(Ba=>Ba.geometryEngineBase),new Promise((Ba,va)=>a(["./geometryAdapters/hydrated"],Ba,va))]));return eb.then(([,Ba,{hydratedAdapter:va}])=>{u.throwIfAborted(sa);db=va;Sa=Ba.default;Sa._enableProjection(l.pe);Ja.notify()})}function P(sa,Ba,va=null,Ka=null){return Array.isArray(sa)?
0===sa.length?[]:O(db,sa,sa[0].spatialReference,Ba,va,Ka):O(db,[sa],sa.spatialReference,Ba,va,Ka)[0]}function O(sa,Ba,va,Ka,Qa=null,Pa=null){if(n.isNone(va)||n.isNone(Ka))return Ba;if(H(va,Ka,Qa))return Ba.map(Ea=>n.unwrap(L(Ea,va,Ka)));if(n.isNone(Qa)){const Ea=D.cacheKey(va,Ka);void 0!==Da[Ea]?Qa=Da[Ea]:(Qa=M(va,Ka,void 0),n.isNone(Qa)&&(Qa=new D),Da[Ea]=Qa)}if(n.isNone(Sa)||n.isNone(sa))throw new Za;return n.isSome(Pa)?Sa._project(sa,Ba,va,Ka,Qa,Pa):Sa._project(sa,Ba,va,Ka,Qa)}function K(sa,Ba){if(!G())for(const va of sa)if(n.isSome(va)&&
!y.equals(va.spatialReference,Ba)&&y.isValid(va.spatialReference)&&y.isValid(Ba)&&!H(va.spatialReference,Ba))return r.trackAccess(Ja),{pending:E(),geometries:null};return{pending:null,geometries:sa.map(va=>n.isNone(va)?null:y.equals(va.spatialReference,Ba)?va:y.isValid(va.spatialReference)&&y.isValid(Ba)?I(va,Ba):null)}}function M(sa,Ba,va=null){if(n.isNone(sa)||n.isNone(Ba))return null;if(n.isNone(Sa)||n.isNone(db))throw new Za;sa=Sa._getTransformation(db,sa,Ba,va,va?.spatialReference);return null!==
sa?D.fromGE(sa):null}function I(sa,Ba){try{const va=P(sa,Ba);if(null==va)return null;"xmin"in sa&&"xmin"in va&&(va.zmin=sa.zmin,va.zmax=sa.zmax);const Ka=F.getGeometryZScaler(va.type,sa.spatialReference,Ba);n.isSome(Ka)&&Ka(va);return va}catch(va){if(!(va instanceof Za))throw va;return null}}function H(sa,Ba,va){return va?!1:y.equals(sa,Ba)?!0:y.isValid(sa)&&y.isValid(Ba)&&!!Xa(sa,Ba,Ab)}function L(sa,Ba,va){return sa?"x"in sa?aa(sa,Ba,new v,va,0):"xmin"in sa?ea(sa,Ba,new q,va,0):"rings"in sa?V(sa,
Ba,new w,va,0):"paths"in sa?S(sa,Ba,new x,va,0):"points"in sa?R(sa,Ba,new k,va,0):null:null}function aa(sa,Ba,va,Ka,Qa){hb[0]=sa.x;hb[1]=sa.y;const Pa=sa.z;hb[2]=void 0!==Pa?Pa:Qa;if(!Y(hb,Ba,0,hb,Ka,0,1))return null;va.x=hb[0];va.y=hb[1];va.spatialReference=Ka;void 0===Pa?(va.z=void 0,va.hasZ=!1):(va.z=hb[2],va.hasZ=!0);void 0===sa.m?(va.m=void 0,va.hasM=!1):(va.m=sa.m,va.hasM=!0);return va}function R(sa,Ba,va,Ka,Qa){const {points:Pa,hasZ:Ea,hasM:Ua}=sa;sa=[];const na=Pa.length,La=[];for(var Ra of Pa)La.push(Ra[0],
Ra[1],Ea?Ra[2]:Qa);if(!Y(La,Ba,0,La,Ka,0,na))return null;for(Ba=0;Ba<na;++Ba){Qa=3*Ba;Ra=La[Qa];const Wa=La[Qa+1];Ea&&Ua?sa.push([Ra,Wa,La[Qa+2],Pa[Ba][3]]):Ea?sa.push([Ra,Wa,La[Qa+2]]):Ua?sa.push([Ra,Wa,Pa[Ba][2]]):sa.push([Ra,Wa])}va.points=sa;va.spatialReference=Ka;va.hasZ=Ea;va.hasM=Ua;return va}function S(sa,Ba,va,Ka,Qa){const {paths:Pa,hasZ:Ea,hasM:Ua}=sa;sa=[];if(!Z(Pa,Ea??!1,Ua??!1,Ba,sa,Ka,Qa))return null;va.paths=sa;va.spatialReference=Ka;va.hasZ=Ea;va.hasM=Ua;return va}function V(sa,Ba,
va,Ka,Qa){const {rings:Pa,hasZ:Ea,hasM:Ua}=sa;sa=[];if(!Z(Pa,Ea??!1,Ua??!1,Ba,sa,Ka,Qa))return null;va.rings=sa;va.spatialReference=Ka;va.hasZ=Ea;va.hasM=Ua;return va}function ea(sa,Ba,va,Ka,Qa){const {xmin:Pa,ymin:Ea,xmax:Ua,ymax:na,hasZ:La,hasM:Ra}=sa;if(!ha(Pa,Ea,La?sa.zmin:Qa,Ba,hb,Ka))return null;va.xmin=hb[0];va.ymin=hb[1];La&&(va.zmin=hb[2]);if(!ha(Ua,na,La?sa.zmax:Qa,Ba,hb,Ka))return null;va.xmax=hb[0];va.ymax=hb[1];La&&(va.zmax=hb[2]);Ra&&(va.mmin=sa.mmin,va.mmax=sa.mmax);va.spatialReference=
Ka;return va}function ha(sa,Ba,va,Ka,Qa,Pa){kb[0]=sa;kb[1]=Ba;kb[2]=va;return Y(kb,Ka,0,Qa,Pa,0,1)}function la(sa,Ba,va,Ka){if(n.isNone(Ba)||n.isNone(Ka)||2>sa.length)return!1;2===sa.length&&(kb[0]=sa[0],kb[1]=sa[1],kb[2]=0,sa=kb);return Y(sa,Ba,0,va,Ka,0,1)}function ia(sa,Ba,va){if(n.isNone(Ba))return!1;Ba=N(Ba,yb);Ba=tb[Ba][ya.WGS84_COMPARABLE_LON_LAT];if(n.isNone(Ba))return!1;Ba(sa,0,kb,0);va!==kb&&(va[0]=kb[0],va[1]=kb[1],2<va.length&&(va[2]=kb[2]));return!0}function Y(sa,Ba,va,Ka,Qa,Pa,Ea=1){Ba=
Xa(Ba,Qa,Ab);if(n.isNone(Ba))return!1;if(Ba===T){if(sa===Ka&&va===Pa)return!0;Ea=va+3*Ea;for(let Ua=va,na=Pa;Ua<Ea;Ua++,na++)Ka[na]=sa[Ua];return!0}Ea=va+3*Ea;for(let Ua=va,na=Pa;Ua<Ea;Ua+=3,na+=3)Ba(sa,Ua,Ka,na);return!0}function Z(sa,Ba,va,Ka,Qa,Pa,Ea=0){const Ua=[];for(const na of sa)for(const La of na)Ua.push(La[0],La[1],Ba?La[2]:Ea);if(!Y(Ua,Ka,0,Ua,Pa,0,Ua.length/3))return!1;Ka=0;Qa.length=0;for(const na of sa){sa=[];for(const La of na)Ba&&va?sa.push([Ua[Ka++],Ua[Ka++],Ua[Ka++],La[3]]):Ba?sa.push([Ua[Ka++],
Ua[Ka++],Ua[Ka++]]):(va?sa.push([Ua[Ka++],Ua[Ka++],La[2]]):sa.push([Ua[Ka++],Ua[Ka++]]),Ka++);Qa.push(sa)}return!0}function U(sa,Ba,va,Ka){Ba=Ka+Ba;if(Ba<Ka/2||va>Ba)return Number.MAX_VALUE;sa=Math.abs(xb*sa)+Math.asin(va/Ba);return sa>=Math.PI/2?Number.MAX_VALUE:va/Math.cos(sa)}function pa(sa,Ba,va){const Ka=Math.sin(sa);sa=Math.cos(sa);const Qa=Math.sin(Ba);Ba=Math.cos(Ba);va[0]=-Ka;va[4]=-Qa*sa;va[8]=Ba*sa;va[12]=0;va[1]=sa;va[5]=-Qa*Ka;va[9]=Ba*Ka;va[13]=0;va[2]=0;va[6]=Ba;va[10]=Qa;va[14]=0;
va[3]=0;va[7]=0;va[11]=0;va[15]=1;return va}function xa(sa,Ba,va){pa(sa,Ba,va);m.transpose(va,va);return va}function N(sa,Ba){if(!sa)return ya.UNKNOWN;if(Ba.spatialReference===sa)return Ba.spatialReferenceId;Ba.spatialReference=sa;"metersPerUnit"in Ba&&(Ba.metersPerUnit=t.getMetersPerUnitForSR(sa,1));return sa.wkt===h.SphericalECEFSpatialReferenceLike.wkt?Ba.spatialReferenceId=ya.SPHERICAL_ECEF:y.isWGS84(sa)?Ba.spatialReferenceId=ya.WGS84:y.isWebMercator(sa)?Ba.spatialReferenceId=ya.WEB_MERCATOR:
y.isPlateCarree(sa)?Ba.spatialReferenceId=ya.PLATE_CARREE:sa.wkt===h.WGS84ECEFSpatialReferenceLike.wkt?Ba.spatialReferenceId=ya.WGS84_ECEF:sa.wkid===C.SupportedGCSWkids.CGCS2000?Ba.spatialReferenceId=ya.CGCS2000:sa.wkt===h.SphericalPCPFMarsLike.wkt?Ba.spatialReferenceId=ya.SPHERICAL_MARS_PCPF:sa.wkt===h.SphericalPCPFMoonLike.wkt?Ba.spatialReferenceId=ya.SPHERICAL_MOON_PCPF:y.isMars(sa)?Ba.spatialReferenceId=ya.GCSMARS2000:y.isMoon(sa)?Ba.spatialReferenceId=ya.GCSMOON2000:Ba.spatialReferenceId=ya.UNKNOWN}
function T(sa,Ba,va,Ka){sa!==va&&(va[Ka++]=sa[Ba++],va[Ka++]=sa[Ba++],va[Ka]=sa[Ba])}function qa(sa,Ba,va,Ka){va[Ka++]=Cb*(sa[Ba++]/A.earth.radius);va[Ka++]=Cb*(Math.PI/2-2*Math.atan(Math.exp(-sa[Ba++]/A.earth.radius)));va[Ka]=sa[Ba]}function Ca(sa,Ba,va,Ka){qa(sa,Ba,va,Ka);da(va,Ka,va,Ka)}function Fa(sa,Ba,va,Ka){qa(sa,Ba,va,Ka);Ga(va,Ka,va,Ka)}function fa(sa,Ba,va,Ka,Qa){var Pa=.4999999*Math.PI;Pa=d.clamp(xb*sa[Ba+1],-Pa,Pa);Pa=Math.sin(Pa);va[Ka++]=xb*sa[Ba]*Qa.radius;va[Ka++]=Qa.halfSemiMajorAxis*
Math.log((1+Pa)/(1-Pa));va[Ka]=sa[Ba+2]}function ba(sa,Ba,va,Ka){fa(sa,Ba,va,Ka,A.earth)}function ka(sa,Ba,va,Ka){va[Ka]=sa[Ba]*qb;va[Ka+1]=sa[Ba+1]*qb;va[Ka+2]=sa[Ba+2]}function X(sa,Ba,va,Ka){va[Ka]=sa[Ba]*wb;va[Ka+1]=sa[Ba+1]*wb;va[Ka+2]=sa[Ba+2]}function Q(sa,Ba,va,Ka){qa(sa,Ba,va,Ka);ka(va,Ka,va,Ka)}function ca(sa,Ba,va,Ka,Qa){Qa+=sa[Ba+2];const Pa=xb*sa[Ba+1];sa=xb*sa[Ba];Ba=Math.cos(Pa);va[Ka++]=Math.cos(sa)*Ba*Qa;va[Ka++]=Math.sin(sa)*Ba*Qa;va[Ka]=Math.sin(Pa)*Qa}function ja(sa,Ba,va,Ka){ca(sa,
Ba,va,Ka,A.moon.radius)}function ua(sa,Ba,va,Ka){ca(sa,Ba,va,Ka,A.mars.radius)}function da(sa,Ba,va,Ka){ca(sa,Ba,va,Ka,A.earth.radius)}function ra(sa,Ba,va,Ka,Qa){var Pa=sa[Ba];const Ea=sa[Ba+1];Ba=sa[Ba+2];sa=Math.sqrt(Pa*Pa+Ea*Ea+Ba*Ba);Ba=d.asinClamped(Ba/(0===sa?1:sa));Pa=Math.atan2(Ea,Pa);va[Ka++]=Cb*Pa;va[Ka++]=Cb*Ba;va[Ka]=sa-Qa}function wa(sa,Ba,va,Ka){ra(sa,Ba,va,Ka,A.moon.radius)}function Ia(sa,Ba,va,Ka){ra(sa,Ba,va,Ka,A.mars.radius)}function Oa(sa,Ba,va,Ka){ra(sa,Ba,va,Ka,A.earth.radius)}
function ma(sa,Ba,va,Ka){Oa(sa,Ba,va,Ka);ba(va,Ka,va,Ka)}function ta(sa,Ba,va,Ka){Oa(sa,Ba,va,Ka);Ga(va,Ka,va,Ka)}function Ga(sa,Ba,va,Ka){var Qa=A.earth;const Pa=xb*sa[Ba];var Ea=xb*sa[Ba+1];sa=sa[Ba+2];Ba=Math.sin(Ea);Ea=Math.cos(Ea);const Ua=Qa.radius/Math.sqrt(1-Qa.eccentricitySquared*Ba*Ba);va[Ka++]=(Ua+sa)*Ea*Math.cos(Pa);va[Ka++]=(Ua+sa)*Ea*Math.sin(Pa);va[Ka++]=(Ua*(1-Qa.eccentricitySquared)+sa)*Ba}function Aa(sa,Ba,va,Ka){var Qa=B.earthEllipsoidConstants,Pa=sa[Ba],Ea=sa[Ba+1];sa=sa[Ba+2];
let Ua;Ba=Math.abs(sa);var na=Pa*Pa+Ea*Ea;var La=Math.sqrt(na);var Ra=na+sa*sa;var Wa=Math.sqrt(Ra);Pa=Math.atan2(Ea,Pa);var ab=sa*sa/Ra;Ra=na/Ra;Ea=Qa.a2/Wa;na=Qa.a3-Qa.a4/Wa;.3<Ra?(ab=Ba/Wa*(1+Ra*(Qa.a1+Ea+ab*na)/Wa),Wa=Math.asin(ab),Ea=ab*ab,Ra=Math.sqrt(1-Ea)):(Ra=La/Wa*(1-ab*(Qa.a5-Ea-Ra*na)/Wa),Wa=Math.acos(Ra),Ea=1-Ra*Ra,ab=Math.sqrt(Ea));Ua=1-A.earth.eccentricitySquared*Ea;Ea=A.earth.radius/Math.sqrt(Ua);Qa=Qa.a6*Ea;Ea=La-Ea*Ra;na=Ba-Qa*ab;Ba=Ra*Ea+ab*na;La=Ra*na-ab*Ea;Qa=La/(Qa/Ua+Ba);Wa+=
Qa;0>sa&&(Wa=-Wa);va[Ka++]=Cb*Pa;va[Ka++]=Cb*Wa;va[Ka]=Ba+La*Qa/2}function Na(sa,Ba,va,Ka){Aa(sa,Ba,va,Ka);da(va,Ka,va,Ka)}function Va(sa,Ba,va,Ka){Aa(sa,Ba,va,Ka);ba(va,Ka,va,Ka)}function Xa(sa,Ba,va=bb()){return n.isNone(sa)||n.isNone(Ba)?null:$a(sa,Ba,va).projector}function $a(sa,Ba,va){if(n.isNone(sa)||n.isNone(Ba)||va.source.spatialReference===sa&&va.dest.spatialReference===Ba)return va;const Ka=N(sa,va.source),Qa=N(Ba,va.dest);Ka===ya.UNKNOWN&&Qa===ya.UNKNOWN?y.equals(sa,Ba)?va.projector=T:
va.projector=null:va.projector=tb[Ka][Qa];return va}function bb(){return{source:{spatialReference:null,spatialReferenceId:ya.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:ya.UNKNOWN,metersPerUnit:1},projector:T}}let Sa=null,db=null,eb=null,Da={};const Ja=new p.SimpleObservable;let Za=function(sa){function Ba(){return va.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")}c._inherits(Ba,sa);var va=c._createSuper(Ba);return c._createClass(Ba)}(e);
var ya;(function(sa){sa[sa.UNKNOWN=0]="UNKNOWN";sa[sa.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";sa[sa.WGS84=2]="WGS84";sa[sa.WEB_MERCATOR=3]="WEB_MERCATOR";sa[sa.WGS84_ECEF=4]="WGS84_ECEF";sa[sa.CGCS2000=5]="CGCS2000";sa[sa.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";sa[sa.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";sa[sa.GCSMARS2000=8]="GCSMARS2000";sa[sa.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";sa[sa.GCSMOON2000=10]="GCSMOON2000";sa[sa.LON_LAT=11]="LON_LAT";sa[sa.PLATE_CARREE=12]="PLATE_CARREE"})(ya||
(ya={}));const qb=A.earth.radius*Math.PI/180,wb=180/(A.earth.radius*Math.PI),tb={[ya.WGS84]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:T,[ya.WGS84_COMPARABLE_LON_LAT]:T,[ya.SPHERICAL_ECEF]:da,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:ba,[ya.PLATE_CARREE]:ka,[ya.WGS84]:T,[ya.WGS84_ECEF]:Ga},[ya.CGCS2000]:{[ya.CGCS2000]:T,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:T,[ya.WGS84_COMPARABLE_LON_LAT]:T,
[ya.SPHERICAL_ECEF]:da,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:ka,[ya.WGS84]:null,[ya.WGS84_ECEF]:Ga},[ya.GCSMARS2000]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:T,[ya.GCSMOON2000]:null,[ya.LON_LAT]:T,[ya.WGS84_COMPARABLE_LON_LAT]:null,[ya.SPHERICAL_ECEF]:null,[ya.SPHERICAL_MARS_PCPF]:ua,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:null,[ya.WGS84]:null,[ya.WGS84_ECEF]:null},[ya.GCSMOON2000]:{[ya.CGCS2000]:null,
[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:T,[ya.LON_LAT]:T,[ya.WGS84_COMPARABLE_LON_LAT]:null,[ya.SPHERICAL_ECEF]:null,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:ja,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:null,[ya.WGS84]:null,[ya.WGS84_ECEF]:null},[ya.WEB_MERCATOR]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:qa,[ya.WGS84_COMPARABLE_LON_LAT]:qa,[ya.SPHERICAL_ECEF]:Ca,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,
[ya.WEB_MERCATOR]:T,[ya.PLATE_CARREE]:Q,[ya.WGS84]:qa,[ya.WGS84_ECEF]:Fa},[ya.WGS84_ECEF]:{[ya.CGCS2000]:Aa,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:Aa,[ya.WGS84_COMPARABLE_LON_LAT]:Aa,[ya.SPHERICAL_ECEF]:Na,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:Va,[ya.PLATE_CARREE]:function(sa,Ba,va,Ka){Aa(sa,Ba,va,Ka);ka(va,Ka,va,Ka)},[ya.WGS84]:Aa,[ya.WGS84_ECEF]:T},[ya.SPHERICAL_ECEF]:{[ya.CGCS2000]:Oa,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,
[ya.LON_LAT]:Oa,[ya.WGS84_COMPARABLE_LON_LAT]:Oa,[ya.SPHERICAL_ECEF]:T,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:ma,[ya.PLATE_CARREE]:function(sa,Ba,va,Ka){Oa(sa,Ba,va,Ka);ka(va,Ka,va,Ka)},[ya.WGS84]:Oa,[ya.WGS84_ECEF]:ta},[ya.SPHERICAL_MARS_PCPF]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:Ia,[ya.GCSMOON2000]:null,[ya.LON_LAT]:Ia,[ya.WGS84_COMPARABLE_LON_LAT]:null,[ya.SPHERICAL_ECEF]:null,[ya.SPHERICAL_MARS_PCPF]:T,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,
[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:null,[ya.WGS84]:null,[ya.WGS84_ECEF]:null},[ya.SPHERICAL_MOON_PCPF]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:wa,[ya.LON_LAT]:wa,[ya.WGS84_COMPARABLE_LON_LAT]:null,[ya.SPHERICAL_ECEF]:null,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:T,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:null,[ya.WGS84]:null,[ya.WGS84_ECEF]:null},[ya.UNKNOWN]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:null,
[ya.WGS84_COMPARABLE_LON_LAT]:null,[ya.SPHERICAL_ECEF]:null,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:T,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:null,[ya.WGS84]:null,[ya.WGS84_ECEF]:null},[ya.LON_LAT]:{[ya.CGCS2000]:T,[ya.GCSMARS2000]:T,[ya.GCSMOON2000]:T,[ya.LON_LAT]:T,[ya.WGS84_COMPARABLE_LON_LAT]:T,[ya.SPHERICAL_ECEF]:da,[ya.SPHERICAL_MARS_PCPF]:ua,[ya.SPHERICAL_MOON_PCPF]:ja,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:ba,[ya.PLATE_CARREE]:ka,[ya.WGS84]:T,[ya.WGS84_ECEF]:Ga},
[ya.WGS84_COMPARABLE_LON_LAT]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:T,[ya.WGS84_COMPARABLE_LON_LAT]:T,[ya.SPHERICAL_ECEF]:da,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:ka,[ya.WGS84]:T,[ya.WGS84_ECEF]:Ga},[ya.PLATE_CARREE]:{[ya.CGCS2000]:X,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:X,[ya.WGS84_COMPARABLE_LON_LAT]:X,[ya.SPHERICAL_ECEF]:function(sa,Ba,va,Ka){X(sa,Ba,va,Ka);
da(va,Ka,va,Ka)},[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:function(sa,Ba,va,Ka){X(sa,Ba,va,Ka);ba(va,Ka,va,Ka)},[ya.PLATE_CARREE]:T,[ya.WGS84]:X,[ya.WGS84_ECEF]:function(sa,Ba,va,Ka){X(sa,Ba,va,Ka);Ga(va,Ka,va,Ka)}}},yb={spatialReference:null,spatialReferenceId:ya.UNKNOWN},Bb={spatialReference:null,spatialReferenceId:ya.UNKNOWN},Ab=bb(),Ib=bb(),xb=d.deg2rad(1),Cb=d.rad2deg(1),kb=f.create(),rb=f.create(),vb=f.create(),hb=f.create(),Ta=f.create();
b.canProjectToWGS84ComparableLonLat=function(sa){if(n.isNone(sa))return!1;sa=N(sa,yb);return!!tb[sa][ya.WGS84_COMPARABLE_LON_LAT]};b.canProjectWithoutEngine=H;b.computeENUToSphericalPCPFLocalRotation=pa;b.computeSphericalPCPFToENULocalRotation=xa;b.computeTranslationToOriginAndRotation=function(sa,Ba,va,Ka){if(n.isNone(sa)||n.isNone(Ka))return!1;var Qa=N(sa,yb),Pa=N(Ka,Bb);if(Qa===Pa&&Pa!==ya.SPHERICAL_ECEF&&Pa!==ya.SPHERICAL_MARS_PCPF&&Pa!==ya.SPHERICAL_MOON_PCPF&&(Qa!==ya.UNKNOWN||y.equals(sa,Ka)))return m.fromTranslation(va,
Ba),!0;if(Pa===ya.SPHERICAL_ECEF||Pa===ya.SPHERICAL_MARS_PCPF||Pa===ya.SPHERICAL_MOON_PCPF){Qa=tb[Qa][ya.LON_LAT];Pa=tb[ya.LON_LAT][Pa];if(n.isNone(Qa)||n.isNone(Pa))return!1;Qa(Ba,0,rb,0);Pa(rb,0,vb,0);pa(xb*rb[0],xb*rb[1],va);va[12]=vb[0];va[13]=vb[1];va[14]=vb[2];return!0}if((Pa===ya.WEB_MERCATOR||Pa===ya.PLATE_CARREE)&&(Qa===ya.WGS84||Qa===ya.CGCS2000&&Pa===ya.PLATE_CARREE||Qa===ya.SPHERICAL_ECEF||Qa===ya.WEB_MERCATOR)){sa=tb[Qa][ya.LON_LAT];Pa=tb[ya.LON_LAT][Pa];if(n.isNone(sa)||n.isNone(Pa))return!1;
sa(Ba,0,rb,0);Pa(rb,0,vb,0);Qa===ya.SPHERICAL_ECEF?xa(xb*rb[0],xb*rb[1],va):m.identity(va);va[12]=vb[0];va[13]=vb[1];va[14]=vb[2];return!0}return!1};b.getProjectorName=function(sa,Ba){switch(Xa(sa,Ba,Ab)){case T:return"copy3";case da:return"wgs84ToSphericalECEF";case ba:return"wgs84ToWebMercator";case ka:return"wgs84ToPlateCarree";case Ga:return"wgs84ToWGS84ECEF";case qa:return"webMercatorToWGS84";case Ca:return"webMercatorToSphericalECEF";case Fa:return"webMercatorToWGS84ECEF";case Q:return"webMercatorToPlateCarree";
case Aa:return"wgs84ECEFToWGS84";case Na:return"wgs84ECEFToSphericalECEF";case Va:return"wgs84ECEFToWebMercator";case Oa:return"sphericalECEFToWGS84";case ma:return"sphericalECEFToWebMercator";case Ia:return"sphericalMarsPCPFToMars2000";case wa:return"sphericalMoonPCPFToMoon2000";case ta:return"sphericalECEFToWGS84ECEF";case ua:return"mars2000ToSphericalPCPF";case ja:return"moon2000ToSphericalPCPF";default:return null}};b.getTransformation=M;b.getTransformations=function(sa,Ba,va=null){if(n.isNone(Sa)||
n.isNone(db))throw new Za;sa=Sa._getTransformationBySuitability(db,sa,Ba,va,va?.spatialReference);if(null!==sa){Ba=[];for(const Ka of sa)Ba.push(D.fromGE(Ka));return Ba}return[]};b.initializeProjection=async function(sa,Ba,va,Ka){if(G())return u.waitTick(Ka);if(Array.isArray(sa))for(const {source:Qa,dest:Pa,geographicTransformation:Ea}of sa){if(!H(Qa,Pa,Ea))return E(Ka)}else if(!H(sa,Ba,va))return E(Ka);return u.waitTick(Ka)};b.isLoaded=G;b.load=E;b.localLinearScaleFactors=function(sa,Ba,va,Ka){if(n.isNone(Ba)||
n.isNone(Ka))return!1;const Qa=N(Ba,yb);var Pa=N(Ka,Bb);if(Qa===Pa&&Qa!==ya.UNKNOWN||y.equals(Ba,Ka))return va[0]=1,va[1]=1,va[2]=1,!0;if(Qa===ya.SPHERICAL_ECEF){Ba=g.length(sa);sa=Ba/Math.sqrt(sa[0]*sa[0]+sa[1]*sa[1]);Ba/=A.earth.radius;if(Pa===ya.WEB_MERCATOR)return va[0]=sa*Ba,va[1]=sa*Ba,va[2]=1,!0;if(Pa===ya.WGS84||Pa===ya.CGCS2000)return Pa=wb,va[0]=Pa*sa*Ba,va[1]=Pa*Ba,va[2]=1,!0}else if(Qa===ya.PLATE_CARREE){if(Pa===ya.WGS84||Pa===ya.CGCS2000)return va[0]=wb,va[1]=wb,va[2]=1,!0;if(Pa===ya.WEB_MERCATOR)return Pa=
sa[1]/A.earth.radius,va[0]=1,va[1]=1/Math.cos(Pa),va[2]=1,!0}return!1};b.lonLatToSphericalPCPF=function(sa,Ba,va,Ka){const Qa=Math.cos(va);sa[0]=Math.cos(Ba)*Qa*Ka;sa[1]=Math.sin(Ba)*Qa*Ka;sa[2]=Math.sin(va)*Ka};b.lonLatToWebMercatorComparable=fa;b.project=P;b.projectBoundingRect=function(sa,Ba,va,Ka){if(null==sa)return!1;if(y.equals(Ba,Ka))return z.copy(va,sa),!0;kb[0]=sa[0];kb[1]=sa[1];kb[2]=0;if(!Y(kb,Ba,0,kb,Ka,0,1))return!1;va[0]=kb[0];va[1]=kb[1];kb[0]=sa[2];kb[1]=sa[3];kb[2]=0;if(!Y(kb,Ba,
0,kb,Ka,0,1))return!1;va[2]=kb[0];va[3]=kb[1];return!0};b.projectBoundingSphere=function(sa,Ba,va,Ka){if(n.isNone(Ba)||n.isNone(Ka))return!1;Ba=$a(Ba,Ka,Ib);if(Ba.projector===T)return va[0]=sa[0],va[1]=sa[1],va[2]=sa[2],va[3]=sa[3],!0;if(n.isNone(Ba.projector))return!1;const {source:Qa,dest:Pa}=Ba;if(Pa.spatialReferenceId===ya.WEB_MERCATOR){Ba=tb[Qa.spatialReferenceId][ya.WGS84];if(n.isNone(Ba))return!1;Ba(sa,0,rb,0);ba(rb,0,va,0);va[3]=U(rb[1],sa[2],sa[3],A.earth.radius);return!0}if(Qa.spatialReferenceId!==
ya.WGS84&&Qa.spatialReferenceId!==ya.CGCS2000||Pa.spatialReferenceId!==ya.PLATE_CARREE)Ba.projector(sa,0,va,0),va[3]=sa[3]*(Qa.metersPerUnit??1)/(Pa.metersPerUnit??1);else{Ka=tb[ya.SPHERICAL_ECEF][ya.PLATE_CARREE];let Ea=sa[3];n.isSome(tb[Qa.spatialReferenceId][ya.SPHERICAL_ECEF])&&n.isSome(Ka)&&(Ea=U(sa[1],sa[2],sa[3],A.earth.radius));Ba.projector(sa,0,va,0);va[3]=Ea}return!0};b.projectBuffer=Y;b.projectDirection=function(sa,Ba,va,Ka,Qa){g.copy(hb,sa);g.add(Ta,sa,Ba);la(hb,va,hb,Qa);la(Ta,va,Ta,
Qa);g.subtract(Ka,Ta,hb);g.normalize(Ka,Ka)};b.projectExtent=function(sa,Ba,va=Ba.spatialReference,Ka=0){return n.isSome(sa.spatialReference)&&n.isSome(va)&&n.isSome(ea(sa,sa.spatialReference,Ba,va,Ka))};b.projectMany=O;b.projectMultipoint=function(sa,Ba,va=Ba.spatialReference,Ka=0){return n.isSome(sa.spatialReference)&&n.isSome(va)&&n.isSome(R(sa,sa.spatialReference,Ba,va,Ka))};b.projectOrLoad=function(sa,Ba){sa=K([sa],Ba);return n.isSome(sa.pending)?{pending:sa.pending,geometry:null}:n.isSome(sa.geometries)?
{pending:null,geometry:sa.geometries[0]}:{pending:null,geometry:null}};b.projectOrLoadMany=K;b.projectPoint=function(sa,Ba,va=Ba.spatialReference,Ka=0){return n.isSome(va)&&n.isSome(sa.spatialReference)&&n.isSome(aa(sa,sa.spatialReference,Ba,va,Ka))};b.projectPointToVector=function(sa,Ba,va,Ka=0){hb[0]=sa.x;hb[1]=sa.y;const Qa=sa.z;hb[2]=void 0!==Qa?Qa:Ka;return Y(hb,sa.spatialReference,0,Ba,va,0,1)};b.projectPointToWGS84ComparableLonLat=function(sa,Ba){hb[0]=sa.x;hb[1]=sa.y;const va=sa.z;hb[2]=void 0!==
va?va:0;return ia(hb,sa.spatialReference,Ba)};b.projectPolygon=function(sa,Ba,va=Ba.spatialReference,Ka=0){return n.isSome(sa.spatialReference)&&n.isSome(va)&&n.isSome(V(sa,sa.spatialReference,Ba,va,Ka))};b.projectPolygonToWGS84ComparableLonLat=function({hasZ:sa,spatialReference:Ba,rings:va},Ka,Qa=0){Ba=N(Ba,yb);Ba=tb[Ba][ya.WGS84_COMPARABLE_LON_LAT];if(n.isNone(Ba))return!1;sa=sa?Pa=>Pa:Pa=>g.set(hb,Pa[0],Pa[1],Qa);for(const Pa of va){va=[];for(const Ea of Pa){const Ua=[0,0,Qa];Ba(sa(Ea),0,Ua,0);
va.push(Ua)}Ka.push(va)}return!0};b.projectPolyline=function(sa,Ba,va=Ba.spatialReference,Ka=0){return n.isSome(sa.spatialReference)&&n.isSome(va)&&n.isSome(S(sa,sa.spatialReference,Ba,va,Ka))};b.projectPolylineToWGS84ComparableLonLat=function({hasZ:sa,spatialReference:Ba,paths:va},Ka,Qa=0){Ba=N(Ba,yb);Ba=tb[Ba][ya.WGS84_COMPARABLE_LON_LAT];if(n.isNone(Ba))return!1;sa=sa?Pa=>Pa:Pa=>g.set(hb,Pa[0],Pa[1],Qa);for(const Pa of va){va=[];for(const Ea of Pa){const Ua=[0,0,Qa];Ba(sa(Ea),0,Ua,0);va.push(Ua)}Ka.push(va)}return!0};
b.projectVectorToDehydratedPoint=function(sa,Ba,va){return Y(sa,Ba,0,hb,va.spatialReference,0,1)?(va.x=hb[0],va.y=hb[1],va.z=hb[2],va):null};b.projectVectorToPoint=function(sa,Ba,va){if(n.isNone(Ba)||n.isNone(va))return null;const Ka=new v({spatialReference:va});return Y(sa,Ba,0,hb,va,0,1)?(Ka.x=hb[0],Ka.y=hb[1],Ka.z=hb[2],Ka):null};b.projectVectorToVector=la;b.projectVectorToWGS84ComparableLonLat=function(sa,Ba,va){return ia(sa,Ba,va)};b.projectWithoutEngine=L;b.projectXYZToVector=ha;b.sphericalPCPFtoLonLatElevation=
ra;b.test={get loadPromise(){return eb}};b.tryProjectWithZConversion=I;b.unload=function(){eb=db=Sa=null;Da={}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(a,b,c){function e(N,T){N[0]=T[0];N[1]=T[1];N[2]=T[2];N[3]=T[3];N[4]=T[4];N[5]=T[5];N[6]=T[6];N[7]=T[7];N[8]=T[8];N[9]=T[9];N[10]=T[10];N[11]=T[11];N[12]=T[12];N[13]=T[13];N[14]=T[14];N[15]=T[15];return N}function d(N,T,qa,Ca,Fa,fa,ba,ka,X,Q,ca,
ja,ua,da,ra,wa,Ia){N[0]=T;N[1]=qa;N[2]=Ca;N[3]=Fa;N[4]=fa;N[5]=ba;N[6]=ka;N[7]=X;N[8]=Q;N[9]=ca;N[10]=ja;N[11]=ua;N[12]=da;N[13]=ra;N[14]=wa;N[15]=Ia;return N}function n(N){N[0]=1;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=1;N[6]=0;N[7]=0;N[8]=0;N[9]=0;N[10]=1;N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function u(N,T){if(N===T){const qa=T[1],Ca=T[2],Fa=T[3],fa=T[6],ba=T[7],ka=T[11];N[1]=T[4];N[2]=T[8];N[3]=T[12];N[4]=qa;N[6]=T[9];N[7]=T[13];N[8]=Ca;N[9]=fa;N[11]=T[14];N[12]=Fa;N[13]=ba;N[14]=ka}else N[0]=
T[0],N[1]=T[4],N[2]=T[8],N[3]=T[12],N[4]=T[1],N[5]=T[5],N[6]=T[9],N[7]=T[13],N[8]=T[2],N[9]=T[6],N[10]=T[10],N[11]=T[14],N[12]=T[3],N[13]=T[7],N[14]=T[11],N[15]=T[15];return N}function t(N,T){r(N,T)||n(N);return N}function r(N,T){const qa=T[0],Ca=T[1],Fa=T[2],fa=T[3],ba=T[4],ka=T[5],X=T[6],Q=T[7],ca=T[8],ja=T[9],ua=T[10],da=T[11],ra=T[12],wa=T[13],Ia=T[14];T=T[15];const Oa=qa*ka-Ca*ba,ma=qa*X-Fa*ba,ta=qa*Q-fa*ba,Ga=Ca*X-Fa*ka,Aa=Ca*Q-fa*ka,Na=Fa*Q-fa*X,Va=ca*wa-ja*ra,Xa=ca*Ia-ua*ra,$a=ca*T-da*ra,
bb=ja*Ia-ua*wa,Sa=ja*T-da*wa,db=ua*T-da*Ia;let eb=Oa*db-ma*Sa+ta*bb+Ga*$a-Aa*Xa+Na*Va;if(!eb)return null;eb=1/eb;N[0]=(ka*db-X*Sa+Q*bb)*eb;N[1]=(Fa*Sa-Ca*db-fa*bb)*eb;N[2]=(wa*Na-Ia*Aa+T*Ga)*eb;N[3]=(ua*Aa-ja*Na-da*Ga)*eb;N[4]=(X*$a-ba*db-Q*Xa)*eb;N[5]=(qa*db-Fa*$a+fa*Xa)*eb;N[6]=(Ia*ta-ra*Na-T*ma)*eb;N[7]=(ca*Na-ua*ta+da*ma)*eb;N[8]=(ba*Sa-ka*$a+Q*Va)*eb;N[9]=(Ca*$a-qa*Sa-fa*Va)*eb;N[10]=(ra*Aa-wa*ta+T*Oa)*eb;N[11]=(ja*ta-ca*Aa-da*Oa)*eb;N[12]=(ka*Xa-ba*bb-X*Va)*eb;N[13]=(qa*bb-Ca*Xa+Fa*Va)*eb;N[14]=
(wa*ma-ra*Ga-Ia*Oa)*eb;N[15]=(ca*Ga-ja*ma+ua*Oa)*eb;return N}function p(N,T){const qa=T[0],Ca=T[1],Fa=T[2],fa=T[3],ba=T[4],ka=T[5],X=T[6],Q=T[7],ca=T[8],ja=T[9],ua=T[10],da=T[11],ra=T[12],wa=T[13],Ia=T[14];T=T[15];N[0]=ka*(ua*T-da*Ia)-ja*(X*T-Q*Ia)+wa*(X*da-Q*ua);N[1]=-(Ca*(ua*T-da*Ia)-ja*(Fa*T-fa*Ia)+wa*(Fa*da-fa*ua));N[2]=Ca*(X*T-Q*Ia)-ka*(Fa*T-fa*Ia)+wa*(Fa*Q-fa*X);N[3]=-(Ca*(X*da-Q*ua)-ka*(Fa*da-fa*ua)+ja*(Fa*Q-fa*X));N[4]=-(ba*(ua*T-da*Ia)-ca*(X*T-Q*Ia)+ra*(X*da-Q*ua));N[5]=qa*(ua*T-da*Ia)-ca*
(Fa*T-fa*Ia)+ra*(Fa*da-fa*ua);N[6]=-(qa*(X*T-Q*Ia)-ba*(Fa*T-fa*Ia)+ra*(Fa*Q-fa*X));N[7]=qa*(X*da-Q*ua)-ba*(Fa*da-fa*ua)+ca*(Fa*Q-fa*X);N[8]=ba*(ja*T-da*wa)-ca*(ka*T-Q*wa)+ra*(ka*da-Q*ja);N[9]=-(qa*(ja*T-da*wa)-ca*(Ca*T-fa*wa)+ra*(Ca*da-fa*ja));N[10]=qa*(ka*T-Q*wa)-ba*(Ca*T-fa*wa)+ra*(Ca*Q-fa*ka);N[11]=-(qa*(ka*da-Q*ja)-ba*(Ca*da-fa*ja)+ca*(Ca*Q-fa*ka));N[12]=-(ba*(ja*Ia-ua*wa)-ca*(ka*Ia-X*wa)+ra*(ka*ua-X*ja));N[13]=qa*(ja*Ia-ua*wa)-ca*(Ca*Ia-Fa*wa)+ra*(Ca*ua-Fa*ja);N[14]=-(qa*(ka*Ia-X*wa)-ba*(Ca*
Ia-Fa*wa)+ra*(Ca*X-Fa*ka));N[15]=qa*(ka*ua-X*ja)-ba*(Ca*ua-Fa*ja)+ca*(Ca*X-Fa*ka);return N}function m(N){const T=N[0],qa=N[1],Ca=N[2],Fa=N[3],fa=N[4],ba=N[5],ka=N[6],X=N[7],Q=N[8],ca=N[9],ja=N[10],ua=N[11],da=N[12],ra=N[13],wa=N[14];N=N[15];return(T*ba-qa*fa)*(ja*N-ua*wa)-(T*ka-Ca*fa)*(ca*N-ua*ra)+(T*X-Fa*fa)*(ca*wa-ja*ra)+(qa*ka-Ca*ba)*(Q*N-ua*da)-(qa*X-Fa*ba)*(Q*wa-ja*da)+(Ca*X-Fa*ka)*(Q*ra-ca*da)}function g(N,T,qa){const Ca=T[0],Fa=T[1],fa=T[2],ba=T[3],ka=T[4],X=T[5],Q=T[6],ca=T[7],ja=T[8],ua=
T[9],da=T[10],ra=T[11],wa=T[12],Ia=T[13],Oa=T[14];T=T[15];let ma=qa[0],ta=qa[1],Ga=qa[2],Aa=qa[3];N[0]=ma*Ca+ta*ka+Ga*ja+Aa*wa;N[1]=ma*Fa+ta*X+Ga*ua+Aa*Ia;N[2]=ma*fa+ta*Q+Ga*da+Aa*Oa;N[3]=ma*ba+ta*ca+Ga*ra+Aa*T;ma=qa[4];ta=qa[5];Ga=qa[6];Aa=qa[7];N[4]=ma*Ca+ta*ka+Ga*ja+Aa*wa;N[5]=ma*Fa+ta*X+Ga*ua+Aa*Ia;N[6]=ma*fa+ta*Q+Ga*da+Aa*Oa;N[7]=ma*ba+ta*ca+Ga*ra+Aa*T;ma=qa[8];ta=qa[9];Ga=qa[10];Aa=qa[11];N[8]=ma*Ca+ta*ka+Ga*ja+Aa*wa;N[9]=ma*Fa+ta*X+Ga*ua+Aa*Ia;N[10]=ma*fa+ta*Q+Ga*da+Aa*Oa;N[11]=ma*ba+ta*ca+
Ga*ra+Aa*T;ma=qa[12];ta=qa[13];Ga=qa[14];Aa=qa[15];N[12]=ma*Ca+ta*ka+Ga*ja+Aa*wa;N[13]=ma*Fa+ta*X+Ga*ua+Aa*Ia;N[14]=ma*fa+ta*Q+Ga*da+Aa*Oa;N[15]=ma*ba+ta*ca+Ga*ra+Aa*T;return N}function f(N,T,qa){const Ca=qa[0],Fa=qa[1];qa=qa[2];if(T===N)N[12]=T[0]*Ca+T[4]*Fa+T[8]*qa+T[12],N[13]=T[1]*Ca+T[5]*Fa+T[9]*qa+T[13],N[14]=T[2]*Ca+T[6]*Fa+T[10]*qa+T[14],N[15]=T[3]*Ca+T[7]*Fa+T[11]*qa+T[15];else{const fa=T[0],ba=T[1],ka=T[2],X=T[3],Q=T[4],ca=T[5],ja=T[6],ua=T[7],da=T[8],ra=T[9],wa=T[10],Ia=T[11];N[0]=fa;N[1]=
ba;N[2]=ka;N[3]=X;N[4]=Q;N[5]=ca;N[6]=ja;N[7]=ua;N[8]=da;N[9]=ra;N[10]=wa;N[11]=Ia;N[12]=fa*Ca+Q*Fa+da*qa+T[12];N[13]=ba*Ca+ca*Fa+ra*qa+T[13];N[14]=ka*Ca+ja*Fa+wa*qa+T[14];N[15]=X*Ca+ua*Fa+Ia*qa+T[15]}return N}function h(N,T,qa){const Ca=qa[0],Fa=qa[1];qa=qa[2];N[0]=T[0]*Ca;N[1]=T[1]*Ca;N[2]=T[2]*Ca;N[3]=T[3]*Ca;N[4]=T[4]*Fa;N[5]=T[5]*Fa;N[6]=T[6]*Fa;N[7]=T[7]*Fa;N[8]=T[8]*qa;N[9]=T[9]*qa;N[10]=T[10]*qa;N[11]=T[11]*qa;N[12]=T[12];N[13]=T[13];N[14]=T[14];N[15]=T[15];return N}function q(N,T,qa,Ca){let Fa=
Ca[0],fa=Ca[1];Ca=Ca[2];let ba=Math.sqrt(Fa*Fa+fa*fa+Ca*Ca);var ka=void 0,X=void 0;let Q=void 0,ca=void 0,ja=void 0,ua=void 0,da=void 0,ra=void 0,wa=void 0,Ia=void 0,Oa=void 0,ma=void 0,ta=void 0,Ga=void 0,Aa=void 0,Na=void 0,Va=void 0,Xa=void 0,$a=void 0,bb=void 0,Sa=void 0,db=void 0;X=ka=void 0;if(ba<c.getEpsilon())return null;ba=1/ba;Fa*=ba;fa*=ba;Ca*=ba;ka=Math.sin(qa);X=Math.cos(qa);Q=1-X;ca=T[0];ja=T[1];ua=T[2];da=T[3];ra=T[4];wa=T[5];Ia=T[6];Oa=T[7];ma=T[8];ta=T[9];Ga=T[10];Aa=T[11];Na=Fa*
Fa*Q+X;Va=fa*Fa*Q+Ca*ka;Xa=Ca*Fa*Q-fa*ka;$a=Fa*fa*Q-Ca*ka;bb=fa*fa*Q+X;Sa=Ca*fa*Q+Fa*ka;db=Fa*Ca*Q+fa*ka;ka=fa*Ca*Q-Fa*ka;X=Ca*Ca*Q+X;N[0]=ca*Na+ra*Va+ma*Xa;N[1]=ja*Na+wa*Va+ta*Xa;N[2]=ua*Na+Ia*Va+Ga*Xa;N[3]=da*Na+Oa*Va+Aa*Xa;N[4]=ca*$a+ra*bb+ma*Sa;N[5]=ja*$a+wa*bb+ta*Sa;N[6]=ua*$a+Ia*bb+Ga*Sa;N[7]=da*$a+Oa*bb+Aa*Sa;N[8]=ca*db+ra*ka+ma*X;N[9]=ja*db+wa*ka+ta*X;N[10]=ua*db+Ia*ka+Ga*X;N[11]=da*db+Oa*ka+Aa*X;T!==N&&(N[12]=T[12],N[13]=T[13],N[14]=T[14],N[15]=T[15]);return N}function k(N,T,qa){const Ca=
Math.sin(qa);qa=Math.cos(qa);const Fa=T[4],fa=T[5],ba=T[6],ka=T[7],X=T[8],Q=T[9],ca=T[10],ja=T[11];T!==N&&(N[0]=T[0],N[1]=T[1],N[2]=T[2],N[3]=T[3],N[12]=T[12],N[13]=T[13],N[14]=T[14],N[15]=T[15]);N[4]=Fa*qa+X*Ca;N[5]=fa*qa+Q*Ca;N[6]=ba*qa+ca*Ca;N[7]=ka*qa+ja*Ca;N[8]=X*qa-Fa*Ca;N[9]=Q*qa-fa*Ca;N[10]=ca*qa-ba*Ca;N[11]=ja*qa-ka*Ca;return N}function l(N,T,qa){const Ca=Math.sin(qa);qa=Math.cos(qa);const Fa=T[0],fa=T[1],ba=T[2],ka=T[3],X=T[8],Q=T[9],ca=T[10],ja=T[11];T!==N&&(N[4]=T[4],N[5]=T[5],N[6]=T[6],
N[7]=T[7],N[12]=T[12],N[13]=T[13],N[14]=T[14],N[15]=T[15]);N[0]=Fa*qa-X*Ca;N[1]=fa*qa-Q*Ca;N[2]=ba*qa-ca*Ca;N[3]=ka*qa-ja*Ca;N[8]=Fa*Ca+X*qa;N[9]=fa*Ca+Q*qa;N[10]=ba*Ca+ca*qa;N[11]=ka*Ca+ja*qa;return N}function v(N,T,qa){const Ca=Math.sin(qa);qa=Math.cos(qa);const Fa=T[0],fa=T[1],ba=T[2],ka=T[3],X=T[4],Q=T[5],ca=T[6],ja=T[7];T!==N&&(N[8]=T[8],N[9]=T[9],N[10]=T[10],N[11]=T[11],N[12]=T[12],N[13]=T[13],N[14]=T[14],N[15]=T[15]);N[0]=Fa*qa+X*Ca;N[1]=fa*qa+Q*Ca;N[2]=ba*qa+ca*Ca;N[3]=ka*qa+ja*Ca;N[4]=X*
qa-Fa*Ca;N[5]=Q*qa-fa*Ca;N[6]=ca*qa-ba*Ca;N[7]=ja*qa-ka*Ca;return N}function w(N,T){N[0]=1;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=1;N[6]=0;N[7]=0;N[8]=0;N[9]=0;N[10]=1;N[11]=0;N[12]=T[0];N[13]=T[1];N[14]=T[2];N[15]=1;return N}function x(N,T){N[0]=T[0];N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=T[1];N[6]=0;N[7]=0;N[8]=0;N[9]=0;N[10]=T[2];N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function z(N,T,qa){if(0===T)return n(N);let Ca=qa[0],Fa=qa[1];qa=qa[2];let fa=Math.sqrt(Ca*Ca+Fa*Fa+qa*qa),ba=void 0,ka=void 0,X=
void 0;if(fa<c.getEpsilon())return null;fa=1/fa;Ca*=fa;Fa*=fa;qa*=fa;ba=Math.sin(T);ka=Math.cos(T);X=1-ka;N[0]=Ca*Ca*X+ka;N[1]=Fa*Ca*X+qa*ba;N[2]=qa*Ca*X-Fa*ba;N[3]=0;N[4]=Ca*Fa*X-qa*ba;N[5]=Fa*Fa*X+ka;N[6]=qa*Fa*X+Ca*ba;N[7]=0;N[8]=Ca*qa*X+Fa*ba;N[9]=Fa*qa*X-Ca*ba;N[10]=qa*qa*X+ka;N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function A(N,T){const qa=Math.sin(T);T=Math.cos(T);N[0]=1;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=T;N[6]=qa;N[7]=0;N[8]=0;N[9]=-qa;N[10]=T;N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=
1;return N}function B(N,T){const qa=Math.sin(T);T=Math.cos(T);N[0]=T;N[1]=0;N[2]=-qa;N[3]=0;N[4]=0;N[5]=1;N[6]=0;N[7]=0;N[8]=qa;N[9]=0;N[10]=T;N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function D(N,T){const qa=Math.sin(T);T=Math.cos(T);N[0]=T;N[1]=qa;N[2]=0;N[3]=0;N[4]=-qa;N[5]=T;N[6]=0;N[7]=0;N[8]=0;N[9]=0;N[10]=1;N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function y(N,T,qa){var Ca=T[0],Fa=T[1],fa=T[2],ba=T[3],ka=Ca+Ca,X=Fa+Fa;const Q=fa+fa;T=Ca*ka;const ca=Ca*X;Ca*=Q;const ja=Fa*X;
Fa*=Q;fa*=Q;ka*=ba;X*=ba;ba*=Q;N[0]=1-(ja+fa);N[1]=ca+ba;N[2]=Ca-X;N[3]=0;N[4]=ca-ba;N[5]=1-(T+fa);N[6]=Fa+ka;N[7]=0;N[8]=Ca+X;N[9]=Fa-ka;N[10]=1-(T+ja);N[11]=0;N[12]=qa[0];N[13]=qa[1];N[14]=qa[2];N[15]=1;return N}function C(N,T){const qa=xa,Ca=-T[0],Fa=-T[1],fa=-T[2],ba=T[3],ka=T[4],X=T[5],Q=T[6],ca=T[7],ja=Ca*Ca+Fa*Fa+fa*fa+ba*ba;0<ja?(qa[0]=2*(ka*ba+ca*Ca+X*fa-Q*Fa)/ja,qa[1]=2*(X*ba+ca*Fa+Q*Ca-ka*fa)/ja,qa[2]=2*(Q*ba+ca*fa+ka*Fa-X*Ca)/ja):(qa[0]=2*(ka*ba+ca*Ca+X*fa-Q*Fa),qa[1]=2*(X*ba+ca*Fa+Q*
Ca-ka*fa),qa[2]=2*(Q*ba+ca*fa+ka*Fa-X*Ca));y(N,T,qa);return N}function F(N,T){N[0]=T[12];N[1]=T[13];N[2]=T[14];return N}function G(N,T){const qa=T[0],Ca=T[1],Fa=T[2],fa=T[4],ba=T[5],ka=T[6],X=T[8],Q=T[9];T=T[10];N[0]=Math.sqrt(qa*qa+Ca*Ca+Fa*Fa);N[1]=Math.sqrt(fa*fa+ba*ba+ka*ka);N[2]=Math.sqrt(X*X+Q*Q+T*T);return N}function E(N,T){const qa=T[0]+T[5]+T[10];let Ca=0;0<qa?(Ca=2*Math.sqrt(qa+1),N[3]=.25*Ca,N[0]=(T[6]-T[9])/Ca,N[1]=(T[8]-T[2])/Ca,N[2]=(T[1]-T[4])/Ca):T[0]>T[5]&&T[0]>T[10]?(Ca=2*Math.sqrt(1+
T[0]-T[5]-T[10]),N[3]=(T[6]-T[9])/Ca,N[0]=.25*Ca,N[1]=(T[1]+T[4])/Ca,N[2]=(T[8]+T[2])/Ca):T[5]>T[10]?(Ca=2*Math.sqrt(1+T[5]-T[0]-T[10]),N[3]=(T[8]-T[2])/Ca,N[0]=(T[1]+T[4])/Ca,N[1]=.25*Ca,N[2]=(T[6]+T[9])/Ca):(Ca=2*Math.sqrt(1+T[10]-T[0]-T[5]),N[3]=(T[1]-T[4])/Ca,N[0]=(T[8]+T[2])/Ca,N[1]=(T[6]+T[9])/Ca,N[2]=.25*Ca);return N}function P(N,T,qa,Ca){var Fa=T[0],fa=T[1],ba=T[2],ka=T[3],X=Fa+Fa,Q=fa+fa,ca=ba+ba;T=Fa*X;const ja=Fa*Q;Fa*=ca;const ua=fa*Q;fa*=ca;ba*=ca;X*=ka;Q*=ka;ka*=ca;ca=Ca[0];const da=
Ca[1];Ca=Ca[2];N[0]=(1-(ua+ba))*ca;N[1]=(ja+ka)*ca;N[2]=(Fa-Q)*ca;N[3]=0;N[4]=(ja-ka)*da;N[5]=(1-(T+ba))*da;N[6]=(fa+X)*da;N[7]=0;N[8]=(Fa+Q)*Ca;N[9]=(fa-X)*Ca;N[10]=(1-(T+ua))*Ca;N[11]=0;N[12]=qa[0];N[13]=qa[1];N[14]=qa[2];N[15]=1;return N}function O(N,T,qa,Ca,Fa){var fa=T[0],ba=T[1],ka=T[2],X=T[3],Q=fa+fa,ca=ba+ba,ja=ka+ka;T=fa*Q;var ua=fa*ca,da=fa*ja;fa=ba*ca;ba*=ja;var ra=ka*ja;ka=X*Q;ca*=X;const wa=X*ja;var Ia=Ca[0],Oa=Ca[1];ja=Ca[2];Ca=Fa[0];X=Fa[1];Fa=Fa[2];Q=(1-(fa+ra))*Ia;const ma=(ua+wa)*
Ia;Ia*=da-ca;ua=(ua-wa)*Oa;ra=(1-(T+ra))*Oa;Oa*=ba+ka;da=(da+ca)*ja;ba=(ba-ka)*ja;T=(1-(T+fa))*ja;N[0]=Q;N[1]=ma;N[2]=Ia;N[3]=0;N[4]=ua;N[5]=ra;N[6]=Oa;N[7]=0;N[8]=da;N[9]=ba;N[10]=T;N[11]=0;N[12]=qa[0]+Ca-(Q*Ca+ua*X+da*Fa);N[13]=qa[1]+X-(ma*Ca+ra*X+ba*Fa);N[14]=qa[2]+Fa-(Ia*Ca+Oa*X+T*Fa);N[15]=1;return N}function K(N,T){var qa=T[0],Ca=T[1],Fa=T[2];T=T[3];var fa=qa+qa,ba=Ca+Ca;const ka=Fa+Fa;qa*=fa;const X=Ca*fa;Ca*=ba;const Q=Fa*fa,ca=Fa*ba;Fa*=ka;fa*=T;ba*=T;T*=ka;N[0]=1-Ca-Fa;N[1]=X+T;N[2]=Q-ba;
N[3]=0;N[4]=X-T;N[5]=1-qa-Fa;N[6]=ca+fa;N[7]=0;N[8]=Q+ba;N[9]=ca-fa;N[10]=1-qa-Ca;N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function M(N,T,qa,Ca,Fa,fa,ba){const ka=1/(qa-T),X=1/(Fa-Ca),Q=1/(fa-ba);N[0]=2*fa*ka;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=2*fa*X;N[6]=0;N[7]=0;N[8]=(qa+T)*ka;N[9]=(Fa+Ca)*X;N[10]=(ba+fa)*Q;N[11]=-1;N[12]=0;N[13]=0;N[14]=ba*fa*2*Q;N[15]=0;return N}function I(N,T,qa,Ca,Fa){T=1/Math.tan(T/2);let fa=void 0;N[0]=T/qa;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=T;N[6]=0;N[7]=0;N[8]=0;N[9]=
0;N[11]=-1;N[12]=0;N[13]=0;N[15]=0;null!=Fa&&Infinity!==Fa?(fa=1/(Ca-Fa),N[10]=(Fa+Ca)*fa,N[14]=2*Fa*Ca*fa):(N[10]=-1,N[14]=-2*Ca);return N}function H(N,T,qa,Ca){const Fa=Math.tan(T.upDegrees*Math.PI/180),fa=Math.tan(T.downDegrees*Math.PI/180),ba=Math.tan(T.leftDegrees*Math.PI/180);T=Math.tan(T.rightDegrees*Math.PI/180);const ka=2/(ba+T),X=2/(Fa+fa);N[0]=ka;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=X;N[6]=0;N[7]=0;N[8]=-((ba-T)*ka*.5);N[9]=(Fa-fa)*X*.5;N[10]=Ca/(qa-Ca);N[11]=-1;N[12]=0;N[13]=0;N[14]=Ca*qa/
(qa-Ca);N[15]=0;return N}function L(N,T,qa,Ca,Fa,fa,ba){const ka=1/(T-qa),X=1/(Ca-Fa),Q=1/(fa-ba);N[0]=-2*ka;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=-2*X;N[6]=0;N[7]=0;N[8]=0;N[9]=0;N[10]=2*Q;N[11]=0;N[12]=(T+qa)*ka;N[13]=(Fa+Ca)*X;N[14]=(ba+fa)*Q;N[15]=1;return N}function aa(N,T,qa,Ca){var Fa=void 0;let fa=void 0;var ba=void 0,ka=void 0;let X=void 0,Q=void 0;var ca=void 0,ja=void 0;let ua=void 0,da=void 0;const ra=T[0],wa=T[1];T=T[2];ba=Ca[0];ka=Ca[1];Ca=Ca[2];ca=qa[0];ja=qa[1];qa=qa[2];Fa=c.getEpsilon();
if(Math.abs(ra-ca)<Fa&&Math.abs(wa-ja)<Fa&&Math.abs(T-qa)<Fa)return n(N);ca=ra-ca;ja=wa-ja;ua=T-qa;da=1/Math.sqrt(ca*ca+ja*ja+ua*ua);ca*=da;ja*=da;ua*=da;Fa=ka*ua-Ca*ja;fa=Ca*ca-ba*ua;ba=ba*ja-ka*ca;(da=Math.sqrt(Fa*Fa+fa*fa+ba*ba))?(da=1/da,Fa*=da,fa*=da,ba*=da):ba=fa=Fa=0;ka=ja*ba-ua*fa;X=ua*Fa-ca*ba;Q=ca*fa-ja*Fa;(da=Math.sqrt(ka*ka+X*X+Q*Q))?(da=1/da,ka*=da,X*=da,Q*=da):Q=X=ka=0;N[0]=Fa;N[1]=ka;N[2]=ca;N[3]=0;N[4]=fa;N[5]=X;N[6]=ja;N[7]=0;N[8]=ba;N[9]=Q;N[10]=ua;N[11]=0;N[12]=-(Fa*ra+fa*wa+ba*
T);N[13]=-(ka*ra+X*wa+Q*T);N[14]=-(ca*ra+ja*wa+ua*T);N[15]=1;return N}function R(N,T,qa,Ca){const Fa=T[0],fa=T[1];T=T[2];var ba=Ca[0];const ka=Ca[1];var X=Ca[2];Ca=Fa-qa[0];let Q=fa-qa[1];qa=T-qa[2];let ca=Ca*Ca+Q*Q+qa*qa;0<ca&&(ca=1/Math.sqrt(ca),Ca*=ca,Q*=ca,qa*=ca);let ja=ka*qa-X*Q;X=X*Ca-ba*qa;ba=ba*Q-ka*Ca;ca=ja*ja+X*X+ba*ba;0<ca&&(ca=1/Math.sqrt(ca),ja*=ca,X*=ca,ba*=ca);N[0]=ja;N[1]=X;N[2]=ba;N[3]=0;N[4]=Q*ba-qa*X;N[5]=qa*ja-Ca*ba;N[6]=Ca*X-Q*ja;N[7]=0;N[8]=Ca;N[9]=Q;N[10]=qa;N[11]=0;N[12]=
Fa;N[13]=fa;N[14]=T;N[15]=1;return N}function S(N){return"mat4("+N[0]+", "+N[1]+", "+N[2]+", "+N[3]+", "+N[4]+", "+N[5]+", "+N[6]+", "+N[7]+", "+N[8]+", "+N[9]+", "+N[10]+", "+N[11]+", "+N[12]+", "+N[13]+", "+N[14]+", "+N[15]+")"}function V(N){return Math.sqrt(N[0]**2+N[1]**2+N[2]**2+N[3]**2+N[4]**2+N[5]**2+N[6]**2+N[7]**2+N[8]**2+N[9]**2+N[10]**2+N[11]**2+N[12]**2+N[13]**2+N[14]**2+N[15]**2)}function ea(N,T,qa){N[0]=T[0]+qa[0];N[1]=T[1]+qa[1];N[2]=T[2]+qa[2];N[3]=T[3]+qa[3];N[4]=T[4]+qa[4];N[5]=
T[5]+qa[5];N[6]=T[6]+qa[6];N[7]=T[7]+qa[7];N[8]=T[8]+qa[8];N[9]=T[9]+qa[9];N[10]=T[10]+qa[10];N[11]=T[11]+qa[11];N[12]=T[12]+qa[12];N[13]=T[13]+qa[13];N[14]=T[14]+qa[14];N[15]=T[15]+qa[15];return N}function ha(N,T,qa){N[0]=T[0]-qa[0];N[1]=T[1]-qa[1];N[2]=T[2]-qa[2];N[3]=T[3]-qa[3];N[4]=T[4]-qa[4];N[5]=T[5]-qa[5];N[6]=T[6]-qa[6];N[7]=T[7]-qa[7];N[8]=T[8]-qa[8];N[9]=T[9]-qa[9];N[10]=T[10]-qa[10];N[11]=T[11]-qa[11];N[12]=T[12]-qa[12];N[13]=T[13]-qa[13];N[14]=T[14]-qa[14];N[15]=T[15]-qa[15];return N}
function la(N,T,qa){N[0]=T[0]*qa;N[1]=T[1]*qa;N[2]=T[2]*qa;N[3]=T[3]*qa;N[4]=T[4]*qa;N[5]=T[5]*qa;N[6]=T[6]*qa;N[7]=T[7]*qa;N[8]=T[8]*qa;N[9]=T[9]*qa;N[10]=T[10]*qa;N[11]=T[11]*qa;N[12]=T[12]*qa;N[13]=T[13]*qa;N[14]=T[14]*qa;N[15]=T[15]*qa;return N}function ia(N,T,qa,Ca){N[0]=T[0]+qa[0]*Ca;N[1]=T[1]+qa[1]*Ca;N[2]=T[2]+qa[2]*Ca;N[3]=T[3]+qa[3]*Ca;N[4]=T[4]+qa[4]*Ca;N[5]=T[5]+qa[5]*Ca;N[6]=T[6]+qa[6]*Ca;N[7]=T[7]+qa[7]*Ca;N[8]=T[8]+qa[8]*Ca;N[9]=T[9]+qa[9]*Ca;N[10]=T[10]+qa[10]*Ca;N[11]=T[11]+qa[11]*
Ca;N[12]=T[12]+qa[12]*Ca;N[13]=T[13]+qa[13]*Ca;N[14]=T[14]+qa[14]*Ca;N[15]=T[15]+qa[15]*Ca;return N}function Y(N,T){return N[0]===T[0]&&N[1]===T[1]&&N[2]===T[2]&&N[3]===T[3]&&N[4]===T[4]&&N[5]===T[5]&&N[6]===T[6]&&N[7]===T[7]&&N[8]===T[8]&&N[9]===T[9]&&N[10]===T[10]&&N[11]===T[11]&&N[12]===T[12]&&N[13]===T[13]&&N[14]===T[14]&&N[15]===T[15]}function Z(N,T){if(N===T)return!0;const qa=N[0],Ca=N[1],Fa=N[2],fa=N[3],ba=N[4],ka=N[5],X=N[6],Q=N[7],ca=N[8],ja=N[9],ua=N[10],da=N[11],ra=N[12],wa=N[13],Ia=N[14];
N=N[15];const Oa=T[0],ma=T[1],ta=T[2],Ga=T[3],Aa=T[4],Na=T[5],Va=T[6],Xa=T[7],$a=T[8],bb=T[9],Sa=T[10],db=T[11],eb=T[12],Da=T[13],Ja=T[14];T=T[15];const Za=c.getEpsilon();return Math.abs(qa-Oa)<=Za*Math.max(1,Math.abs(qa),Math.abs(Oa))&&Math.abs(Ca-ma)<=Za*Math.max(1,Math.abs(Ca),Math.abs(ma))&&Math.abs(Fa-ta)<=Za*Math.max(1,Math.abs(Fa),Math.abs(ta))&&Math.abs(fa-Ga)<=Za*Math.max(1,Math.abs(fa),Math.abs(Ga))&&Math.abs(ba-Aa)<=Za*Math.max(1,Math.abs(ba),Math.abs(Aa))&&Math.abs(ka-Na)<=Za*Math.max(1,
Math.abs(ka),Math.abs(Na))&&Math.abs(X-Va)<=Za*Math.max(1,Math.abs(X),Math.abs(Va))&&Math.abs(Q-Xa)<=Za*Math.max(1,Math.abs(Q),Math.abs(Xa))&&Math.abs(ca-$a)<=Za*Math.max(1,Math.abs(ca),Math.abs($a))&&Math.abs(ja-bb)<=Za*Math.max(1,Math.abs(ja),Math.abs(bb))&&Math.abs(ua-Sa)<=Za*Math.max(1,Math.abs(ua),Math.abs(Sa))&&Math.abs(da-db)<=Za*Math.max(1,Math.abs(da),Math.abs(db))&&Math.abs(ra-eb)<=Za*Math.max(1,Math.abs(ra),Math.abs(eb))&&Math.abs(wa-Da)<=Za*Math.max(1,Math.abs(wa),Math.abs(Da))&&Math.abs(Ia-
Ja)<=Za*Math.max(1,Math.abs(Ia),Math.abs(Ja))&&Math.abs(N-T)<=Za*Math.max(1,Math.abs(N),Math.abs(T))}function U(N){const T=c.getEpsilon(),qa=N[0],Ca=N[1],Fa=N[2],fa=N[4],ba=N[5],ka=N[6],X=N[8],Q=N[9];N=N[10];return Math.abs(1-(qa*qa+fa*fa+X*X))<=T&&Math.abs(1-(Ca*Ca+ba*ba+Q*Q))<=T&&Math.abs(1-(Fa*Fa+ka*ka+N*N))<=T}function pa(N){return 1===N[0]&&0===N[1]&&0===N[2]&&0===N[4]&&1===N[5]&&0===N[6]&&0===N[8]&&0===N[9]&&1===N[10]}const xa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,
add:ea,adjoint:p,copy:e,determinant:m,equals:Z,exactEquals:Y,frob:V,fromQuat:K,fromQuat2:C,fromRotation:z,fromRotationTranslation:y,fromRotationTranslationScale:P,fromRotationTranslationScaleOrigin:O,fromScaling:x,fromTranslation:w,fromXRotation:A,fromYRotation:B,fromZRotation:D,frustum:M,getRotation:E,getScaling:G,getTranslation:F,hasIdentityRotation:pa,identity:n,invert:r,invertOrIdentity:t,isOrthoNormal:U,lookAt:aa,mul:g,multiply:g,multiplyScalar:la,multiplyScalarAndAdd:ia,ortho:L,perspective:I,
perspectiveFromFieldOfView:H,rotate:q,rotateX:k,rotateY:l,rotateZ:v,scale:h,set:d,str:S,sub:ha,subtract:ha,targetTo:R,translate:f,transpose:u},Symbol.toStringTag,{value:"Module"}));a.add=ea;a.adjoint=p;a.copy=e;a.determinant=m;a.equals=Z;a.exactEquals=Y;a.frob=V;a.fromQuat=K;a.fromQuat2=C;a.fromRotation=z;a.fromRotationTranslation=y;a.fromRotationTranslationScale=P;a.fromRotationTranslationScaleOrigin=O;a.fromScaling=x;a.fromTranslation=w;a.fromXRotation=A;a.fromYRotation=B;a.fromZRotation=D;a.frustum=
M;a.getRotation=E;a.getScaling=G;a.getTranslation=F;a.hasIdentityRotation=pa;a.identity=n;a.invert=r;a.invertOrIdentity=t;a.isOrthoNormal=U;a.lookAt=aa;a.mat4=b;a.mul=g;a.multiply=g;a.multiplyScalar=la;a.multiplyScalarAndAdd=ia;a.ortho=L;a.perspective=I;a.perspectiveFromFieldOfView=H;a.rotate=q;a.rotateX=k;a.rotateY=l;a.rotateZ=v;a.scale=h;a.set=d;a.str=S;a.sub=ha;a.subtract=ha;a.targetTo=R;a.translate=f;a.transpose=u})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers",
"../assets","../core/has"],function(a,b,c,e,d){function n(){return!!b._pe}function u(){return!!d("esri-wasm")}function t(){return h?h:h=(new Promise((k,l)=>a(["./pe-wasm"],k,l))).then(k=>k.peWasm).then(({default:k})=>k({locateFile:l=>e.getAssetUrl(`esri/geometry/support/${l}`)})).then(k=>{r(k)})}function r(k){function l(x,z,A){x[z]=A(x[z])}b._pe=k;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=function(x){function z(){return A.apply(this,
arguments)}c._inherits(z,x);var A=c._createSuper(z);z.prototype.destroy=function(){b._pe.destroy(this)};return c._createClass(z)}(b._pe.PeGCSExtent);k=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var v of k)l(v.prototype,"getName",x=>function(){return x.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const x of[b._pe.PeGeogtran,b._pe.PeProjcs])l(x.prototype,"getParameters",z=>function(){const A=Array(b.PeDefs.PE_PARM_MAX);
let B=z.call(this);for(let D=0;D<A.length;D++){const y=b._pe.getValue(B,"*");A[D]=y?b._pe.wrapPointer(y,b._pe.PeParameter):null;B+=Int32Array.BYTES_PER_ELEMENT}return A});l(b._pe.PeHorizon.prototype,"getCoord",x=>function(){const z=this.getSize();if(!z)return null;const A=[],B=x.call(this);f(A,z,B);return A});l(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",x=>{const z=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let A=null;var B=x.call(this);if(!b._pe.compare(B,b._pe.NULL)){A=[B];
const D=this.getSteps();if(1<D){B=b._pe.getPointer(B);for(let y=1;y<D;y++)A.push(b._pe.wrapPointer(B+z*y,b._pe.PeGTlistExtendedGTs))}}return A}});const w=b._pe._pe_getPeHorizonSize();v=x=>function(){let z=this._cache;z||(this._cache=z=new Map);if(z.has(x))return z.get(x);let A=null;var B=x.call(this);if(!b._pe.compare(B,b._pe.NULL)){A=[B];const D=B.getNump();if(1<D){B=b._pe.getPointer(B);for(let y=1;y<D;y++)A.push(b._pe.wrapPointer(B+w*y,b._pe.PeHorizon))}}z.set(x,A);return A};l(b._pe.PeProjcs.prototype,
"horizonGcsGenerate",v);l(b._pe.PeProjcs.prototype,"horizonPcsGenerate",v);b._pe.PeObject.prototype.toString=function(x=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();const z=b._pe.getPointer(this),A=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(z,x,A))}}function p(k){if(k){var l=b._pe.getClass(k);l&&(l=b._pe.getCache(l))&&(k=b._pe.getPointer(k))&&delete l[k]}}function m(k,l){const v=[];l=Array(l);for(let w=0;w<k;w++)v.push(b._pe.ensureInt8(l));
return v}function g(k){let l;Array.isArray(k[0])?(l=[],k.forEach(v=>{l.push(v[0],v[1])})):l=k;return l}function f(k,l,v,w=!1){if(w)for(w=0;w<2*l;w++)k[w]=b._pe.getValue(v+w*Float64Array.BYTES_PER_ELEMENT,"double");else{w=0===k.length;for(let x=0;x<l;x++)w&&(k[x]=Array(2)),k[x][0]=b._pe.getValue(v,"double"),k[x][1]=b._pe.getValue(v+Float64Array.BYTES_PER_ELEMENT,"double"),v+=2*Float64Array.BYTES_PER_ELEMENT}}let h;b._pe=null;b.PeCSTransformations=void 0;(function(k){function l(x,z,A){b._pe.ensureCache.prepare();
var B=g(A);const D=A===B;B=b._pe.ensureFloat64(B);(x=b._pe._pe_geog_to_proj(b._pe.getPointer(x),z,B))&&f(A,z,B,D);return x}function v(x,z,A){return w(x,z,A,0)}function w(x,z,A,B){b._pe.ensureCache.prepare();var D=g(A);const y=A===D;D=b._pe.ensureFloat64(D);(x=b._pe._pe_proj_to_geog_center(b._pe.getPointer(x),z,D,B))&&f(A,z,D,y);return x}k.geogToProj=l;k.projGeog=function(x,z,A,B){switch(B){case b.PeDefs.PE_TRANSFORM_P_TO_G:return v(x,z,A);case b.PeDefs.PE_TRANSFORM_G_TO_P:return l(x,z,A)}return 0};
k.projToGeog=v;k.projToGeogCenter=w})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(k){k.init=function(){k.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;k.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;k.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;k.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;k.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;k.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;k.PE_DMS_MAX=b._pe.PeDefs.prototype.PE_DMS_MAX;k.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;
k.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;k.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;k.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;k.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.PE_TYPE_PROJCS;k.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;k.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;k.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;k.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;k.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;k.PE_STR_AUTH_NONE=
b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;k.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;k.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;k.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;k.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;k.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;k.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;k.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;k.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;
k.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;k.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;k.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;k.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeFactory=void 0;(function(k){function l(z,A){let B=null,D=v[z];D||(D={},v[z]=D);D.hasOwnProperty(String(A))?B=D[A]:(z=b._pe.PeFactory.prototype.factoryByType(z,A),b._pe.compare(z,b._pe.NULL)||(B=z,D[A]=B));return B=x(B)}const v={},w={},x=z=>
{if(z){const A=z.getType();switch(A){case b.PeDefs.PE_TYPE_GEOGCS:z=b._pe.castObject(z,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:z=b._pe.castObject(z,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:z=b._pe.castObject(z,b._pe.PeGeogtran);break;default:A&b.PeDefs.PE_TYPE_UNIT&&(z=b._pe.castObject(z,b._pe.PeUnit))}}return z};k.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};k.coordsys=function(z){return l(b.PeDefs.PE_TYPE_COORDSYS,z)};k.factoryByType=l;k.fromString=function(z,
A){let B=null,D=w[z];D||(D={},w[z]=D);D.hasOwnProperty(A)?B=D[A]:(z=b._pe.PeFactory.prototype.fromString(z,A),b._pe.compare(z,b._pe.NULL)||(B=z,D[A]=B));return B=x(B)};k.geogcs=function(z){return l(b.PeDefs.PE_TYPE_GEOGCS,z)};k.geogtran=function(z){return l(b.PeDefs.PE_TYPE_GEOGTRAN,z)};k.getCode=function(z){return b._pe.PeFactory.prototype.getCode(z)};k.projcs=function(z){return l(b.PeDefs.PE_TYPE_PROJCS,z)};k.unit=function(z){return l(b.PeDefs.PE_TYPE_UNIT,z)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=
null;b.PeGTlistExtended=void 0;(function(k){let l;k.init=function(){k.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;l=b._pe._pe_getPeGTlistExtendedEntrySize()};k.getGTlist=function(v,w,x,z,A,B){let D=null;const y=new b._pe.PeInteger(B);try{const C=b._pe.PeGTlistExtended.prototype.getGTlist(v,w,x,z,A,y);if(B=y.val)if(D=[C],1<B){const F=b._pe.getPointer(C);for(v=1;v<B;v++)D.push(b._pe.wrapPointer(F+l*v,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(y)}return D}})(b.PeGTlistExtended||
(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(k){k.destroy=function(l){if(l&&l.length){for(const v of l)p(v),v.getEntries().forEach(w=>{p(w);w=w.getGeogtran();p(w);w.getParameters().forEach(p);[w.getGeogcs1(),w.getGeogcs2()].forEach(x=>{p(x);const z=x.getDatum();p(z);p(z.getSpheroid());p(x.getPrimem());p(x.getUnit())})});b._pe.PeGTlistExtendedEntry.prototype.Delete(l[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(k){k.geogToGeog=
function(l,v,w,x,z){b._pe.ensureCache.prepare();var A=g(w);const B=w===A;A=b._pe.ensureFloat64(A);let D=0;x&&(D=b._pe.ensureFloat64(x));(l=b._pe._pe_geog_to_geog(b._pe.getPointer(l),v,A,D,z))&&f(w,v,A,B);return l}})(b.PeGTTransformations||(b.PeGTTransformations={}));b.PeNotationDms=void 0;(function(k){const l=(w,x,z,A,B,D)=>{b._pe.ensureCache.prepare();switch(w){case "dd":var y=b._pe._pe_geog_to_dd;var C=b.PeDefs.PE_DD_MAX;break;case "ddm":y=b._pe._pe_geog_to_ddm;C=b.PeDefs.PE_DDM_MAX;break;case "dms":y=
b._pe._pe_geog_to_dms,C=b.PeDefs.PE_DMS_MAX}w=0;x&&(w=b._pe.getPointer(x));x=g(A);x=b._pe.ensureFloat64(x);C=m(z,C);A=b._pe.ensureInt32(C);if(B=y(w,z,x,B,A))for(y=0;y<z;y++)D[y]=b._pe.UTF8ToString(C[y]);return B},v=(w,x,z,A,B)=>{b._pe.ensureCache.prepare();switch(w){case "dd":var D=b._pe._pe_dd_to_geog;break;case "ddm":D=b._pe._pe_ddm_to_geog;break;case "dms":D=b._pe._pe_dms_to_geog}w=0;x&&(w=b._pe.getPointer(x));x=A.map(y=>b._pe.ensureString(y));A=b._pe.ensureInt32(x);x=b._pe.ensureFloat64(Array(2*
z));(D=D(w,z,A,x))&&f(B,z,x);return D};k.geogToDms=function(w,x,z,A,B){return l("dms",w,x,z,A,B)};k.dmsToGeog=function(w,x,z,A){return v("dms",w,x,z,A)};k.geogToDdm=function(w,x,z,A,B){return l("ddm",w,x,z,A,B)};k.ddmToGeog=function(w,x,z,A){return v("ddm",w,x,z,A)};k.geogToDd=function(w,x,z,A,B){return l("dd",w,x,z,A,B)};k.ddToGeog=function(w,x,z,A){return v("dd",w,x,z,A)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(k){k.init=function(){k.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;
k.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;k.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;k.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;k.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};k.geogToMgrsExtended=function(l,v,w,x,z,A,B){b._pe.ensureCache.prepare();let D=0;l&&(D=b._pe.getPointer(l));l=g(w);w=b._pe.ensureFloat64(l);l=m(v,b.PeDefs.PE_MGRS_MAX);const y=b._pe.ensureInt32(l);if(x=b._pe._pe_geog_to_mgrs_extended(D,
v,w,x,z,A,y))for(z=0;z<v;z++)B[z]=b._pe.UTF8ToString(l[z]);return x};k.mgrsToGeogExtended=function(l,v,w,x,z){b._pe.ensureCache.prepare();let A=0;l&&(A=b._pe.getPointer(l));l=w.map(B=>b._pe.ensureString(B));w=b._pe.ensureInt32(l);l=b._pe.ensureFloat64(Array(2*v));(x=b._pe._pe_mgrs_to_geog_extended(A,v,w,x,l))&&f(z,v,l);return x}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(k){k.geogToUsng=function(l,v,w,x,z,A,B){b._pe.ensureCache.prepare();let D=0;l&&(D=b._pe.getPointer(l));
l=g(w);w=b._pe.ensureFloat64(l);l=m(v,b.PeDefs.PE_MGRS_MAX);const y=b._pe.ensureInt32(l);if(x=b._pe._pe_geog_to_usng(D,v,w,x,z,A,y))for(z=0;z<v;z++)B[z]=b._pe.UTF8ToString(l[z]);return x};k.usngToGeog=function(l,v,w,x){b._pe.ensureCache.prepare();var z=0;l&&(z=b._pe.getPointer(l));l=w.map(A=>b._pe.ensureString(A));w=b._pe.ensureInt32(l);l=b._pe.ensureFloat64(Array(2*v));(z=b._pe._pe_usng_to_geog(z,v,w,l))&&f(x,v,l);return z}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(k){k.init=
function(){k.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;k.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;k.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};k.geogToUtm=function(l,v,w,x,z){b._pe.ensureCache.prepare();var A=0;l&&(A=b._pe.getPointer(l));l=g(w);w=b._pe.ensureFloat64(l);l=m(v,b.PeDefs.PE_UTM_MAX);const B=b._pe.ensureInt32(l);if(x=b._pe._pe_geog_to_utm(A,v,w,x,B))for(A=0;A<v;A++)z[A]=b._pe.UTF8ToString(l[A]);return x};k.utmToGeog=
function(l,v,w,x,z){b._pe.ensureCache.prepare();let A=0;l&&(A=b._pe.getPointer(l));l=w.map(B=>b._pe.ensureString(B));w=b._pe.ensureInt32(l);l=b._pe.ensureFloat64(Array(2*v));(x=b._pe._pe_utm_to_geog(A,v,w,x,l))&&f(z,v,l);return x}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=void 0;(function(k){const l=new Map;k.init=function(){k.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;k.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;k.PE_POLE_OUTSIDE_BOUNDARY=
b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;k.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};k.generate=function(v,w=k.PE_PCSINFO_OPTION_DOMAIN){let x=null,z=null;l.has(v)&&(z=l.get(v),z[w]&&(x=z[w]));x||(x=b._pe.PePCSInfo.prototype.generate(v,w),z||(z=[],l.set(v,z)),z[w]=x);return x}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(k){k.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const q=Object.freeze(Object.defineProperty({__proto__:null,
get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTTransformations(){return b.PeGTTransformations},get PeGTlistExtended(){return b.PeGTlistExtended},get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},
get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:r,get _pe(){return b._pe},isLoaded:n,isSupported:u,load:t},Symbol.toStringTag,{value:"Module"}));b._init=r;b.isLoaded=n;b.isSupported=u;b.load=t;b.pe=q})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(a,b){const c=Math.PI/180;var e=b.earth.radius;const d=b.earth.eccentricitySquared;e={a1:e*d,a2:e*d*e*d,a3:e*d*d/2,a4:e*d*e*d*2.5,a5:e*d+e*d*d/2,a6:1-d};b={4267:{a:6378206.4,
f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,
f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,
f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},
104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;a.earthEllipsoidConstants=e;a.spheroids=b;a.toRadians=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["../../chunks/_rollupPluginBabelHelpers",
"./GeographicTransformationStep"],function(a,b){return function(){function c(d){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(d&&d.steps)for(const n of d.steps)n instanceof b?this.steps.push(n):this.steps.push(new b({wkid:n.wkid,wkt:n.wkt,isInverse:n.isInverse}))}c.cacheKey=function(d,n){return[void 0!==d.wkid&&null!==d.wkid?d.wkid.toString():"-1",void 0!==d.wkt&&null!==d.wkt?d.wkt.toString():"",void 0!==n.wkid&&null!==n.wkid?n.wkid.toString():"-1",void 0!==n.wkt&&
null!==n.wkt?n.wkt.toString():""].join()};c.fromGE=function(d){const n=new c;let u="";for(const t of d.steps)d=b.fromGE(t),n.steps.push(d),u+=d.uid.toString()+",";n._cachedProjection={};n._gtlistentry=null;n._chain=u;return n};var e=c.prototype;e.getInverse=function(){const d=new c;d.steps=[];for(let n=this.steps.length-1;0<=n;n--)d.steps.push(this.steps[n].getInverse());return d};e.getGTListEntry=function(){let d="";for(const n of this.steps)d+=n.uid.toString()+",";d!==this._chain&&(this._gtlistentry=
null,this._cachedProjection={},this._chain=d);return this._gtlistentry};e.assignCachedGe=function(d,n,u){this._cachedProjection[c.cacheKey(d,n)]=u};e.getCachedGeTransformation=function(d,n){let u="";for(const t of this.steps)u+=t.uid.toString()+",";u!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=u);d=this._cachedProjection[c.cacheKey(d,n)];return void 0===d?null:d};return a._createClass(c)}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(a){let b=0;return function(){function c(e){this.uid=b++;e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse?!0===e.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}c.fromGE=function(e){const d=new c;d._wkt=e.wkt;d._wkid=e.wkid;d._isInverse=e.isInverse;return d};c.prototype.getInverse=function(){const e=new c;e._wkt=this.wkt;e._wkid=this._wkid;e._isInverse=!this.isInverse;return e};a._createClass(c,[{key:"wkt",get:function(){return this._wkt},
set:function(e){this._wkt=e;this.uid=b++}},{key:"wkid",get:function(){return this._wkid},set:function(e){this._wkid=e;this.uid=b++}},{key:"isInverse",get:function(){return this._isInverse},set:function(e){this._isInverse=e;this.uid=b++}}]);return c}()})},"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(a,b,c,e){a.getGeometryZScaler=function(d,n,u){if(b.isNone(n)||b.isNone(u)||u.vcsWkid||e.equals(n,u))return null;
n=c.getMetersPerVerticalUnitForSR(n);u=c.getMetersPerVerticalUnitForSR(u);const t=n/u;if(1===t)return null;switch(d){case "point":case "esriGeometryPoint":return r=>{r&&null!=r.z&&(r.z*=t)};case "polyline":case "esriGeometryPolyline":return r=>{if(r)for(const p of r.paths)for(const m of p)2<m.length&&(m[2]*=t)};case "polygon":case "esriGeometryPolygon":return r=>{if(r)for(const p of r.rings)for(const m of p)2<m.length&&(m[2]*=t)};case "multipoint":case "esriGeometryMultipoint":return r=>{if(r)for(const p of r.points)2<
p.length&&(p[2]*=t)};case "extent":case "esriGeometryExtent":return r=>{r&&null!=r.zmin&&null!=r.zmax&&(r.zmin*=t,r.zmax*=t)};default:return null}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){a.ScaleRangeLayer=r=>{r=function(p){function m(){var f=g.apply(this,arguments);f.minScale=0;f.maxScale=0;return f}b._inherits(m,p);var g=b._createSuper(m);b._createClass(m,[{key:"effectiveScaleRange",get:function(){const f={minScale:this.minScale,maxScale:this.maxScale};var h=this.parent;h&&"effectiveScaleRange"in h&&(h=h.effectiveScaleRange,f.minScale=0<f.minScale?0<h.minScale?Math.min(f.minScale,h.minScale):f.minScale:h.minScale,f.maxScale=0<f.maxScale?0<h.maxScale?Math.max(f.maxScale,
h.maxScale):f.maxScale:h.maxScale);return(h=this._get("effectiveScaleRange"))&&h.minScale===f.minScale&&h.maxScale===f.maxScale?h:f}}]);return m}(r);c.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0}})],r.prototype,"minScale",void 0);c.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0}})],r.prototype,"maxScale",void 0);c.__decorate([e.property({readOnly:!0})],r.prototype,"effectiveScaleRange",null);return r=c.__decorate([t.subclass("esri.layers.mixins.ScaleRangeLayer")],
r)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./refresh".split(" "),function(a,b,c,e,d,n,u,t,r,p,m){a.RefreshableLayer=g=>{g=function(f){function h(...k){var l=
q.call(this,...k);l.refreshInterval=0;l.refreshTimestamp=0;l._debounceHasDataChanged=d.debounce(()=>l.hasDataChanged());l.when().then(()=>{m.registerLayer(b._assertThisInitialized(l))},()=>{});return l}b._inherits(h,f);var q=b._createSuper(h);f=h.prototype;f.destroy=function(){m.unregisterLayer(this)};f.refresh=function(k=Date.now()){d.ignoreAbortErrors(this._debounceHasDataChanged()).then(l=>{l&&this._set("refreshTimestamp",k);this.emit("refresh",{dataChanged:l})},l=>{e.getLogger(this.declaredClass).error(l);
this.emit("refresh",{dataChanged:!1,error:l})})};f.hasDataChanged=async function(){return!0};b._createClass(h,[{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}}]);return h}(g);c.__decorate([n.property({type:Number,cast:f=>.1<=f?f:0>=f?0:.1,json:{write:!0}})],g.prototype,"refreshInterval",void 0);c.__decorate([n.property({readOnly:!0})],g.prototype,"refreshTimestamp",void 0);c.__decorate([n.property()],g.prototype,"refreshParameters",null);return g=c.__decorate([p.subclass("esri.layers.mixins.RefreshableLayer")],
g)};a.isRefreshableLayer=function(g){return null!=g&&"object"===typeof g&&"refreshTimestamp"in g&&"refresh"in g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/refresh":function(){define("exports ../../core/Collection ../../core/has ../../core/Error ../../core/Logger ../../core/accessorSupport/watch ../../core/accessorSupport/trackingUtils".split(" "),function(a,b,c,e,d,n,u){function t(q){return null!=q&&"object"===typeof q&&"refreshInterval"in q&&"refresh"in q}
function r(q,k){return Number.isFinite(q)&&Number.isFinite(k)?0>=k?q:r(k,q%k):0}function p(){const q=Date.now();for(const k of m)if(k.refreshInterval){const l=g.get(k)??0;q-l+5>=6E4*k.refreshInterval&&(g.set(k,q),k.refresh(q))}}const m=new b,g=new WeakMap;let f=0,h=0;u.autorun(()=>{const q=Date.now();let k=0;for(const l of m)k=r(Math.round(6E4*l.refreshInterval),k),l.refreshInterval?g.get(l)||g.set(l,q):g.delete(l);k!==h&&(h=k,clearInterval(f),f=0===h?0:setInterval(p,h))});a.registerLayer=function(q){t(q)&&
m.push(q)};a.test={get hasRefreshTimer(){return 0<f},get tickInterval(){return h},forceRefresh(){p()},hasLayer(q){return t(q)&&m.includes(q)},clear(){for(const q of m)g.delete(q);m.removeAll()}};a.unregisterLayer=function(q){t(q)&&m.includes(q)&&m.remove(q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layersCreator":function(){define("exports ../../core/Collection ../../core/has ../../core/promiseUtils ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),
function(a,b,c,e,d,n,u,t,r){async function p(B,D,y){if(D){var C=[];for(const F of D)D=m(F,y),"GroupLayer"===F.layerType?C.push(q(D,F,y)):C.push(D);y=await e.eachAlways(C);for(const F of y)F.value&&B.add(F.value)}}async function m(B,D){const y=await f(B,D);return g(y,B,D)}async function g(B,D,y){B=new B;B.read(D,y.context);"group"===B.type&&h(D)&&await k(B,D,y.context);await r.loadStyleRenderer(B,y.context);return B}async function f(B,D){var y=D.context;let C;switch(y.origin){case "web-scene":switch(y.layerContainerType){case "basemap":C=
w;break;case "ground":C=v;break;default:C=l}break;default:switch(y.layerContainerType){case "basemap":C=A;break;case "tables":C=z;break;default:C=x}}let F=B.layerType||B.type;!F&&D&&D.defaultLayerType&&(F=D.defaultLayerType);D=(D=C[F])?d.layerLookupMap[D]:d.layerLookupMap.UnknownLayer;"Feature Collection"===B.type?(y=y?.portal,B.itemId&&(B=new n({id:B.itemId,portal:y}),await B.load(),B=(await t.selectLayerClassPath(B)).className||"UnknownLayer",D=d.layerLookupMap[B])):"ArcGISFeatureLayer"===F?u.isMapNotesLayer(B)||
u.isMarkupLayer(B)?D=d.layerLookupMap.MapNotesLayer:u.isRouteLayer(B)?D=d.layerLookupMap.RouteLayer:h(B)&&(D=d.layerLookupMap.GroupLayer):B.wmtsInfo&&B.wmtsInfo.url&&B.wmtsInfo.layerIdentifier?D=d.layerLookupMap.WMTSLayer:"WFS"===F&&"2.0.0"!==B.wfsInfo?.version&&(D=d.layerLookupMap.UnsupportedLayer);return D()}function h(B){return"ArcGISFeatureLayer"!==B.layerType||"Feature Collection"===B.type?!1:1<(B.featureCollection?.layers?.length??0)}async function q(B,D,y){const C=new b;D=p(C,Array.isArray(D.layers)?
D.layers:[],y);try{const F=await B;try{if(await D,"group"===F.type)return F.layers.addMany(C),F}catch(G){F.destroy();for(const E of C)E.destroy();throw G;}}catch(F){throw F;}}async function k(B,D,y){const C=await (0,d.layerLookupMap.FeatureLayer)();var F=D.featureCollection;const G=F?.showLegend;F=F?.layers?.map((E,P)=>{const O=new C;O.read(E,y);E={...y,ignoreDefaults:!0};O.read({id:`${B.id}-sublayer-${P}`,visibility:D.visibleLayers?.includes(P)??!0},E);null!=G&&O.read({showLegend:G},E);return O});
B.layers.addMany(F??[])}const l={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",
GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},v={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},w={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",
OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},x={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",
ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",
WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},z={ArcGISFeatureLayer:"FeatureLayer"},A={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",
DefaultTileLayer:"TileLayer"};a.populateOperationalLayers=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports"],function(a,b){const c=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"}));b.layerLookupMap={BingMapsLayer:async()=>(await new Promise((e,d)=>a(["../BingMapsLayer"],n=>e(c(n)),d))).default,BuildingSceneLayer:async()=>(await new Promise((e,d)=>a(["../BuildingSceneLayer"],
n=>e(c(n)),d))).default,CSVLayer:async()=>(await new Promise((e,d)=>a(["../CSVLayer"],n=>e(c(n)),d))).default,DimensionLayer:async()=>(await new Promise((e,d)=>a(["../DimensionLayer"],n=>e(c(n)),d))).default,ElevationLayer:async()=>(await new Promise((e,d)=>a(["../ElevationLayer"],n=>e(c(n)),d))).default,FeatureLayer:async()=>(await new Promise((e,d)=>a(["../FeatureLayer"],n=>e(c(n)),d))).default,GeoJSONLayer:async()=>(await new Promise((e,d)=>a(["../GeoJSONLayer"],n=>e(c(n)),d))).default,GeoRSSLayer:async()=>
(await new Promise((e,d)=>a(["../GeoRSSLayer"],n=>e(c(n)),d))).default,GroupLayer:async()=>(await new Promise((e,d)=>a(["../GroupLayer"],n=>e(c(n)),d))).default,ImageryLayer:async()=>(await new Promise((e,d)=>a(["../ImageryLayer"],n=>e(c(n)),d))).default,ImageryTileLayer:async()=>(await new Promise((e,d)=>a(["../ImageryTileLayer"],n=>e(c(n)),d))).default,IntegratedMeshLayer:async()=>(await new Promise((e,d)=>a(["../IntegratedMeshLayer"],n=>e(c(n)),d))).default,KMLLayer:async()=>(await new Promise((e,
d)=>a(["../KMLLayer"],n=>e(c(n)),d))).default,LineOfSightLayer:async()=>(await new Promise((e,d)=>a(["../LineOfSightLayer"],n=>e(c(n)),d))).default,MapImageLayer:async()=>(await new Promise((e,d)=>a(["../MapImageLayer"],n=>e(c(n)),d))).default,MapNotesLayer:async()=>(await new Promise((e,d)=>a(["../MapNotesLayer"],n=>e(c(n)),d))).default,MediaLayer:async()=>(await new Promise((e,d)=>a(["../MediaLayer"],n=>e(c(n)),d))).default,OGCFeatureLayer:async()=>(await new Promise((e,d)=>a(["../OGCFeatureLayer"],
n=>e(c(n)),d))).default,OpenStreetMapLayer:async()=>(await new Promise((e,d)=>a(["../OpenStreetMapLayer"],n=>e(c(n)),d))).default,OrientedImageryLayer:async()=>(await new Promise((e,d)=>a(["../OrientedImageryLayer"],n=>e(c(n)),d))).default,PointCloudLayer:async()=>(await new Promise((e,d)=>a(["../PointCloudLayer"],n=>e(c(n)),d))).default,RouteLayer:async()=>(await new Promise((e,d)=>a(["../RouteLayer"],n=>e(c(n)),d))).default,SceneLayer:async()=>(await new Promise((e,d)=>a(["../SceneLayer"],n=>e(c(n)),
d))).default,StreamLayer:async()=>(await new Promise((e,d)=>a(["../StreamLayer"],n=>e(c(n)),d))).default,SubtypeGroupLayer:async()=>(await new Promise((e,d)=>a(["../SubtypeGroupLayer"],n=>e(c(n)),d))).default,TileLayer:async()=>(await new Promise((e,d)=>a(["../TileLayer"],n=>e(c(n)),d))).default,UnknownLayer:async()=>(await new Promise((e,d)=>a(["../UnknownLayer"],n=>e(c(n)),d))).default,UnsupportedLayer:async()=>(await new Promise((e,d)=>a(["../UnsupportedLayer"],n=>e(c(n)),d))).default,VectorTileLayer:async()=>
(await new Promise((e,d)=>a(["../VectorTileLayer"],n=>e(c(n)),d))).default,VoxelLayer:async()=>(await new Promise((e,d)=>a(["../VoxelLayer"],n=>e(c(n)),d))).default,WFSLayer:async()=>(await new Promise((e,d)=>a(["../WFSLayer"],n=>e(c(n)),d))).default,WMSLayer:async()=>(await new Promise((e,d)=>a(["../WMSLayer"],n=>e(c(n)),d))).default,WMTSLayer:async()=>(await new Promise((e,d)=>a(["../WMTSLayer"],n=>e(c(n)),d))).default,WebTileLayer:async()=>(await new Promise((e,d)=>a(["../WebTileLayer"],n=>e(c(n)),
d))).default};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports"],function(a){function b(c,e){return c.layerType&&"ArcGISFeatureLayer"===c.layerType?c.featureCollectionType===e?!0:!1:!1}a.isMapNotesLayer=function(c){return b(c,"notes")};a.isMarkupLayer=function(c){return b(c,"markup")};a.isRouteLayer=function(c){return b(c,"route")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalLayers":function(){define("exports ../../core/Error ../../layers/support/layerUtils ../../layers/support/lazyLayerLoader ../PortalItem ./layersLoader ./portalItemUtils ../../support/requestPresets".split(" "),
function(a,b,c,e,d,n,u,t){async function r(z){await z.load();z=await p(z);return m(z)}async function p(z){switch(z.type){case "Map Service":return g(z);case "Feature Service":return f(z);case "Feature Collection":return q(z);case "Scene Service":return h(z);case "Image Service":return k(z);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "GeoJson":return{className:"GeoJSONLayer"};case "CSV":return{className:"CSVLayer"};case "KML":return{className:"KMLLayer"};
case "WFS":return{className:"WFSLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};case "Feed":return{className:"StreamLayer"};default:throw new b("portal:unknown-item-type","Unknown item type '${type}'",{type:z.type});}}async function m(z){return{constructor:await (0,e.layerLookupMap[z.className])(),properties:z.properties}}async function g(z){return await v(z)?{className:"TileLayer"}:{className:"MapImageLayer"}}async function f(z){if(u.hasTypeKeyword(z,"Oriented Imagery Layer"))return l(z);
z=await w(z);if("object"===typeof z){const A={};null!=z.id&&(A.layerId=z.id);return{className:z.className||"FeatureLayer",properties:A}}return{className:"GroupLayer"}}async function h(z){const A=await w(z);if("object"===typeof A){const B={};let D=void 0;null!=A.id?(B.layerId=A.id,D=`${z.url}/layers/${A.id}`):D=z.url;if(z.typeKeywords?.length)for(const y of Object.keys(c.sceneServiceLayerTypeToClassName))if(z.typeKeywords.includes(y))return{className:c.sceneServiceLayerTypeToClassName[y]};z=await t.fetchArcGISServiceJSON(D);
return{className:c.sceneServiceLayerTypeToClassName[z?.layerType]||"SceneLayer",properties:B}}return!1===A&&"Voxel"===(await t.fetchArcGISServiceJSON(z.url))?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}async function q(z){await z.load();const A=u.hasTypeKeyword(z,"Map Notes"),B=u.hasTypeKeyword(z,"Markup");if(A||B)return{className:"MapNotesLayer"};if(u.hasTypeKeyword(z,"Route Layer"))return{className:"RouteLayer"};z=await z.fetchData();return 1===n.getNumLayersAndTables(z)?{className:"FeatureLayer"}:
{className:"GroupLayer"}}async function k(z){await z.load();var A=z.typeKeywords?.map(B=>B.toLowerCase())??[];if(A.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(A.includes("tiled imagery"))return{className:"ImageryTileLayer"};A=(await z.fetchData())?.layerType;if("ArcGISTiledImageServiceLayer"===A)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===A)return{className:"ImageryLayer"};A=await t.fetchArcGISServiceJSON(z.url);z=A.cacheType?.toLowerCase();A=A.capabilities?.toLowerCase().includes("tilesonly");
return"map"===z||A?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}async function l(z){await z.load();z=await z.fetchData();return z.coverage?{className:"GroupLayer"}:{className:"OrientedImageryLayer",properties:z}}async function v(z){return(await t.fetchArcGISServiceJSON(z.url)).tileInfo}async function w(z){const A=z.url;if(!A||A.match(/\/\d+$/))return{};await z.load();var B=await z.fetchData();if("Feature Service"===z.type)return z=await n.preprocessFSItemData(B,A),z=x(z),"object"===typeof z&&
(B=n.getSubtypeGroupLayerIds(B),z.className=null!=z.id&&B.includes(z.id)?"SubtypeGroupLayer":"FeatureLayer"),z;if(0<n.getNumLayersAndTables(B))return x(B);B=await t.fetchArcGISServiceJSON(A);return x(B)}function x(z){return 1===n.getNumLayersAndTables(z)?{id:n.getFirstLayerOrTableId(z)}:!1}a.fromItem=async function(z){!z.portalItem||z.portalItem instanceof d||(z={...z,portalItem:new d(z.portalItem)});const A=await r(z.portalItem);return new A.constructor({portalItem:z.portalItem,...A.properties})};
a.selectLayerClassPath=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/layersLoader":function(){define("exports ../../core/Error ../../layers/Layer ../../layers/support/arcgisLayerUrl ../../layers/support/fetchService ../Portal ../PortalItem ./jsonContext ./portalItemUtils ../../renderers/support/styleUtils ../../support/requestPresets".split(" "),function(a,b,c,e,d,n,u,t,r,p,m){async function g(C,F){const G=C.instance,E=G.portalItem;if(E){var {url:P,title:O}=
E,K=t.createForItemRead(E);if("group"===G.type)return G.read({title:O},K),f(G,C);P&&G.read({url:P},K);(C=await v(C,F))&&G.read(C,K);G.resourceReferences={portalItem:E,paths:K.readResourcePaths??[]};"subtype-group"!==G.type&&G.read({title:O},K);return p.loadStyleRenderer(G,K)}}async function f(C,F){var {portalItem:G}=C;if(G){var E=G.type,P=F.layerModuleTypeMap;var O=r.hasTypeKeyword(G,"Oriented Imagery Layer")??!1;switch(E){case "Feature Service":O=O?P.OrientedImageryLayer:P.FeatureLayer;break;case "Stream Service":O=
P.StreamLayer;break;case "Scene Service":O=P.SceneLayer;break;case "Feature Collection":O=P.FeatureLayer;break;default:throw new b("portal:unsupported-item-type-as-group",`The item type '${E}' is not supported as a 'IGroupLayer'`);}var [K,M]=await Promise.all([O(),v(F)]);F=()=>K;if("Feature Service"===E){M=G.url?await w(M,G.url):{};if(D(M).length){const I=await (0,P.SubtypeGroupLayer)();F=H=>"SubtypeGroupLayer"===H.layerType?I:K}G=await y(G.url);return k(C,F,M,G)}return 0<A(M)?k(C,F,M):h(C,F)}}async function h(C,
F){var {portalItem:G}=C;G?.url&&(G=await m.fetchArcGISServiceJSON(G.url))&&k(C,F,{layers:G.layers?.map(q),tables:G.tables?.map(q)})}function q(C){return{id:C.id,name:C.name}}function k(C,F,G,E){let P=G.layers||[];const O=G.tables||[];"Feature Collection"===C.portalItem?.type&&(P.forEach(K=>{"Table"===K?.layerDefinition?.type&&O.push(K)}),P=P.filter(K=>"Table"!==K?.layerDefinition?.type));if("coverage"in G){const K=B(G);K&&C.add(K)}P.reverse().forEach(K=>{K=l(C,F(K),G,K,E?.(K));C.add(K)});O.reverse().forEach(K=>
{K=l(C,F(K),G,K,E?.(K));C.tables.add(K)})}function l(C,F,G,E,P){C=C.portalItem;F=new F({portalItem:C.clone(),layerId:E.id});"sourceJSON"in F&&(F.sourceJSON=P);"subtype-group"!==F.type&&(F.sublayerTitleMode="service-name");"Feature Collection"===C.type&&(P={origin:"portal-item",portal:C.portal||n.getDefault()},F.read(E,P),G=G.showLegend,null!=G&&F.read({showLegend:G},P));return F}async function v(C,F){if(!1!==C.supportsData){C=C.instance;var G=C.portalItem;if(G){var E=null;try{E=await G.fetchData("json",
F)}catch(P){}F="stream"===C.type||"oriented-imagery"===C.type?!1:"layerId"in C;return F?(G=null,F=!0,E&&0<A(E)&&(null==C.layerId&&(G=D(E),C.layerId="subtype-group"===C.type?G?.[0]:x(E)),G=z(E,C))&&(1===A(E)&&(F=!1),null!=E.showLegend&&(G.showLegend=E.showLegend)),F&&"service-name"!==C.sublayerTitleMode&&(C.sublayerTitleMode="item-title-and-service-name"),G):E}}}async function w(C,F){if(null==C?.layers||null==C?.tables)F=await m.fetchArcGISServiceJSON(F),C=C||{},C.layers=C.layers||F?.layers,C.tables=
C.tables||F?.tables;return C}function x(C){const F=C.layers;return F&&F.length?F[0].id:(C=C.tables)&&C.length?C[0].id:null}function z(C,F){const {layerId:G}=F;C=C.layers?.find(P=>P.id===G)||C.tables?.find(P=>P.id===G);var E;if(E=C)E="feature"===F.type&&"layerType"in C&&"SubtypeGroupLayer"===C.layerType||"subtype-group"===F.type&&!("layerType"in C)?!1:!0;return E?C:null}function A(C){return(C?.layers?.length??0)+(C?.tables?.length??0)}function B(C){var {coverage:F}=C;if(!F)return null;C=new URL(F);
if(F.toLowerCase().includes("item.html"))return F=C.searchParams.get("id"),c.fromPortalItem({portalItem:new u({id:F,url:C.origin})});if(e.isArcGISUrl(F))return c.fromArcGISServerUrl({url:F});throw new b("portal:oriented-imagery-layer-coverage","the provided coverage url couldn't be loaded as a layer");}function D(C){const F=[];C?.layers?.forEach(G=>{"SubtypeGroupLayer"===G.layerType&&F.push(G.id)});return F}async function y(C){({layersJSON:C}=await d.fetchFeatureService(C));if(!C)return null;const F=
[...C.layers,...C.tables];return G=>F.find(E=>E.id===G.id)}a.getFirstLayerOrTableId=x;a.getNumLayersAndTables=A;a.getSubtypeGroupLayerIds=D;a.load=async function(C,F){var G=C.instance.portalItem;if(G&&G.id){await G.load(F);G=C.instance.portalItem;if(!G?.type||!C.supportedTypes.includes(G.type))throw new b("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:G?.type,expectedType:C.supportedTypes.join(", ")});return g(C,F)}};a.preprocessFSItemData=w;
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/maybe","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c,e){function d(f){if(b.isNone(f))return null;f=c.urlToObject(f);f=f.path.match(p)||f.path.match(m);if(!f)return null;const [,h,q,k,l]=f;f=q.indexOf("/");return{title:u(-1!==f?q.slice(f+1):q),serverType:t[k.toLowerCase()],sublayer:null!=l&&""!==l?parseInt(l,10):null,url:{path:h}}}
function n(f){return(f=c.urlToObject(f).path.match(g))?{serviceUrl:f[1],sublayerId:Number(f[2])}:null}function u(f){f=f.replace(/\s*[/_]+\s*/g," ");return f[0].toUpperCase()+f.slice(1)}const t={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},r=Object.values(t),p=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${r.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),
m=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${r.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),g=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=u;a.isArcGISUrl=function(f){return!!p.test(f)};a.isHostedAgolService=function(f){if(!f)return!1;f=f.toLowerCase();const h=f.includes(".arcgis.com/");f=f.includes("//services")||f.includes("//tiles")||f.includes("//features");return h&&f};a.isServerOrServicesAGOLUrl=function(f){if(!f)return!1;f=(new c.Url(c.makeAbsolute(f))).authority?.toLowerCase();
return"server.arcgisonline.com"===f||"services.arcgisonline.com"===f};a.isWmsServer=function(f){if(!f)return!1;var h=f.toLowerCase();f=h.includes("/services/");const q=h.includes("/mapserver/wmsserver"),k=h.includes("/imageserver/wmsserver");h=h.includes("/wmsserver");return f&&(q||k||h)};a.parse=d;a.parseNonStandardSublayerUrl=n;a.sanitizeUrl=function(f,h){return f?c.removeTrailingSlash(c.removeQueryParameters(f,h)):f};a.sanitizeUrlWithLayerId=function(f){let {url:h}=f;if(!h)return{url:h};h=c.removeQueryParameters(h,
f.logger);const q=c.urlToObject(h),k=d(q.path);let l=void 0;b.isSome(k)?(null!=k.sublayer&&null==f.layer.layerId&&(l=k.sublayer),h=k.url.path):f.nonStandardUrlAllowed&&(f=n(q.path),b.isSome(f)&&(h=f.serviceUrl,l=f.sublayerId));return{url:c.removeTrailingSlash(h),layerId:l}};a.serverTypes=r;a.titleFromUrlAndName=function(f,h){const q=[];f&&(f=d(f),b.isSome(f)&&f.title&&q.push(f.title));h&&(h=u(h),q.push(h));if(2===q.length){if(q[0].toLowerCase().includes(q[1].toLowerCase()))return q[0];if(q[1].toLowerCase().includes(q[0].toLowerCase()))return q[1]}return q.join(" - ")};
a.writeUrlWithLayerId=function(f,h,q,k,l){e.write(h,k,"url",l);k.url&&null!=f.layerId&&(k.url=c.join(k.url,q,f.layerId.toString()))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fetchService":function(){define(["exports","../../support/requestPresets"],function(a,b){function c(e){return!e.type||"Feature Layer"===e.type}a.fetchFeatureService=async function(e,d){const n=await b.fetchArcGISServiceJSON(e,d);n.layers=n.layers.filter(c);const u={serviceJSON:n};if(10.5>
(n.currentVersion??0))return u;e=await b.fetchArcGISServiceJSON(e+"/layers",d);u.layersJSON={layers:e.layers.filter(c),tables:e.tables};return u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestPresets":function(){define(["exports","../request"],function(a,b){a.fetchArcGISServiceJSON=async function(c,e){({data:c}=await b(c,{responseType:"json",query:{f:"json",...e?.customParameters,token:e?.apiKey}}));return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/portal/support/jsonContext":function(){define(["exports","../../core/urlUtils","../Portal"],function(a,b,c){a.createForItemRead=function(e){return{origin:"portal-item",url:b.urlToObject(e.itemUrl),portal:e.portal||c.getDefault(),portalItem:e,readResourcePaths:[]}};a.createForItemWrite=function(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?b.urlToObject(e.itemUrl):null,portal:e.portal||c.getDefault(),portalItem:e}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/renderers/support/styleUtils":function(){define(["exports","../../core/asyncUtils","../../core/promiseUtils","../../core/Warning"],function(a,b,c,e){a.loadStyleRenderer=async function(d,n,u){var t=d&&d.getAtOrigin&&d.getAtOrigin("renderer",n.origin);t&&"unique-value"===t.type&&t.styleOrigin&&(t=await b.result(t.populateFromStyle()),c.throwIfAborted(u),!1===t.ok&&(u=t.error,n&&n.messages&&n.messages.push(new e("renderer:style-reference",`Failed to create unique value renderer from style reference: ${u.message}`,
{error:u,context:n})),d.clear("renderer",n?.origin)))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/PieChartRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../request ../symbols ../core/Clonable ../core/Collection ../core/Error ../core/Handles ../core/lang ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/extensions/serializableProperty/reader ../form/FormTemplate ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/EditBusLayer ./mixins/FeatureEffectLayer ./mixins/FeatureLayerBase ./mixins/FeatureReductionLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/PublishableLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/featureLayerUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/serviceCapabilitiesUtils ./support/TimeInfo ./support/versionUtils ./support/source/DataLayerSource ../renderers/support/styleUtils ../rest/support/FeatureSet ../rest/support/Query ../rest/support/TopFeaturesQuery ../support/popupUtils ../webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F,G,E,P,O,K,M,I,H,L,aa,R,S,V,ea,ha,la,ia,Y,Z,U,pa,xa,N,T,qa,Ca,Fa,fa,ba,ka,X,Q,ca,ja,ua,da,ra,wa,Ia,Oa,ma,ta,Ga,Aa,Na){function Va(Sa,db){return new w("layer:unsupported",`Layer (${Sa.title}, ${Sa.id}) of type '${Sa.declaredClass}' ${db}`,{layer:Sa})}function Xa(Sa,db,eb){Sa=!!eb?.writeLayerSchema;return{enabled:Sa,ignoreOrigin:Sa}}const $a=A.getLogger("esri.layers.FeatureLayer");d=Q.defineFieldProperties();l=function(Sa){function db(...Da){Da=
eb.call(this,...Da);Da._handles=new x;Da.charts=null;Da.copyright=null;Da.displayField=null;Da.dynamicDataSource=null;Da.fields=null;Da.fieldsIndex=null;Da.formTemplate=null;Da.fullExtent=null;Da.geometryType=null;Da.hasM=void 0;Da.hasZ=void 0;Da.infoFor3D=null;Da.isTable=!1;Da.labelsVisible=!0;Da.labelingInfo=null;Da.legendEnabled=!0;Da.objectIdField=null;Da.outFields=null;Da.path=null;Da.popupEnabled=!0;Da.popupTemplate=null;Da.screenSizePerspectiveEnabled=!0;Da.spatialReference=L.WGS84;Da.subtypeCode=
null;Da.templates=null;Da.timeInfo=null;Da.title=null;Da.sublayerTitleMode="item-title";Da.type="feature";Da.typeIdField=null;Da.types=null;Da.visible=!0;return Da}b._inherits(db,Sa);var eb=b._createSuper(db);Sa=db.prototype;Sa.destroy=function(){this.source?.destroy();this._handles=B.destroyMaybe(this._handles)};Sa.normalizeCtorArgs=function(Da,Ja){return"string"===typeof Da?{url:Da,...Ja}:Da};Sa.load=function(Da){const Ja=B.isSome(Da)?Da.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(Ja).then(ya=>
this.initLayerProperties(ya))),Promise.resolve(this);const Za=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},Da).catch(C.throwIfAbortError).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const ya=await this._fetchFirstLayerId(Ja);null!=ya&&(this.layerId=ya)}if(!this.url&&!this._hasMemorySource())throw new w("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(Ja))}).then(()=>
this._setUserPrivileges(this.serviceItemId,Da)).then(()=>ba.ensureLayerCredential(this,Da));this.addResolvingPromise(Za);return Promise.resolve(this)};Sa.readCapabilities=function(Da,Ja){Ja=Ja.layerDefinition||Ja;return da.getFeatureLayerCapabilities(Ja,this.url)};Sa.readEditingEnabled=function(Da,Ja){return this._readEditingEnabled(Ja,!1)};Sa.readEditingEnabledFromWebMap=function(Da,Ja,Za){return this._readEditingEnabled(Ja,!0,Za)};Sa.writeEditingEnabled=function(Da,Ja){this._writeEditingEnabled(Da,
Ja,!1)};Sa.writeEditingEnabledToWebMap=function(Da,Ja,Za,ya){this._writeEditingEnabled(Da,Ja,!0,ya)};Sa.readIsTable=function(Da,Ja){Ja=Ja?.layerDefinition??Ja;return"Table"===Ja.type||!Ja.geometryType};Sa.writeIsTable=function(Da,Ja,Za,ya){ya?.writeLayerSchema&&y.setDeepValue(Za,Da?"Table":"Feature Layer",Ja)};Sa.readGlobalIdField=function(Da,Ja){return ba.readGlobalIdField(Ja.layerDefinition||Ja)};Sa.readObjectIdField=function(Da,Ja){return ba.readObjectIdField(Ja.layerDefinition||Ja)};Sa.readRenderer=
function(Da,Ja,Za){Ja=Ja.layerDefinition||Ja;if(Da=Ja.drawingInfo?.renderer)return(Da=f.read(Da,Ja,Za)??void 0)||$a.error("Failed to create renderer",{rendererDefinition:Ja.drawingInfo.renderer,layer:this,context:Za}),Da;if(Ja.defaultSymbol)return Ja.types&&Ja.types.length?new g({defaultSymbol:bb(Ja.defaultSymbol,Ja,Za),field:Ja.typeIdField,uniqueValueInfos:Ja.types.map(ya=>({id:ya.id,symbol:bb(ya.symbol,ya,Za)}))}):new m({symbol:bb(Ja.defaultSymbol,Ja,Za)})};Sa.castSource=function(Da){return Da?
Array.isArray(Da)||Da instanceof v?new R.MemorySource({layer:this,items:Da}):Da:null};Sa.readSource=function(Da,Ja){Da=ma.fromJSON(Ja.featureSet);return new R.MemorySource({layer:this,items:Da?.features??[]})};Sa.readTemplates=function(Da,Ja){var Za=Ja.editFieldsInfo;Ja=Za&&Za.creatorField;Za=Za&&Za.editorField;Da=Da&&Da.map(ya=>ka.fromJSON(ya));this._fixTemplates(Da,Ja);this._fixTemplates(Da,Za);return Da};Sa.readTitle=function(Da,Ja){Da=Ja.layerDefinition?.name??Ja.name;Ja=Ja.title||Ja.layerDefinition&&
Ja.layerDefinition.title;if(Da){Ja=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?Fa.titleFromUrlAndName(this.url,Da):Da;if(!Da&&this.url){const Za=Fa.parse(this.url);B.isSome(Za)&&(Da=Za.title)}if(!Da)return;"item-title-and-service-name"===this.sublayerTitleMode&&Ja&&Ja!==Da&&(Da=Ja+" - "+Da);return Fa.cleanTitle(Da)}if("item-title"===this.sublayerTitleMode&&Ja)return Ja};Sa.readTitleFromWebMap=function(Da,Ja){return Ja.title||Ja.layerDefinition&&
Ja.layerDefinition.name};Sa.readTypeIdField=function(Da,Ja){Ja=Ja.layerDefinition||Ja;let Za=Ja.typeIdField;Za&&Ja.fields&&(Za=Za.toLowerCase(),Da=Ja.fields.find(ya=>ya.name.toLowerCase()===Za))&&(Za=Da.name);return Za};Sa.readTypes=function(Da,Ja){Ja=Ja.layerDefinition||Ja;Da=Ja.types;const Za=(Ja=Ja.editFieldsInfo)&&Ja.creatorField,ya=Ja&&Ja.editorField;return Da&&Da.map(qb=>{qb=X.fromJSON(qb);this._fixTemplates(qb.templates,Za);this._fixTemplates(qb.templates,ya);return qb})};Sa.readVisible=function(Da,
Ja){if(Ja.layerDefinition&&null!=Ja.layerDefinition.defaultVisibility)return!!Ja.layerDefinition.defaultVisibility;if(null!=Ja.visibility)return!!Ja.visibility};Sa.addAttachment=async function(Da,Ja){return ba.addAttachment(this,Da,Ja,"FeatureLayer")};Sa.updateAttachment=async function(Da,Ja,Za){return ba.updateAttachment(this,Da,Ja,Za,"FeatureLayer")};Sa.applyEdits=async function(Da,Ja){return ba.applyEdits(this,Da,Ja)};Sa.on=function(Da,Ja){return b._get(b._getPrototypeOf(db.prototype),"on",this).call(this,
Da,Ja)};Sa.createPopupTemplate=function(Da){return Aa.createPopupTemplate(this,Da)};Sa.createGraphicsSource=async function(Da){if(this._hasMemorySource()&&this.source)return this.source.load({signal:Da});const {default:Ja}=await C.whenOrAbort(new Promise((Za,ya)=>a(["./graphics/sources/FeatureLayerSource"],qb=>Za(Object.freeze(Object.defineProperty({__proto__:null,default:qb},Symbol.toStringTag,{value:"Module"}))),ya)),Da);return(new Ja({layer:this})).load({signal:Da})};Sa.createQuery=function(){const Da=
ba.createQuery(this);Da.dynamicDataSource=this.dynamicDataSource;var Ja=B.isSome(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null;Ja=F.sqlAnd(this.definitionExpression,Ja);Da.where=Ja||"1\x3d1";return Da};Sa.deleteAttachments=async function(Da,Ja){return ba.deleteAttachments(this,Da,Ja,"FeatureLayer")};Sa.fetchRecomputedExtents=async function(Da){return ba.fetchRecomputedExtents(this,Da,"FeatureLayer")};Sa.getFeatureType=function(Da){const {typeIdField:Ja,types:Za}=this;if(!Ja||
!Da)return null;const ya=Da.attributes?Da.attributes[Ja]:void 0;if(null==ya)return null;let qb=null;Za?.some(wb=>{const {id:tb}=wb;if(null==tb)return!1;tb.toString()===ya.toString()&&(qb=wb);return!!qb});return qb};Sa.getFieldDomain=function(Da,Ja){return(Ja=this.getFeatureType(Ja?.feature))&&(Ja=Ja.domains&&Ja.domains[Da])&&"inherited"!==Ja.type?Ja:this._getLayerDomain(Da)};Sa.getField=function(Da){return this.fieldsIndex.get(Da)};Sa.queryAttachments=async function(Da,Ja){return ba.queryAttachments(this,
Da,Ja,"FeatureLayer")};Sa.queryFeatures=async function(Da,Ja){const Za=await this.load();Da=await Za.source.queryFeatures(ta.from(Da)??Za.createQuery(),Ja);if(Da?.features)for(const ya of Da.features)ya.layer=ya.sourceLayer=Za;return Da};Sa.queryObjectIds=async function(Da,Ja){return ba.queryObjectIds(this,Da,Ja,"FeatureLayer")};Sa.queryFeatureCount=async function(Da,Ja){return ba.queryFeatureCount(this,Da,Ja,"FeatureLayer")};Sa.queryExtent=async function(Da,Ja){return ba.queryExtent(this,Da,Ja,"FeatureLayer")};
Sa.queryRelatedFeatures=async function(Da,Ja){return ba.queryRelatedFeatures(this,Da,Ja,"FeatureLayer")};Sa.queryRelatedFeaturesCount=async function(Da,Ja){return ba.queryRelatedFeaturesCount(this,Da,Ja,"FeatureLayer")};Sa.queryTopFeatures=async function(Da,Ja){const {source:Za,capabilities:ya}=await this.load();if(!Za.queryTopFeatures||!ya?.query?.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryTopFeatures capability");Da=await Za.queryTopFeatures(Ga.from(Da),
Ja);if(Da?.features)for(const qb of Da.features)qb.layer=qb.sourceLayer=this;return Da};Sa.queryTopObjectIds=async function(Da,Ja){const {source:Za,capabilities:ya}=await this.load();if(!Za.queryTopObjectIds||!ya?.query.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryTopObjectIds capability");return Za.queryTopObjectIds(Ga.from(Da),Ja)};Sa.queryTopFeaturesExtent=async function(Da,Ja){const {source:Za,capabilities:ya}=await this.load();if(!Za.queryTopExtents||
!ya?.query?.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryTopExtents capability");return Za.queryTopExtents(Ga.from(Da),Ja)};Sa.queryTopFeatureCount=async function(Da,Ja){const {source:Za,capabilities:ya}=await this.load();if(!Za.queryTopCount||!ya?.query?.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryFeatureCount capability");return Za.queryTopCount(Ga.from(Da),Ja)};Sa.read=function(Da,Ja){const Za=Da.featureCollection;
if(Za){const ya=Za.layers;ya&&1===ya.length&&(b._get(b._getPrototypeOf(db.prototype),"read",this).call(this,ya[0],Ja),null!=Za.showLegend&&b._get(b._getPrototypeOf(db.prototype),"read",this).call(this,{showLegend:Za.showLegend},Ja))}b._get(b._getPrototypeOf(db.prototype),"read",this).call(this,Da,Ja);Ja&&"service"===Ja.origin&&(this.revert(["objectIdField","fields","timeInfo"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))};Sa.write=function(Da,Ja){Ja={...Ja,origin:Ja?.origin??
void 0,writeLayerSchema:Ja?.writeLayerSchema??this._hasMemorySource()};const {origin:Za,layerContainerType:ya,messages:qb}=Ja;if(this.dynamicDataSource)return qb?.push(Va(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if("web-scene"===Za||"web-map"===Za&&"tables"!==ya)return qb?.push(Va(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return qb?.push(Va(this,"using an in-memory table source cannot be written to web scenes and web maps")),
null}else if(this.loaded&&"web-map"===Za&&"tables"===ya)return qb?.push(Va(this,"using a non-table source cannot be written to tables in web maps")),null;return b._get(b._getPrototypeOf(db.prototype),"write",this).call(this,Da,Ja)};Sa.clone=function(){if(this._hasMemorySource())throw new w("FeatureLayer",`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return b._get(b._getPrototypeOf(db.prototype),"clone",this).call(this)};Sa.serviceSupportsSpatialReference=
function(Da){return this.loaded?"memory"===this.source?.type?!0:wa.serviceSupportsSpatialReference(this,Da):!1};Sa.save=async function(Da){return(await new Promise((Ja,Za)=>a(["./save/featureLayerUtils"],Ja,Za))).save(this,Da)};Sa.saveAs=async function(Da,Ja){return(await new Promise((Za,ya)=>a(["./save/featureLayerUtils"],Za,ya))).saveAs(this,Da,Ja)};Sa._readEditingEnabled=function(Da,Ja,Za){let ya=Da.layerDefinition?.capabilities;if(ya)return this._hasEditingCapability(ya);ya=Da.capabilities;if(Ja&&
"web-map"===Za?.origin&&!this._hasMemorySource()&&ya)return this._hasEditingCapability(ya)};Sa._hasEditingCapability=function(Da){return Da.toLowerCase().split(",").map(Ja=>Ja.trim()).includes("editing")};Sa._writeEditingEnabled=function(Da,Ja,Za,ya){Da||(Da=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query",y.setDeepValue("layerDefinition.capabilities",Da,Ja),Za&&!ya?.writeLayerSchema&&(Ja.capabilities=Da))};Sa._getLayerDomain=function(Da){return(Da=this.fieldsIndex.get(Da))?Da.domain:
null};Sa._fetchFirstLayerId=function(Da){return q(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:Da}).then(Ja=>{if(Ja=Ja.data){if(Array.isArray(Ja.layers)&&0<Ja.layers.length)return Ja.layers[0].id;if(Array.isArray(Ja.tables)&&0<Ja.tables.length)return Ja.tables[0].id}})};Sa.initLayerProperties=async function(Da){this._set("source",Da);Da.sourceJSON&&(this.sourceJSON=Da.sourceJSON,this.read(Da.sourceJSON,{origin:"service",portalItem:this.portalItem,
portal:this.portalItem?.portal,url:this.parsedUrl}));this._verifySource();this._verifyFields();ca.fixRendererFields(this.renderer,this.fieldsIndex);ca.fixTimeInfoFields(this.timeInfo,this.fieldsIndex);return Oa.loadStyleRenderer(this,{origin:"service"})};Sa.hasDataChanged=async function(){return ba.hasDataChanged(this)};Sa.fetchPublishingStatus=async function(){const Da=this.source;return Da?.fetchPublishingStatus?Da.fetchPublishingStatus():"unavailable"};Sa._verifyFields=function(){const Da=this.parsedUrl?.path??
"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+Da+")");this.isTable||this._hasMemorySource()||-1!==Da.search(/\/FeatureServer\//i)||this.fields?.some(Ja=>"geometry"===Ja.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+Da+")")};Sa._fixTemplates=function(Da,Ja){Da&&Da.forEach(Za=>{(Za=Za.prototype&&Za.prototype.attributes)&&
Ja&&delete Za[Ja]})};Sa._verifySource=function(){if(this._hasMemorySource()){if(this.url)throw new w("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new w("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");};Sa._initMemorySource=function(Da){Da.forEach(Ja=>{Ja.layer=this;Ja.sourceLayer=this});this._handles.add([Da.on("after-add",Ja=>{Ja.item.layer=this;
Ja.item.sourceLayer=this}),Da.on("after-remove",Ja=>{Ja.item.layer=null;Ja.item.sourceLayer=null})],"fl-source")};Sa._resetMemorySource=function(Da){Da.forEach(Ja=>{Ja.layer=null;Ja.sourceLayer=null});this._handles.remove("fl-source")};Sa._hasMemorySource=function(){return!(this.url||!this.source)};b._createClass(db,[{key:"createQueryVersion",get:function(){this.commitProperty("definitionExpression");this.commitProperty("dynamicDataSource");this.commitProperty("timeExtent");this.commitProperty("timeOffset");
this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")??0)+1}},{key:"editingEnabled",get:function(){return this.loaded&&!this.capabilities?.operations.supportsEditing?!1:this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges},set:function(Da){this._overrideIfSome("editingEnabled",
Da)}},{key:"effectiveEditingEnabled",get:function(){return ba.computeEffectiveEditingEnabled(this)}},{key:"parsedUrl",get:function(){const Da=G.urlToObject(this.url);null!=Da&&(null!=this.dynamicDataSource?Da.path=G.join(Da.path,"dynamicLayer"):null!=this.layerId&&(Da.path=G.join(Da.path,this.layerId.toString())));return Da}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(Da){ca.fixRendererFields(Da,this.fieldsIndex);this._set("renderer",
Da)}},{key:"source",set:function(Da){const Ja=this._get("source");Ja!==Da&&(Ja&&Ja instanceof v&&this._resetMemorySource(Ja),Da&&Da instanceof v&&this._initMemorySource(Da),this._set("source",Da))}}]);return db}(Y.FeatureLayerBase(Z.FeatureReductionLayer(ia.FeatureEffectLayer(N.PublishableLayer(la.EditBusLayer(ea.BlendLayer(pa.OrderedLayer(Ca.TemporalLayer(qa.ScaleRangeLayer(T.RefreshableLayer(V.ArcGISService(U.OperationalLayer(xa.PortalLayer(D.MultiOriginJSONMixin(ha.CustomParametersMixin(S.APIKeyMixin(l.ClonableMixin(aa))))))))))))))))));
c.__decorate([O.reader("service","capabilities")],l.prototype,"readCapabilities",null);c.__decorate([E.property({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],l.prototype,"charts",void 0);c.__decorate([E.property({readOnly:!0})],l.prototype,"createQueryVersion",null);c.__decorate([E.property({json:{read:{source:"layerDefinition.copyrightText"}}})],l.prototype,"copyright",void 0);c.__decorate([E.property({json:{read:{source:"layerDefinition.displayField"}}})],l.prototype,"displayField",
void 0);c.__decorate([E.property({types:k.symbolTypes,readOnly:!0})],l.prototype,"defaultSymbol",void 0);c.__decorate([E.property({type:Ia.DataLayerSource})],l.prototype,"dynamicDataSource",void 0);c.__decorate([E.property({type:Boolean})],l.prototype,"editingEnabled",null);c.__decorate([O.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],l.prototype,"readEditingEnabled",null);c.__decorate([O.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],
l.prototype,"readEditingEnabledFromWebMap",null);c.__decorate([M.writer(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],l.prototype,"writeEditingEnabled",null);c.__decorate([M.writer("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],l.prototype,"writeEditingEnabledToWebMap",null);c.__decorate([E.property({readOnly:!0})],l.prototype,"effectiveEditingEnabled",null);c.__decorate([E.property({...d.fields,
json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Xa}}}}})],l.prototype,"fields",void 0);c.__decorate([E.property(d.fieldsIndex)],l.prototype,"fieldsIndex",void 0);c.__decorate([E.property({type:H,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],l.prototype,"formTemplate",void 0);c.__decorate([E.property({json:{read:{source:"layerDefinition.extent"}}})],l.prototype,"fullExtent",
void 0);c.__decorate([E.property({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Xa,writer(Sa,db,eb){(Sa=Sa?ba.geometryTypeKebabDict.toJSON(Sa):null)&&y.setDeepValue(eb,Sa,db)}}}},read:{source:"layerDefinition.geometryType",reader:ba.geometryTypeKebabDict.read}}})],l.prototype,"geometryType",void 0);c.__decorate([E.property({json:{read:{source:"layerDefinition.hasM"}}})],l.prototype,"hasM",void 0);c.__decorate([E.property({json:{read:{source:"layerDefinition.hasZ"}}})],
l.prototype,"hasZ",void 0);c.__decorate([E.property(fa.id)],l.prototype,"id",void 0);c.__decorate([E.property({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],l.prototype,"infoFor3D",void 0);c.__decorate([E.property({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],l.prototype,"isTable",void 0);c.__decorate([O.reader("service","isTable",["type","geometryType"]),O.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],l.prototype,"readIsTable",null);
c.__decorate([M.writer("web-map","isTable")],l.prototype,"writeIsTable",null);c.__decorate([E.property(fa.labelsVisible)],l.prototype,"labelsVisible",void 0);c.__decorate([E.property({type:[ja],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:ua.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:ua.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],l.prototype,"labelingInfo",void 0);
c.__decorate([E.property((()=>{const Sa=z.clone(fa.opacityDrawingInfo);Sa.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(db,eb,Da){y.setDeepValue(Da,Na.opacityToTransparency(db),eb)}}};return Sa})())],l.prototype,"opacity",void 0);c.__decorate([E.property(fa.legendEnabled)],l.prototype,"legendEnabled",void 0);c.__decorate([E.property({type:["show","hide"],json:(()=>{const Sa=z.clone(fa.listMode.json);Sa.origins["portal-item"]={read:!1,write:!1};return Sa})()})],
l.prototype,"listMode",void 0);c.__decorate([O.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],l.prototype,"readGlobalIdField",null);c.__decorate([E.property({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Xa}}}}})],l.prototype,"objectIdField",void 0);c.__decorate([O.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],l.prototype,"readObjectIdField",null);c.__decorate([E.property({value:"ArcGISFeatureLayer",
type:["ArcGISFeatureLayer"]})],l.prototype,"operationalLayerType",void 0);c.__decorate([E.property(d.outFields)],l.prototype,"outFields",void 0);c.__decorate([E.property({readOnly:!0})],l.prototype,"parsedUrl",null);c.__decorate([E.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],l.prototype,"path",void 0);c.__decorate([E.property(fa.popupEnabled)],l.prototype,"popupEnabled",void 0);c.__decorate([E.property({type:e,json:{name:"popupInfo",write:!0}})],l.prototype,"popupTemplate",
void 0);c.__decorate([E.property({readOnly:!0})],l.prototype,"defaultPopupTemplate",null);c.__decorate([E.property({types:h.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:h.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(Sa,db,eb){return{ignoreOrigin:eb?.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(Sa,db,eb){return{ignoreOrigin:eb?.writeLayerSchema}}}}})],
l.prototype,"renderer",null);c.__decorate([O.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),O.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],l.prototype,"readRenderer",null);c.__decorate([E.property((()=>{const Sa=z.clone(fa.screenSizePerspectiveEnabled);Sa.json.origins["portal-item"]={read:!1,write:!1};return Sa})())],l.prototype,"screenSizePerspectiveEnabled",void 0);c.__decorate([E.property({clonable:!1})],l.prototype,"source",
null);c.__decorate([P.cast("source")],l.prototype,"castSource",null);c.__decorate([O.reader("portal-item","source",["featureSet"]),O.reader("web-map","source",["featureSet"])],l.prototype,"readSource",null);c.__decorate([E.property({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],l.prototype,"spatialReference",void 0);c.__decorate([E.property({type:Number})],l.prototype,"subtypeCode",void 0);c.__decorate([E.property({type:[ka]})],l.prototype,"templates",void 0);c.__decorate([O.reader("templates",
["editFieldsInfo","creatorField","editorField","templates"])],l.prototype,"readTemplates",null);c.__decorate([E.property({type:ra})],l.prototype,"timeInfo",void 0);c.__decorate([E.property()],l.prototype,"title",void 0);c.__decorate([O.reader("service","title",["name"]),O.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],l.prototype,"readTitle",null);c.__decorate([O.reader("web-map","title",["layerDefinition.name","title"])],l.prototype,"readTitleFromWebMap",
null);c.__decorate([E.property({type:String})],l.prototype,"sublayerTitleMode",void 0);c.__decorate([E.property({json:{read:!1}})],l.prototype,"type",void 0);c.__decorate([E.property({type:String})],l.prototype,"typeIdField",void 0);c.__decorate([O.reader("service","typeIdField"),O.reader("typeIdField",["layerDefinition.typeIdField"])],l.prototype,"readTypeIdField",null);c.__decorate([E.property({type:[X]})],l.prototype,"types",void 0);c.__decorate([O.reader("service","types",["types"]),O.reader("types",
["layerDefinition.types"])],l.prototype,"readTypes",null);c.__decorate([E.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],l.prototype,"visible",void 0);c.__decorate([O.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],l.prototype,"readVisible",null);l=c.__decorate([K.subclass("esri.layers.FeatureLayer")],l);const bb=I.createTypeReader({types:k.symbolTypesRenderer});return l})},"esri/PopupTemplate":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Clonable ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/RelationshipContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F,G,E,P,O,K){const M=u.getLogger("esri.PopupTemplate");u=e.ofType({key:"type",defaultKeyValue:"button",base:A,typeMap:{button:B,toggle:D}});const I={base:O,key:"type",typeMap:{media:y,custom:K,text:C,attachments:F,fields:G,expression:E,relationship:P}},H="attachments fields media text expression relationship".split(" ");c=function(L){function aa(){var S=R.apply(this,arguments);S.actions=null;S.content="";S.expressionInfos=null;S.fieldInfos=
null;S.layerOptions=null;S.lastEditInfoEnabled=!0;S.outFields=null;S.overwriteActions=!1;S.returnGeometry=!1;S.title="";return S}a._inherits(aa,L);var R=a._createSuper(aa);L=aa.prototype;L.castContent=function(S){if(Array.isArray(S))return S.map(V=>h.ensureOneOfType(I,V));if("string"===typeof S||"function"===typeof S||S instanceof HTMLElement||t.isPromiseLike(S))return S;M.error("content error","unsupported content value",{value:S});return null};L.readContent=function(S,V){({popupElements:S}=V);return Array.isArray(S)&&
0<S.length?this._readPopupInfoElements(V.description,V.mediaInfos,S):this._readPopupInfo(V)};L.writeContent=function(S,V,ea,ha){"string"===typeof S?V.description=S:Array.isArray(S)&&(V.popupElements=S.filter(la=>H.includes(la.type)).map(la=>la&&la.toJSON(ha)),V.popupElements.forEach(la=>{"attachments"===la.type?this._writeAttachmentContent(V):"media"===la.type?this._writeMediaContent(la,V):"text"===la.type?this._writeTextContent(la,V):"relationship"===la.type&&this._writeRelationshipContent(la,V)}))};
L.writeFieldInfos=function(S,V,ea,ha){({content:ea}=this);ea=Array.isArray(ea)?ea:null;if(S){const la=ea?ea.filter(Y=>"fields"===Y.type):[],ia=la.length&&la.every(Y=>Y.fieldInfos?.length);V.fieldInfos=S.filter(Boolean).map(Y=>{Y=Y.toJSON(ha);ia&&(Y.visible=!1);return Y})}if(ea)for(const la of ea)"fields"===la.type&&this._writeFieldsContent(la,V)};L.writeLayerOptions=function(S,V,ea,ha){V[ea]=!S||null===S.showNoDataRecords&&null===S.returnTopmostRaster?null:S.toJSON(ha)};L.writeTitle=function(S,V){V.title=
S||""};L.collectRequiredFields=async function(S,V){const ea=this.expressionInfos||[];await this._collectExpressionInfoFields(S,V,[...ea,...this._getContentExpressionInfos(this.content,ea)]);q.collectFields(S,V,[...(this.outFields||[]),...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])};L.getRequiredFields=async function(S){const V=new Set;await this.collectRequiredFields(V,S);return[...V].sort()};L._writeFieldsContent=function(S,V){Array.isArray(S.fieldInfos)&&
S.fieldInfos.length&&(S=n.clone(S.fieldInfos),Array.isArray(V.fieldInfos)?S.forEach(ea=>{const ha=V.fieldInfos.find(la=>la.fieldName.toLowerCase()===ea.fieldName.toLowerCase());ha?ha.visible=!0:V.fieldInfos.push(ea)}):V.fieldInfos=S)};L._writeAttachmentContent=function(S){S.showAttachments||(S.showAttachments=!0)};L._writeRelationshipContent=function(S,V){var ea=S.orderByFields?.map(ha=>this._toFieldOrderJSON(ha,S.relationshipId))||[];ea=[...(V.relatedRecordsInfo?.orderByFields||[]),...ea];V.relatedRecordsInfo=
{showRelatedRecords:!0,...(ea?.length&&{orderByFields:ea})}};L._writeTextContent=function(S,V){!V.description&&S.text&&(V.description=S.text)};L._writeMediaContent=function(S,V){Array.isArray(S.mediaInfos)&&S.mediaInfos.length&&(S=n.clone(S.mediaInfos),Array.isArray(V.mediaInfos)?V.mediaInfos=[...V.mediaInfos,...S]:V.mediaInfos=S)};L._readPopupInfoElements=function(S,V,ea){var ha=!1,la=!1;return ea.map(ia=>{if("media"===ia.type)return ia.mediaInfos||!V||la||(ia.mediaInfos=V,la=!0),y.fromJSON(ia);
if("text"===ia.type)return ia.text||!S||ha||(ia.text=S,ha=!0),C.fromJSON(ia);if("attachments"===ia.type)return F.fromJSON(ia);if("fields"===ia.type)return G.fromJSON(ia);if("expression"===ia.type)return E.fromJSON(ia);if("relationship"===ia.type)return P.fromJSON(ia)}).filter(Boolean)};L._toRelationshipContent=function(S){const {field:V,order:ea}=S;if(!V?.startsWith("relationships/"))return null;var ha=V.replace("relationships/","").split("/");if(2!==ha.length)return null;S=parseInt(ha[0],10);ha=
ha[1];return"number"===typeof S&&ha?P.fromJSON({relationshipId:S,orderByFields:[{field:ha,order:ea}]}):null};L._toFieldOrderJSON=function(S,V){const {order:ea,field:ha}=S;return{field:`${"relationships/"}${V}/${ha}`,order:ea}};L._readPopupInfo=function({description:S,mediaInfos:V,showAttachments:ea,relatedRecordsInfo:ha={showRelatedRecords:!1}}){const la=[];S?la.push(new C({text:S})):la.push(new G);Array.isArray(V)&&V.length&&la.push(y.fromJSON({mediaInfos:V}));ea&&la.push(F.fromJSON({displayType:"auto"}));
const {showRelatedRecords:ia,orderByFields:Y}=ha;ia&&Y?.length&&Y.forEach(Z=>{(Z=this._toRelationshipContent(Z))&&la.push(Z)});return la.length?la:S};L._getContentElementFields=function(S){var V=S?.type;return"attachments"===V?[...this._extractFieldNames(S.title),...this._extractFieldNames(S.description)]:"custom"===V?S.outFields||[]:"fields"===V?[...this._extractFieldNames(S.title),...this._extractFieldNames(S.description),...this._getFieldInfoFields(S.fieldInfos??this.fieldInfos)]:"media"===V?(V=
S.mediaInfos||[],[...this._extractFieldNames(S.title),...this._extractFieldNames(S.description),...V.reduce((ea,ha)=>[...ea,...this._getMediaInfoFields(ha)],[])]):"text"===V?this._extractFieldNames(S.text):[]};L._getMediaInfoFields=function(S){const {caption:V,title:ea,value:ha}=S,{fields:la,normalizeField:ia,tooltipField:Y,sourceURL:Z,linkURL:U}=ha||{};S=[...this._extractFieldNames(ea),...this._extractFieldNames(V),...this._extractFieldNames(Z),...this._extractFieldNames(U),...(la??[])];ia&&S.push(ia);
Y&&S.push(Y);return S};L._getContentExpressionInfos=function(S,V){return Array.isArray(S)?S.reduce((ea,ha)=>[...ea,...("expression"===ha.type&&ha.expressionInfo?[ha.expressionInfo]:[])],V):[]};L._getContentFields=function(S){return"string"===typeof S?this._extractFieldNames(S):Array.isArray(S)?S.reduce((V,ea)=>[...V,...this._getContentElementFields(ea)],[]):[]};L._collectExpressionInfoFields=async function(S,V,ea){ea&&await Promise.all(ea.map(ha=>q.collectArcadeFieldNames(S,V,ha.expression)))};L._getFieldInfoFields=
function(S){return S?S.filter(V=>"undefined"===typeof V.visible||!!V.visible).map(V=>V.fieldName).filter(V=>!V.startsWith("relationships/")&&!V.startsWith("expression/")):[]};L._getActionsFields=function(S){return S?S.toArray().reduce((V,ea)=>[...V,...this._getActionFields(ea)],[]):[]};L._getActionFields=function(S){const {className:V,title:ea,type:ha}=S;S="button"===ha||"toggle"===ha?S.image:"";return[...this._extractFieldNames(ea),...this._extractFieldNames(V),...this._extractFieldNames(S)]};L._getTitleFields=
function(S){return"string"===typeof S?this._extractFieldNames(S):[]};L._extractFieldNames=function(S){if(!S||"string"!==typeof S)return[];S=S.match(/{[^}]*}/g);if(!S)return[];const V=/\{(\w+):.+\}/;return(S=S.filter(ea=>!(0===ea.indexOf("{relationships/")||0===ea.indexOf("{expression/"))).map(ea=>ea.replace(V,"{$1}")))?S.map(ea=>ea.slice(1,-1)):[]};return a._createClass(aa)}(c.ClonableMixin(d.JSONSupport));b.__decorate([r.property({type:u})],c.prototype,"actions",void 0);b.__decorate([r.property()],
c.prototype,"content",void 0);b.__decorate([p.cast("content")],c.prototype,"castContent",null);b.__decorate([m.reader("content","description fieldInfos popupElements mediaInfos showAttachments relatedRecordsInfo".split(" "))],c.prototype,"readContent",null);b.__decorate([f.writer("content",{popupElements:{type:e.ofType(k.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:e.ofType(z.types)},description:{type:String},relatedRecordsInfo:{type:x}})],c.prototype,"writeContent",null);b.__decorate([r.property({type:[l],
json:{write:!0}})],c.prototype,"expressionInfos",void 0);b.__decorate([r.property({type:[v]})],c.prototype,"fieldInfos",void 0);b.__decorate([f.writer("fieldInfos")],c.prototype,"writeFieldInfos",null);b.__decorate([r.property({type:w})],c.prototype,"layerOptions",void 0);b.__decorate([f.writer("layerOptions")],c.prototype,"writeLayerOptions",null);b.__decorate([r.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],c.prototype,"lastEditInfoEnabled",
void 0);b.__decorate([r.property()],c.prototype,"outFields",void 0);b.__decorate([r.property()],c.prototype,"overwriteActions",void 0);b.__decorate([r.property()],c.prototype,"returnGeometry",void 0);b.__decorate([r.property({json:{type:String}})],c.prototype,"title",void 0);b.__decorate([f.writer("title")],c.prototype,"writeTitle",null);return c=b.__decorate([g.subclass("esri.PopupTemplate")],c)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/RelationshipContent ./content/TextContent".split(" "),
function(a,b,c,e,d,n,u,t,r){const p={base:null,key:"type",typeMap:{attachment:b,media:u,text:r,expression:d,field:n,relationship:t}};a.AttachmentsContent=b;a.BaseContent=c;a.CustomContent=e;a.ExpressionContent=d;a.FieldsContent=n;a.MediaContent=u;a.RelationshipContent=t;a.TextContent=r;a.isContent=function(m){return m instanceof c};a.persistableTypes=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(f){f=g.call(this,f);f.description=null;f.displayType="auto";f.title=null;f.type="attachments";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({description:this.description,displayType:this.displayType,title:this.title})};return a._createClass(m)}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"description",void 0);b.__decorate([c.property({type:["auto","preview","list"],
json:{write:!0}})],e.prototype,"displayType",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"title",void 0);b.__decorate([c.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=r=b.__decorate([u.subclass("esri.popup.content.AttachmentsContent")],e)})},"esri/popup/content/Content":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){c=function(r){function p(g){g=m.call(this,g);g.type=null;return g}a._inherits(p,r);var m=a._createSuper(p);return a._createClass(p)}(c.JSONSupport);b.__decorate([e.property({type:"attachments custom fields media text expression relationship".split(" "),readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.popup.content.Content")],c)})},"esri/popup/content/CustomContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,d,n,u){var t;d=t=function(r){function p(g){g=m.call(this,g);g.creator=null;g.destroyer=null;g.outFields=null;g.type="custom";return g}a._inherits(p,r);var m=a._createSuper(p);p.prototype.clone=function(){return new t({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?c.clone(this.outFields):null})};return a._createClass(p)}(u);b.__decorate([e.property()],d.prototype,"creator",void 0);b.__decorate([e.property()],d.prototype,"destroyer",void 0);b.__decorate([e.property()],
d.prototype,"outFields",void 0);b.__decorate([e.property({type:["custom"],readOnly:!0})],d.prototype,"type",void 0);return d=t=b.__decorate([n.subclass("esri.popup.content.CustomContent")],d)})},"esri/popup/content/ExpressionContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.expressionInfo=null;h.type="expression";return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({expressionInfo:this.expressionInfo?.clone()})};return a._createClass(g)}(r);b.__decorate([c.property({type:t,json:{write:!0}})],e.prototype,"expressionInfo",void 0);b.__decorate([c.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=
p=b.__decorate([u.subclass("esri.popup.content.ExpressionContent")],e)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=g.call(this,f);f.title=null;f.expression=null;f.returnType="dictionary";
return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({title:this.title,expression:this.expression})};return a._createClass(m)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"returnType",void 0);return c=r=b.__decorate([t.subclass("esri.popup.ElementExpressionInfo")],
c)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),function(a,b,c,e,d,n,u,t,r){var p;d=p=function(m){function g(h){h=f.call(this,h);h.attributes=null;h.description=null;h.fieldInfos=null;h.title=null;h.type=
"fields";return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.writeFieldInfos=function(h,q){q.fieldInfos=h&&h.map(k=>k.toJSON())};m.clone=function(){return new p(c.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))};return a._createClass(g)}(r);b.__decorate([e.property({type:Object,json:{write:!0}})],d.prototype,"attributes",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([e.property({type:[t]})],
d.prototype,"fieldInfos",void 0);b.__decorate([u.writer("fieldInfos")],d.prototype,"writeFieldInfos",null);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);b.__decorate([e.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=p=b.__decorate([n.subclass("esri.popup.content.FieldsContent")],d)})},"esri/popup/FieldInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;e=m=function(g){function f(q){q=h.call(this,q);q.fieldName=null;q.format=null;q.isEditable=!1;q.label=null;q.stringFieldOption="text-box";q.statisticType=null;q.tooltip=null;q.visible=!0;return q}a._inherits(f,g);var h=a._createSuper(f);f.prototype.clone=function(){return new m({fieldName:this.fieldName,format:this.format?d.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,
tooltip:this.tooltip,visible:this.visible})};return a._createClass(f)}(e.JSONSupport);b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"fieldName",void 0);b.__decorate([n.property({type:p,json:{write:!0}})],e.prototype,"format",void 0);b.__decorate([n.property({type:Boolean,json:{write:!0,default:!1}})],e.prototype,"isEditable",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);b.__decorate([t.enumeration(new c.JSONMap({richtext:"rich-text",
textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],e.prototype,"stringFieldOption",void 0);b.__decorate([n.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],e.prototype,"statisticType",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"tooltip",void 0);b.__decorate([n.property({type:Boolean,json:{write:!0}})],e.prototype,"visible",void 0);return e=m=b.__decorate([r.subclass("esri.popup.FieldInfo")],e)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date ../../intl/number".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){var f;e=f=function(h){function q(l){l=k.call(this,l);l.dateFormat=null;l.dateTimeFormatOptions=null;l.digitSeparator=!1;l.places=null;return l}a._inherits(q,h);var k=a._createSuper(q);h=q.prototype;h.clone=function(){return new f({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};h.format=function(l){return this.dateFormat?m.formatDate(l,{...m.convertDateFormatToIntlOptions(this.dateFormat),...this.dateTimeFormatOptions}):g.formatNumber(l,
g.convertNumberFormatToIntlOptions(this))};h.formatRasterPixelValue=function(l){if(l.includes("-"))return l;let v;return l.trim().includes(",")?(v=",",this._formatDelimitedString(l,v,v+" ",this)):l.trim().includes(";")?(v=";",this._formatDelimitedString(l,v,v+" ",this)):l.trim().includes(" ")?this._formatDelimitedString(l," "," ",this):this.format(Number(l))};h._formatDelimitedString=function(l,v,w,x){return l&&v&&w&&x?l.trim().split(v).map(z=>this.format(Number(z))).join(w):l};return a._createClass(q)}(e.JSONSupport);
b.__decorate([r.enumeration(c.dictionary)],e.prototype,"dateFormat",void 0);b.__decorate([d.property({type:Object,json:{read:!1}})],e.prototype,"dateTimeFormatOptions",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],e.prototype,"digitSeparator",void 0);b.__decorate([d.property({type:n.Integer,json:{write:!0}})],e.prototype,"places",void 0);return e=f=b.__decorate([p.subclass("esri.popup.support.FieldInfoFormat")],e)})},"esri/core/date":function(){define(["exports","./jsonMap"],function(a,
b){const c={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')",
"short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')",
"long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')",
"day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')","day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')",
"long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};b=
b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",
longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",
longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const e=b.toJSON.bind(b),d=b.fromJSON.bind(b);a.dictionary=b;a.formats=c;a.fromJSON=d;a.getFormat=function(n){return c[n]};a.toJSON=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale"],function(a,b,c){function e(q){q=
q||h;var k=f.get(q);k||(k=c.getLocale(),k=g[c.getLocale()]||k,k=new Intl.DateTimeFormat(k,q),f.set(q,k));return k}var d={year:"numeric",month:"numeric",day:"numeric"},n={year:"numeric",month:"long",day:"numeric"},u={year:"numeric",month:"short",day:"numeric"};const t={year:"numeric",month:"long",weekday:"long",day:"numeric"},r={hour:"numeric",minute:"numeric"},p={...r,second:"numeric"},m={"short-date":d,"short-date-short-time":{...d,...r},"short-date-short-time-24":{...d,...r,hour12:!1},"short-date-long-time":{...d,
...p},"short-date-long-time-24":{...d,...p,hour12:!1},"short-date-le":d,"short-date-le-short-time":{...d,...r},"short-date-le-short-time-24":{...d,...r,hour12:!1},"short-date-le-long-time":{...d,...p},"short-date-le-long-time-24":{...d,...p,hour12:!1},"long-month-day-year":n,"long-month-day-year-short-time":{...n,...r},"long-month-day-year-short-time-24":{...n,...r,hour12:!1},"long-month-day-year-long-time":{...n,...p},"long-month-day-year-long-time-24":{...n,...p,hour12:!1},"day-short-month-year":u,
"day-short-month-year-short-time":{...u,...r},"day-short-month-year-short-time-24":{...u,...r,hour12:!1},"day-short-month-year-long-time":{...u,...p},"day-short-month-year-long-time-24":{...u,...p,hour12:!1},"long-date":t,"long-date-short-time":{...t,...r},"long-date-short-time-24":{...t,...r,hour12:!1},"long-date-long-time":{...t,...p},"long-date-long-time-24":{...t,...p,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},
"short-time":r,"long-time":p};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",
longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",
longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});d=b.apiValues;n=b.toJSON.bind(b);u=b.fromJSON.bind(b);const g={ar:"ar-u-nu-latn-ca-gregory"};let f=new WeakMap,h=m["short-date-short-time"];c.beforeLocaleChange(()=>{f=new WeakMap;h=m["short-date-short-time"]});a.convertDateFormatToIntlOptions=
function(q){return q?m[q]:null};a.dateFormats=d;a.dictionary=b;a.formatDate=function(q,k){return e(k).format(q)};a.fromJSON=u;a.getDateTimeFormatter=e;a.toJSON=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/number":function(){define(["exports","../core/maybe","./locale"],function(a,b,c){function e(t){const r=t||u;if(!n.has(r)){var p=c.getLocale();p=d[c.getLocale()]||p;n.set(r,new Intl.NumberFormat(p,t))}return b.assumeNonNull(n.get(r))}const d={ar:"ar-u-nu-latn"};let n=
new WeakMap,u={};c.beforeLocaleChange(()=>{n=new WeakMap;u={}});a.convertNumberFormatToIntlOptions=function(t={}){const r={};null!=t.digitSeparator&&(r.useGrouping=t.digitSeparator);null!=t.places&&(r.minimumFractionDigits=r.maximumFractionDigits=t.places);return r};a.formatNumber=function(t,r){Object.is(t,-0)&&(t=0);return e(r).format(t)};a.getFormatter=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/MediaContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){var k;d=k=function(l){function v(x){x=w.call(this,x);x.activeMediaInfoIndex=null;x.attributes=null;x.description=null;x.mediaInfos=null;x.title=null;x.type="media";return x}a._inherits(v,l);var w=a._createSuper(v);l=v.prototype;l.readMediaInfos=function(x){return x&&x.map(z=>{if("image"===z.type)return g.fromJSON(z);if("barchart"===z.type)return r.fromJSON(z);if("columnchart"===z.type)return p.fromJSON(z);if("linechart"===z.type)return f.fromJSON(z);if("piechart"===
z.type)return h.fromJSON(z)}).filter(Boolean)};l.writeMediaInfos=function(x,z){z.mediaInfos=x&&x.map(A=>A.toJSON())};l.clone=function(){return new k(c.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))};return a._createClass(v)}(m);b.__decorate([e.property()],d.prototype,"activeMediaInfoIndex",void 0);b.__decorate([e.property({type:Object,json:{write:!0}})],d.prototype,"attributes",void 0);b.__decorate([e.property({type:String,
json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([e.property({types:[q.types]})],d.prototype,"mediaInfos",void 0);b.__decorate([n.reader("mediaInfos")],d.prototype,"readMediaInfos",null);b.__decorate([t.writer("mediaInfos")],d.prototype,"writeMediaInfos",null);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);b.__decorate([e.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=k=b.__decorate([u.subclass("esri.popup.content.MediaContent")],
d)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.type="bar-chart";return h}a._inherits(g,m);var f=a._createSuper(g);
g.prototype.clone=function(){return new p({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return a._createClass(g)}(t);b.__decorate([c.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:r.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=p=b.__decorate([u.subclass("esri.popup.content.BarChartMediaInfo")],e)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,c,e,d,n,u,t,r){e=function(p){function m(f){f=g.call(this,f);f.type=null;f.value=null;return f}a._inherits(m,p);var g=a._createSuper(m);return a._createClass(m)}(t);b.__decorate([c.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);b.__decorate([c.property({type:r,json:{write:!0}})],e.prototype,"value",void 0);return e=b.__decorate([u.subclass("esri.popup.content.mixins.ChartMediaInfo")],e)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){c=function(r){function p(g){g=m.call(this,g);g.altText=null;g.caption="";g.title="";g.type=null;return g}a._inherits(p,r);var m=a._createSuper(p);return a._createClass(p)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"altText",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"caption",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([e.property({type:["image",
"bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.popup.content.mixins.MediaInfo")],c)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),
function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=g.call(this,f);f.fields=[];f.normalizeField=null;f.series=[];f.tooltipField=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({fields:e.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})};return a._createClass(m)}(c.JSONSupport);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"fields",void 0);b.__decorate([d.property({type:String,
json:{write:!0}})],c.prototype,"normalizeField",void 0);b.__decorate([d.property({type:[t],json:{read:!1}})],c.prototype,"series",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=r=b.__decorate([u.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=g.call(this,f);f.fieldName=null;f.tooltip=null;f.value=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})};return a._createClass(m)}(c);b.__decorate([e.property()],c.prototype,"fieldName",void 0);b.__decorate([e.property()],c.prototype,"tooltip",void 0);b.__decorate([e.property()],c.prototype,"value",void 0);return c=r=b.__decorate([t.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],
c)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.type="column-chart";return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return a._createClass(g)}(t);b.__decorate([c.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:r.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=p=b.__decorate([u.subclass("esri.popup.content.ColumnChartMediaInfo")],
e)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.refreshInterval=null;h.type="image";h.value=null;return h}a._inherits(g,
m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};return a._createClass(g)}(t);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"refreshInterval",void 0);b.__decorate([c.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);b.__decorate([c.property({type:r,json:{write:!0}})],e.prototype,
"value",void 0);return e=p=b.__decorate([u.subclass("esri.popup.content.ImageMediaInfo")],e)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=
g.call(this,f);f.linkURL=null;f.sourceURL=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({linkURL:this.linkURL,sourceURL:this.sourceURL})};return a._createClass(m)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"sourceURL",void 0);return c=r=b.__decorate([t.subclass("esri.popup.content.support.ImageMediaInfoValue")],c)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.type="line-chart";return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return a._createClass(g)}(t);b.__decorate([c.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:r.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=p=b.__decorate([u.subclass("esri.popup.content.LineChartMediaInfo")],
e)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.type="pie-chart";return h}a._inherits(g,m);var f=a._createSuper(g);
g.prototype.clone=function(){return new p({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return a._createClass(g)}(t);b.__decorate([c.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:r.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=p=b.__decorate([u.subclass("esri.popup.content.PieChartMediaInfo")],e)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,c,e,d,n,u){a.types={base:u,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":c,"line-chart":d,"pie-chart":n,image:e}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/RelationshipContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Content ../support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,e,d,n,u,t,r,p){c=function(m){function g(h){h=f.call(this,h);h.description=null;h.displayCount=null;h.displayType="list";h.orderByFields=null;h.relationshipId=null;h.title=null;h.type="relationship";return h}a._inherits(g,m);var f=a._createSuper(g);return a._createClass(g)}(c.ClonableMixin(r));b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:Number,json:{type:d.Integer,write:!0}})],c.prototype,"displayCount",void 0);
b.__decorate([e.property({type:["list"],json:{write:!0}})],c.prototype,"displayType",void 0);b.__decorate([e.property({type:[p],json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([e.property({type:Number,json:{type:d.Integer,write:!0}})],c.prototype,"relationshipId",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([e.property({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.popup.content.RelationshipContent")],
c)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=g.call(this,f);f.field=null;f.order=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=
function(){return new r({field:this.field,order:this.order})};return a._createClass(m)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([e.property({type:["asc","desc"],json:{write:!0}})],c.prototype,"order",void 0);return c=r=b.__decorate([t.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],c)})},"esri/popup/content/TextContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(f){f=g.call(this,f);f.text=null;f.type="text";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({text:this.text})};return a._createClass(m)}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"text",void 0);b.__decorate([c.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=r=b.__decorate([u.subclass("esri.popup.content.TextContent")],
e)})},"esri/popup/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=g.call(this,f);f.name=null;f.title=null;f.expression=null;f.returnType=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=
function(){return new r({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return a._createClass(m)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:["string","number"],json:{write:!0}})],c.prototype,"returnType",
void 0);return c=r=b.__decorate([t.subclass("esri.popup.ExpressionInfo")],c)})},"esri/popup/LayerOptions":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=g.call(this,f);f.returnTopmostRaster=null;f.showNoDataRecords=null;return f}
a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};return a._createClass(m)}(c.JSONSupport);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"returnTopmostRaster",void 0);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoDataRecords",void 0);return c=r=b.__decorate([t.subclass("esri.popup.LayerOptions")],c)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=g.call(this,f);f.showRelatedRecords=null;f.orderByFields=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?e.clone(this.orderByFields):null})};return a._createClass(m)}(c.JSONSupport);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"showRelatedRecords",void 0);b.__decorate([d.property({type:[t],
json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=r=b.__decorate([u.subclass("esri.popup.RelatedRecordsInfo")],c)})},"esri/support/actions/ActionBase":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r){var p;
c=p=function(m){function g(h){h=f.call(this,h);h.active=!1;h.className=null;h.disabled=!1;h.id=null;h.indicator=!1;h.title=null;h.type=null;h.visible=!0;return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};return a._createClass(g)}(e.IdentifiableMixin(c));b.__decorate([d.property()],c.prototype,"active",void 0);b.__decorate([d.property()],
c.prototype,"className",void 0);b.__decorate([d.property()],c.prototype,"disabled",void 0);b.__decorate([d.property()],c.prototype,"id",void 0);b.__decorate([d.property()],c.prototype,"indicator",void 0);b.__decorate([d.property()],c.prototype,"title",void 0);b.__decorate([d.property()],c.prototype,"type",void 0);b.__decorate([d.property()],c.prototype,"visible",void 0);return c=p=b.__decorate([r.subclass("esri.support.actions.ActionBase")],c)})},"esri/support/actions/ActionButton":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(f){f=g.call(this,f);f.image=null;f.type="button";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};return a._createClass(m)}(t);b.__decorate([c.property()],e.prototype,"image",void 0);return e=r=b.__decorate([u.subclass("esri.support.Action.ActionButton")],
e)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(f){f=g.call(this,f);f.image=null;f.type="toggle";f.value=!1;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=
function(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};return a._createClass(m)}(t);b.__decorate([c.property()],e.prototype,"image",void 0);b.__decorate([c.property()],e.prototype,"value",void 0);return e=r=b.__decorate([u.subclass("esri.support.Action.ActionToggle")],e)})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z){var A;e=new e.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const B=h.ensureType(v);k=A=function(D){function y(F){F=C.call(this,F);F._compiledValueExpression={valueExpression:null,compiledFunction:null};F.backgroundFillSymbol=null;F.classBreakInfos=null;F.defaultLabel=null;F.defaultSymbol=null;F.field=null;F.isMaxInclusive=!0;F.legendOptions=null;F.normalizationField=null;F.normalizationTotal=
null;F.type="class-breaks";F.valueExpression=null;F.valueExpressionTitle=null;F._set("classBreakInfos",[]);return F}a._inherits(y,D);var C=a._createSuper(y);D=y.prototype;D.readClassBreakInfos=function(F,G,E){if(Array.isArray(F)){var P=G.minValue;return F.map(O=>{const K=new v;K.read(O,E);null==K.minValue&&(K.minValue=P);null==K.maxValue&&(K.maxValue=K.minValue);P=K.maxValue;return K})}};D.writeClassBreakInfos=function(F,G,E,P){F=F.map(O=>O.write({},P));this._areClassBreaksConsecutive()&&F.forEach(O=>
delete O.classMinValue);G[E]=F};D.castField=function(F){return null==F?F:"function"===typeof F?(n.getLogger(this.declaredClass).error(".field: field must be a string value"),null):h.ensureString(F)};D.addClassBreakInfo=function(F,G,E){let P=null;P="number"===typeof F?new v({minValue:F,maxValue:G,symbol:c.ensureType(E)}):B(d.clone(F));this.classBreakInfos.push(P);1===this.classBreakInfos.length&&this.notifyChange("minValue")};D.removeClassBreakInfo=function(F,G){const E=this.classBreakInfos.length;
for(let P=0;P<E;P++){const O=[this.classBreakInfos[P].minValue,this.classBreakInfos[P].maxValue];if(O[0]===F&&O[1]===G){this.classBreakInfos.splice(P,1);break}}};D.getBreakIndex=function(F,G){this.valueExpression&&(u.isNone(G)||u.isNone(G.arcade))&&n.getLogger(this.declaredClass).warn("");return this.valueExpression?this._getBreakIndexForExpression(F,G):this._getBreakIndexForField(F)};D.getClassBreakInfo=async function(F,G){let E=G;this.valueExpression&&(u.isNone(G)||u.isNone(G.arcade))&&(E={...E,
arcade:await z.loadArcade()});F=this.getBreakIndex(F,E);return-1!==F?this.classBreakInfos[F]:null};D.getSymbol=function(F,G){if(this.valueExpression&&(u.isNone(G)||u.isNone(G.arcade)))n.getLogger(this.declaredClass).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return F=this.getBreakIndex(F,G),-1<F?this.classBreakInfos[F].symbol:this.defaultSymbol};D.getSymbolAsync=async function(F,G){let E=G;if(this.valueExpression&&(u.isNone(G)||u.isNone(G.arcade))){G=await z.loadArcade();
const {arcadeUtils:P}=G;P.hasGeometryOperations(this.valueExpression)&&await P.enableGeometryOperations();E={...E,arcade:G}}F=this.getBreakIndex(F,E);return-1<F?this.classBreakInfos[F].symbol:this.defaultSymbol};D.getSymbols=function(){const F=[];this.classBreakInfos.forEach(G=>{G.symbol&&F.push(G.symbol)});this.defaultSymbol&&F.push(this.defaultSymbol);return F};D.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((F,G)=>F+G.getAttributeHash(),"")};D.getMeshHash=
function(){const F=JSON.stringify(this.backgroundFillSymbol),G=JSON.stringify(this.defaultSymbol),E=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,P=this.classBreakInfos.reduce((O,K)=>O+K.getMeshHash(),"");return`${F}.${G}.${P}.${E}.${this.field}.${this.valueExpression}`};D.clone=function(){return new A({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&
this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:d.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:d.clone(this.visualVariables),legendOptions:d.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};D.collectRequiredFields=async function(F,
G){F=[this.collectVVRequiredFields(F,G),this.collectSymbolFields(F,G)];await Promise.all(F)};D.collectSymbolFields=async function(F,G){const E=[...this.getSymbols().map(P=>P.collectRequiredFields(F,G)),q.collectArcadeFieldNames(F,G,this.valueExpression)];q.collectField(F,G,this.field);q.collectField(F,G,this.normalizationField);await Promise.all(E)};D._getBreakIndexForExpression=function(F,G){const {viewingMode:E,scale:P,spatialReference:O,arcade:K}=u.unwrapOr(G,{});({valueExpression:G}=this);var M=
this._compiledValueExpression.valueExpression===G?this._compiledValueExpression.compiledFunction:null;const I=u.unwrap(K).arcadeUtils;M||(M=I.createSyntaxTree(G),M=I.createFunction(M),this._compiledValueExpression.compiledFunction=M);this._compiledValueExpression.valueExpression=G;F=I.executeFunction(M,I.createExecContext(F,I.getViewInfo({viewingMode:E,scale:P,spatialReference:O})));return this._getBreakIndexfromInfos(F)};D._getBreakIndexForField=function(F){var G=F.attributes;F=this.normalizationType;
let E=parseFloat(G[this.field]);if(F){const P=this.normalizationTotal;G=parseFloat(this.normalizationField?G[this.normalizationField]:void 0);if("log"===F)E=Math.log(E)*Math.LOG10E;else if("percent-of-total"===F&&null!=P&&!isNaN(P))E=E/P*100;else if("field"===F&&!isNaN(G)){if(isNaN(E)||isNaN(G))return-1;E/=G}}return this._getBreakIndexfromInfos(E)};D._getBreakIndexfromInfos=function(F){const G=this.isMaxInclusive;if(null!=F&&"number"===typeof F&&!isNaN(F))for(let E=0;E<this.classBreakInfos.length;E++){const P=
[this.classBreakInfos[E].minValue,this.classBreakInfos[E].maxValue];if(P[0]<=F&&(G?F<=P[1]:F<P[1]))return E}return-1};D._areClassBreaksConsecutive=function(){const F=this.classBreakInfos,G=F.length;for(let E=1;E<G;E++)if(F[E-1].maxValue!==F[E].minValue)return!1;return!0};a._createClass(y,[{key:"minValue",get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}},{key:"normalizationType",get:function(){let F=this._get("normalizationType");const G=!!this.normalizationField,
E=null!=this.normalizationTotal;if(G||E)F=G&&"field"||E&&"percent-of-total"||null,G&&E&&n.getLogger(this.declaredClass).warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===F||"percent-of-total"===F)F=null;return F},set:function(F){this._set("normalizationType",F)}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return y}(l.VisualVariablesMixin(k));b.__decorate([t.property(w.rendererBackgroundFillSymbolProperty)],
k.prototype,"backgroundFillSymbol",void 0);b.__decorate([t.property({type:[v]})],k.prototype,"classBreakInfos",void 0);b.__decorate([m.reader("classBreakInfos")],k.prototype,"readClassBreakInfos",null);b.__decorate([f.writer("classBreakInfos")],k.prototype,"writeClassBreakInfos",null);b.__decorate([t.property({type:String,json:{write:!0}})],k.prototype,"defaultLabel",void 0);b.__decorate([t.property(w.rendererSymbolProperty)],k.prototype,"defaultSymbol",void 0);b.__decorate([t.property({type:String,
json:{write:!0}})],k.prototype,"field",void 0);b.__decorate([r.cast("field")],k.prototype,"castField",null);b.__decorate([t.property({type:Boolean})],k.prototype,"isMaxInclusive",void 0);b.__decorate([t.property({type:x.LegendOptions,json:{write:!0}})],k.prototype,"legendOptions",void 0);b.__decorate([t.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],k.prototype,
"minValue",null);b.__decorate([t.property({type:String,json:{write:!0}})],k.prototype,"normalizationField",void 0);b.__decorate([t.property({type:Number,cast:D=>h.ensureNumber(D),json:{write:!0}})],k.prototype,"normalizationTotal",void 0);b.__decorate([t.property({type:e.apiValues,value:null,json:{type:e.jsonValues,read:e.read,write:e.write}})],k.prototype,"normalizationType",null);b.__decorate([p.enumeration({classBreaks:"class-breaks"})],k.prototype,"type",void 0);b.__decorate([t.property({type:String,
json:{write:!0}})],k.prototype,"valueExpression",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],k.prototype,"valueExpressionTitle",void 0);return k=A=b.__decorate([g.subclass("esri.renderers.ClassBreaksRenderer")],k)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./chunks/LineCallout3DBorder".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F,G,E,P,O,K){const M={base:D,key:"type",typeMap:{"simple-fill":z,"picture-fill":l,"picture-marker":v,"simple-line":A,"simple-marker":B,text:F,"label-3d":p,"line-3d":m,"mesh-3d":h,"point-3d":w,"polygon-3d":x,"web-style":P,cim:e},errorContext:"symbol"},I={base:D,key:"type",typeMap:{"picture-marker":v,"simple-marker":B,text:F,"web-style":P,cim:e},errorContext:"symbol"};c=c.createTypeReader({types:M});const H={base:D,key:"type",typeMap:{"simple-fill":z,
"picture-fill":l,"picture-marker":v,"simple-line":A,"simple-marker":B,text:F,"line-3d":m,"mesh-3d":h,"point-3d":w,"polygon-3d":x,"web-style":P,cim:e},errorContext:"symbol"},L={base:D,key:"type",typeMap:{text:F,"label-3d":p},errorContext:"symbol"},aa={base:D,key:"type",typeMap:{"label-3d":p,"line-3d":m,"mesh-3d":h,"point-3d":w,"polygon-3d":x,"web-style":P},errorContext:"symbol"},R={base:D,key:"type",typeMap:{"line-3d":m,"mesh-3d":h,"point-3d":w,"polygon-3d":x,"web-style":P,cim:e},errorContext:"symbol"},
S={base:D,key:"type",typeMap:{"label-3d":p},errorContext:"symbol"};b=b.ensureOneOfType(M);a.CIMSymbol=e;a.ExtrudeSymbol3DLayer=d;a.BaseFillSymbol=n;a.FillSymbol3DLayer=u;a.Font=t;a.IconSymbol3DLayer=r;a.LabelSymbol3D=p;a.LineSymbol3D=m;a.LineSymbol3DLayer=g;a.BaseMarkerSymbol=f;a.MeshSymbol3D=h;a.ObjectSymbol3DLayer=q;a.PathSymbol3DLayer=k;a.PictureFillSymbol=l;a.PictureMarkerSymbol=v;a.PointSymbol3D=w;a.PolygonSymbol3D=x;a.SimpleFillSymbol=z;a.SimpleLineSymbol=A;a.SimpleMarkerSymbol=B;a.BaseSymbol=
D;a.BaseSymbol3D=y;a.BaseSymbol3DLayer=C;a.TextSymbol=F;a.TextSymbol3DLayer=G;a.WaterSymbol3DLayer=E;a.WebStyleSymbol=P;a.LineCallout3D=O;a.LineCallout3DBorder=K.LineCallout3DBorder;a.ensureType=b;a.isSymbol=function(V){return V instanceof D};a.isSymbol2D=function(V){if(!V)return!1;switch(V.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(V){if(!V)return!1;switch(V.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;
default:return!1}};a.readSymbol=c;a.symbolTypes=M;a.symbolTypes3D=aa;a.symbolTypesCluster=I;a.symbolTypesLabel=L;a.symbolTypesLabel3D=S;a.symbolTypesRenderer=H;a.symbolTypesRenderer3D=R;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/CIMSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){var f;n=f=function(h){function q(l){l=k.call(this,l);l.data=null;l.type="cim";return l}a._inherits(q,h);var k=a._createSuper(q);h=q.prototype;h.readData=function(l,v){return v};h.writeData=function(l,v){if(l)for(const w in l)v[w]=l[w]};h.collectRequiredFields=async function(l,v){if("CIMSymbolReference"===this.data?.type){var w=this.data.primitiveOverrides;w&&(w=w.map(x=>m.collectArcadeFieldNames(l,v,x.valueExpressionInfo.expression)),await Promise.all(w))}};h.clone=
function(){return new f({data:c.clone(this.data)})};h.hash=function(){return e.numericHash(JSON.stringify(this.data)).toString()};return a._createClass(q)}(g);b.__decorate([d.property({json:{write:!1}})],n.prototype,"color",void 0);b.__decorate([d.property({json:{write:!0}})],n.prototype,"data",void 0);b.__decorate([t.reader("data",["symbol"])],n.prototype,"readData",null);b.__decorate([p.writer("data",{})],n.prototype,"writeData",null);b.__decorate([u.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],
n.prototype,"type",void 0);return n=f=b.__decorate([r.subclass("esri.symbols.CIMSymbol")],n)})},"esri/symbols/Symbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p,m){e=new e.JSONMap({esriSMS:"simple-marker",
esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let g=0;d=function(f){function h(k){k=q.call(this,k);k.id=`sym${g++}`;k.type=null;k.color=new c([0,0,0,1]);return k}a._inherits(h,f);var q=a._createSuper(h);f=h.prototype;f.readColor=function(k){return k&&
null!=k[0]?[k[0],k[1],k[2],k[3]/255]:k};f.collectRequiredFields=async function(k,l){};f.hash=function(){return JSON.stringify(this.toJSON())};f.clone=function(){};return a._createClass(h)}(d.JSONSupport);b.__decorate([n.property({type:e.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:e.write}}})],d.prototype,"type",void 0);b.__decorate([n.property({type:c,json:{write:{allowNull:!0}}})],d.prototype,"color",void 0);b.__decorate([p.reader("color")],d.prototype,"readColor",null);return d=
b.__decorate([m.subclass("esri.symbols.Symbol")],d)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g){var f;d=f=function(h){function q(l){l=
k.call(this,l);l.type="extrude";l.size=1;l.material=null;l.castShadows=!0;l.edges=null;return l}a._inherits(q,h);var k=a._createSuper(q);q.prototype.clone=function(){return new f({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};return a._createClass(q)}(p);b.__decorate([t.enumeration({Extrude:"extrude"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:Number,
json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],d.prototype,"size",void 0);b.__decorate([e.property({type:g.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);b.__decorate([e.property(m.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=f=b.__decorate([r.subclass("esri.symbols.ExtrudeSymbol3DLayer")],d)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,n,u,t,r){c=function(p){function m(f){f=g.call(this,f);f.enabled=!0;f.type=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.writeEnabled=function(f,h,q){f||(h[q]=f)};return a._createClass(m)}(c.JSONSupport);b.__decorate([e.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],c.prototype,"enabled",void 0);b.__decorate([r.writer("enabled")],c.prototype,"writeEnabled",null);b.__decorate([e.property({type:"icon object line path fill water extrude text".split(" "),
readOnly:!0})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.Symbol3DLayer")],c)})},"esri/symbols/edges/utils":function(){define(["exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,c,e){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:e,sketch:c}},json:{write:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p){e=function(m){function g(h){h=f.call(this,h);h.color=new c([0,0,0,1]);h.extensionLength=0;h.size=n.px2pt(1);return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.clone=function(){};m.cloneProperties=function(){return{color:d.clone(this.color),size:this.size,extensionLength:this.extensionLength}};return a._createClass(g)}(e.JSONSupport);b.__decorate([u.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],e.prototype,"type",
void 0);b.__decorate([u.property(p.colorAndTransparencyProperty)],e.prototype,"color",void 0);b.__decorate([u.property({...p.screenSizeProperty,json:{write:{overridePolicy(m){return{enabled:!!m}}}}})],e.prototype,"extensionLength",void 0);b.__decorate([u.property(p.screenSizeProperty)],e.prototype,"size",void 0);return e=b.__decorate([r.subclass("esri.symbols.edges.Edges3D")],e)})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(e){return e?72*e/96:0}const c=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;
a.castRenderScreenPointArray=function(e){return e};a.castRenderScreenPointArray3=function(e){return e};a.castScreenPointArray=function(e){return e};a.createRenderScreenPoint=function(e=0,d=0){return{x:e,y:d}};a.createRenderScreenPointArray=function(e=0,d=0){return[e,d]};a.createRenderScreenPointArray3=function(e=0,d=0,n=0){return[e,d,n]};a.createScreenPoint=function(e=0,d=0){return{x:e,y:d}};a.createScreenPointArray=function(e=0,d=0){return[e,d]};a.pt2px=function(e){return e?e/72*96:0};a.px2pt=b;
a.screenPointArrayToObject=function(e,d){return d?(d.x=e[0],d.y=e[1],d):{x:e[0],y:e[1]}};a.screenPointObjectToArray=function(e,d){return d?(d[0]=e.x,d[1]=e.y,2<d.length&&(d[2]=0),d):[e.x,e.y]};a.toPt=function(e){if("string"===typeof e){var d=e.match(c);if(d){var n=Number(d[1]);d=d[3]&&d[3].toLowerCase();e="-"===e.charAt(0);n="px"===d?b(n):n;return e?-n:n}console.warn("screenUtils.toPt: input not recognized!");return null}return e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/materialUtils":function(){define(["exports",
"../../Color","../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,c,e,d){c={type:Number,cast:c.toPt,json:{write:!0}};a.colorAndTransparencyProperty={type:b,json:{type:[e.Integer],default:null,read:{source:["color","transparency"],reader:function(n,u){n=null!=u.transparency?d.transparencyToOpacity(u.transparency):1;return(u=u.color)&&Array.isArray(u)?new b([u[0]||0,u[1]||0,u[2]||0,n]):null}},write:{target:{color:{type:[e.Integer]},transparency:{type:e.Integer}},
writer:function(n,u){u.color=n.toJSON().slice(0,3);n=d.opacityToTransparency(n.a);0!==n&&(u.transparency=n)}}}};a.screenSizeProperty=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;c=m=function(g){function f(q){q=h.call(this,q);q.type="sketch";return q}a._inherits(f,g);var h=a._createSuper(f);f.prototype.clone=function(){return new m(this.cloneProperties())};return a._createClass(f)}(p);b.__decorate([t.enumeration({sketch:"sketch"},{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([r.subclass("esri.symbols.edges.SketchEdges3D")],c)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;c=m=function(g){function f(q){q=h.call(this,q);q.type="solid";return q}a._inherits(f,g);var h=a._createSuper(f);f.prototype.clone=function(){return new m(this.cloneProperties())};return a._createClass(f)}(p);b.__decorate([t.enumeration({solid:"solid"},{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([r.subclass("esri.symbols.support.SolidEdges3D")],c)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;a.Symbol3DMaterial=g=function(f){function h(k){k=q.call(this,k);k.color=null;return k}b._inherits(h,f);var q=b._createSuper(h);h.prototype.clone=function(){const k={color:d.isSome(this.color)?this.color.clone():null};return new g(k)};return b._createClass(h)}(e.JSONSupport);c.__decorate([n.property(m.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=g=c.__decorate([p.subclass("esri.symbols.support.Symbol3DMaterial")],
a.Symbol3DMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),function(a,b,c,e,d,n,u,t,r){e=function(p){function m(f){f=g.call(this,f);f.outline=null;f.type=null;return f}a._inherits(m,
p);var g=a._createSuper(m);m.prototype.hash=function(){return`${this.type}.${this.outline&&this.outline.hash()}`};return a._createClass(m)}(r);b.__decorate([c.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":t}},json:{default:null,write:!0}})],e.prototype,"outline",void 0);b.__decorate([c.property({type:["simple-fill","picture-fill"],readOnly:!0})],e.prototype,"type",void 0);return e=b.__decorate([u.subclass("esri.symbols.FillSymbol")],e)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;c=new c.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});p=g=function(f){function h(...k){k=q.call(this,...k);k.type="simple-line";
k.style="solid";k.cap="round";k.join="round";k.marker=null;k.miterLimit=2;return k}a._inherits(h,f);var q=a._createSuper(h);f=h.prototype;f.normalizeCtorArgs=function(k,l,v,w,x,z){if(k&&"string"!==typeof k)return k;const A={};null!=k&&(A.style=k);null!=l&&(A.color=l);null!=v&&(A.width=d.toPt(v));null!=w&&(A.cap=w);null!=x&&(A.join=x);null!=z&&(A.miterLimit=d.toPt(z));return A};f.clone=function(){return new g({color:e.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,
miterLimit:this.miterLimit,marker:this.marker?.clone()})};f.hash=function(){return`${a._get(a._getPrototypeOf(h.prototype),"hash",this).call(this)}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`};return a._createClass(h)}(p);b.__decorate([t.enumeration({esriSLS:"simple-line"},{readOnly:!0})],p.prototype,"type",void 0);b.__decorate([n.property({type:c.apiValues,json:{read:c.read,write:c.write}})],p.prototype,"style",void 0);b.__decorate([n.property({type:["butt",
"round","square"],json:{write:{overridePolicy:(f,h,q)=>({enabled:"round"!==f&&(null==q||null==q.origin)})}}})],p.prototype,"cap",void 0);b.__decorate([n.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(f,h,q)=>({enabled:"round"!==f&&(null==q||null==q.origin)})}}})],p.prototype,"join",void 0);b.__decorate([n.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":m}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],p.prototype,"marker",void 0);
b.__decorate([n.property({type:Number,json:{read:!1,write:!1}})],p.prototype,"miterLimit",void 0);return p=g=b.__decorate([r.subclass("esri.symbols.SimpleLineSymbol")],p)})},"esri/symbols/LineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,e,d,n,u,t,r,p){d=function(m){function g(h){h=f.call(this,h);h.type="simple-line";h.width=.75;return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.hash=function(){return`${this.type}.${this.width}`};return a._createClass(g)}(p);b.__decorate([t.enumeration({esriSLS:"simple-line"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"width",void 0);return d=b.__decorate([r.subclass("esri.symbols.LineSymbol")],
d)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/lineMarkers".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g){var f;e=f=function(h){function q(l){l=
k.call(this,l);l.placement="begin-end";l.type="line-marker";l.style="arrow";return l}a._inherits(q,h);var k=a._createSuper(q);h=q.prototype;h.writeStyle=function(l,v,w,x){v[w]="web-map"===x?.origin?"arrow":l};h.readColor=function(l){return l&&null!=l[0]?[l[0],l[1],l[2],l[3]/255]:l};h.writeColor=function(l,v,w,x){"web-map"!==x?.origin&&(v[w]=l)};h.clone=function(){return new f({color:d.clone(this.color),placement:this.placement,style:this.style})};h.hash=function(){return`${this.placement}.${this.color?.hash()}.${this.style}`};
a._createClass(q,[{key:"color",set:function(l){this._set("color",l)}}]);return q}(e.JSONSupport);b.__decorate([n.property({type:["begin","end","begin-end"],json:{write:!0}})],e.prototype,"placement",void 0);b.__decorate([t.enumeration({"line-marker":"line-marker"},{readOnly:!0}),n.property({json:{origins:{"web-map":{write:!1}}}})],e.prototype,"type",void 0);b.__decorate([n.property({type:g.lineMarkerStyles})],e.prototype,"style",void 0);b.__decorate([m.writer("style")],e.prototype,"writeStyle",null);
b.__decorate([n.property({type:c,value:null,json:{write:{allowNull:!0}}})],e.prototype,"color",null);b.__decorate([r.reader("color")],e.prototype,"readColor",null);b.__decorate([m.writer("color")],e.prototype,"writeColor",null);return e=f=b.__decorate([p.subclass("esri.symbols.LineSymbolMarker")],e)})},"esri/symbols/support/lineMarkers":function(){define(["exports"],function(a){a.lineMarkerPlacements=["begin","end","begin-end"];a.lineMarkerStyles="arrow circle square diamond cross x".split(" ");Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l){var v;d=v=function(w){function x(A){A=z.call(this,A);A.type="fill";A.material=null;A.pattern=null;A.castShadows=!0;A.outline=null;A.edges=null;return A}a._inherits(x,w);var z=a._createSuper(x);x.prototype.clone=function(){const A={edges:c.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,pattern:c.isSome(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:c.isSome(this.outline)?
this.outline.clone():null};return new v(A)};x.fromSimpleFillSymbol=function(A){const B=A.outline&&A.outline.style&&"inside-frame"!==A.outline.style&&"solid"!==A.outline.style?new g({style:A.outline.style}):null,D={size:A.outline?.width??0,color:(A.outline?.color??q.white).clone(),pattern:B};B&&A.outline?.cap&&(D.patternCap=A.outline.cap);return new v({material:new k.Symbol3DFillMaterial({color:(A.color??q.transparentWhite).clone()}),pattern:A.style&&"solid"!==A.style?new f({style:A.style}):null,outline:D})};
return a._createClass(x)}(p);b.__decorate([t.enumeration({Fill:"fill"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:k.Symbol3DFillMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property(h.symbol3dPatternProperty)],d.prototype,"pattern",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);b.__decorate([e.property({type:l.Symbol3DOutline,json:{write:!0}})],d.prototype,"outline",
void 0);b.__decorate([e.property(m.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=v=b.__decorate([r.subclass("esri.symbols.FillSymbol3DLayer")],d)})},"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;c=c.strict()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});p=g=function(f){function h(k){k=q.call(this,k);k.type="style";k.style="solid";return k}a._inherits(h,f);var q=a._createSuper(h);h.prototype.clone=function(){return new g({style:this.style})};
return a._createClass(h)}(p);b.__decorate([e.property({type:["style"]})],p.prototype,"type",void 0);b.__decorate([t.enumeration(c),e.property({type:m.lineStyles})],p.prototype,"style",void 0);return p=g=b.__decorate([r.subclass("esri.symbols.patterns.LineStylePattern3D")],p)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){c=function(r){function p(g){return m.call(this,g)}a._inherits(p,r);var m=a._createSuper(p);p.prototype.clone=function(){};return a._createClass(p)}(c.JSONSupport);b.__decorate([e.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.patterns.LinePattern3D")],c)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.type="style";h.style="solid";return h}
a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({style:this.style})};return a._createClass(g)}(t);b.__decorate([c.property({type:["style"]})],e.prototype,"type",void 0);b.__decorate([c.property({type:r,json:{read:!0,write:!0}})],e.prototype,"style",void 0);return e=p=b.__decorate([u.subclass("esri.symbols.patterns.StylePattern3D")],e)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){c=function(r){function p(g){return m.call(this,g)}a._inherits(p,r);var m=a._createSuper(p);p.prototype.clone=function(){};return a._createClass(p)}(c.JSONSupport);b.__decorate([e.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.patterns.Pattern3D")],c)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["exports","./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,c,e,d){e={types:{key:"type",base:e,typeMap:{style:d}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:c}},json:{write:!0}};a.symbol3dPatternProperty=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,b){const c=new b("white"),
e=new b("black");b=new b([255,255,255,0]);a.black=e;a.isBlack=function(d){return 0===d.r&&0===d.g&&0===d.b};a.transparentWhite=b;a.white=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Symbol3DMaterial".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){var f;a.Symbol3DFillMaterial=f=function(h){function q(l){l=k.call(this,l);l.colorMixMode=null;return l}b._inherits(q,h);var k=b._createSuper(q);q.prototype.clone=function(){const l={color:e.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new f(l)};return b._createClass(q)}(g.Symbol3DMaterial);c.__decorate([p.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=
f=c.__decorate([m.subclass("esri.symbols.support.Symbol3DFillMaterial")],a.Symbol3DFillMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){var k;a.Symbol3DOutline=k=function(l){function v(x){x=w.call(this,x);x.color=new e([0,0,0,1]);x.size=u.px2pt(1);x.pattern=null;x.patternCap="butt";return x}b._inherits(v,l);var w=b._createSuper(v);v.prototype.clone=function(){const x={color:n.isSome(this.color)?this.color.clone():null,size:this.size,pattern:n.isSome(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new k(x)};return b._createClass(v)}(d.JSONSupport);c.__decorate([t.property(h.colorAndTransparencyProperty)],
a.Symbol3DOutline.prototype,"color",void 0);c.__decorate([t.property(h.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",void 0);c.__decorate([t.property(f.symbol3dLinePatternProperty)],a.Symbol3DOutline.prototype,"pattern",void 0);c.__decorate([t.property({type:q.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:n.isSome(this.pattern)}}}}})],a.Symbol3DOutline.prototype,"patternCap",void 0);a.Symbol3DOutline=k=c.__decorate([g.subclass("esri.symbols.support.Symbol3DOutline")],
a.Symbol3DOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports","../../core/has","../../chunks/vec3f64","../../geometry/support/aaBoundingBox"],function(a,b,c,e){const d=e.fromValues(-.5,-.5,-.5,.5,.5,.5),n=e.fromValues(-.5,-.5,0,.5,.5,1),u=e.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];e=[...b,"none"];a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_TETRAHEDRON=u;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CUBE=
d;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CYLINDER=n;a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerPrimitiveBoundingBox=function(t){switch(t){case "sphere":case "cube":case "diamond":return d;case "cylinder":case "cone":case "inverted-cone":return n;case "tetrahedron":return u}};a.objectSymbolLayerSizeWithResourceSize=function(t,{isPrimitive:r,width:p,depth:m,height:g}){r=r?10:1;if(null==p&&null==g&&null==m)return[r*t[0],r*t[1],r*t[2]];p=c.fromValues(p,m,g);let f;for(m=0;3>
m;m++)if(g=p[m],null!=g){f=g/t[m];break}for(m=0;3>m;m++)null==p[m]&&(p[m]=t[m]*f);return p};a.pathCaps=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(a,b,c,e){function d(k=h){return[k[0],k[1],k[2],k[3],k[4],k[5]]}function n(k,l,v,w,x,z,A=d()){A[0]=k;A[1]=l;A[2]=v;A[3]=w;A[4]=x;A[5]=z;return A}function u(k){return k[0]>=k[3]?0:k[3]-k[0]}function t(k){return k[1]>=
k[4]?0:k[4]-k[1]}function r(k){return k[2]>=k[5]?0:k[5]-k[2]}function p(k,l){return Math.max(l[0],k[0])<=Math.min(l[3],k[3])&&Math.max(l[1],k[1])<=Math.min(l[4],k[4])&&Math.max(l[2],k[2])<=Math.min(l[5],k[5])}function m(k,l){k[0]=l[0];k[1]=l[1];k[2]=l[2];k[3]=l[3];k[4]=l[4];k[5]=l[5];return k}function g(k){return 6===k.length}const f=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],h=[0,0,0,0,0,0],q=d();a.NEGATIVE_INFINITY=f;a.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,
Infinity];a.ZERO=h;a.allFinite=function(k){for(let l=0;6>l;l++)if(!isFinite(k[l]))return!1;return!0};a.center=function(k,l=[0,0,0]){l[0]=k[0]+u(k)/2;l[1]=k[1]+t(k)/2;l[2]=k[2]+r(k)/2;return l};a.contains=function(k,l){return l[0]>=k[0]&&l[1]>=k[1]&&l[2]>=k[2]&&l[3]<=k[3]&&l[4]<=k[4]&&l[5]<=k[5]};a.containsPoint=function(k,l){return l[0]>=k[0]&&l[1]>=k[1]&&l[2]>=k[2]&&l[0]<=k[3]&&l[1]<=k[4]&&l[2]<=k[5]};a.containsPointWithMargin=function(k,l,v){return l[0]>=k[0]-v&&l[1]>=k[1]-v&&l[2]>=k[2]-v&&l[0]<=
k[3]+v&&l[1]<=k[4]+v&&l[2]<=k[5]+v};a.create=d;a.depth=t;a.diameter=function(k){const l=u(k),v=r(k);k=t(k);return Math.sqrt(l*l+v*v+k*k)};a.empty=function(k){return k?m(k,f):d(f)};a.equals=function(k,l,v){if(b.isNone(k)||b.isNone(l))return k===l;if(!g(k)||!g(l))return!1;if(v)for(let w=0;w<k.length;w++){if(!v(k[w],l[w]))return!1}else for(v=0;v<k.length;v++)if(k[v]!==l[v])return!1;return!0};a.expandWithAABB=function(k,l){k[0]=Math.min(k[0],l[0]);k[1]=Math.min(k[1],l[1]);k[2]=Math.min(k[2],l[2]);k[3]=
Math.max(k[3],l[3]);k[4]=Math.max(k[4],l[4]);k[5]=Math.max(k[5],l[5])};a.expandWithBuffer=function(k,l,v=0,w=l.length/3){let x=k[0],z=k[1],A=k[2],B=k[3],D=k[4],y=k[5];for(let C=0;C<w;C++)x=Math.min(x,l[v+3*C]),z=Math.min(z,l[v+3*C+1]),A=Math.min(A,l[v+3*C+2]),B=Math.max(B,l[v+3*C]),D=Math.max(D,l[v+3*C+1]),y=Math.max(y,l[v+3*C+2]);k[0]=x;k[1]=z;k[2]=A;k[3]=B;k[4]=D;k[5]=y};a.expandWithNestedArray=function(k,l,v){const w=l.length;let x=k[0],z=k[1],A=k[2],B=k[3],D=k[4],y=k[5];if(v)for(v=0;v<w;v++){var C=
l[v];x=Math.min(x,C[0]);z=Math.min(z,C[1]);A=Math.min(A,C[2]);B=Math.max(B,C[0]);D=Math.max(D,C[1]);y=Math.max(y,C[2])}else for(v=0;v<w;v++)C=l[v],x=Math.min(x,C[0]),z=Math.min(z,C[1]),B=Math.max(B,C[0]),D=Math.max(D,C[1]);k[0]=x;k[1]=z;k[2]=A;k[3]=B;k[4]=D;k[5]=y};a.expandWithOffset=function(k,l,v,w){k[0]=Math.min(k[0],k[0]+l);k[3]=Math.max(k[3],k[3]+l);k[1]=Math.min(k[1],k[1]+v);k[4]=Math.max(k[4],k[4]+v);k[2]=Math.min(k[2],k[2]+w);k[5]=Math.max(k[5],k[5]+w)};a.expandWithRect=function(k,l){k[0]=
Math.min(k[0],l[0]);k[1]=Math.min(k[1],l[1]);k[3]=Math.max(k[3],l[2]);k[4]=Math.max(k[4],l[3])};a.expandWithVec3=function(k,l){k[0]=Math.min(k[0],l[0]);k[1]=Math.min(k[1],l[1]);k[2]=Math.min(k[2],l[2]);k[3]=Math.max(k[3],l[0]);k[4]=Math.max(k[4],l[1]);k[5]=Math.max(k[5],l[2])};a.fromExtent=function(k,l=d()){l[0]=k.xmin;l[1]=k.ymin;l[2]=k.hasZ?k.zmin:-Infinity;l[3]=k.xmax;l[4]=k.ymax;l[5]=k.hasZ?k.zmax:Infinity;return l};a.fromMinMax=function(k,l,v=d()){v[0]=k[0];v[1]=k[1];v[2]=k[2];v[3]=l[0];v[4]=
l[1];v[5]=l[2];return v};a.fromRect=function(k,l){k[0]=l[0];k[1]=l[1];k[2]=Number.NEGATIVE_INFINITY;k[3]=l[2];k[4]=l[3];k[5]=Number.POSITIVE_INFINITY;return k};a.fromRectValues=function(k,l,v,w,x){k[0]=l;k[1]=v;k[2]=Number.NEGATIVE_INFINITY;k[3]=w;k[4]=x;k[5]=Number.POSITIVE_INFINITY;return k};a.fromValues=n;a.getMax=function(k,l){l[0]=k[3];l[1]=k[4];l[2]=k[5];return l};a.getMin=function(k,l){l[0]=k[0];l[1]=k[1];l[2]=k[2];return l};a.height=r;a.intersects=p;a.intersectsClippingArea=function(k,l){return b.isNone(l)?
!0:p(k,l)};a.is=g;a.isPoint=function(k){return 0===u(k)&&0===t(k)&&0===r(k)};a.maximumDimension=function(k){return Math.max(u(k),r(k),t(k))};a.offset=function(k,l,v,w,x=k){x[0]=k[0]+l;x[1]=k[1]+v;x[2]=k[2]+w;x[3]=k[3]+l;x[4]=k[4]+v;x[5]=k[5]+w;return x};a.scale=function(k,l,v=k){const w=k[0]+u(k)/2,x=k[1]+t(k)/2,z=k[2]+r(k)/2;v[0]=w+(k[0]-w)*l;v[1]=x+(k[1]-x)*l;v[2]=z+(k[2]-z)*l;v[3]=w+(k[3]-w)*l;v[4]=x+(k[4]-x)*l;v[5]=z+(k[5]-z)*l;return v};a.set=m;a.setMax=function(k,l,v=k){v[3]=l[0];v[4]=l[1];
v[5]=l[2];v!==k&&(v[0]=k[0],v[1]=k[1],v[2]=k[2]);return k};a.setMin=function(k,l,v=k){v[0]=l[0];v[1]=l[1];v[2]=l[2];v!==k&&(v[3]=k[3],v[4]=k[4],v[5]=k[5]);return v};a.size=function(k,l=[0,0,0]){l[0]=u(k);l[1]=t(k);l[2]=r(k);return l};a.toExtent=function(k,l){return isFinite(k[2])||isFinite(k[5])?new c({xmin:k[0],xmax:k[3],ymin:k[1],ymax:k[4],zmin:k[2],zmax:k[5],spatialReference:l}):new c({xmin:k[0],xmax:k[3],ymin:k[1],ymax:k[4],spatialReference:l})};a.toRect=function(k,l){l||(l=e.create());l[0]=k[0];
l[1]=k[1];l[2]=k[3];l[3]=k[4];return l};a.width=u;a.wrap=function(k,l,v,w,x,z){return n(k,l,v,w,x,z,q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/Font":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/textUtils".split(" "),function(a,
b,c,e,d,n,u,t,r,p){var m;c=m=function(g){function f(q){q=h.call(this,q);q.decoration="none";q.family="sans-serif";q.size=9;q.style="normal";q.weight="normal";return q}a._inherits(f,g);var h=a._createSuper(f);g=f.prototype;g.castSize=function(q){return e.toPt(q)};g.clone=function(){return new m({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};g.hash=function(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`};return a._createClass(f)}(c.JSONSupport);
b.__decorate([d.property({type:p.fontDecorations,json:{default:"none",write:!0}})],c.prototype,"decoration",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"family",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(g,f,h){return{enabled:!h||!h.textSymbol3D}}}}})],c.prototype,"size",void 0);b.__decorate([n.cast("size")],c.prototype,"castSize",null);b.__decorate([d.property({type:p.fontStyles,json:{default:"normal",write:!0}})],c.prototype,"style",
void 0);b.__decorate([d.property({type:p.fontWeights,json:{default:"normal",write:!0}})],c.prototype,"weight",void 0);return c=m=b.__decorate([r.subclass("esri.symbols.Font")],c)})},"esri/symbols/support/textUtils":function(){define(["exports","../../core/mathUtils","../../core/accessorSupport/ensureType"],function(a,b,c){const e={type:Number,cast:r=>{r=c.ensureNumber(r);return 0===r?1:b.clamp(r,.1,4)},nonNullable:!0},d=["left","right","center"],n=["baseline","top","middle","bottom"],u={type:d,nonNullable:!0},
t={type:n,nonNullable:!0};a.fontDecorations=["none","underline","line-through"];a.fontStyles=["normal","italic","oblique"];a.fontWeights=["normal","lighter","bold","bolder"];a.horizontalAlignmentProperty=u;a.horizontalAlignments=d;a.lineHeightProperty=e;a.verticalAlignmentProperty=t;a.verticalAlignments=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v){function w(B){const D="width"in B?B.width:B.size,y="height"in B?B.height:B.size,C=x(B.xoffset);B=x(B.yoffset);return(C||B)&&D&&y?{x:-C/D,y:B/y}:null}function x(B){return isFinite(B)?B:0}var z;u=z=function(B){function D(C){C=y.call(this,C);C.material=null;C.resource=null;C.type="icon";C.size=12;C.anchor="center";C.anchorPosition=null;C.outline=null;return C}a._inherits(D,B);var y=a._createSuper(D);D.prototype.clone=function(){return new z({anchor:this.anchor,
anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:e.isSome(this.material)?this.material.clone():null,outline:e.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};D.fromSimpleMarkerSymbol=function(C){const F=C.color||f.white,G=w(C),E=C.outline&&0<C.outline.width?{size:C.outline.width,color:(C.outline.color||f.white).clone()}:null;var P=z,O=C.size;{C=C.style;const K=A[C];K?C=K:(c.getLogger("esri.symbols.IconSymbol3DLayer").warn(`${C} cannot be mapped to Icon symbol. Fallback to "circle"`),
C="circle")}return new P({size:O,resource:{primitive:C},material:{color:F},outline:E,anchor:G?"relative":void 0,anchorPosition:G})};D.fromPictureMarkerSymbol=function(C){const F=!C.color||f.isBlack(C.color)?f.white:C.color,G=w(C);return new z({size:C.width<=C.height?C.height:C.width,resource:{href:C.url},material:{color:F.clone()},anchor:G?"relative":void 0,anchorPosition:G})};D.fromCIMSymbol=function(C){return new z({resource:{href:d.makeData({mediaType:"application/json",data:JSON.stringify(C.data)})}})};
return a._createClass(D)}(g);b.__decorate([n.property({type:v.Symbol3DMaterial,json:{write:!0}})],u.prototype,"material",void 0);b.__decorate([n.property({type:h.IconSymbol3DLayerResource,json:{write:!0}})],u.prototype,"resource",void 0);b.__decorate([p.enumeration({Icon:"icon"},{readOnly:!0})],u.prototype,"type",void 0);b.__decorate([n.property(q.screenSizeProperty)],u.prototype,"size",void 0);b.__decorate([p.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",
topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),n.property({json:{default:"center"}})],u.prototype,"anchor",void 0);b.__decorate([n.property({type:k.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:B=>new k.Symbol3DAnchorPosition2D({x:B[0],y:B[1]})},write:{writer:(B,D)=>{D.anchorPosition=[B.x,B.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],u.prototype,"anchorPosition",void 0);b.__decorate([n.property({type:l.Symbol3DIconOutline,
json:{write:!0}})],u.prototype,"outline",void 0);u=z=b.__decorate([m.subclass("esri.symbols.IconSymbol3DLayer")],u);const A={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return u})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){var k;e=e.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=k=function(l){function v(x){return w.call(this,x)}b._inherits(v,l);var w=b._createSuper(v);l=v.prototype;l.readHref=function(x,z,A){return x?q.fromJSON(x,A):z.dataURI};l.writeHref=function(x,z,A,B){x&&(n.isDataProtocol(x)?z.dataURI=x:(z.href=q.toJSON(x,B),n.isAbsolute(z.href)&&(z.href=n.normalize(z.href))))};l.clone=function(){return new k({href:this.href,
primitive:this.primitive})};return b._createClass(v)}(d.JSONSupport);c.__decorate([u.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);c.__decorate([g.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);c.__decorate([h.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);c.__decorate([m.enumeration(e)],a.IconSymbol3DLayerResource.prototype,"primitive",
void 0);a.IconSymbol3DLayerResource=k=c.__decorate([f.subclass("esri.symbols.support.IconSymbol3DLayerResource")],a.IconSymbol3DLayerResource);a.defaultPrimitive="circle";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;a.Symbol3DAnchorPosition2D=p=function(m){function g(){var h=f.apply(this,arguments);h.x=0;h.y=0;return h}b._inherits(g,m);var f=b._createSuper(g);g.prototype.clone=function(){return new p({x:this.x,y:this.y})};return b._createClass(g)}(e);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=p=c.__decorate([r.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],
a.Symbol3DAnchorPosition2D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,
b,c,e,d,n,u,t,r,p,m,g,f){var h;a.Symbol3DIconOutline=h=function(q){function k(v){v=l.call(this,v);v.color=new e([0,0,0,1]);v.size=u.px2pt(1);return v}b._inherits(k,q);var l=b._createSuper(k);k.prototype.clone=function(){const v={color:n.isSome(this.color)?this.color.clone():null,size:this.size};return new h(v)};return b._createClass(k)}(d.JSONSupport);c.__decorate([t.property(f.colorAndTransparencyProperty)],a.Symbol3DIconOutline.prototype,"color",void 0);c.__decorate([t.property(f.screenSizeProperty)],
a.Symbol3DIconOutline.prototype,"size",void 0);a.Symbol3DIconOutline=h=c.__decorate([g.subclass("esri.symbols.support.Symbol3DIconOutline")],a.Symbol3DIconOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){var f;const h=c.ofType({base:null,key:"type",typeMap:{text:p}});c=f=function(q){function k(v){v=l.call(this,v);v.verticalOffset=null;v.callout=null;v.styleOrigin=null;v.symbolLayers=new h;v.type="label-3d";return v}a._inherits(k,q);var l=a._createSuper(k);q=k.prototype;q.supportsCallout=function(){return!0};q.hasVisibleCallout=function(){return m.hasVisibleCallout(this)};q.hasVisibleVerticalOffset=function(){return m.hasVisibleVerticalOffset(this)};q.clone=function(){return new f({styleOrigin:e.clone(this.styleOrigin),
symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail),callout:e.clone(this.callout),verticalOffset:e.clone(this.verticalOffset)})};k.fromTextSymbol=function(v){return new f({symbolLayers:[p.fromTextSymbol(v)]})};return a._createClass(k)}(r);b.__decorate([d.property({type:g,json:{write:!0}})],c.prototype,"verticalOffset",void 0);b.__decorate([d.property(m.calloutProperty)],c.prototype,"callout",void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],c.prototype,"styleOrigin",
void 0);b.__decorate([d.property({type:h})],c.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=f=b.__decorate([t.subclass("esri.symbols.LabelSymbol3D")],c)})},"esri/symbols/Symbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F,G){const E={icon:w,object:z,line:x,path:A,fill:v,extrude:l,text:y,water:C};p=c.ofType({base:D,key:"type",typeMap:E,errorContext:"symbol-layer"});B=function(P){function O(M){M=K.call(this,M);M.styleOrigin=null;M.thumbnail=null;M.type=null;const I=M.__accessor__&&M.__accessor__.metadatas&&M.__accessor__.metadatas.symbolLayers;M._set("symbolLayers",new (I&&I.type||c));return M}a._inherits(O,P);var K=a._createSuper(O);P=O.prototype;P.readStyleOrigin=
function(M,I,H){if(M.styleUrl&&M.name)return I=k.fromJSON(M.styleUrl,H),new F({styleUrl:I,name:M.name});if(M.styleName&&M.name)return new F({portal:H&&H.portal||q.getDefault(),styleName:M.styleName,name:M.name});H&&H.messages&&H.messages.push(new u("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:H,definition:M}))};P.writeStyleOrigin=function(M,I,H,L){M.styleUrl&&M.name?(H=k.toJSON(M.styleUrl,L),n.isAbsolute(H)&&(H=n.normalize(H)),
I.styleOrigin={styleUrl:H,name:M.name}):M.styleName&&M.name&&(M.portal&&L&&L.portal&&!n.hasSamePortal(M.portal.restUrl,L.portal.restUrl)?L&&L.messages&&L.messages.push(new u("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):I.styleOrigin={styleName:M.styleName,name:M.name})};P.normalizeCtorArgs=function(M){return M instanceof D||M&&E[M.type]?{symbolLayers:[M]}:Array.isArray(M)?{symbolLayers:M}:
M};a._createClass(O,[{key:"color",get:function(){return null},set:function(M){this.constructed&&d.getLogger(this.declaredClass).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}},{key:"symbolLayers",set:function(M){e.referenceSetter(M,this._get("symbolLayers"))}}]);return O}(B);b.__decorate([t.property({json:{read:!1,write:!1}})],B.prototype,"color",null);b.__decorate([t.property({type:p,nonNullable:!0,json:{write:!0}}),
r.cast(e.castForReferenceSetter)],B.prototype,"symbolLayers",null);b.__decorate([t.property({type:F})],B.prototype,"styleOrigin",void 0);b.__decorate([g.reader("styleOrigin")],B.prototype,"readStyleOrigin",null);b.__decorate([h.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],B.prototype,"writeStyleOrigin",null);b.__decorate([t.property({type:G.Thumbnail,json:{read:!1}})],B.prototype,"thumbnail",void 0);b.__decorate([t.property({type:["point-3d",
"line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],B.prototype,"type",void 0);return B=b.__decorate([f.subclass("esri.symbols.Symbol3D")],B)})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineStyleMarker3D ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v){var w;n=w=function(x){function z(B){B=A.call(this,B);B.material=null;B.type="line";B.join="miter";B.cap="butt";B.size=e.px2pt(1);B.pattern=null;B.marker=null;return B}a._inherits(z,x);var A=a._createSuper(z);z.prototype.clone=function(){const B={enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:c.isSome(this.pattern)?this.pattern.clone():null,marker:c.isSome(this.marker)?
this.marker.clone():null};return new w(B)};z.fromSimpleLineSymbol=function(B){B={enabled:!0,size:B.width??e.px2pt(1),cap:B.cap||"butt",join:B.join||"miter",pattern:B.style&&"inside-frame"!==B.style?new f({style:B.style}):null,material:new l.Symbol3DMaterial({color:(B.color||q.white).clone()}),marker:B.marker?new m({placement:B.marker.placement,style:B.marker.style,color:B.marker.color?.clone()??null}):null};return new w(B)};return a._createClass(z)}(g);b.__decorate([d.property({type:l.Symbol3DMaterial,
json:{write:!0}})],n.prototype,"material",void 0);b.__decorate([r.enumeration({Line:"line"},{readOnly:!0})],n.prototype,"type",void 0);b.__decorate([d.property({type:v.lineJoins,json:{write:!0,default:"miter"}})],n.prototype,"join",void 0);b.__decorate([d.property({type:v.lineCaps,json:{write:!0,default:"butt"}})],n.prototype,"cap",void 0);b.__decorate([d.property(k.screenSizeProperty)],n.prototype,"size",void 0);b.__decorate([d.property(h.symbol3dLinePatternProperty)],n.prototype,"pattern",void 0);
b.__decorate([d.property({types:{key:"type",base:m,typeMap:{style:m}},json:{write:!0}})],n.prototype,"marker",void 0);return n=w=b.__decorate([p.subclass("esri.symbols.LineSymbol3DLayer")],n)})},"esri/symbols/LineStyleMarker3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/Clonable ../core/JSONSupport ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/lineMarkers".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){e=function(f){function h(k){k=q.call(this,k);k.type="style";k.placement="begin-end";k.style="arrow";k.color=null;return k}a._inherits(h,f);var q=a._createSuper(h);h.prototype.equals=function(k){return n.isSome(k)&&k.placement===this.placement&&k.style===this.style&&(n.isNone(this.color)&&n.isNone(k.color)||n.isSome(this.color)&&n.isSome(k.color)&&this.color.toJSON()===k.color.toJSON())};return a._createClass(h)}(e.ClonableMixin(d.JSONSupport));b.__decorate([u.property({type:["style"],
readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],e.prototype,"type",void 0);b.__decorate([u.property({type:g.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],e.prototype,"placement",void 0);b.__decorate([u.property({type:g.lineMarkerStyles,json:{default:"arrow",write:!0}})],e.prototype,"style",void 0);b.__decorate([u.property({type:c,json:{type:[t.Integer],default:null,write:!0}})],e.prototype,"color",void 0);return e=b.__decorate([m.subclass("esri.symbols.LineStyleMarker3D")],e)})},
"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g,f){var h;d=h=function(q){function k(v){v=
l.call(this,v);v.material=null;v.castShadows=!0;v.resource=null;v.type="object";v.width=void 0;v.height=void 0;v.depth=void 0;v.anchor=void 0;v.anchorPosition=void 0;v.heading=void 0;v.tilt=void 0;v.roll=void 0;return v}a._inherits(k,q);var l=a._createSuper(k);k.prototype.clone=function(){return new h({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:c.isSome(this.material)?
this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};a._createClass(k,[{key:"isPrimitive",get:function(){return!this.resource||"string"!==typeof this.resource.href}}]);return k}(p);b.__decorate([e.property({type:f.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);b.__decorate([e.property({type:m.ObjectSymbol3DLayerResource,
json:{write:!0}})],d.prototype,"resource",void 0);b.__decorate([t.enumeration({Object:"object"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"width",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"depth",void 0);b.__decorate([t.enumeration({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),
e.property({json:{default:"origin"}})],d.prototype,"anchor",void 0);b.__decorate([e.property({type:g.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:q=>new g.Symbol3DAnchorPosition3D({x:q[0],y:q[1],z:q[2]})},write:{writer:(q,k)=>{k.anchorPosition=[q.x,q.y,q.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],d.prototype,"anchorPosition",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"heading",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],
d.prototype,"tilt",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"roll",void 0);b.__decorate([e.property({readOnly:!0})],d.prototype,"isPrimitive",null);return d=h=b.__decorate([r.subclass("esri.symbols.ObjectSymbol3DLayer")],d)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){var f;e=e.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=f=function(h){function q(){return k.apply(this,arguments)}b._inherits(q,h);var k=b._createSuper(q);q.prototype.clone=function(){return new f({href:this.href,primitive:this.primitive})};return b._createClass(q)}(d.JSONSupport);c.__decorate([n.property({type:String,json:{read:g.read,
write:g.write}})],a.ObjectSymbol3DLayerResource.prototype,"href",void 0);c.__decorate([p.enumeration(e)],a.ObjectSymbol3DLayerResource.prototype,"primitive",void 0);a.ObjectSymbol3DLayerResource=f=c.__decorate([m.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.defaultPrimitive="sphere";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;a.Symbol3DAnchorPosition3D=p=function(m){function g(){var h=f.apply(this,arguments);h.x=0;h.y=0;h.z=0;return h}b._inherits(g,m);var f=b._createSuper(g);g.prototype.clone=function(){return new p({x:this.x,y:this.y,z:this.z})};return b._createClass(g)}(e);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);c.__decorate([d.property({type:Number})],
a.Symbol3DAnchorPosition3D.prototype,"z",void 0);a.Symbol3DAnchorPosition3D=p=c.__decorate([r.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],a.Symbol3DAnchorPosition3D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){var h;d=h=function(q){function k(v){v=l.call(this,v);v.material=null;v.castShadows=!0;v.type="path";v.profile="circle";v.join="miter";v.cap="butt";v.width=void 0;v.height=void 0;v.anchor="center";v.profileRotation="all";return v}a._inherits(k,q);var l=a._createSuper(k);q=k.prototype;q.readWidth=function(v,w){return null!=v?v:null==w.height&&null!=w.size?w.size:void 0};q.readHeight=function(v,w){return null!=v?v:null==w.width&&null!=w.size?w.size:void 0};q.clone=
function(){return new h({enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};return a._createClass(k)}(m);b.__decorate([e.property({type:g.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,
"castShadows",void 0);b.__decorate([t.enumeration({Path:"path"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],d.prototype,"profile",void 0);b.__decorate([e.property({type:f.lineJoins,json:{write:!0,default:"miter"}})],d.prototype,"join",void 0);b.__decorate([e.property({type:f.pathCaps,json:{write:!0,default:"butt"}})],d.prototype,"cap",void 0);b.__decorate([e.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},
size:{type:Number}}}}})],d.prototype,"width",void 0);b.__decorate([r.reader("width",["width","size","height"])],d.prototype,"readWidth",null);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);b.__decorate([r.reader("height",["height","size","width"])],d.prototype,"readHeight",null);b.__decorate([e.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],d.prototype,"anchor",void 0);b.__decorate([e.property({type:["heading","all"],json:{write:!0,
default:"all"}})],d.prototype,"profileRotation",void 0);return d=h=b.__decorate([p.subclass("esri.symbols.PathSymbol3DLayer")],d)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial ./support/Symbol3DTextBackground ./support/textUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k){var l;n=l=function(v){function w(z){z=x.call(this,z);z._userSize=void 0;z.halo=null;z.horizontalAlignment="center";z.lineHeight=1;z.material=null;z.background=null;z.text=null;z.type="text";z.verticalAlignment="baseline";return z}a._inherits(w,v);var x=a._createSuper(w);v=w.prototype;v.writeFont=function(z,A,B,D){A.font=z.write({},{...D,textSymbol3D:!0});delete A.font.size};v.clone=function(){const z=new l({enabled:this.enabled,font:this.font&&c.clone(this.font),
halo:this.halo&&c.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:e.isSome(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:c.clone(this.background)});z._userSize=this._userSize;return z};w.fromTextSymbol=function(z){var A=l,B=e.isSome(z.font)?z.font.clone():new p;var D=z.haloColor;var y=z.haloSize;D=D&&null!=y&&0<y?new f.Symbol3DHalo({color:c.clone(D),size:y}):null;return new A({font:B,halo:D,
horizontalAlignment:z.horizontalAlignment,lineHeight:z.lineHeight,material:z.color?new h.Symbol3DMaterial({color:z.color.clone()}):null,text:z.text,verticalAlignment:z.verticalAlignment,background:z.backgroundColor?new q.Symbol3DTextBackground({color:z.backgroundColor.clone()}):null})};a._createClass(w,[{key:"font",get:function(){return this._get("font")||null},set:function(z){e.isSome(z)&&e.isSome(this._userSize)&&(z.size=this._userSize);this._set("font",z)}},{key:"size",get:function(){return e.isSome(this._userSize)?
this._userSize:e.isSome(this.font)&&null!=this.font.size?this.font.size:9},set:function(z){this._userSize=z;e.isSome(this.font)&&(this.font.size=this._userSize);this.notifyChange("size")}}]);return w}(m);b.__decorate([d.property({type:p,json:{write:!0}})],n.prototype,"font",null);b.__decorate([r.writer("font")],n.prototype,"writeFont",null);b.__decorate([d.property({type:f.Symbol3DHalo,json:{write:!0}})],n.prototype,"halo",void 0);b.__decorate([d.property({...k.horizontalAlignmentProperty,json:{default:"center",
write:!0}})],n.prototype,"horizontalAlignment",void 0);b.__decorate([d.property({...k.lineHeightProperty,json:{default:1,write:!0}})],n.prototype,"lineHeight",void 0);b.__decorate([d.property({type:h.Symbol3DMaterial,json:{write:!0}})],n.prototype,"material",void 0);b.__decorate([d.property({type:q.Symbol3DTextBackground,json:{write:!0}})],n.prototype,"background",void 0);b.__decorate([d.property(g.screenSizeProperty)],n.prototype,"size",null);b.__decorate([d.property({type:String,json:{write:!0}})],
n.prototype,"text",void 0);b.__decorate([u.enumeration({Text:"text"},{readOnly:!0})],n.prototype,"type",void 0);b.__decorate([d.property({...k.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],n.prototype,"verticalAlignment",void 0);return n=l=b.__decorate([t.subclass("esri.symbols.TextSymbol3DLayer")],n)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;a.Symbol3DHalo=m=function(g){function f(){var q=h.apply(this,arguments);q.color=new e([0,0,0,1]);q.size=0;return q}b._inherits(f,g);var h=b._createSuper(f);f.prototype.clone=function(){const q={color:n.clone(this.color),size:this.size};return new m(q)};return b._createClass(f)}(d.JSONSupport);c.__decorate([u.property(p.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);c.__decorate([u.property(p.screenSizeProperty)],a.Symbol3DHalo.prototype,
"size",void 0);a.Symbol3DHalo=m=c.__decorate([r.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DTextBackground":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){a.Symbol3DTextBackground=function(g){function f(q){q=h.call(this,q);q.color=null;return q}b._inherits(f,g);var h=b._createSuper(f);return b._createClass(f)}(e.ClonableMixin(d.JSONSupport));c.__decorate([n.property(m.colorAndTransparencyProperty)],a.Symbol3DTextBackground.prototype,"color",void 0);a.Symbol3DTextBackground=c.__decorate([p.subclass("esri.symbols.support.Symbol3DTextBackground")],a.Symbol3DTextBackground);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),function(a,b,c,e,d,n,u,t,r){var p;r=p=function(g){function f(q){q=h.call(this,q);q.color=m.clone();q.type="water";q.waterbodySize="medium";q.waveDirection=null;q.waveStrength=
"moderate";return q}a._inherits(f,g);var h=a._createSuper(f);f.prototype.clone=function(){return new p({color:e.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};return a._createClass(f)}(r);b.__decorate([d.property({type:c,nonNullable:!0,json:{type:[n.Integer],write:(g,f,h)=>f[h]=g.toArray(c.AlphaMode.UNLESS_OPAQUE),default:()=>m.clone(),defaultEquals:g=>g.toCss(!0)===m.toCss(!0)}})],r.prototype,"color",void 0);b.__decorate([u.enumeration({Water:"water"},
{readOnly:!0})],r.prototype,"type",void 0);b.__decorate([d.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],r.prototype,"waterbodySize",void 0);b.__decorate([d.property({type:Number,json:{write:!0,default:null}})],r.prototype,"waveDirection",void 0);b.__decorate([d.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],r.prototype,"waveStrength",void 0);r=p=b.__decorate([t.subclass("esri.symbols.WaterSymbol3DLayer")],r);const m=new c([0,
119,190]);return r})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),function(a,b,c,e,d,n,u,t,r){var p;c=p=function(m){function g(h){h=f.call(this,h);h.name=null;h.styleUrl=null;h.styleName=null;h.portal=null;return h}
a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};return a._createClass(g)}(c);b.__decorate([e.property({type:String})],c.prototype,"name",void 0);b.__decorate([e.property({type:String})],c.prototype,"styleUrl",void 0);b.__decorate([e.property({type:String})],c.prototype,"styleName",void 0);b.__decorate([e.property({type:r})],c.prototype,"portal",void 0);return c=p=b.__decorate([t.subclass("esri.symbols.support.StyleOrigin")],
c)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r){var p;a.Thumbnail=p=function(m){function g(){var h=f.apply(this,arguments);h.url="";return h}b._inherits(g,m);var f=b._createSuper(g);g.prototype.clone=
function(){return new p({url:this.url})};return b._createClass(g)}(e);c.__decorate([d.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=p=c.__decorate([r.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","../../core/maybe","./Callout3D","./LineCallout3D"],function(a,b,c,e){function d(n){if(!n)return!1;n=n.verticalOffset;return!n||0>=n.screenLength||
b.isSome(n.maxWorldLength)&&0>=n.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:c,typeMap:{line:e}},json:{write:!0}};a.hasCalloutSupport=function(n){return"point-3d"===n.type||"label-3d"===n.type};a.hasVisibleCallout=function(n){if(!n||!n.supportsCallout||!n.supportsCallout())return!1;const u=n.callout;return u&&u.visible?d(n)?!0:!1:!1};a.hasVisibleVerticalOffset=d;a.textSymbolLayerSupportsVerticalOffset=function(n){return"center"===n.horizontalAlignment};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t){c=function(r){function p(g){g=m.call(this,g);g.visible=!0;return g}a._inherits(p,r);var m=a._createSuper(p);p.prototype.clone=function(){};
return a._createClass(p)}(c.JSONSupport);b.__decorate([e.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"visible",void 0);return c=b.__decorate([t.subclass("esri.symbols.callouts.Callout3D")],c)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ../../chunks/LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){var h;t=h=function(q){function k(v){v=l.call(this,v);v.type="line";v.color=new c([0,0,0,1]);v.size=n.px2pt(1);v.border=null;return v}a._inherits(k,q);var l=a._createSuper(k);k.prototype.clone=function(){return new h({color:e.clone(this.color),size:this.size,border:e.clone(this.border)})};a._createClass(k,[{key:"visible",get:function(){return 0<this.size&&d.isSome(this.color)&&0<this.color.a}}]);return k}(m);b.__decorate([r.enumeration({line:"line"},{readOnly:!0})],
t.prototype,"type",void 0);b.__decorate([u.property(f.colorAndTransparencyProperty)],t.prototype,"color",void 0);b.__decorate([u.property(f.screenSizeProperty)],t.prototype,"size",void 0);b.__decorate([u.property({type:g.LineCallout3DBorder$1,json:{write:!0}})],t.prototype,"border",void 0);b.__decorate([u.property({readOnly:!0})],t.prototype,"visible",null);return t=h=b.__decorate([p.subclass("esri.symbols.callouts.LineCallout3D")],t)})},"esri/chunks/LineCallout3DBorder":function(){define("exports ./_rollupPluginBabelHelpers ./tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../symbols/support/materialUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;d=m=function(g){function f(){var q=h.apply(this,arguments);q.color=new e("white");return q}b._inherits(f,g);var h=b._createSuper(f);f.prototype.clone=function(){return new m({color:n.clone(this.color)})};return b._createClass(f)}(d.JSONSupport);c.__decorate([u.property(p.colorAndTransparencyProperty)],d.prototype,"color",void 0);c=d=m=c.__decorate([r.subclass("esri.symbols.callouts.LineCallout3DBorder")],d);u=Object.freeze(Object.defineProperty({__proto__:null,
default:c},Symbol.toStringTag,{value:"Module"}));a.LineCallout3DBorder=u;a.LineCallout3DBorder$1=c})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,c,e,d,n,u,t,r){var p;c=p=function(m){function g(h){h=
f.call(this,h);h.screenLength=0;h.minWorldLength=0;h.maxWorldLength=null;return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};return a._createClass(g)}(c.JSONSupport);b.__decorate([e.property(r.screenSizeProperty)],c.prototype,"screenLength",void 0);b.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0,default:0}})],c.prototype,"minWorldLength",
void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"maxWorldLength",void 0);return c=p=b.__decorate([t.subclass("esri.symbols.support.Symbol3DVerticalOffset")],c)})},"esri/symbols/LineSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;const f=c.ofType({base:null,key:"type",typeMap:{line:r,path:p}});c=c.ofType({base:null,key:"type",typeMap:{line:r,path:p}});m=g=function(h){function q(l){l=k.call(this,l);l.symbolLayers=new f;l.type="line-3d";return l}a._inherits(q,h);var k=a._createSuper(q);q.prototype.clone=function(){return new g({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};q.fromSimpleLineSymbol=function(l){return new g({symbolLayers:[r.fromSimpleLineSymbol(l)]})};
return a._createClass(q)}(m);b.__decorate([d.property({type:f,json:{type:c}})],m.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],m.prototype,"type",void 0);return m=g=b.__decorate([t.subclass("esri.symbols.LineSymbol3D")],m)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,e,d,n,u,t,r){d=function(p){function m(f){f=g.call(this,f);f.angle=0;f.type=null;f.xoffset=0;f.yoffset=0;f.size=9;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.hash=function(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`};return a._createClass(m)}(r);b.__decorate([e.property({type:Number,json:{read:p=>p&&-1*p,write:(p,m)=>m.angle=p&&-1*p}})],d.prototype,"angle",void 0);b.__decorate([e.property({type:["simple-marker","picture-marker"],
readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"xoffset",void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"yoffset",void 0);b.__decorate([e.property({type:Number,cast:p=>"auto"===p?p:c.toPt(p),json:{write:!0}})],d.prototype,"size",void 0);return d=b.__decorate([t.subclass("esri.symbols.MarkerSymbol")],d)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;const g=c.ofType({base:null,key:"type",typeMap:{fill:r}});c=m=function(f){function h(k){k=q.call(this,k);k.symbolLayers=new g;k.type="mesh-3d";return k}a._inherits(h,f);var q=a._createSuper(h);h.prototype.clone=function(){return new m({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};h.fromSimpleFillSymbol=function(k){return new m({symbolLayers:[r.fromSimpleFillSymbol(k)]})};return a._createClass(h)}(p);
b.__decorate([d.property({type:g})],c.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([t.subclass("esri.symbols.MeshSymbol3D")],c)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;n=m=function(g){function f(...q){q=h.call(this,...q);q.type="picture-fill";q.url=null;q.xscale=1;q.yscale=1;q.width=12;q.height=12;q.xoffset=0;q.yoffset=0;q.source=null;return q}a._inherits(f,g);var h=a._createSuper(f);g=f.prototype;g.normalizeCtorArgs=function(q,k,l,v){if(q&&"string"!==typeof q&&null==q.imageData)return q;const w={};q&&(w.url=q);k&&(w.outline=k);null!=l&&(w.width=e.toPt(l));null!=v&&(w.height=e.toPt(v));return w};g.clone=function(){const q=new m({color:c.clone(this.color),
height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});q._set("source",c.clone(this.source));return q};g.hash=function(){return`${a._get(a._getPrototypeOf(f.prototype),"hash",this).call(this)}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`};return a._createClass(f)}(r);b.__decorate([u.enumeration({esriPFS:"picture-fill"},
{readOnly:!0})],n.prototype,"type",void 0);b.__decorate([d.property(p.urlPropertyDefinition)],n.prototype,"url",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],n.prototype,"xscale",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],n.prototype,"yscale",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],n.prototype,"width",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],n.prototype,"height",void 0);b.__decorate([d.property({type:Number,
cast:e.toPt,json:{write:!0}})],n.prototype,"xoffset",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],n.prototype,"yoffset",void 0);b.__decorate([d.property(p.sourcePropertyDefinition)],n.prototype,"source",void 0);return n=m=b.__decorate([t.subclass("esri.symbols.PictureFillSymbol")],n)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function e(t,r,p){return r.imageData?b.makeData({mediaType:r.contentType||
"image/png",isBase64:!0,data:r.imageData}):d(r.url,p)}function d(t,r){return null==r||"service"!==r.origin&&"portal-item"!==r.origin||"feature"!==r.layer?.type&&"stream"!==r.layer?.type||b.isAbsolute(t)||!r?.layer?.parsedUrl?c.fromJSON(t,r):b.join(r.layer.parsedUrl.path,"images",t)}function n(t,r,p,m){if(b.isDataProtocol(t)){if(t=b.dataComponents(t))r.contentType=t.mediaType,r.imageData=t.data,p&&p.imageData===r.imageData&&p.url&&c.write(p.url,r,"url",m)}else c.write(t,r,"url",m)}const u={json:{read:{source:["imageData",
"url"],reader:e},write:{writer(t,r,p,m){n(t,r,this.source,m)}}}};a.read=d;a.readImageDataOrUrl=e;a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,r,p){t={};r.imageData&&(t.imageData=r.imageData);r.contentType&&(t.contentType=r.contentType);r.url&&(t.url=d(r.url,p));return t}}}};a.urlPropertyDefinition=u;a.writeImageDataAndUrl=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;n=g=function(f){function h(...k){k=q.call(this,...k);k.color=null;k.type="picture-marker";k.url=null;k.source=null;k.height=12;k.width=12;k.size=null;return k}a._inherits(h,f);var q=a._createSuper(h);f=h.prototype;f.normalizeCtorArgs=function(k,l,v){if(k&&"string"!==typeof k&&null==k.imageData)return k;const w={};k&&(w.url=k);null!=l&&(w.width=e.toPt(l));null!=v&&(w.height=e.toPt(v));return w};f.readHeight=function(k,l){return l.size||k};f.readWidth=function(k,
l){return l.size||k};f.clone=function(){const k=new g({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});k._set("source",c.clone(this.source));return k};f.hash=function(){return`${a._get(a._getPrototypeOf(h.prototype),"hash",this).call(this)}.${this.height}.${this.url}.${this.width}`};return a._createClass(h)}(p);b.__decorate([d.property({json:{write:!1}})],n.prototype,"color",void 0);b.__decorate([u.enumeration({esriPMS:"picture-marker"},
{readOnly:!0})],n.prototype,"type",void 0);b.__decorate([d.property(m.urlPropertyDefinition)],n.prototype,"url",void 0);b.__decorate([d.property(m.sourcePropertyDefinition)],n.prototype,"source",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],n.prototype,"height",void 0);b.__decorate([t.reader("height",["height","size"])],n.prototype,"readHeight",null);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],n.prototype,"width",void 0);b.__decorate([d.property({json:{write:!1}})],
n.prototype,"size",void 0);return n=g=b.__decorate([r.subclass("esri.symbols.PictureMarkerSymbol")],n)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h){var q;const k=c.ofType({base:null,key:"type",typeMap:{icon:r,object:p,text:g}});c=q=function(l){function v(x){x=w.call(this,x);x.verticalOffset=null;x.callout=null;x.symbolLayers=new k;x.type="point-3d";return x}a._inherits(v,l);var w=a._createSuper(v);l=v.prototype;l.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const x of this.symbolLayers.items)switch(x.type){case "icon":case "text":case "object":continue;default:return!1}return!0};
l.hasVisibleCallout=function(){return f.hasVisibleCallout(this)};l.hasVisibleVerticalOffset=function(){return f.hasVisibleVerticalOffset(this)};l.clone=function(){return new q({verticalOffset:e.clone(this.verticalOffset),callout:e.clone(this.callout),styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};v.fromSimpleMarkerSymbol=function(x){return new q({symbolLayers:[r.fromSimpleMarkerSymbol(x)]})};v.fromPictureMarkerSymbol=function(x){return new q({symbolLayers:[r.fromPictureMarkerSymbol(x)]})};
v.fromCIMSymbol=function(x){return"CIMPointSymbol"!==x.data?.symbol?.type?null:x.data.symbol?.callout?new q({symbolLayers:[r.fromCIMSymbol(x)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new q({symbolLayers:[r.fromCIMSymbol(x)]})};v.fromTextSymbol=function(x){return new q({symbolLayers:[g.fromTextSymbol(x)]})};return a._createClass(v)}(m);b.__decorate([d.property({type:h,json:{write:!0}})],c.prototype,"verticalOffset",void 0);b.__decorate([d.property(f.calloutProperty)],
c.prototype,"callout",void 0);b.__decorate([d.property({type:k,json:{origins:{"web-scene":{write:!0}}}})],c.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({PointSymbol3D:"point-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=q=b.__decorate([t.subclass("esri.symbols.PointSymbol3D")],c)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l){var v;const w=c.ofType({base:null,key:"type",typeMap:{extrude:p,fill:m,icon:g,line:f,object:h,text:k,water:l}});c=v=function(x){function z(B){B=A.call(this,B);B.symbolLayers=new w;B.type="polygon-3d";return B}a._inherits(z,x);var A=a._createSuper(z);z.prototype.clone=function(){return new v({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};z.fromJSON=function(B){const D=new v;D.read(B);if(2===
D.symbolLayers.length&&"fill"===D.symbolLayers.getItemAt(0).type&&"line"===D.symbolLayers.getItemAt(1).type){const y=D.symbolLayers.getItemAt(0),C=D.symbolLayers.getItemAt(1);!C.enabled||B.symbolLayers&&B.symbolLayers[1]&&!1===B.symbolLayers[1].enable||(y.outline={size:C.size,color:d.isSome(C.material)?C.material.color:null});D.symbolLayers.removeAt(1)}return D};z.fromSimpleFillSymbol=function(B){return new v({symbolLayers:[m.fromSimpleFillSymbol(B)]})};return a._createClass(z)}(q);b.__decorate([n.property({type:w,
json:{write:!0}})],c.prototype,"symbolLayers",void 0);b.__decorate([t.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=v=b.__decorate([r.subclass("esri.symbols.PolygonSymbol3D")],c)})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;e=new e.JSONMap({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});p=g=function(f){function h(...k){k=q.call(this,...k);k.color=new c([0,0,0,.25]);k.outline=new m;k.type="simple-fill";k.style="solid";return k}a._inherits(h,f);var q=a._createSuper(h);f=h.prototype;f.normalizeCtorArgs=
function(k,l,v){if(k&&"string"!==typeof k)return k;const w={};k&&(w.style=k);l&&(w.outline=l);v&&(w.color=v);return w};f.clone=function(){return new g({color:d.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};f.hash=function(){return`${a._get(a._getPrototypeOf(h.prototype),"hash",this).call(this)}${this.style}.${this.color&&this.color.hash()}`};return a._createClass(h)}(p);b.__decorate([n.property()],p.prototype,"color",void 0);b.__decorate([n.property()],p.prototype,
"outline",void 0);b.__decorate([t.enumeration({esriSFS:"simple-fill"},{readOnly:!0})],p.prototype,"type",void 0);b.__decorate([n.property({type:e.apiValues,json:{read:e.read,write:e.write}})],p.prototype,"style",void 0);return p=g=b.__decorate([r.subclass("esri.symbols.SimpleFillSymbol")],p)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){var h;e=new e.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});g=h=function(q){function k(...v){v=l.call(this,...v);v.color=new c([255,255,255,.25]);v.type="simple-marker";v.size=12;v.style="circle";v.outline=new f;return v}a._inherits(k,q);var l=a._createSuper(k);q=k.prototype;q.normalizeCtorArgs=function(v,w,x,z){if(v&&"string"!==typeof v)return v;
const A={};v&&(A.style=v);null!=w&&(A.size=n.toPt(w));x&&(A.outline=x);z&&(A.color=z);return A};q.writeColor=function(v,w){v&&"x"!==this.style&&"cross"!==this.style&&(w.color=v.toJSON());null===v&&(w.color=null)};q.clone=function(){return new h({angle:this.angle,color:d.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};q.hash=function(){return`${a._get(a._getPrototypeOf(k.prototype),"hash",this).call(this)}.${this.color&&
this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`};a._createClass(k,[{key:"path",set:function(v){this.style="path";this._set("path",v)}}]);return k}(g);b.__decorate([u.property()],g.prototype,"color",void 0);b.__decorate([m.writer("color")],g.prototype,"writeColor",null);b.__decorate([r.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],g.prototype,"type",void 0);b.__decorate([u.property()],g.prototype,"size",void 0);b.__decorate([u.property({type:e.apiValues,json:{read:e.read,
write:e.write}})],g.prototype,"style",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],g.prototype,"path",null);b.__decorate([u.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":f}},json:{default:null,write:!0}})],g.prototype,"outline",void 0);return g=h=b.__decorate([p.subclass("esri.symbols.SimpleMarkerSymbol")],g)})},"esri/symbols/TextSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol ./support/textUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){var h;g=h=function(q){function k(...v){v=l.call(this,...v);v.backgroundColor=null;v.borderLineColor=null;v.borderLineSize=null;v.font=new m;v.horizontalAlignment="center";v.kerning=!0;v.haloColor=null;v.haloSize=null;v.rightToLeft=null;v.rotated=!1;v.text="";v.type="text";v.verticalAlignment="baseline";v.xoffset=0;v.yoffset=0;v.angle=0;v.width=null;v.lineWidth=192;v.lineHeight=1;return v}a._inherits(k,q);var l=a._createSuper(k);q=k.prototype;q.normalizeCtorArgs=
function(v,w,x){if(v&&"string"!==typeof v)return v;const z={};v&&(z.text=v);w&&(z.font=w);x&&(z.color=x);return z};q.writeLineWidth=function(v,w,x,z){z&&"string"!==typeof z||(w[x]=v)};q.castLineWidth=function(v){return d.toPt(v)};q.writeLineHeight=function(v,w,x,z){z&&"string"!==typeof z||(w[x]=v)};q.clone=function(){return new h({angle:this.angle,backgroundColor:e.clone(this.backgroundColor),borderLineColor:e.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:e.clone(this.color),
font:this.font&&this.font.clone(),haloColor:e.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};q.hash=function(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&
this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`};return a._createClass(k)}(g);b.__decorate([n.property({type:c,json:{write:!0}})],g.prototype,"backgroundColor",void 0);b.__decorate([n.property({type:c,json:{write:!0}})],g.prototype,"borderLineColor",void 0);
b.__decorate([n.property({type:Number,json:{write:!0},cast:d.toPt})],g.prototype,"borderLineSize",void 0);b.__decorate([n.property({type:m,json:{write:!0}})],g.prototype,"font",void 0);b.__decorate([n.property({...f.horizontalAlignmentProperty,json:{write:!0}})],g.prototype,"horizontalAlignment",void 0);b.__decorate([n.property({type:Boolean,json:{write:!0}})],g.prototype,"kerning",void 0);b.__decorate([n.property({type:c,json:{write:!0}})],g.prototype,"haloColor",void 0);b.__decorate([n.property({type:Number,
cast:d.toPt,json:{write:!0}})],g.prototype,"haloSize",void 0);b.__decorate([n.property({type:Boolean,json:{write:!0}})],g.prototype,"rightToLeft",void 0);b.__decorate([n.property({type:Boolean,json:{write:!0}})],g.prototype,"rotated",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],g.prototype,"text",void 0);b.__decorate([t.enumeration({esriTS:"text"},{readOnly:!0})],g.prototype,"type",void 0);b.__decorate([n.property({...f.verticalAlignmentProperty,json:{write:!0}})],g.prototype,
"verticalAlignment",void 0);b.__decorate([n.property({type:Number,cast:d.toPt,json:{write:!0}})],g.prototype,"xoffset",void 0);b.__decorate([n.property({type:Number,cast:d.toPt,json:{write:!0}})],g.prototype,"yoffset",void 0);b.__decorate([n.property({type:Number,json:{read:q=>q&&-1*q,write:(q,k)=>k.angle=q&&-1*q}})],g.prototype,"angle",void 0);b.__decorate([n.property({type:Number,json:{write:!0}})],g.prototype,"width",void 0);b.__decorate([n.property({type:Number})],g.prototype,"lineWidth",void 0);
b.__decorate([p.writer("lineWidth")],g.prototype,"writeLineWidth",null);b.__decorate([u.cast("lineWidth")],g.prototype,"castLineWidth",null);b.__decorate([n.property(f.lineHeightProperty)],g.prototype,"lineHeight",void 0);b.__decorate([p.writer("lineHeight")],g.prototype,"writeLineHeight",null);return g=h=b.__decorate([r.subclass("esri.symbols.TextSymbol")],g)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k){function l(){return new Promise((w,x)=>a(["./support/webStyleSymbolUtils"],w,x))}var v;t=v=function(w){function x(A){A=z.call(this,A);A.styleName=null;A.portal=null;A.styleUrl=null;A.thumbnail=null;A.name=null;A.type="web-style";return A}b._inherits(x,w);var z=b._createSuper(x);w=x.prototype;w.read=function(A,B){this.portal=B?.portal;b._get(b._getPrototypeOf(x.prototype),"read",this).call(this,A,B)};w.clone=function(){return new v({name:this.name,styleUrl:this.styleUrl,
styleName:this.styleName,portal:this.portal})};w.fetchSymbol=function(A){return this._fetchSymbol("webRef",A)};w.fetchCIMSymbol=function(A){return this._fetchSymbol("cimRef",A)};w._fetchSymbol=async function(A,B){const D=d.isSome(B)?B.cache:null,y=D?this._fetchCacheKey:null;if(d.isSome(D)){var C=y&&D.get(y);if(C)return C.clone()}C=await l();n.throwIfAborted(B);B=C.resolveWebStyleSymbol(this,{portal:this.portal},A,B);B.catch(F=>{e.getLogger(this.declaredClass).error("#fetchSymbol()","Failed to create symbol from style",
F)});B=await B;if(!("webRef"===A&&"point-3d"===B.type||"cimRef"===A&&"cim"===B.type))return null;d.isSome(D)&&D.set(y,B.clone());return B};b._createClass(x,[{key:"_fetchCacheKey",get:function(){const A=d.isSome(this.portal)?this.portal:f.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${A.user?A.user.username:null}:${A.url}`}}]);return x}(q);c.__decorate([u.property({json:{write:!1}})],t.prototype,"color",void 0);c.__decorate([u.property({type:String,json:{write:!0}})],t.prototype,
"styleName",void 0);c.__decorate([u.property({type:f,json:{write:!1}})],t.prototype,"portal",void 0);c.__decorate([u.property({type:String,json:{read:h.read,write:h.write}})],t.prototype,"styleUrl",void 0);c.__decorate([u.property({type:k.Thumbnail,json:{read:!1}})],t.prototype,"thumbnail",void 0);c.__decorate([u.property({type:String,json:{write:!0}})],t.prototype,"name",void 0);c.__decorate([m.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],t.prototype,"type",void 0);c.__decorate([u.property()],
t.prototype,"_fetchCacheKey",null);return t=v=c.__decorate([g.subclass("esri.symbols.WebStyleSymbol")],t)})},"esri/renderers/Renderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),function(a,b,c,e,d,n,u,t,r,p){c=new c.JSONMap({simple:"simple",uniqueValue:"unique-value",
classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});e=function(m){function g(h){h=f.call(this,h);h.authoringInfo=null;h.type=null;return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.getRequiredFields=async function(h){if(!this.collectRequiredFields)return[];const q=new Set;await this.collectRequiredFields(q,h);return Array.from(q).sort()};m.getSymbol=function(h,q){};m.getSymbolAsync=async function(h,
q){};m.getSymbols=function(){return[]};m.getAttributeHash=function(){return JSON.stringify(this)};m.getMeshHash=function(){return JSON.stringify(this)};return a._createClass(g)}(e.JSONSupport);b.__decorate([d.property({type:p,json:{write:!0}})],e.prototype,"authoringInfo",void 0);b.__decorate([d.property({type:c.apiValues,readOnly:!0,json:{type:c.jsonValues,read:!1,write:{writer:c.write,ignoreOrigin:!0}}})],e.prototype,"type",void 0);return e=b.__decorate([r.subclass("esri.renderers.Renderer")],e)})},
"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g){var f;const h=new c.JSONMap({esriClassifyDefinedInterval:"defined-interval",
esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),q=new c.JSONMap({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"});c=new c.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",
univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});const k="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");e=f=function(l){function v(x){x=w.call(this,x);x.colorRamp=null;x.fadeRatio=null;x.isAutoGenerated=!1;x.lengthUnit=null;x.maxSliderValue=null;x.minSliderValue=null;x.visualVariables=null;return x}a._inherits(v,l);var w=a._createSuper(v);l=v.prototype;
l.readColorRamp=function(x){return x?g.fromJSON(x):void 0};l.clone=function(){return new f({classificationMethod:this.classificationMethod,colorRamp:d.clone(this.colorRamp),fadeRatio:d.clone(this.fadeRatio),fields:this.fields&&this.fields.slice(0),field1:d.clone(this.field1),field2:d.clone(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,
standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(x=>x.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})};a._createClass(v,[{key:"classificationMethod",get:function(){const x=this._get("classificationMethod"),z=this.type;return z&&"relationship"!==z?"class-breaks-size"===z||"class-breaks-color"===z?x||"manual":null:x},set:function(x){this._set("classificationMethod",
x)}},{key:"fields",get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(x){this._set("fields",x)}},{key:"field1",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(x){this._set("field1",x)}},{key:"field2",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(x){this._set("field2",x)}},{key:"flowTheme",get:function(){return"flow"===this.type?this._get("flowTheme"):
null},set:function(x){this._set("flowTheme",x)}},{key:"focus",get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(x){this._set("focus",x)}},{key:"numClasses",get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(x){this._set("numClasses",x)}},{key:"statistics",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null},set:function(x){this._set("statistics",
x)}},{key:"standardDeviationInterval",get:function(){const x=this.type;return x&&"relationship"!==x&&"class-breaks-size"!==x&&"class-breaks-color"!==x?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(x){this._set("standardDeviationInterval",x)}},{key:"type",get:function(){return this._get("type")},set:function(x){let z=x;"classed-size"===x?z="class-breaks-size":"classed-color"===x&&(z="class-breaks-color");this._set("type",
z)}},{key:"univariateSymbolStyle",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null},set:function(x){this._set("univariateSymbolStyle",x)}},{key:"univariateTheme",get:function(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null},set:function(x){this._set("univariateTheme",x)}}]);return v}(e.JSONSupport);b.__decorate([n.property({type:h.apiValues,value:null,json:{type:h.jsonValues,read:h.read,
write:h.write,origins:{"web-document":{default:"manual",type:h.jsonValues,read:h.read,write:h.write}}}})],e.prototype,"classificationMethod",null);b.__decorate([n.property({types:g.types,json:{write:!0}})],e.prototype,"colorRamp",void 0);b.__decorate([t.reader("colorRamp")],e.prototype,"readColorRamp",null);b.__decorate([n.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"fadeRatio",void 0);b.__decorate([n.property({type:[String],value:null,json:{write:!0}})],e.prototype,
"fields",null);b.__decorate([n.property({type:p.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],e.prototype,"field1",null);b.__decorate([n.property({type:p.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],e.prototype,"field2",null);b.__decorate([n.property({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"flowTheme",null);b.__decorate([n.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],e.prototype,"focus",null);
b.__decorate([n.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],e.prototype,"isAutoGenerated",void 0);b.__decorate([n.property({type:Number,value:null,json:{type:u.Integer,write:!0}})],e.prototype,"numClasses",null);b.__decorate([n.property({type:k,json:{type:k,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],e.prototype,"lengthUnit",void 0);b.__decorate([n.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,
"maxSliderValue",void 0);b.__decorate([n.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"minSliderValue",void 0);b.__decorate([n.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"statistics",null);b.__decorate([n.property({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],e.prototype,"standardDeviationInterval",null);b.__decorate([n.property({type:q.apiValues,value:null,json:{type:q.jsonValues,
read:q.read,write:q.write,origins:{"web-scene":{type:c.jsonValues,write:{writer:c.write,overridePolicy(l){return{enabled:"flow"!==l}}}}}}})],e.prototype,"type",null);b.__decorate([n.property({type:[m],json:{write:!0}})],e.prototype,"visualVariables",void 0);b.__decorate([n.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"univariateSymbolStyle",
null);b.__decorate([n.property({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"univariateTheme",null);return e=f=b.__decorate([r.subclass("esri.renderers.support.AuthoringInfo")],e)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;a.AuthoringInfoFieldInfo=p=function(m){function g(h){h=f.call(this,h);h.field="";h.normalizationField="";h.label="";h.classBreakInfos=[];return h}b._inherits(g,m);var f=b._createSuper(g);g.prototype.clone=function(){return new p({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:d.clone(this.classBreakInfos)})};return b._createClass(g)}(e.JSONSupport);c.__decorate([n.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,
"field",void 0);c.__decorate([n.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);c.__decorate([n.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);c.__decorate([n.property({type:[r.AuthoringInfoClassBreakInfo],json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=p=c.__decorate([t.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r){var p;a.AuthoringInfoClassBreakInfo=p=function(m){function g(h){h=
f.call(this,h);h.minValue=0;h.maxValue=0;return h}b._inherits(g,m);var f=b._createSuper(g);g.prototype.clone=function(){return new p({minValue:this.minValue,maxValue:this.maxValue})};return b._createClass(g)}(e.JSONSupport);c.__decorate([d.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"maxValue",void 0);a.AuthoringInfoClassBreakInfo=p=c.__decorate([r.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],
a.AuthoringInfoClassBreakInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u){var t;const r=new c.JSONMap({percentTotal:"percent-of-total",
ratio:"ratio",percent:"percent"});c=new c.JSONMap({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});const p={key(h){return"number"===typeof h?"number":"string"},typeMap:{number:Number,string:String},base:null},m=["high-to-low","above-and-below","centered-on","extremes"],g=[...(new Set("high-to-low above-and-below centered-on extremes 90-10 above below high-to-low above-and-below 90-10 above below".split(" ")))],f="seconds minutes hours days months years".split(" ");
e=t=function(h){function q(l){l=k.call(this,l);l.endTime=null;l.field=null;l.maxSliderValue=null;l.minSliderValue=null;l.startTime=null;l.type=null;l.units=null;return l}a._inherits(q,h);var k=a._createSuper(q);h=q.prototype;h.castEndTime=function(l){return"string"===typeof l||"number"===typeof l?l:null};h.castStartTime=function(l){return"string"===typeof l||"number"===typeof l?l:null};h.clone=function(){return new t({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,
startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};a._createClass(q,[{key:"style",get:function(){return"color"===this.type?this._get("style"):null},set:function(l){this._set("style",l)}},{key:"theme",get:function(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null},set:function(l){this._set("theme",l)}}]);return q}(e.JSONSupport);b.__decorate([d.property({types:p,json:{write:!0}})],e.prototype,"endTime",void 0);b.__decorate([n.cast("endTime")],
e.prototype,"castEndTime",null);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],e.prototype,"maxSliderValue",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],e.prototype,"minSliderValue",void 0);b.__decorate([d.property({types:p,json:{write:!0}})],e.prototype,"startTime",void 0);b.__decorate([n.cast("startTime")],e.prototype,"castStartTime",null);b.__decorate([d.property({type:r.apiValues,
value:null,json:{type:r.jsonValues,read:r.read,write:r.write}})],e.prototype,"style",null);b.__decorate([d.property({type:g,value:null,json:{type:g,origins:{"web-scene":{type:m,write:{writer:(h,q)=>{m.includes(h)&&(q.theme=h)}}}},write:!0}})],e.prototype,"theme",null);b.__decorate([d.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],e.prototype,"type",void 0);b.__decorate([d.property({type:f,json:{type:f,write:!0}})],e.prototype,"units",void 0);return e=t=b.__decorate([u.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],
e)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,c,e){c={key:"type",base:c,typeMap:{algorithmic:b,multipart:e}};a.fromJSON=function(d){return d&&d.type?"algorithmic"===d.type?b.fromJSON(d):"multipart"===d.type?e.fromJSON(d):null:null};a.types=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;r=p=function(m){function g(h){h=f.call(this,h);h.algorithm=null;h.fromColor=null;h.toColor=null;h.type="algorithmic";return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({fromColor:e.clone(this.fromColor),toColor:e.clone(this.toColor),algorithm:this.algorithm})};return a._createClass(g)}(r);b.__decorate([u.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],r.prototype,"algorithm",
void 0);b.__decorate([d.property({type:c,json:{type:[n.Integer],write:!0}})],r.prototype,"fromColor",void 0);b.__decorate([d.property({type:c,json:{type:[n.Integer],write:!0}})],r.prototype,"toColor",void 0);b.__decorate([d.property({type:["algorithmic"]})],r.prototype,"type",void 0);return r=p=b.__decorate([t.subclass("esri.rest.support.AlgorithmicColorRamp")],r)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){c=function(r){function p(g){g=m.call(this,g);g.type=null;return g}a._inherits(p,r);var m=a._createSuper(p);return a._createClass(p)}(c.JSONSupport);b.__decorate([e.property({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.rest.support.ColorRamp")],c)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,c,e,d,n,u,t){var r;d=r=function(p){function m(f){f=g.call(this,f);f.colorRamps=null;f.type="multipart";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({colorRamps:c.clone(this.colorRamps)})};return a._createClass(m)}(t);b.__decorate([e.property({type:[u],json:{write:!0}})],d.prototype,"colorRamps",void 0);b.__decorate([e.property({type:["multipart"]})],d.prototype,"type",void 0);return d=r=b.__decorate([n.subclass("esri.rest.support.MultipartColorRamp")],
d)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../support/randomRotationExpression ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w){const x={base:v,key:"type",typeMap:{opacity:q,color:h,rotation:k,size:l}};a.VisualVariablesMixin=z=>{z=function(A){function B(){var y=D.apply(this,arguments);y._vvFactory=new w;return y}b._inherits(B,A);var D=b._createSuper(B);A=B.prototype;A.readVisualVariables=function(y,C,F){return this._vvFactory.readVariables(y,C,F)};A.writeVisualVariables=function(y,C,F,G){C[F]=this._vvFactory.writeVariables(y,G)};A.hasVisualVariables=function(y,C){return y?0<
this.getVisualVariablesForType(y,C).length:0<this.getVisualVariablesForType("size",C).length||0<this.getVisualVariablesForType("color",C).length||0<this.getVisualVariablesForType("opacity",C).length||0<this.getVisualVariablesForType("rotation",C).length};A.getVisualVariablesForType=function(y,C){const F=this.visualVariables;return F?F.filter(G=>G.type===y&&("string"===typeof C?G.target===C:!1===C?!G.target:!0)):[]};A.collectVVRequiredFields=async function(y,C){var F=[];this.visualVariables&&(F=F.concat(this.visualVariables));
for(const E of F)if(E&&(E.field&&g.collectField(y,C,E.field),E.normalizationField&&g.collectField(y,C,E.normalizationField),E.valueExpression)){{F=y;var G=C;const P=f.matchRandomRotationExpression(E.valueExpression);e.isSome(P)?(g.collectField(F,G,P),F=!0):F=!1}F||await g.collectArcadeFieldNames(y,C,E.valueExpression)}};b._createClass(B,[{key:"visualVariables",set:function(y){this._vvFactory.visualVariables=y;this._set("visualVariables",this._vvFactory.visualVariables)}},{key:"arcadeRequiredForVisualVariables",
get:function(){if(!this.visualVariables)return!1;for(const y of this.visualVariables)if(y.arcadeRequired)return!0;return!1}}]);return B}(z);c.__decorate([d.property({types:[x],value:null,json:{write:!0}})],z.prototype,"visualVariables",null);c.__decorate([r.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],z.prototype,"readVisualVariables",null);c.__decorate([m.writer("visualVariables")],z.prototype,"writeVisualVariables",null);return z=c.__decorate([p.subclass("esri.renderers.mixins.VisualVariablesMixin")],
z)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/randomRotationExpression":function(){define(["exports"],function(a){const b=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;a.matchRandomRotationExpression=function(c){return c.match(b)?.[1]?.replace(/\\'/g,"'")??null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.type="color";h.normalizationField=null;return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.clone=function(){return new p({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(h=>h.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};m.getAttributeHash=function(){return`${a._get(a._getPrototypeOf(g.prototype),
"getAttributeHash",this).call(this)}-${this.normalizationField}`};m._interpolateData=function(){return this.stops&&this.stops.map(h=>h.value||0)};a._createClass(g,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(h){h&&Array.isArray(h)&&(h=h.filter(q=>!!q),h.sort((q,k)=>q.value-k.value));this._set("stops",h)}}]);return g}(t);b.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);b.__decorate([c.property({type:["color"],
json:{type:["colorInfo"]}})],e.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);b.__decorate([c.property({type:[r],json:{write:!0}})],e.prototype,"stops",null);return e=p=b.__decorate([u.subclass("esri.renderers.visualVariables.ColorVariable")],e)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,c,e,d,n,u,t,r,p){c=new c.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});e=function(m){function g(h){h=f.call(this,h);h.index=null;h.type=null;h.field=null;h.valueExpression=null;h.valueExpressionTitle=null;h.legendOptions=null;return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.castField=function(h){return null==h?h:"function"===typeof h?(d.getLogger(this.declaredClass).error(".field: field must be a string value"),null):
r.ensureString(h)};m.clone=function(){};m.getAttributeHash=function(){return`${this.type}-${this.field}-${this.valueExpression}`};a._createClass(g,[{key:"arcadeRequired",get:function(){return!!this.valueExpression}}]);return g}(e.JSONSupport);b.__decorate([n.property()],e.prototype,"index",void 0);b.__decorate([n.property({type:c.apiValues,readOnly:!0,json:{read:c.read,write:c.write}})],e.prototype,"type",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);
b.__decorate([u.cast("field")],e.prototype,"castField",null);b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);b.__decorate([n.property({readOnly:!0})],e.prototype,"arcadeRequired",null);b.__decorate([n.property({type:p,json:{write:!0}})],e.prototype,"legendOptions",void 0);return e=b.__decorate([t.subclass("esri.renderers.visualVariables.VisualVariable")],
e)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../support/LegendOptions".split(" "),function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(){var f=g.apply(this,arguments);f.showLegend=null;return f}
a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({title:this.title,showLegend:this.showLegend})};return a._createClass(m)}(t.LegendOptions);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"showLegend",void 0);return e=r=b.__decorate([u.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],e)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;a.LegendOptions=p=function(m){function g(){var h=f.apply(this,arguments);h.title=null;return h}b._inherits(g,m);var f=b._createSuper(g);g.prototype.clone=function(){return new p({title:this.title})};return b._createClass(g)}(e.JSONSupport);c.__decorate([d.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=p=c.__decorate([r.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),function(a,b,c,e,d,n,u,t,r,p){var m;e=m=function(g){function f(q){q=
h.call(this,q);q.color=null;q.label=null;q.value=null;return q}a._inherits(f,g);var h=a._createSuper(f);g=f.prototype;g.writeValue=function(q,k,l){k[l]=null==q?0:q};g.clone=function(){return new m({color:this.color&&this.color.clone(),label:this.label,value:this.value})};return a._createClass(f)}(e.JSONSupport);b.__decorate([d.property({type:c,json:{type:[n.Integer],write:!0}})],e.prototype,"color",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);b.__decorate([d.property({type:Number,
json:{write:{writerEnsuresNonNull:!0}}})],e.prototype,"value",void 0);b.__decorate([p.writer("value")],e.prototype,"writeValue",null);return e=m=b.__decorate([r.subclass("esri.renderers.visualVariables.support.ColorStop")],e)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.type="opacity";h.normalizationField=null;return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.clone=function(){return new p({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(h=>h.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};m.getAttributeHash=function(){return`${a._get(a._getPrototypeOf(g.prototype),
"getAttributeHash",this).call(this)}-${this.normalizationField}`};m._interpolateData=function(){return this.stops&&this.stops.map(h=>h.value||0)};a._createClass(g,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(h){h&&Array.isArray(h)&&(h=h.filter(q=>!!q),h.sort((q,k)=>q.value-k.value));this._set("stops",h)}}]);return g}(t);b.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);b.__decorate([c.property({type:["opacity"],
json:{type:["transparencyInfo"]}})],e.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);b.__decorate([c.property({type:[r],json:{write:!0}})],e.prototype,"stops",null);return e=p=b.__decorate([u.subclass("esri.renderers.visualVariables.OpacityVariable")],e)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;c=g=function(f){function h(k){k=q.call(this,k);k.label=null;k.opacity=null;k.value=null;return k}a._inherits(h,f);var q=a._createSuper(h);f=h.prototype;f.readOpacity=function(k,l){return m.transparencyToOpacity(l.transparency)};f.writeOpacity=function(k,l,v){l[v]=m.opacityToTransparency(k)};f.clone=function(){return new g({label:this.label,opacity:this.opacity,value:this.value})};return a._createClass(h)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],
c.prototype,"label",void 0);b.__decorate([e.property({type:Number,json:{type:d.Integer,write:{target:"transparency"}}})],c.prototype,"opacity",void 0);b.__decorate([t.reader("opacity",["transparency"])],c.prototype,"readOpacity",null);b.__decorate([p.writer("opacity")],c.prototype,"writeOpacity",null);b.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"value",void 0);return c=g=b.__decorate([r.subclass("esri.renderers.visualVariables.support.OpacityStop")],c)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;d=m=function(g){function f(q){q=h.call(this,q);q.axis=null;q.type="rotation";q.rotationType="geographic";q.valueExpressionTitle=null;return q}a._inherits(f,g);var h=a._createSuper(f);g=f.prototype;g.writeValueExpressionTitleWebScene=function(q,k,l,v){v&&v.messages&&v.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:v}))};g.clone=function(){return new m({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};a._createClass(f,[{key:"cache",get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}}]);return f}(p);b.__decorate([e.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([e.property({type:["heading",
"tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],d.prototype,"axis",void 0);b.__decorate([e.property({type:["rotation"],json:{type:["rotationInfo"]}})],d.prototype,"type",void 0);b.__decorate([e.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],d.prototype,"rotationType",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"valueExpressionTitle",void 0);b.__decorate([r.writer("web-scene",
"valueExpressionTitle")],d.prototype,"writeValueExpressionTitleWebScene",null);return d=m=b.__decorate([t.subclass("esri.renderers.visualVariables.RotationVariable")],d)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k){function l(B){if(null!=B){if("string"===typeof B||"number"===typeof B)return n.toPt(B);if("size"===B.type){if(q.isSizeVariable(B))return B;B={...B};delete B.type;return new A(B)}}}function v(B,D,y){if("object"!==typeof B)return B;D=new A;D.read(B,y);return D}var w;const x=new e.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),z=new e.JSONMap({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles",
"nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let A=w=function(B){function D(C){C=y.call(this,C);C.axis=null;C.legendOptions=null;C.normalizationField=null;C.scaleBy=null;C.target=null;C.type="size";C.useSymbolValue=null;C.valueExpression=null;C.valueRepresentation=null;C.valueUnit=null;return C}a._inherits(D,B);var y=a._createSuper(D);B=D.prototype;B.castMaxSize=
function(C){return l(C)};B.readMaxSize=function(C,F,G){return v(C,F,G)};B.castMinSize=function(C){return l(C)};B.readMinSize=function(C,F,G){return v(C,F,G)};B.readValueExpression=function(C,F){return C||F.expression&&"$view.scale"};B.writeValueExpressionWebScene=function(C,F,G,E){"$view.scale"===C?E&&E.messages&&(C=this.index,E.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:("string"===typeof C?C:`visualVariables[${C}]`)+".valueExpression",context:E}))):F[G]=C};B.readValueUnit=function(C){return C?z.read(C):null};B.clone=function(){return new w({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:q.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:q.isSizeVariable(this.minSize)?this.minSize.clone():
this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(C=>C.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};B.flipSizes=function(){if(this.transformationType===q.TransformationType.ClampedLinear){const {minSize:C,maxSize:F}=this;this.minSize=F;this.maxSize=C;return this}if(this.transformationType===q.TransformationType.Stops){const C=
this.stops;if(!C)return this;const F=C.map(E=>E.size).reverse(),G=C.length;for(let E=0;E<G;E++)C[E].size=F[E]}return this};B.getAttributeHash=function(){return`${a._get(a._getPrototypeOf(D.prototype),"getAttributeHash",this).call(this)}-${this.target}-${this.normalizationField}`};B._interpolateData=function(){return this.stops&&this.stops.map(C=>C.value||0)};a._createClass(D,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=
this.valueExpression&&k.viewScaleRE.test(this.valueExpression)}}},{key:"expression",set:function(C){d.getLogger(this.declaredClass).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===C?(this.valueExpression="$view.scale",this._set("expression",C)):this._set("expression",null)}},{key:"index",set:function(C){q.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${C}].maxSize`);q.isSizeVariable(this.minSize)&&
(this.minSize.index=`visualVariables[${C}].minSize`);this._set("index",C)}},{key:"inputValueType",get:function(){return q.getInputValueType(this)}},{key:"maxDataValue",set:function(C){C&&this.stops&&(d.getLogger(this.declaredClass).warn("cannot set maxDataValue when stops is not null."),C=null);this._set("maxDataValue",C)}},{key:"maxSize",set:function(C){C&&this.stops&&(d.getLogger(this.declaredClass).warn("cannot set maxSize when stops is not null."),C=null);this._set("maxSize",C)}},{key:"minDataValue",
set:function(C){C&&this.stops&&(d.getLogger(this.declaredClass).warn("cannot set minDataValue when stops is not null."),C=null);this._set("minDataValue",C)}},{key:"minSize",set:function(C){C&&this.stops&&(d.getLogger(this.declaredClass).warn("cannot set minSize when stops is not null."),C=null);this._set("minSize",C)}},{key:"arcadeRequired",get:function(){return this.valueExpression?!0:null!=this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"===
typeof this.maxSize&&this.maxSize.arcadeRequired}},{key:"stops",set:function(C){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?C&&Array.isArray(C)&&(C=C.filter(F=>!!F),C.sort((F,G)=>F.value-G.value)):C&&(d.getLogger(this.declaredClass).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),C=null);this._set("stops",C)}},{key:"transformationType",get:function(){return q.getTransformationType(this,this.inputValueType)}}]);
return D}(g);b.__decorate([u.property({readOnly:!0})],A.prototype,"cache",null);b.__decorate([u.property({type:x.apiValues,json:{type:x.jsonValues,origins:{"web-map":{read:!1}},read:x.read,write:x.write}})],A.prototype,"axis",void 0);b.__decorate([u.property({type:String,value:null,json:{read:!1}})],A.prototype,"expression",null);b.__decorate([u.property()],A.prototype,"index",null);b.__decorate([u.property({type:String,readOnly:!0})],A.prototype,"inputValueType",null);b.__decorate([u.property({type:h,
json:{write:!0}})],A.prototype,"legendOptions",void 0);b.__decorate([u.property({type:Number,value:null,json:{write:!0}})],A.prototype,"maxDataValue",null);b.__decorate([u.property({type:Number,value:null,json:{write:!0}})],A.prototype,"maxSize",null);b.__decorate([t.cast("maxSize")],A.prototype,"castMaxSize",null);b.__decorate([r.reader("maxSize")],A.prototype,"readMaxSize",null);b.__decorate([u.property({type:Number,value:null,json:{write:!0}})],A.prototype,"minDataValue",null);b.__decorate([u.property({type:Number,
value:null,json:{write:!0}})],A.prototype,"minSize",null);b.__decorate([t.cast("minSize")],A.prototype,"castMinSize",null);b.__decorate([r.reader("minSize")],A.prototype,"readMinSize",null);b.__decorate([u.property({type:String,json:{write:!0}})],A.prototype,"normalizationField",void 0);b.__decorate([u.property({readOnly:!0})],A.prototype,"arcadeRequired",null);b.__decorate([u.property({type:String})],A.prototype,"scaleBy",void 0);b.__decorate([u.property({type:[f],value:null,json:{write:!0}})],A.prototype,
"stops",null);b.__decorate([u.property({type:["outline"],json:{write:!0}})],A.prototype,"target",void 0);b.__decorate([u.property({type:String,readOnly:!0})],A.prototype,"transformationType",null);b.__decorate([u.property({type:["size"],json:{type:["sizeInfo"]}})],A.prototype,"type",void 0);b.__decorate([u.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],A.prototype,"useSymbolValue",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],A.prototype,"valueExpression",
void 0);b.__decorate([r.reader("valueExpression",["valueExpression","expression"])],A.prototype,"readValueExpression",null);b.__decorate([m.writer("web-scene","valueExpression")],A.prototype,"writeValueExpressionWebScene",null);b.__decorate([u.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],A.prototype,"valueRepresentation",void 0);b.__decorate([u.property({type:z.apiValues,json:{write:z.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],
A.prototype,"valueUnit",void 0);b.__decorate([r.reader("valueUnit")],A.prototype,"readValueUnit",null);return A=w=b.__decorate([p.subclass("esri.renderers.visualVariables.SizeVariable")],A)})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;c=p=function(m){function g(h){h=f.call(this,h);h.label=null;h.size=null;h.value=null;return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({label:this.label,size:this.size,value:this.value})};return a._createClass(g)}(c.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([d.property({type:Number,
json:{write:!0}})],c.prototype,"value",void 0);return c=p=b.__decorate([r.subclass("esri.renderers.visualVariables.support.SizeStop")],c)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),
function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(){var f=g.apply(this,arguments);f.customValues=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};return a._createClass(m)}(t);b.__decorate([c.property({type:[Number],json:{write:!0}})],e.prototype,"customValues",void 0);return e=r=b.__decorate([u.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],
e)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],function(a){function b(c){return c.valueExpression?a.InputValueType.Expression:c.field&&"string"===typeof c.field?a.InputValueType.Field:a.InputValueType.Unknown}a.InputValueType=void 0;(function(c){c.Unknown="unknown";c.Expression="expression";c.Field="field"})(a.InputValueType||(a.InputValueType={}));a.TransformationType=void 0;(function(c){c.Unknown="unknown";c.Stops="stops";c.ClampedLinear="clamped-linear";
c.Proportional="proportional";c.Additive="additive";c.Constant="constant";c.Identity="identity";c.RealWorldSize="real-world-size"})(a.TransformationType||(a.TransformationType={}));a.getInputValueType=b;a.getTransformationType=function(c,e){return(e||b(c))===a.InputValueType.Unknown?a.TransformationType.Constant:c.stops?a.TransformationType.Stops:null!=c.minSize&&null!=c.maxSize&&null!=c.minDataValue&&null!=c.maxDataValue?a.TransformationType.ClampedLinear:"unknown"===(c.valueUnit||"unknown")?null!=
c.minSize&&null!=c.minDataValue?c.minSize&&c.minDataValue?a.TransformationType.Proportional:a.TransformationType.Additive:a.TransformationType.Identity:a.TransformationType.RealWorldSize};a.isSizeVariable=function(c){return c&&"esri.renderers.visualVariables.SizeVariable"===c.declaredClass};a.isValidNumber=function(c){return null!=c&&!isNaN(c)&&isFinite(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../../core/maybe ../../support/lengthUtils ./sizeVariableUtils".split(" "),
function(a,b,c,e,d,n,u,t){function r(z,A,B){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(O=>"color"===O.type):z)if("esri.renderers.visualVariables.ColorVariable"!==z.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var D="number"===typeof A,y=D?null:A,C=y&&y.attributes,F=D?A:null,G=z.field,{ipData:E,hasExpression:P}=z.cache;A=z.cache.compiledFunc;if(!G&&!P)return(B=z.stops)&&B[0]&&B[0].color;if("number"!==
typeof F)if(P){if(n.isNone(B)||n.isNone(B.arcade)){v.error("Use of arcade expressions requires an arcade context");return}F=B.arcade.arcadeUtils;G=F.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});y=F.createExecContext(y,G);A||(A=F.createSyntaxTree(z.valueExpression),A=F.createFunction(A),z.cache.compiledFunc=A);F=F.executeFunction(A,y)}else C&&(F=C[G]);y=z.normalizationField;C=null!=C&&null!=y?parseFloat(C[y]):void 0;if(null!=F&&(!y||D||!isNaN(C)&&0!==C)&&
(isNaN(C)||D||(F/=C),D=l(F,E)))return C=D[0],y=D[1],B=C===y?z.stops[C].color:b.blendColors(z.stops[C].color,z.stops[y].color,D[2],n.isSome(B)?B.color:void 0),new b(B)}}function p(z,A,B){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(O=>"opacity"===O.type):z)if("esri.renderers.visualVariables.OpacityVariable"!==z.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var D="number"===typeof A,y=D?null:A,C=y&&y.attributes,
F=D?A:null,G=z.field,{ipData:E,hasExpression:P}=z.cache;A=z.cache.compiledFunc;if(!G&&!P)return(z=z.stops)&&z[0]&&z[0].opacity;if("number"!==typeof F)if(P){if(n.isNone(B)||n.isNone(B.arcade)){v.error("Use of arcade expressions requires an arcade context");return}F=B.arcade.arcadeUtils;B=F.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});B=F.createExecContext(y,B);A||(y=F.createSyntaxTree(z.valueExpression),A=F.createFunction(y),z.cache.compiledFunc=A);F=F.executeFunction(A,
B)}else C&&(F=C[G]);B=z.normalizationField;C=null!=C&&null!=B?parseFloat(C[B]):void 0;if(null!=F&&(!B||D||!isNaN(C)&&0!==C)&&(isNaN(C)||D||(F/=C),D=l(F,E))){B=D[0];C=D[1];if(B===C)return z.stops[B].opacity;B=z.stops[B].opacity;return B+(z.stops[C].opacity-B)*D[2]}}}function m(z,A,B){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(O=>"rotation"===O.type):z)if("esri.renderers.visualVariables.RotationVariable"!==z.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");
else{var D=z.axis||"heading",y="heading"===D&&"arithmetic"===z.rotationType?90:0;D="heading"===D&&"arithmetic"===z.rotationType?-1:1;var C="number"===typeof A?null:A,F=C&&C.attributes,G=z.field,{hasExpression:E}=z.cache;A=z.cache.compiledFunc;var P=0;if(!G&&!E)return P;if(E){if(n.isNone(B)||n.isNone(B.arcade)){v.error("Use of arcade expressions requires an arcade context");return}F=B.arcade.arcadeUtils;B=F.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});
B=F.createExecContext(C,B);A||(A=F.createSyntaxTree(z.valueExpression),A=F.createFunction(A),z.cache.compiledFunc=A);P=F.executeFunction(A,B)}else F&&(P=F[G]||0);return P="number"!==typeof P||isNaN(P)?null:y+D*P}}function g(z,A,B){const D="number"===typeof A;var y=D?null:A;const C=y&&y.attributes;var F=D?A:null;const {isScaleDriven:G}=z.cache;A=z.cache.compiledFunc;if(G)y=n.isSome(B)?B.scale:void 0,B=n.isSome(B)?B.view:void 0,null==y||"3d"===B?(y=B=null,(y=z.stops)?(B=y[0].value,y=y[y.length-1].value):
(B=z.minDataValue||0,y=z.maxDataValue||0),B=(B+y)/2):B=y,F=B;else if(!D)switch(z.inputValueType){case t.InputValueType.Expression:if(n.isNone(B)||n.isNone(B.arcade)){v.error("Use of arcade expressions requires an arcade context");return}F=B.arcade.arcadeUtils;B=F.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});B=F.createExecContext(y,B);A||(y=F.createSyntaxTree(z.valueExpression),A=F.createFunction(y),z.cache.compiledFunc=A);F=F.executeFunction(A,B);break;
case t.InputValueType.Field:C&&(F=C[z.field]);break;case t.InputValueType.Unknown:F=null}if(!t.isValidNumber(F))return null;if(D||!z.normalizationField)return F;z=C?parseFloat(C[z.normalizationField]):null;return t.isValidNumber(z)&&0!==z?F/z:null}function f(z,A,B){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(y=>"size"===y.type):z)if("esri.renderers.visualVariables.SizeVariable"!==z.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");
else{var D=g(z,A,B);A=k(D,z,A,B,z.cache.ipData);return null===A||void 0===A||isNaN(A)?0:A}}function h(z,A,B){return null==z?null:t.isSizeVariable(z)?f(z,A,B):t.isValidNumber(z)?z:null}function q(z,A,B){return t.isValidNumber(B)&&z>B?B:t.isValidNumber(A)&&z<A?A:z}function k(z,A,B,D,y){switch(A.transformationType){case t.TransformationType.Additive:return D=h(A.minSize,B,D),z+((D||A.minDataValue)??0);case t.TransformationType.Constant:return z=(z=A.stops)&&z.length&&z[0].size,null==z&&(z=A.minSize),
h(z,B,D);case t.TransformationType.ClampedLinear:y=(z-A.minDataValue)/(A.maxDataValue-A.minDataValue);var C=h(A.minSize,B,D);B=h(A.maxSize,B,D);D=n.isSome(D)?D.shape:void 0;z<=A.minDataValue?A=C:z>=A.maxDataValue?A=B:null==C||null==B?A=null:"area"===A.scaleBy&&D?(z=(A="circle"===D)?x*(C/2)**2:C*C,z+=y*((A?x*(B/2)**2:B*B)-z),A=A?2*Math.sqrt(z/x):Math.sqrt(z)):A=C+y*(B-C);return A;case t.TransformationType.Proportional:return y=n.isSome(D)?D.shape:void 0,z/=A.minDataValue,C=h(A.minSize,B,D),A=h(A.maxSize,
B,D),D=null,D="circle"===y?2*Math.sqrt(z*(C/2)**2):"square"===y||"diamond"===y||"image"===y?Math.sqrt(z*C**2):z*C,q(D,C,A);case t.TransformationType.Stops:{const [F,G,E]=l(z,y);F===G?A=h(A.stops?.[F].size,B,D):(z=h(A.stops?.[F].size,B,D),A=h(A.stops?.[G].size,B,D),A=z+(A-z)*E)}return A;case t.TransformationType.RealWorldSize:return y=(n.isSome(D)&&D.resolution?D.resolution:1)*u.meterIn[A.valueUnit],C=h(A.minSize,B,D),D=h(A.maxSize,B,D),{valueRepresentation:A}=A,B=null,B="area"===A?2*Math.sqrt(z/x)/
y:"radius"===A||"distance"===A?2*z/y:z/y,q(B,C,D);case t.TransformationType.Identity:return z;case t.TransformationType.Unknown:return null}}function l(z,A){if(A){var B=0,D=A.length-1;A.some((y,C)=>{if(z<y)return D=C,!0;B=C;return!1});return[B,D,(z-A[B])/(A[D]-A[B])]}}const v=d.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),w=new c,x=Math.PI;a.getAllSizes=function(z,A,B){const D=["proportional","proportional","proportional"];for(const y of z)switch(z=y.useSymbolValue?"symbol-value":
f(y,A,B),y.axis){case "width":D[0]=z;break;case "depth":D[1]=z;break;case "height":D[2]=z;break;case "width-and-depth":D[0]=z;D[1]=z;break;case "all":case void 0:case null:D[0]=z;D[1]=z;D[2]=z;break;default:e.neverReached(y.axis)}return D};a.getColor=r;a.getOpacity=p;a.getRotationAngle=m;a.getSize=f;a.getSizeForValue=k;a.getSizeFromNumberOrVariable=h;a.getSizeRangeAtScale=function(z,A,B){const {isScaleDriven:D}=z.cache;if(!(D&&"3d"===B||A))return null;B={scale:A,view:B};A=h(z.minSize,w,B);z=h(z.maxSize,
w,B);if(null!=A||null!=z)return A>z&&(B=z,z=A,A=B),{minSize:A,maxSize:z}};a.getVisualVariableValues=function(z,A,B){if(z.visualVariables){var D=[],y=[],C=[],F=[],G=[];for(const E of z.visualVariables)switch(E.type){case "color":y.push(E);break;case "opacity":C.push(E);break;case "rotation":G.push(E);break;case "size":F.push(E)}y.forEach(E=>{const P=r(E,A,B);D.push({variable:E,value:P})});C.forEach(E=>{const P=p(E,A,B);D.push({variable:E,value:P})});G.forEach(E=>{const P=m(E,A,B);D.push({variable:E,
value:P})});F.forEach(E=>{const P=f(E,A,B);D.push({variable:E,value:P})});return D.filter(E=>null!=E.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Graphic":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./geometry ./PopupTemplate ./symbols ./core/Clonable ./core/JSONSupport ./core/maybe ./core/uid ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){n=function(k){function l(...w){w=v.call(this,...w);w.isAggregate=!1;w.layer=null;w.popupTemplate=null;w.sourceLayer=null;Object.defineProperty(a._assertThisInitialized(w),"uid",{value:r.generateUID(),configurable:!0});return w}a._inherits(l,k);var v=a._createSuper(l);k=l.prototype;k.normalizeCtorArgs=function(w,x,z,A){return w&&!w.declaredClass?w:{geometry:w,symbol:x,attributes:z,popupTemplate:A}};k.getEffectivePopupTemplate=function(w=!1){if(this.popupTemplate)return this.popupTemplate;
for(const x of[this.sourceLayer,this.layer])if(x){if("popupTemplate"in x&&x.popupTemplate)return x.popupTemplate;if(w&&"defaultPopupTemplate"in x&&t.isSome(x.defaultPopupTemplate))return x.defaultPopupTemplate}return null};k.getAttribute=function(w){return this.attributes?.[w]};k.setAttribute=function(w,x){if(this.attributes){const z=this.getAttribute(w);this.attributes[w]=x;this._notifyLayer("attributes",z,x,w)}else this.attributes={[w]:x},this._notifyLayer("attributes",void 0,x,w)};k.getObjectId=
function(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};k.toJSON=function(){var w=this.aggregateGeometries;if(t.isSome(w)){var x={};for(const z in w){const A=w[z];A&&(x[z]=A.toJSON())}w=0!==Object.keys(x).length?x:null}else w=null;return{aggregateGeometries:w,geometry:t.isSome(this.geometry)?this.geometry.toJSON():null,symbol:t.isSome(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},
popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};k.notifyGeometryChanged=function(){this._notifyLayer("geometry",this.geometry,this.geometry)};k.notifyMeshTransformChanged=function(){t.isSome(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)};k._notifyLayer=function(w,x,z,A){this.layer&&"graphicChanged"in this.layer&&(x={graphic:this,property:w,oldValue:x,newValue:z},"attributes"===w&&(x.attributeName=A),this.layer.graphicChanged(x))};
a._createClass(l,[{key:"aggregateGeometries",set:function(w){const x=this._get("aggregateGeometries");JSON.stringify(x)!==JSON.stringify(w)&&this._set("aggregateGeometries",w)}},{key:"attributes",set:function(w){const x=this._get("attributes");x!==w&&(this._set("attributes",w),this._notifyLayer("attributes",x,w))}},{key:"geometry",set:function(w){const x=this._get("geometry");x!==w&&(this._set("geometry",w),this._notifyLayer("geometry",x,w))}},{key:"symbol",set:function(w){const x=this._get("symbol");
x!==w&&(this._set("symbol",w),this._notifyLayer("symbol",x,w))}},{key:"visible",set:function(w){const x=this._get("visible");x!==w&&(this._set("visible",w),this._notifyLayer("visible",x,w))}}]);return l}(n.ClonableMixin(u.JSONSupport));b.__decorate([p.property({value:null,json:{read:function(k){if(!k)return null;const l={};for(const v in k){const w=q.fromJSON(k[v]);w&&(l[v]=w)}return 0!==Object.keys(l).length?l:null}}})],n.prototype,"aggregateGeometries",null);b.__decorate([p.property({value:null})],
n.prototype,"attributes",null);b.__decorate([p.property({value:null,types:c.geometryTypes,json:{read:q.fromJSON}})],n.prototype,"geometry",null);b.__decorate([p.property({type:Boolean})],n.prototype,"isAggregate",void 0);b.__decorate([p.property({clonable:"reference"})],n.prototype,"layer",void 0);b.__decorate([p.property({type:e})],n.prototype,"popupTemplate",void 0);b.__decorate([p.property({clonable:"reference"})],n.prototype,"sourceLayer",void 0);b.__decorate([p.property({value:null,types:d.symbolTypes})],
n.prototype,"symbol",null);b.__decorate([p.property({type:Boolean,value:!0})],n.prototype,"visible",null);n=b.__decorate([h.subclass("esri.Graphic")],n);(n||(n={})).generateUID=r.generateUID;return n})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){const k={color:g,size:q,opacity:f,rotation:h},l=new e.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),v=/^\[([^\]]+)\]$/i;c=function(w){function x(){var A=z.apply(this,arguments);A.colorVariables=null;A.opacityVariables=null;A.rotationVariables=null;A.sizeVariables=null;return A}a._inherits(x,w);var z=a._createSuper(x);w=x.prototype;w.readVariables=function(A,B,D){const {rotationExpression:y,rotationType:C}=B;
if(B=(B=y&&y.match(v))&&B[1])A||(A=[]),A.push({type:"rotationInfo",rotationType:C,field:B});if(A)return A.map(F=>{var G=l.read(F.type);const E=k[G];E||(d.getLogger(this.declaredClass).warn(`Unknown variable type: ${G}`),D&&D.messages&&D.messages.push(new n("visual-variable:unsupported",`visualVariable of type '${G}' is not supported`,{definition:F,context:D})));G=new E;G.read(F,D);return G})};w.writeVariables=function(A,B){const D=[];for(const y of A)(A=y.toJSON(B))&&D.push(A);return D};w._resetVariables=
function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};a._createClass(x,[{key:"visualVariables",set:function(A){this._resetVariables();if((A=A&&A.filter(D=>!!D))&&A.length){for(var B of A)switch(B.type){case "color":this.colorVariables.push(B);break;case "opacity":this.opacityVariables.push(B);break;case "rotation":this.rotationVariables.push(B);break;case "size":this.sizeVariables.push(B)}this.sizeVariables.length&&this.sizeVariables.some(D=>!!D.target)&&
A.sort((D,y)=>{let C=null;return C=D.target===y.target?0:D.target?1:-1});for(B=0;B<A.length;B++)A[B].index=B}this._set("visualVariables",A)}}]);return x}(c);b.__decorate([u.property()],c.prototype,"visualVariables",null);return c=b.__decorate([m.subclass("esri.renderers.visualVariables.VisualVariableFactory")],c)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;c=p=function(m){function g(h){h=f.call(this,h);h.description=null;h.label=null;h.minValue=null;h.maxValue=0;h.symbol=null;return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.clone=function(){return new p({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};m.getMeshHash=function(){const h=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${h}`};
return a._createClass(g)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0);b.__decorate([e.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0);b.__decorate([e.property(r.rendererSymbolProperty)],
c.prototype,"symbol",void 0);return c=p=b.__decorate([t.subclass("esri.renderers.support.ClassBreakInfo")],c)})},"esri/renderers/support/commonProperties":function(){define("exports ../../symbols ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/support/jsonUtils ../../symbols/Symbol ../../symbols/PolygonSymbol3D".split(" "),function(a,b,c,e,d,n){c={types:b.symbolTypesRenderer,json:{write:{writer:e.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,write:{writer:e.write},
read:{reader:c.createTypeReader({types:b.symbolTypesRenderer3D})}}}}};const u={cast:t=>null==t||"string"===typeof t||"number"===typeof t?t:`${t}`,json:{type:String,write:{writer:(t,r)=>{r.value=t?.toString()}}}};a.rendererBackgroundFillSymbolProperty={types:{base:d,key:"type",typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:e.write},origins:{"web-scene":{type:n,write:{writer:e.write}}}}};
a.rendererSymbolProperty=c;a.uniqueValueProperty=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/jsonUtils":function(){define("exports ../../symbols ../../core/Error ../../core/maybe ../../layers/support/layerUtils ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),function(a,b,c,e,d,n,u,t){function r(p,m,g){if(e.isNone(p))return null;const {context:f,isLabelSymbol:h}=g;var q=f?.origin;g=f?.messages;if("web-scene"===q&&!(p instanceof n||p instanceof
t)){q=u.to3D(p,{retainCIM:!0,hasLabelingContext:h});if(e.isSome(q.symbol))return q.symbol.write(m,f);g?.push(new c("symbol:unsupported",`Symbols of type '${p.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:p,context:f,error:q.error}));return null}return("web-map"===q||"portal-item"===q&&!d.isSceneServiceLayer(f?.layer))&&(p instanceof n||p instanceof t)?(g?.push(new c("symbol:unsupported",`Symbols of type '${p.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,
{symbol:p,context:f})),null):p.write(m,f)}a.fromJSON=function(p,m){return b.readSymbol(p,null,m)};a.write=function(p,m,g,f){p=r(p,{},{context:f,isLabelSymbol:!1});e.isSome(p)&&(m[g]=p)};a.writeLabelSymbol=function(p,m,g,f){p=r(p,{},{context:f,isLabelSymbol:!0});e.isSome(p)&&(m[g]=p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../symbols ../../core/Error ../WebStyleSymbol ../PointSymbol3D ../SimpleLineSymbol ../LineSymbol3D ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../MeshSymbol3D ../PolygonSymbol3D ../TextSymbol ../LabelSymbol3D".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h){const q={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};a.defaultTo3DOptions=q;a.to3D=function(k,l=q){if(!k)return{symbol:null};const {retainId:v=q.retainId,ignoreDrivers:w=q.ignoreDrivers,hasLabelingContext:x=q.hasLabelingContext,retainCIM:z=q.retainCIM}=l;var A=null;if(b.isSymbol3D(k)||k instanceof e)A=k.clone();else if("cim"===k.type){A=k.data?.symbol?.type;if("CIMPointSymbol"!==A)return{error:new c("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${A||
"unknown"}' is unsupported in 3D`,{symbol:k})};A=z?k.clone():d.fromCIMSymbol(k)}else if(k instanceof n)A=u.fromSimpleLineSymbol(k);else if(k instanceof t)A=d.fromSimpleMarkerSymbol(k);else if(k instanceof r)A=d.fromPictureMarkerSymbol(k);else if(k instanceof p)A=l.geometryType&&"mesh"===l.geometryType?m.fromSimpleFillSymbol(k):g.fromSimpleFillSymbol(k);else if(k instanceof f)A=x?h.fromTextSymbol(k):d.fromTextSymbol(k);else return{error:new c("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${k.type||
k.declaredClass}' is unsupported in 3D`,{symbol:k})};v&&A&&"cim"!==A.type&&(A.id=k.id);if(w&&b.isSymbol3D(A))for(k=0;k<A.symbolLayers.length;++k)A.symbolLayers.getItemAt(k)._ignoreDrivers=!0;return{symbol:A}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;d=g=function(f){function h(k){k=q.call(this,k);k.config=null;k.fieldMap=null;k.scaleExpression=null;k.scaleExpressionTitle=null;k.url=null;k.type="dictionary";return k}a._inherits(h,f);var q=a._createSuper(h);f=h.prototype;f.writeData=function(k,l){k&&(l.scalingExpressionInfo={expression:k,returnType:"number"})};f.writeVisualVariables=function(k,l,v,w){w?.origin||a._get(a._getPrototypeOf(h.prototype),"writeVisualVariables",this).call(this,k,l,v,w)};f.clone=function(){return new g({config:c.clone(this.config),
scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:c.clone(this.fieldMap),url:c.clone(this.url),visualVariables:c.clone(this.visualVariables)})};f.getSymbolAsync=async function(k,l){return this._loader.getSymbolAsync(k,l)};f.collectRequiredFields=async function(k,l){await this.collectVVRequiredFields(k,l);this.scaleExpression&&await t.collectArcadeFieldNames(k,l,this.scaleExpression);for(const v in this.fieldMap){const w=this.fieldMap[v];l.has(w)&&k.add(w)}};
f.getSymbol=function(){return null};f.getSymbols=function(){return[]};f.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((k,l)=>k+l.getAttributeHash(),"")};f.getMeshHash=function(){return`${this.url}-${JSON.stringify(this.fieldMap)}`};f.getSymbolFields=function(){return this._loader.getSymbolFields()};a._createClass(h,[{key:"_loader",get:function(){return new m.DictionaryLoader(this.url,this.config,this.fieldMap)}},{key:"arcadeRequired",get:function(){return!0}}]);
return h}(p.VisualVariablesMixin(r));b.__decorate([e.property({type:m.DictionaryLoader})],d.prototype,"_loader",null);b.__decorate([e.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],d.prototype,"config",void 0);b.__decorate([e.property({type:Object,json:{write:!0}})],d.prototype,"fieldMap",void 0);b.__decorate([e.property({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],d.prototype,"scaleExpression",void 0);b.__decorate([u.writer("scaleExpression")],
d.prototype,"writeData",null);b.__decorate([e.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(f){return{enabled:!!f&&!!this.scaleExpression}}}}})],d.prototype,"scaleExpressionTitle",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"url",void 0);b.__decorate([u.writer("visualVariables")],d.prototype,"writeVisualVariables",null);return d=g=b.__decorate([n.subclass("esri.renderers.DictionaryRenderer")],
d)})},"esri/renderers/support/DictionaryLoader":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../Color ../../request ../../core/Error ../../core/Logger ../../core/LRUCache ../../core/maybe ../../core/promiseUtils ../../core/string ../../support/arcadeOnDemand ../../symbols/CIMSymbol".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g){function f(k,l){if(k&&(k=k.symbolLayers))for(var v=k.length;v--;){var w=k[v];if(w&&!1!==w.enable)switch(w.type){case "CIMVectorMarker":var x=l;if(w=
w.markerGraphics)for(const z of w)if(z&&(w=z.symbol))switch(w.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":f(w,x);break;case "CIMTextSymbol":w.fieldMap=x}}}}const h={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let q=function(){function k(v,w,x){this.url=this.fieldMap=this.config=null;this._ongoingRequests=new Map;this._symbolCache=new u(100);this._dictionaryPromise=null;this.url=v;this.config=
w;this.fieldMap=x}var l=k.prototype;l.getSymbolFields=function(){return this._symbolFields};l.getSymbolAsync=async function(v,w){this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(w));try{var x=await this._dictionaryPromise}catch(C){if(r.isAbortError(C))return this._dictionaryPromise=null}var z={};if(this.fieldMap)for(var A of this._symbolFields){var B=this.fieldMap[A];z[A]=B&&null!=v.attributes[B]?""+v.attributes[B]:""}x=x?.(z,w);if(!x||"string"!==typeof x)return null;const D=
p.numericHash(x).toString();if(z=this._symbolCache.get(D))return z.catch(()=>{this._symbolCache.pop(D)}),z;A=x.split(";");x=[];z=[];for(const C of A)if(C)if(C.includes("po:")){var y=C.substr(3).split("|");3===y.length&&(A=y[0],B=y[1],y=y[2],"DashTemplate"===B?y=y.split(" ").map(F=>Number(F)):"Color"===B?(y=(new c(y)).toRgba(),y=[y[0],y[1],y[2],255*y[3]]):y=Number(y),z.push({primitiveName:A,propertyName:B,value:y}))}else if(C.includes("|"))for(const F of C.split("|")){if(this._itemNames.has(F)){x.push(F);
break}}else this._itemNames.has(C)&&x.push(C);v=t.isSome(v.geometry)&&(v.geometry.hasZ||"point"!==v.geometry.type)?!1:!0;w=this._cimPartsToCIMSymbol(x,z,v,w);this._symbolCache.put(D,w,1);return w};l.fetchResources=async function(v){if(this._dictionaryPromise)return this._dictionaryPromise;if(this.url){var w=e(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:t.isSome(v)?v.signal:null}),[{data:x}]=await Promise.all([w,m.loadArcade()]);if(!x)throw this._dictionaryPromise=
null,new d("esri.renderers.DictionaryRenderer","Bad dictionary data!");w=x.expression;var z=x.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+x.cimRefTemplateUrl;this._itemNames=new Set(x.itemsNames);this._symbolFields=z.symbol;x={};if(this.config){const D=this.config;for(var A in D)x[A]=D[A]}if(z.configuration)for(var B of z.configuration)x.hasOwnProperty(B.name)||(x[B.name]=B.value);A=[];if(t.isSome(v)&&v.fields&&this.fieldMap)for(const D of this._symbolFields){const y=this.fieldMap[D];B=
v.fields.filter(C=>C.name===y);0<B.length&&A.push({...B[0],name:D})}return this._dictionaryPromise=v=m.createDictionaryExpression(w,t.isSome(v)?v.spatialReference:null,A,x).then(D=>{const y={scale:0};return(C,F)=>{if(t.isNone(D))return null;C=D.repurposeFeature({geometry:null,attributes:C});y.scale=t.isSome(F)?F.scale??void 0:void 0;return D.evaluate({$feature:C,$view:y})}}).catch(D=>{n.getLogger("esri.renderers.support.DictionaryLoader").error("Creating dictinoary expression failed:",D);return null})}n.getLogger("esri.renderers.support.DictionaryLoader").error("no valid URL!")};
l._cimPartsToCIMSymbol=async function(v,w,x,z){const A=Array(v.length);for(let B=0;B<v.length;B++)A[B]=this._getSymbolPart(v[B],z);v=await Promise.all(A);if(z=this.fieldMap)for(const B of v)f(B,z);return new g({data:this._combineSymbolParts(v,w,x)})};l._getSymbolPart=async function(v,w){if(this._ongoingRequests.has(v))return this._ongoingRequests.get(v).then(z=>z.data);const x=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,v);w=e(x,{responseType:"json",query:{f:"json"},...w});this._ongoingRequests.set(v,
w);try{return(await w).data}catch(z){throw this._ongoingRequests.delete(v),z;}};l._combineSymbolParts=function(v,w,x){if(!v||0===v.length)return null;const z={...v[0]};if(1<v.length){z.symbolLayers=[];for(const A of v)z.symbolLayers.unshift(...A.symbolLayers)}x&&(z.callout=h);return{type:"CIMSymbolReference",symbol:z,primitiveOverrides:w}};return b._createClass(k)}();a.DictionaryLoader=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/LRUCache":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./MemCache"],function(a,b){return function(){function c(d,n){this._storage=new b.MemCacheStorage;this._storage.maxSize=d;n&&this._storage.registerRemoveFunc("",n)}var e=c.prototype;e.put=function(d,n,u){this._storage.put(d,n,u,1)};e.pop=function(d){return this._storage.pop(d)};e.get=function(d){return this._storage.get(d)};e.clear=function(){this._storage.clearAll()};e.destroy=function(){this._storage.destroy()};a._createClass(c,[{key:"maxSize",get:function(){return this._storage.maxSize},set:function(d){this._storage.maxSize=
d}}]);return c}()})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./PooledArray"],function(a,b,c,e){a.RemoveMode=void 0;(function(u){u[u.ALL=0]="ALL";u[u.SOME=1]="SOME"})(a.RemoveMode||(a.RemoveMode={}));let d=function(){function u(r,p,m){this._namespace=r;this._storage=p;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";m&&(this._storage.registerRemoveFunc(this._namespace,m),this._removeFunc=!0)}var t=
u.prototype;t.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this);this._storage=null};t.resetHitRate=function(){this._hit=this._miss=0};t.put=function(r,p,m,g=0){this._storage.put(this._namespace+r,p,m,g)};t.get=function(r){r=this._storage.get(this._namespace+r);void 0===r?++this._miss:++this._hit;return r};t.pop=function(r){r=this._storage.pop(this._namespace+r);void 0===r?++this._miss:++this._hit;
return r};t.updateSize=function(r,p,m){this._storage.updateSize(this._namespace+r,p,m)};t.clear=function(){this._storage.clear(this._namespace)};t.clearAll=function(){this._storage.clearAll()};t.getStats=function(){return this._storage.getStats()};t.resetStats=function(){this._storage.resetStats()};b._createClass(u,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},
{key:"maxSize",get:function(){return this._storage.maxSize}}]);return u}(),n=function(){function u(r=10485760){this._maxSize=r;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new e;this._users=new e}var t=u.prototype;t.destroy=function(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null};t.register=function(r){this._users.push(r)};t.deregister=function(r){this._users.removeUnordered(r)};t.registerRemoveFunc=function(r,p){this._removeFuncs.push([r,p])};
t.deregisterRemoveFunc=function(r){this._removeFuncs.filterInPlace(p=>p[0]!==r)};t.put=function(r,p,m,g){const f=this._db.get(r);f&&(this._size-=f.size,this._db.delete(r),f.entry!==p&&this._notifyRemove(r,f.entry,a.RemoveMode.ALL));m>this._maxSize?this._notifyRemove(r,p,a.RemoveMode.ALL):void 0===p?console.warn("Refusing to cache undefined entry "):!m||0>m?console.warn("Refusing to cache entry with invalid size "+m):(g=1+Math.max(g,-3)- -3,this._db.set(r,{entry:p,size:m,lifetime:g,lives:g}),this._size+=
m,this._checkSizeLimit())};t.updateSize=function(r,p,m){const g=this._db.get(r);if(g&&g.entry===p){for(this._size-=g.size;m>this._maxSize;)if(m=this._notifyRemove(r,p,a.RemoveMode.SOME),!(c.isSome(m)&&0<m)){this._db.delete(r);return}g.size=m;this._size+=m;this._checkSizeLimit()}};t.pop=function(r){const p=this._db.get(r);if(p)return this._size-=p.size,this._db.delete(r),++this._hit,p.entry;++this._miss};t.get=function(r){const p=this._db.get(r);if(void 0===p)++this._miss;else return this._db.delete(r),
p.lives=p.lifetime,this._db.set(r,p),++this._hit,p.entry};t.getStats=function(){const r={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},p={},m=[];this._db.forEach((h,q)=>{const k=h.lifetime;m[k]=(m[k]||0)+h.size;this._users.forAll(l=>{l=l.namespace;q.startsWith(l)&&(p[l]=(p[l]||0)+h.size)})});const g={};this._users.forAll(h=>{const q=h.namespace;!isNaN(h.hitRate)&&0<h.hitRate?(p[q]=
p[q]||0,g[q]=Math.round(100*h.hitRate)+"%"):g[q]="0%"});var f=Object.keys(p);f.sort((h,q)=>p[q]-p[h]);f.forEach(h=>r[h]=Math.round(p[h]/2**20)+"MB / "+g[h]);for(f=m.length-1;0<=f;--f){const h=m[f];h&&(r["Priority "+(f+-3-1)]=Math.round(h/this.size*100)+"%")}return r};t.resetStats=function(){this._hit=this._miss=0;this._users.forAll(r=>r.resetHitRate())};t.clear=function(r){this._db.forEach((p,m)=>{m.startsWith(r)&&(this._size-=p.size,this._db.delete(m),this._notifyRemove(m,p.entry,a.RemoveMode.ALL))})};
t.clearAll=function(){this._db.forEach((r,p)=>this._notifyRemove(p,r.entry,a.RemoveMode.ALL));this._size=0;this._db.clear()};t._getHitRate=function(){return this._hit/(this._hit+this._miss)};t._notifyRemove=function(r,p,m){let g;this._removeFuncs.some(f=>r.startsWith(f[0])?(f=f[1](p,m),"number"===typeof f&&(g=f),!0):!1);return g};t._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [r,p]of this._db){this._db.delete(r);if(1>=p.lives){this._size-=p.size;const m=this._notifyRemove(r,
p.entry,a.RemoveMode.SOME);c.isSome(m)&&0<m&&(this._size+=m,p.lives=p.lifetime,p.size=m,this._db.set(r,p))}else--p.lives,this._db.set(r,p);if(this._size<=.9*this.maxSize)break}};b._createClass(u,[{key:"size",get:function(){return this._size}},{key:"sizeMB",get:function(){return this._size/1024/1024}},{key:"maxSize",get:function(){return this._maxSize},set:function(r){this._maxSize=Math.max(r,0);this._checkSizeLimit()}}]);return u}();a.MIN_PRIORITY=-3;a.MemCache=d;a.MemCacheStorage=n;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){var k;n=k=function(l){function v(x){x=w.call(this,x);x.attributes=null;x.backgroundColor=new c([0,0,0,0]);x.dotBlendingEnabled=!0;x.dotShape="square";x.dotSize=1;x.legendOptions=null;x.outline=new q;x.dotValue=null;x.referenceScale=null;x.seed=1;x.type="dot-density";return x}a._inherits(v,l);var w=a._createSuper(v);l=v.prototype;l.calculateDotValue=function(x){if(null==this.referenceScale)return this.dotValue;x=x/this.referenceScale*this.dotValue;return 1>x?
1:x};l.getSymbol=function(){return new h({outline:this.outline})};l.getSymbolAsync=async function(){return this.getSymbol()};l.getSymbols=function(){return[this.getSymbol()]};l.getAttributeHash=function(){return this.attributes?.reduce((x,z)=>x+z.getAttributeHash(),"")??""};l.getMeshHash=function(){return JSON.stringify(this.outline)};l.clone=function(){return new k({attributes:e.clone(this.attributes),backgroundColor:e.clone(this.backgroundColor),dotBlendingEnabled:e.clone(this.dotBlendingEnabled),
dotShape:e.clone(this.dotShape),dotSize:e.clone(this.dotSize),dotValue:e.clone(this.dotValue),legendOptions:e.clone(this.legendOptions),outline:e.clone(this.outline),referenceScale:e.clone(this.referenceScale),visualVariables:e.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};l.getControllerHash=function(){const x=this.attributes?.map(A=>A.field||A.valueExpression||""),z=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${x}-${z}`};l.collectRequiredFields=
async function(x,z){await this.collectVVRequiredFields(x,z);for(const A of this.attributes??[])A.valueExpression&&await r.collectArcadeFieldNames(x,z,A.valueExpression),A.field&&x.add(A.field)};return a._createClass(v)}(m.VisualVariablesMixin(p));b.__decorate([d.property({type:[g],json:{write:!0}})],n.prototype,"attributes",void 0);b.__decorate([d.property({type:c,json:{write:!0}})],n.prototype,"backgroundColor",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],n.prototype,"dotBlendingEnabled",
void 0);b.__decorate([d.property({type:String,json:{write:!1}})],n.prototype,"dotShape",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],n.prototype,"dotSize",void 0);b.__decorate([d.property({type:f,json:{write:!0}})],n.prototype,"legendOptions",void 0);b.__decorate([d.property({type:q,json:{default:null,write:!0}})],n.prototype,"outline",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],n.prototype,"dotValue",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],
n.prototype,"referenceScale",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],n.prototype,"seed",void 0);b.__decorate([u.enumeration({dotDensity:"dot-density"})],n.prototype,"type",void 0);return n=k=b.__decorate([t.subclass("esri.renderers.DotDensityRenderer")],n)})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;e=g=function(f){function h(k){k=q.call(this,k);k.color=null;k.field=null;k.label=null;k.valueExpression=null;k.valueExpressionTitle=null;return k}a._inherits(h,f);var q=a._createSuper(h);f=h.prototype;f.castField=function(k){return null==k?k:"function"===typeof k?(d.getLogger(this.declaredClass).error(".field: field must be a string value"),null):m.ensureString(k)};f.getAttributeHash=function(){return`${this.field}-${this.valueExpression}`};f.clone=function(){return new g({color:this.color&&
this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};return a._createClass(h)}(e.JSONSupport);b.__decorate([n.property({type:c,json:{type:[Number],write:!0}})],e.prototype,"color",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([u.cast("field")],e.prototype,"castField",null);b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);
b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);return e=g=b.__decorate([p.subclass("esri.renderers.support.AttributeColorInfo")],e)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(){var f=g.apply(this,arguments);f.unit=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({unit:this.unit})};return a._createClass(m)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"unit",void 0);return c=r=b.__decorate([t.subclass("esri.renderers.support.DotDensityLegendOptions")],c)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../symbols ../core/deprecate ../core/lang ../core/Logger ../core/scheduling ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/utils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/AuthoringInfo ./support/HeatmapColorStop ./support/HeatmapLegendOptions ./support/heatmapUtils ../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z){function A(y){if(null!=y){const {maxDensity:C,minDensity:F,radius:G}=y;if(null!=C||null!=F||null!=G){const {blurRadius:E,maxPixelIntensity:P,minPixelIntensity:O,...K}=y;return K}}return y}var B;const D=u.getLogger("esri.renderers.HeatmapRenderer");e=B=function(y){function C(G){G=F.call(this,G);G.authoringInfo=null;G.colorStops=[new v({ratio:0,color:new c("rgba(255, 140, 0, 0)")}),new v({ratio:.75,color:new c("rgba(255, 140, 0, 1)")}),new v({ratio:.9,
color:new c("rgba(255, 0,   0, 1)")})];G.field=null;G.fieldOffset=0;G.legendOptions=null;G.maxDensity=.04;G.minDensity=0;G.radius=18;G.referenceScale=0;G.type="heatmap";G.valueExpression=null;G.valueExpressionTitle=null;G._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1};return G}a._inherits(C,y);var F=a._createSuper(C);y=C.prototype;y.normalizeCtorArgs=function(G){return A(G)};y._warnAboutDeprecatedGaussianBlurProp=function(G,E){this._warnedProps[G]||"user"!==g.getProperties(this).getDefaultOrigin()||
(this._warnedProps[G]=!0,t.schedule(()=>{d.deprecatedProperty(D,G,{replacement:`${String(E)} (suggested value: ${this._get(E)})`,version:"4.24"})}))};y.read=function(G,E){G=A(G);a._get(a._getPrototypeOf(C.prototype),"read",this).call(this,G,E)};y.getSymbol=function(){return new z};y.getSymbolAsync=async function(){return this.getSymbol()};y.getSymbols=function(){return[this.getSymbol()]};y.collectRequiredFields=async function(G,E){const P=this.field,O=this.valueExpression;P&&"string"===typeof P&&
await q.collectField(G,E,P);O&&"string"===typeof O&&await q.collectArcadeFieldNames(G,E,O)};y.getAttributeHash=function(){return null};y.getMeshHash=function(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`};y.clone=function(){return new B({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:n.clone(this.colorStops),field:this.field,legendOptions:n.clone(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,
valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};a._createClass(C,[{key:"blurRadius",get:function(){return x.kernelDensityRadiusPtToGaussianBlurRadiusPx(this.radius)},set:function(G){const E=this.maxPixelIntensity,P=this.minPixelIntensity;this._set("radius",x.gaussianBlurRadiusPxToKernelDensityRadiusPt(G));this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius");this._set("maxDensity",E*this._pixelIntensityToDensity);this._set("minDensity",P*this._pixelIntensityToDensity)}},
{key:"maxPixelIntensity",get:function(){return this.maxDensity/this._pixelIntensityToDensity},set:function(G){this._set("maxDensity",G*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}},{key:"minPixelIntensity",get:function(){return this.minDensity/this._pixelIntensityToDensity},set:function(G){this._set("minDensity",G*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}},{key:"_pixelIntensityToDensity",
get:function(){return 24/(x.MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR**2*this.blurRadius**4)}}]);return C}(k);b.__decorate([p.property({type:l,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"authoringInfo",void 0);b.__decorate([p.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],e.prototype,"blurRadius",null);b.__decorate([p.property({type:[v],json:{write:!0}})],e.prototype,"colorStops",void 0);b.__decorate([p.property({type:String,
json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([p.property({type:Number,json:{write:{overridePolicy:(y,C,F)=>({enabled:null==F})},origins:{"web-scene":{write:!1}}}})],e.prototype,"fieldOffset",void 0);b.__decorate([p.property({type:w.HeatmapLegendOptions,json:{write:!0}})],e.prototype,"legendOptions",void 0);b.__decorate([p.property({type:Number,json:{write:!0}})],e.prototype,"maxDensity",void 0);b.__decorate([p.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],
e.prototype,"maxPixelIntensity",null);b.__decorate([p.property({type:Number,json:{write:!0}})],e.prototype,"minDensity",void 0);b.__decorate([p.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],e.prototype,"minPixelIntensity",null);b.__decorate([p.property({type:Number,cast:r.toPt,json:{write:!0}})],e.prototype,"radius",void 0);b.__decorate([p.property({type:Number,range:{min:0},json:{default:0,write:!0}})],e.prototype,"referenceScale",void 0);b.__decorate([f.enumeration({heatmap:"heatmap"})],
e.prototype,"type",void 0);b.__decorate([p.property({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],e.prototype,"valueExpression",void 0);b.__decorate([p.property({type:String})],e.prototype,"valueExpressionTitle",void 0);b.__decorate([p.property({readOnly:!0})],e.prototype,"_pixelIntensityToDensity",null);return e=B=b.__decorate([h.subclass("esri.renderers.HeatmapRenderer")],e)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.color=null;h.ratio=null;return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({color:this.color,ratio:this.ratio})};return a._createClass(g)}(e.JSONSupport);b.__decorate([d.property({type:c,json:{type:[n.Integer],default:null,write:!0}})],e.prototype,"color",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],e.prototype,"ratio",void 0);return e=p=b.__decorate([r.subclass("esri.renderers.support.HeatmapColorStop")],
e)})},"esri/renderers/support/HeatmapLegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p){a.HeatmapLegendOptions=function(m){function g(){var h=f.apply(this,arguments);h.minLabel=null;h.maxLabel=null;
h.title=null;return h}b._inherits(g,m);var f=b._createSuper(g);return b._createClass(g)}(e.ClonableMixin(d.JSONSupport));c.__decorate([n.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"minLabel",void 0);c.__decorate([n.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"maxLabel",void 0);c.__decorate([n.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"title",void 0);a.HeatmapLegendOptions=c.__decorate([p.subclass("esri.renderers.support.HeatmapLegendOptions")],
a.HeatmapLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec4","../../chunks/vec4f64"],function(a,b,c,e,d){function n(p,m,g,f){let {color:h,ratio:q}=m,{color:k,ratio:l}=g;l===q&&(1===l?q-=1E-6:l+=1E-6);m=b.clamp((f-q)/(l-q),0,1);e.lerp(p,h.toArray(),k.toArray(),m)}function u(p,m,g,f,h){p=new Uint32Array(p*p);m="buffer"in m?m:new Float64Array(m);
g="buffer"in g?new Uint32Array(g.buffer):new Uint32Array((new Uint8Array(g)).buffer);h=g.length/(h-f);for(let q=0;q<m.length;q++)p[q]=g[b.clamp(Math.floor((m[q]-f)*h),0,g.length-1)];return p.buffer}function t(p,m,g){p=Math.sqrt(p**2+m**2)/g;return 1<p?0:3/(Math.PI*g**2)*(1-p**2)**2}function r(p,m){return null!=p?"string"===typeof m?g=>-1*+g.readAttribute(p):g=>+g.readAttribute(p)+m:g=>1}a.MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR=2.4;a.calculateHeatmapIntensityInfoReaders=function(p,m,g,f){const {radius:h,
fieldOffset:q,field:k}=m;m=Math.round(c.pt2px(h));const l=new Float64Array(g*f);let v=Number.NEGATIVE_INFINITY;const w=r(k,q),x=new Set;for(const D of p)for(p=D.getCursor();p.next();){var z=p.getObjectId();if(x.has(z))continue;x.add(z);z=p.readLegacyPointGeometry();if(-128>z.x||z.x>=g+128||-128>z.y||z.y>f+128)continue;const y=+w(p),C=Math.max(0,Math.round(z.x)-m);var A=Math.max(0,Math.round(z.y)-m);const F=Math.min(f,Math.round(z.y)+m),G=Math.min(g,Math.round(z.x)+m);for(;A<F;A++)for(let E=C;E<G;E++){var B=
A*g+E;const P=t(z.x-E,z.y-A,m);B=l[B]+=P*y;B>v&&(v=B)}}return{matrix:l.buffer,max:v}};a.createHeatmapImageData=u;a.createValueFunction=function(p,m){return"function"===typeof p?p:p?"string"===typeof m?g=>-1*+g[p]:g=>+g[p]+m:()=>1};a.createValueFunctionCursor=r;a.drawHeatmap=function(p,m,g,f,h,q){p.canvas.width=p.canvas.height=m;p.clearRect(0,0,m,m);const k=p.getImageData(0,0,m,m);g&&f&&k.data.set(new Uint8ClampedArray(u(m,g,f,h,q)));p.putImageData(k,0,0)};a.evaluateDensityKernel=t;a.gaussianBlurRadiusPxToKernelDensityRadiusPt=
function(p){return c.px2pt(2.4*p)};a.generateGradient=function(p){const m=new Uint8ClampedArray(2048);p=p.filter(({ratio:k})=>0<=k&&1>=k).sort((k,l)=>k.ratio-l.ratio).map(({color:k,ratio:l})=>({color:k,ratio:Math.max(l,.001)}));if(1>p.length)return m;let g=p[0],f=p[0],h=1;const q=d.create();for(let k=0;512>k;k++){const l=(k+.5)/512;for(;l>f.ratio&&h<p.length;)g=f,f=p[h++];n(q,g,f,l);m.set(q,4*k)}return m};a.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(p){return c.pt2px(p)/2.4};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec4f64":function(){define(["exports"],function(a){function b(){return[0,0,0,0]}function c(x){return[x[0],x[1],x[2],x[3]]}function e(x,z,A,B){return[x,z,A,B]}function d(x){const z=b(),A=Math.min(4,x.length);for(let B=0;B<A;++B)z[B]=x[B];return z}function n(x,z){return new Float64Array(x,z,4)}function u(){return b()}function t(){return[1,1,1,1]}function r(){return[1,0,0,0]}function p(){return[0,1,0,0]}function m(){return[0,0,1,0]}function g(){return[0,
0,0,1]}const f=b(),h=t(),q=r(),k=p(),l=m(),v=g(),w=Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_W:v,UNIT_X:q,UNIT_Y:k,UNIT_Z:l,ZEROS:f,clone:c,create:b,createView:n,fromArray:d,fromValues:e,ones:t,unitW:g,unitX:r,unitY:p,unitZ:m,zeros:u},Symbol.toStringTag,{value:"Module"}));a.ONES=h;a.UNIT_W=v;a.UNIT_X=q;a.UNIT_Y=k;a.UNIT_Z=l;a.ZEROS=f;a.clone=c;a.create=b;a.createView=n;a.fromArray=d;a.fromValues=e;a.ones=t;a.unitW=g;a.unitX=r;a.unitY=p;a.unitZ=m;a.vec4f64=w;a.zeros=u})},"esri/renderers/PieChartRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../symbols ../core/Clonable ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/OthersCategory ./support/PieChartLegendOptions ../symbols/SimpleMarkerSymbol ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A){e=function(B){function D(C){C=y.call(this,C);C.attributes=null;C.backgroundFillSymbol=null;C.defaultColor=new c([0,0,0,0]);C.defaultLabel=null;C.holePercentage=0;C.othersCategory=new v.OthersCategory;C.legendOptions=null;C.outline=null;C.size=12;C.type="pie-chart";return C}a._inherits(D,B);var y=a._createSuper(D);B=D.prototype;B.getSymbol=function(){return new x({size:this.size?this.size/2+(this.outline?.width||0):0})};B.getSymbolAsync=async function(){return this.getSymbol()};
B.getSymbols=function(){return[this.getSymbol(),this.backgroundFillSymbol].filter(n.isSome)};B.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((C,F)=>C+F.getAttributeHash(),"")};B.getMeshHash=function(){return this.getSymbols().reduce((C,F)=>C+=JSON.stringify(F),"")};B.collectRequiredFields=async function(C,F){await this.collectVVRequiredFields(C,F);for(const G of this.attributes)G.valueExpression&&await h.collectArcadeFieldNames(C,F,G.valueExpression),G.field&&
C.add(G.field)};return a._createClass(D)}(k.VisualVariablesMixin(d.ClonableMixin(q)));b.__decorate([t.property({type:[l],json:{write:!0}})],e.prototype,"attributes",void 0);b.__decorate([t.property({type:z,json:{default:null,write:!0}})],e.prototype,"backgroundFillSymbol",void 0);b.__decorate([t.property({type:c,json:{write:!0}})],e.prototype,"defaultColor",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],e.prototype,"defaultLabel",void 0);b.__decorate([t.property({type:Number,range:{min:0,
max:1},json:{write:!0}})],e.prototype,"holePercentage",void 0);b.__decorate([t.property({type:v.OthersCategory,json:{write:!0}})],e.prototype,"othersCategory",void 0);b.__decorate([t.property({type:w.PieChartLegendOptions,json:{write:!0}})],e.prototype,"legendOptions",void 0);b.__decorate([t.property({type:A,json:{default:null,write:!0}})],e.prototype,"outline",void 0);b.__decorate([t.property({type:Number,cast:u.toPt,json:{write:!0}})],e.prototype,"size",void 0);b.__decorate([g.enumeration({pieChart:"pie-chart"})],
e.prototype,"type",void 0);return e=b.__decorate([f.subclass("esri.renderers.PieChartRenderer")],e)})},"esri/renderers/support/OthersCategory":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p,m){a.OthersCategory=
function(g){function f(){var q=h.apply(this,arguments);q.color=new e([0,0,0,0]);q.label=null;q.threshold=0;return q}b._inherits(f,g);var h=b._createSuper(f);return b._createClass(f)}(d.ClonableMixin(n.JSONSupport));c.__decorate([u.property({type:e,json:{write:!0}})],a.OthersCategory.prototype,"color",void 0);c.__decorate([u.property({type:String,json:{write:!0}})],a.OthersCategory.prototype,"label",void 0);c.__decorate([u.property({type:Number,range:{min:0,max:1},json:{write:!0}})],a.OthersCategory.prototype,
"threshold",void 0);a.OthersCategory=c.__decorate([m.subclass("esri.renderers.support.OthersCategory")],a.OthersCategory);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/PieChartLegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p){a.PieChartLegendOptions=function(m){function g(){var h=f.apply(this,arguments);h.title=null;return h}b._inherits(g,m);var f=b._createSuper(g);return b._createClass(g)}(e.ClonableMixin(d.JSONSupport));c.__decorate([n.property({type:String,json:{write:!0}})],a.PieChartLegendOptions.prototype,"title",void 0);a.PieChartLegendOptions=c.__decorate([p.subclass("esri.renderers.support.PieChartLegendOptions")],a.PieChartLegendOptions);Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/renderers/SimpleRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),function(a,b,c,e,d,n,u,t,r,p){var m;d=m=function(g){function f(q){q=h.call(this,q);q.description=null;q.label=
null;q.symbol=null;q.type="simple";return q}a._inherits(f,g);var h=a._createSuper(f);g=f.prototype;g.collectRequiredFields=async function(q,k){await Promise.all([this.collectSymbolFields(q,k),this.collectVVRequiredFields(q,k)])};g.collectSymbolFields=async function(q,k){await Promise.all(this.getSymbols().map(l=>l.collectRequiredFields(q,k)))};g.getSymbol=function(q,k){return this.symbol};g.getSymbolAsync=async function(q,k){return this.symbol};g.getSymbols=function(){return this.symbol?[this.symbol]:
[]};g.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((q,k)=>q+k.getAttributeHash(),"")};g.getMeshHash=function(){return this.getSymbols().reduce((q,k)=>q+=JSON.stringify(k),"")};g.clone=function(){return new m({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:c.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};a._createClass(f,[{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}}]);
return f}(r.VisualVariablesMixin(t));b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);b.__decorate([e.property(p.rendererSymbolProperty)],d.prototype,"symbol",void 0);b.__decorate([n.enumeration({simple:"simple"})],d.prototype,"type",void 0);return d=m=b.__decorate([u.subclass("esri.renderers.SimpleRenderer")],d)})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/object ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValue ./support/UniqueValueClass ./support/UniqueValueGroup ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/support/styleUtils ../symbols/WebStyleSymbol".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F,G,E,P,O){function K(L){const {field1:aa,field2:R,field3:S,fieldDelimiter:V,uniqueValueInfos:ea,valueExpression:ha}=L,la=!(!aa||!R);return[{classes:(ea??[]).map(ia=>{const {symbol:Y,label:Z,value:U,description:pa}=ia,[xa,N,T]=la?U?.toString()?.split(V||"")||[]:[U];ia=[];(aa||ha)&&ia.push(xa);R&&ia.push(N);S&&ia.push(T);return{symbol:Y,label:Z,values:[ia],description:pa}})}]}var M;const I=n.getLogger("esri.renderers.UniqueValueRenderer"),
H=l.ensureType(F);n=M=function(L){function aa(S){S=R.call(this,S);S._valueInfoMap={};S._isDefaultSymbolDerived=!1;S._isInfosSource=null;S.type="unique-value";S.backgroundFillSymbol=null;S.orderByClassesEnabled=!1;S.valueExpressionTitle=null;S.legendOptions=null;S.defaultLabel=null;S.portal=null;S.styleOrigin=null;S.diff={uniqueValueInfos(V,ea){if(V||ea){if(!V||!ea)return{type:"complete",oldValue:V,newValue:ea};var ha=!1,la={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let ia=
0;ia<ea.length;ia++){const Y=V.find(Z=>Z.value===ea[ia].value);Y?k.diff(Y,ea[ia])?(la.changed.push({type:"complete",oldValue:Y,newValue:ea[ia]}),ha=!0):la.unchanged.push({oldValue:Y,newValue:ea[ia]}):(la.added.push(ea[ia]),ha=!0)}for(let ia=0;ia<V.length;ia++)ea.find(Y=>Y.value===V[ia].value)||(la.removed.push(V[ia]),ha=!0);return ha?la:void 0}}};S._set("uniqueValueInfos",[]);S._set("uniqueValueGroups",[]);return S}a._inherits(aa,L);var R=a._createSuper(aa);L=aa.prototype;L.castField=function(S){return null==
S||"function"===typeof S?S:l.ensureString(S)};L.writeField=function(S,V,ea,ha){"string"===typeof S?V[ea]=S:ha&&ha.messages?ha.messages.push(new e("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):I.error(".field: cannot write field to JSON since it's not a string value")};L.readPortal=function(S,V,ea){return ea.portal||w.getDefault()};L.readStyleOrigin=function(S,V,ea){if(V.styleName)return Object.freeze({styleName:V.styleName});if(V.styleUrl)return S=
E.fromJSON(V.styleUrl,ea),Object.freeze({styleUrl:S})};L.writeStyleOrigin=function(S,V,ea,ha){S.styleName?V.styleName=S.styleName:S.styleUrl&&(V.styleUrl=E.toJSON(S.styleUrl,ha))};L.addUniqueValueInfo=function(S,V){this.styleOrigin?I.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(S="object"===typeof S?H(S):new F({value:S,symbol:c.ensureType(V)}),this.uniqueValueInfos?.push(S),this._valueInfoMap[S.value]=S,this._updateGroupsFromInfos(),
this._isInfosSource=!0,this._watchUniqueValueInfos())};L.removeUniqueValueInfo=function(S){if(this.styleOrigin)I.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else{var V=this.uniqueValueInfos;if(V)for(let ea=0;ea<V.length;ea++)if(V[ea].value===S+""){delete this._valueInfoMap[S];V.splice(ea,1);break}this._updateGroupsFromInfos();this._isInfosSource=!0;this._watchUniqueValueInfos()}};L.getUniqueValueInfo=async function(S,V){let ea=
V;this.valueExpression&&(u.isNone(V)||u.isNone(V.arcade))&&(ea={...ea,arcade:await G.loadArcade()});return this._getUniqueValueInfo(S,ea)};L.getSymbol=function(S,V){if(this.valueExpression&&(u.isNone(V)||u.isNone(V.arcade)))I.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return(S=this._getUniqueValueInfo(S,V))&&S.symbol||this.defaultSymbol};L.getSymbolAsync=async function(S,V){if(this.valueExpression&&(u.isNone(V)||u.isNone(V.arcade))){const ea=await G.loadArcade(),
{arcadeUtils:ha}=ea;ha.hasGeometryOperations(this.valueExpression)&&await ha.enableGeometryOperations();V={...V,arcade:ea}}return(S=this._getUniqueValueInfo(S,V))&&S.symbol||this.defaultSymbol};L.getSymbols=function(){const S=[];for(const V of this.uniqueValueInfos??[])V.symbol&&S.push(V.symbol);this.defaultSymbol&&S.push(this.defaultSymbol);return S};L.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((S,V)=>S+V.getAttributeHash(),"")};L.getMeshHash=function(){const S=
JSON.stringify(this.backgroundFillSymbol),V=JSON.stringify(this.defaultSymbol),ea=this.uniqueValueInfos?.reduce((ha,la)=>ha+la.getMeshHash(),"");return`${S}.${V}.${ea}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`};L.clone=function(){const S=new M({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:d.clone(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,
valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:d.clone(this.visualVariables),legendOptions:d.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:d.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(S._isDefaultSymbolDerived=!0);S._set("portal",this.portal);const V=d.clone(this.uniqueValueInfos),ea=d.clone(this.uniqueValueGroups);this.styleOrigin&&(S._set("styleOrigin",Object.freeze(d.clone(this.styleOrigin))),
Object.freeze(V),Object.freeze(ea));S._set("uniqueValueInfos",V);S._updateValueInfoMap();S._set("uniqueValueGroups",ea);S._isInfosSource=this._isInfosSource;S._watchUniqueValueInfosAndGroups();return S};L.collectRequiredFields=async function(S,V){S=[this.collectVVRequiredFields(S,V),this.collectSymbolFields(S,V)];await Promise.all(S)};L.collectSymbolFields=async function(S,V){const ea=[...this.getSymbols().map(ha=>ha.collectRequiredFields(S,V)),v.collectArcadeFieldNames(S,V,this.valueExpression)];
v.collectField(S,V,this.field);v.collectField(S,V,this.field2);v.collectField(S,V,this.field3);await Promise.all(ea)};L.populateFromStyle=function(){return P.fetchStyle(this.styleOrigin,{portal:this.portal}).then(S=>{const V=[];this._valueInfoMap={};S&&S.data&&Array.isArray(S.data.items)&&S.data.items.forEach(ea=>{var ha=new O({styleUrl:S.styleUrl,styleName:S.styleName,portal:this.portal,name:ea.name});this.defaultSymbol||ea.name!==S.data.defaultItem||(this.defaultSymbol=ha,this._isDefaultSymbolDerived=
!0);ha=new F({value:ea.name,symbol:ha});V.push(ha);this._valueInfoMap[ea.name]=ha});this._set("uniqueValueInfos",Object.freeze(V));this._updateGroupsFromInfos(!0);this._isInfosSource=null;this._watchUniqueValueInfos();!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})};L._updateFieldDelimiter=function(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")};L._updateUniqueValues=
function(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())};L._updateValueInfoMap=function(){this._valueInfoMap={};const {uniqueValueInfos:S}=this;if(S)for(const V of S)this._valueInfoMap[V.value+""]=V};L._watchUniqueValueInfosAndGroups=function(){this._watchUniqueValueInfos();this._watchUniqueValueGroups()};L._watchUniqueValueInfos=function(){this.removeHandles("uvInfos-watcher");const {uniqueValueInfos:S}=this;if(S){const V=[];for(const ea of S)V.push(r.watch(()=>
({symbol:ea.symbol,value:ea.value,label:ea.label,description:ea.description}),(ha,la)=>{ha!==la&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(V,"uvInfos-watcher")}};L._watchUniqueValueGroups=function(){this.removeHandles("uvGroups-watcher");const {uniqueValueGroups:S}=this;if(S){const V=[];for(const ea of S){V.push(r.watch(()=>({classes:ea.classes}),(ha,la)=>{ha!==la&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const ha of ea.classes??
[])V.push(r.watch(()=>({symbol:ha.symbol,values:ha.values,label:ha.label,description:ha.description}),(la,ia)=>{la!==ia&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(V,"uvGroups-watcher")}};L._updateInfosFromGroups=function(){if(this.uniqueValueGroups){var S=[],{field:V,field2:ea,field3:ha,fieldDelimiter:la,uniqueValueGroups:ia,valueExpression:Y}=this;if(V||Y){var Z=!(!V||!ea);for(const pa of ia)for(const xa of pa.classes??[]){const {symbol:N,label:T,values:qa,
description:Ca}=xa;for(const Fa of qa??[]){const {value:fa,value2:ba,value3:ka}=Fa;var U=[fa];ea&&U.push(ba);ha&&U.push(ka);U=Z?U.join(la||""):U[0];S.push(new F({symbol:N,label:T,value:U,description:Ca}))}}}this._set("uniqueValueInfos",S)}else this._set("uniqueValueInfos",null);this._updateValueInfoMap();this._watchUniqueValueInfos()};L._updateGroupsFromInfos=function(S=!1){if(this.uniqueValueInfos){var {field:V,field2:ea,valueExpression:ha,fieldDelimiter:la,uniqueValueInfos:ia}=this;if((V||ha)&&
ia.length){var Y=!(!V||!ea),Z=ia.map(U=>{const {symbol:pa,label:xa,value:N,description:T}=U,[qa,Ca,Fa]=Y?N?.toString()?.split(la||"")||[]:[N];return new y({symbol:pa,label:xa,description:T,values:[new D({value:qa,value2:Ca,value3:Fa})]})});Z=[new C({classes:Z})];S&&Object.freeze(Z);this._set("uniqueValueGroups",Z)}else this._set("uniqueValueGroups",[])}else this._set("uniqueValueGroups",null);this._watchUniqueValueGroups()};L._getUniqueValueInfo=function(S,V){return this.valueExpression?this._getUnqiueValueInfoForExpression(S,
V):this._getUnqiueValueInfoForFields(S)};L._getUnqiueValueInfoForExpression=function(S,V){const {viewingMode:ea,scale:ha,spatialReference:la,arcade:ia}=u.unwrapOr(V,{});var Y=this._cache.compiledFunc;V=u.unwrap(ia).arcadeUtils;Y||(Y=V.createSyntaxTree(this.valueExpression),Y=V.createFunction(Y),this._cache.compiledFunc=Y);S=V.executeFunction(Y,V.createExecContext(S,V.getViewInfo({viewingMode:ea,scale:ha,spatialReference:la})));return this._valueInfoMap[S+""]};L._getUnqiueValueInfoForFields=function(S){const V=
this.field,ea=S.attributes;if("function"!==typeof V&&this.field2){S=this.field2;var ha=this.field3;const la=[];V&&la.push(ea[V]);S&&la.push(ea[S]);ha&&la.push(ea[ha]);ha=la.join(this.fieldDelimiter||"")}else"function"===typeof V?ha=V(S):V&&(ha=ea[V]);return this._valueInfoMap[ha+""]};aa.fromPortalStyle=function(S,V){const ea=new M(V&&V.properties);ea._set("styleOrigin",Object.freeze({styleName:S}));ea._set("portal",V&&V.portal||w.getDefault());V=ea.populateFromStyle();V.catch(ha=>{I.error(`#fromPortalStyle('${S}'[, ...])`,
"Failed to create unique value renderer from style name",ha)});return V};aa.fromStyleUrl=function(S,V){V=new M(V&&V.properties);V._set("styleOrigin",Object.freeze({styleUrl:S}));V=V.populateFromStyle();V.catch(ea=>{I.error(`#fromStyleUrl('${S}'[, ...])`,"Failed to create unique value renderer from style URL",ea)});return V};a._createClass(aa,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"field",set:function(S){this._set("field",S);this._updateFieldDelimiter();this._updateUniqueValues()}},
{key:"field2",set:function(S){this._set("field2",S);this._updateFieldDelimiter();this._updateUniqueValues()}},{key:"field3",set:function(S){this._set("field3",S);this._updateUniqueValues()}},{key:"valueExpression",set:function(S){this._set("valueExpression",S);this._updateUniqueValues()}},{key:"defaultSymbol",set:function(S){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",S)}},{key:"fieldDelimiter",set:function(S){this._set("fieldDelimiter",S);this._updateUniqueValues()}},{key:"uniqueValueGroups",
set:function(S){this.styleOrigin?I.error("#uniqueValueGroups\x3d","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",S),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}},{key:"uniqueValueInfos",set:function(S){this.styleOrigin?I.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",S),this._updateValueInfoMap(),
this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return aa}(z.VisualVariablesMixin(x));b.__decorate([p.property({readOnly:!0})],n.prototype,"_cache",null);b.__decorate([g.enumeration({uniqueValue:"unique-value"})],n.prototype,"type",void 0);b.__decorate([p.property(A.rendererBackgroundFillSymbolProperty)],n.prototype,"backgroundFillSymbol",void 0);b.__decorate([p.property({value:null,
json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],n.prototype,"field",null);b.__decorate([m.cast("field")],n.prototype,"castField",null);b.__decorate([q.writer("field")],n.prototype,"writeField",null);b.__decorate([p.property({type:String,value:null,json:{write:!0}})],n.prototype,"field2",null);b.__decorate([p.property({type:String,value:null,json:{write:!0}})],n.prototype,"field3",null);b.__decorate([p.property({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],
n.prototype,"orderByClassesEnabled",void 0);b.__decorate([p.property({type:String,value:null,json:{write:!0}})],n.prototype,"valueExpression",null);b.__decorate([p.property({type:String,json:{write:!0}})],n.prototype,"valueExpressionTitle",void 0);b.__decorate([p.property({type:B.LegendOptions,json:{write:!0}})],n.prototype,"legendOptions",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],n.prototype,"defaultLabel",void 0);b.__decorate([p.property(t.deepMerge({...A.rendererSymbolProperty},
{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],n.prototype,"defaultSymbol",null);b.__decorate([p.property({type:String,value:null,json:{write:!0}})],n.prototype,"fieldDelimiter",null);b.__decorate([p.property({type:w,readOnly:!0})],n.prototype,"portal",void 0);b.__decorate([f.reader("portal",["styleName"])],n.prototype,"readPortal",null);b.__decorate([p.property({readOnly:!0,
json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],n.prototype,"styleOrigin",void 0);b.__decorate([f.reader("styleOrigin",["styleName","styleUrl"])],n.prototype,"readStyleOrigin",null);b.__decorate([q.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],n.prototype,"writeStyleOrigin",null);b.__decorate([p.property({type:[C],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(L,aa,R)=>(aa.uniqueValueGroups||K(aa)).map(S=>C.fromJSON(S,R))},write:{overridePolicy(){return this.styleOrigin?
{enabled:!1}:{enabled:!0}}}}})],n.prototype,"uniqueValueGroups",null);b.__decorate([p.property({type:[F],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],n.prototype,"uniqueValueInfos",null);return n=M=b.__decorate([h.subclass("esri.renderers.UniqueValueRenderer")],n)})},"esri/core/reactiveUtils":function(){define("exports ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,c,e,
d,n,u){function t(f,h,q={}){return r(f,h,q,m)}function r(f,h,q={},k){let l=null;const v=q.once?(w,x)=>{k(w)&&(e.removeMaybe(l),h(w,x))}:(w,x)=>{k(w)&&h(w,x)};l=n.watchTracked(f,v,q.sync,q.equals);q.initial&&(f=f(),v(f,f));return l}function p(f,h,q){if(d.isAborted(q))return Promise.reject(d.createAbortError());const k=f();if(h?.(k))return Promise.resolve(k);let l=null;return new Promise((v,w)=>{l=c.handlesGroup([d.onAbort(q,()=>{l=e.removeMaybe(l);w(d.createAbortError())}),r(f,x=>{l=e.removeMaybe(l);
v(x)},{sync:!1,once:!0},h??m)])})}function m(f){return!0}function g(f){return!!f}a.autorun=u.autorun;a.initial={initial:!0};a.on=function(f,h,q,k={}){function l(){w&&x&&(x.remove(),k.onListenerRemove?.(w),x=w=null)}function v(B){k.once&&k.once&&e.removeMaybe(z);q(B)}let w=null,x=null,z=null;const A=t(f,(B,D)=>{l();b.isEventTarget(B)&&(w=B,x=b.on(B,h,v),k.onListenerAdd?.(B))},{sync:k.sync,initial:!0});return z=c.makeHandle(()=>{A.remove();l()})};a.once=function(f,h){return p(f,null,h)};a.pausable=
function(f,h,q={}){let k=!1;const l=t(f,(v,w)=>{k||h(v,w)},q);return{remove(){l.remove()},pause(){k=!0},resume(){k=!1}}};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=t;a.when=function(f,h,q={}){return r(f,h,q,g)};a.whenOnce=function(f,h){return p(f,g,h)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../Accessor","../Collection","../maybe","./utils"],function(a,b,c,e,d){function n(h){return h instanceof
c?Object.keys(h.items):h instanceof b?d.getProperties(h).keys():h?Object.keys(h):[]}function u(h,q){return h instanceof c?h.items[q]:h[q]}function t(h,q){return Array.isArray(h)&&Array.isArray(q)?h.length!==q.length:!1}function r(h){return h?h.declaredClass:null}function p(h,q){const k=h.diff;if(k&&"function"===typeof k)return k(h,q);const l=n(h),v=n(q);if(0!==l.length||0!==v.length){if(!l.length||!v.length||t(h,q))return{type:"complete",oldValue:h,newValue:q};var w=v.filter(A=>!l.includes(A)),x=
l.filter(A=>!v.includes(A));x=l.filter(A=>v.includes(A)&&u(h,A)!==u(q,A)).concat(w,x).sort();if((w=r(h))&&f.includes(w)&&x.length)return{type:"complete",oldValue:h,newValue:q};var z;w=h instanceof b&&q instanceof b;for(const A of x){x=u(h,A);const B=u(q,A);if((w||"function"!==typeof x&&"function"!==typeof B)&&x!==B&&(null!=x||null!=B)){if(k&&k[A]&&"function"===typeof k[A])x=k[A](x,B);else if(x instanceof Date&&B instanceof Date){if(x.getTime()===B.getTime())continue;x={type:"complete",oldValue:x,
newValue:B}}else x="object"===typeof x&&"object"===typeof B&&r(x)===r(B)?p(x,B):{type:"complete",oldValue:x,newValue:B};e.isSome(x)&&(e.isSome(z)?z.diff[A]=x:z={type:"partial",diff:{[A]:x}})}}return z}}function m(h,q){if(e.isNone(h))return!1;q=q.split(".");for(const k of q){if("complete"===h.type)break;if("partial"===h.type){if(h=h.diff[k],!h)return!1}else return!1}return!0}function g(h){if(e.isNone(h))return!0;switch(h.type){case "complete":return!1;case "collection":for(const q of h.added)if(!g(q))return!1;
for(const q of h.removed)if(!g(q))return!1;for(const q of h.changed)if(!g(q))return!1;return!0;case "partial":for(const q in h.diff)if(!g(h.diff[q]))return!1;return!0}}const f=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];a.diff=function(h,q){if(!("function"===typeof h||"function"===typeof q||e.isNone(h)&&e.isNone(q)))return e.isNone(h)||e.isNone(q)||"object"===typeof h&&"object"===typeof q&&r(h)!==r(q)?{type:"complete",
oldValue:h,newValue:q}:p(h,q)};a.hasDiff=m;a.hasDiffAny=function(h,q){for(const k of q)if(m(h,k))return!0;return!1};a.isEmpty=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/UniqueValue":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,e,d,n,u,t,r,p){c=function(m){function g(h){h=f.call(this,h);h.value=null;h.value2=null;h.value3=null;return h}a._inherits(g,m);var f=a._createSuper(g);return a._createClass(g)}(c.ClonableMixin(e.JSONSupport));b.__decorate([d.property(p.uniqueValueProperty)],c.prototype,"value",void 0);b.__decorate([d.property(p.uniqueValueProperty)],c.prototype,"value2",void 0);b.__decorate([d.property(p.uniqueValueProperty)],c.prototype,"value3",void 0);return c=b.__decorate([r.subclass("esri.renderers.support.UniqueValue")],
c)})},"esri/renderers/support/UniqueValueClass":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties ./UniqueValue".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g){c=function(f){function h(k){k=q.call(this,k);k.description=
null;k.label=null;k.symbol=null;k.values=null;return k}a._inherits(h,f);var q=a._createSuper(h);h.prototype.castValues=function(k){if(null==k)return null;k=Array.isArray(k)?k:[k];const l=typeof k[0];return"string"===l||"number"===l?k.map(v=>new g({value:v})):"object"===l?k[0]instanceof g?k:k.map(v=>new g(v)):null};return a._createClass(h)}(c.ClonableMixin(e.JSONSupport));b.__decorate([n.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([n.property({type:String,
json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([n.property(m.rendererSymbolProperty)],c.prototype,"symbol",void 0);b.__decorate([n.property({type:[g],json:{type:[[String]],read:{reader:f=>f?f.map(h=>new g({value:h[0],value2:h[1],value3:h[2]})):null},write:{writer:(f,h)=>{const q=[];for(const k of f)f=[k.value,k.value2,k.value3].filter(d.isSome).map(l=>l.toString()),q.push(f);h.values=q}}}})],c.prototype,"values",void 0);b.__decorate([u.cast("values")],c.prototype,"castValues",null);return c=
b.__decorate([p.subclass("esri.renderers.support.UniqueValueClass")],c)})},"esri/renderers/support/UniqueValueGroup":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./UniqueValueClass".split(" "),function(a,b,c,e,d,n,u,t,r,p){c=function(m){function g(h){h=
f.call(this,h);h.heading=null;h.classes=null;return h}a._inherits(g,m);var f=a._createSuper(g);return a._createClass(g)}(c.ClonableMixin(e.JSONSupport));b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"heading",void 0);b.__decorate([d.property({type:[p],json:{write:!0}})],c.prototype,"classes",void 0);return c=b.__decorate([r.subclass("esri.renderers.support.UniqueValueGroup")],c)})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;c=p=function(m){function g(h){h=f.call(this,h);h.description=null;h.label=null;h.symbol=null;h.value=null;return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.clone=function(){return new p({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};m.getMeshHash=function(){const h=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${h}`};return a._createClass(g)}(c.JSONSupport);b.__decorate([e.property({type:String,
json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property(r.rendererSymbolProperty)],c.prototype,"symbol",void 0);b.__decorate([e.property(r.uniqueValueProperty)],c.prototype,"value",void 0);return c=p=b.__decorate([t.subclass("esri.renderers.support.UniqueValueInfo")],c)})},"esri/symbols/support/styleUtils":function(){define("exports ../../request ../../core/Error ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags".split(" "),
function(a,b,c,e,d,n,u,t,r){async function p(h,q){try{return{data:(await f(h,q)).data,baseUrl:n.removeFile(h),styleUrl:h}}catch(k){return d.throwIfAbortError(k),null}}function m(h,q,k){q=e.isSome(q.portal)?q.portal:u.getDefault();let l;const v=`${q.url} - ${q.user&&q.user.username} - ${h}`;a.cachedStyles[v]||(a.cachedStyles[v]=g(h,q,k).then(w=>{l=w;return w.fetchData()}).then(w=>({data:w,baseUrl:l.itemUrl??"",styleName:h})));return a.cachedStyles[v]}function g(h,q,k){return q.load(k).then(()=>{const l=
new t({disableExtraQuery:!0,query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${h}"`});return q.queryItems(l,k)}).then(({results:l})=>{let v=null;const w=h.toLowerCase();if(l&&Array.isArray(l))for(const x of l)if(x.typeKeywords?.some(z=>z.toLowerCase()===w)&&"Style"===x.type&&"esri_en"===x.owner){v=x;break}if(!v)throw new c("symbolstyleutils:style-not-found",`The style '${h}' could not be found`,{styleName:h});return v.load(k)})}function f(h,q){q={responseType:"json",query:{f:"json"},
...q};return b(n.normalize(h),q)}a.cachedStyles={};a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";a.cleanupStyleUtilsCache=function(){a.cachedStyles&&(a.cachedStyles={})};a.fetchStyle=function(h,q,k){return h&&e.isSome(h.styleUrl)?p(h.styleUrl,k):h&&e.isSome(h.styleName)?m(h.styleName,q,k):Promise.reject(new c("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))};
a.makeCIMSymbolRef=function(h){return null===h||"CIMSymbolReference"===h.type?h:{type:"CIMSymbolReference",symbol:h}};a.requestJSON=f;a.symbolUrlFromStyleItem=function(h,q){if("cimRef"===q)return h.cimRef;if(h.formatInfos&&!r.enableWebStyleForceWOSR())for(const k of h.formatInfos)if("gltf"===k.type)return k.href;return h.webRef};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/featureFlags":function(){define(["exports","../core/has"],function(a,b){const c=()=>b.cache["enable-feature:direct-3d-object-feature-layer-display"]=
!0,e=()=>b.cache["enable-i3s-patching"]=!0;a.direct3DObjectFeatureLayerDisplayEnabled=()=>!!b("enable-feature:direct-3d-object-feature-layer-display");a.enableDirect3DObjectFeatureLayerDisplay=c;a.enableI3SPatching=e;a.enableSceneLayerEditing=()=>{b.cache["enable-feature:SceneLayer-editing"]=!0;c();e()};a.enableWebStyleForceWOSR=()=>!!b("enable-feature:force-wosr");a.i3sPatchingEnabled=()=>!!b("enable-i3s-patching");a.sceneLayerEditingEnabled=()=>!!b("enable-feature:SceneLayer-editing");Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./types"],function(a,b,c,e){function d(u,t,r){return u?u&&(u.styleName||u.styleUrl)&&"uniqueValue"!==u.type?(r&&r.messages&&r.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+u.type+"'",{definition:u,context:r})),null):n(u,t,r):null}const n=
c.createTypeReader({types:e.rendererTypes});a.fromJSON=function(u,t){return d(u,null,t)};a.read=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/types":function(){define("exports ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../PieChartRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),function(a,b,c,e,d,n,u,t,r){const p={key:"type",base:u,typeMap:{simple:t,"unique-value":r,"class-breaks":b,heatmap:d},
errorContext:"renderer"};a.rendererTypes={key:"type",base:u,typeMap:{heatmap:d,simple:t,"unique-value":r,"class-breaks":b,"dot-density":e,dictionary:c,"pie-chart":n},errorContext:"renderer"};a.webSceneRendererTypes=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r){const p=g=>{g=function(f){function h(...k){return q.call(this,...k)}b._inherits(h,f);var q=b._createSuper(h);f=h.prototype;f.clear=function(k,l="user"){return u.getProperties(this).store.delete(k,n.nameToId(l))};f.write=function(k,l){k=k||{};t.write(this,k,l);return k};f.setAtOrigin=function(k,l,v){u.getProperties(this).setAtOrigin(k,l,n.nameToId(v))};f.removeOrigin=function(k){const l=u.getProperties(this).store;k=n.nameToId(k);const v=l.keys(k);for(const w of v)l.originOf(w)===
k&&l.set(w,l.get(w,k),n.OriginId.USER)};f.updateOrigin=function(k,l){const v=u.getProperties(this).store;l=n.nameToId(l);const w=this.get(k);for(let x=l+1;x<n.OriginIdNum;++x)v.delete(k,x);v.set(k,w,l)};f.toJSON=function(k){return this.write({},k)};return b._createClass(h)}(g);g=c.__decorate([r.subclass("esri.core.WriteableMultiOriginJSONSupport")],g);g.prototype.toJSON.isDefaultToJSON=!0;return g},m=g=>{g=function(f){function h(...k){return q.call(this,...k)}b._inherits(h,f);var q=b._createSuper(h);
return b._createClass(h)}(p(d.ReadOnlyMultiOriginJSONMixin(g)));return g=c.__decorate([r.subclass("esri.core.MultiOriginJSONSupport")],g)};a.MultiOriginJSONSupport=function(g){function f(){return h.apply(this,arguments)}b._inherits(f,g);var h=b._createSuper(f);return b._createClass(f)}(m(e));a.MultiOriginJSONSupport=c.__decorate([r.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/defaultsStoreUtils ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){const g=f=>{f=function(h){function q(...l){l=k.call(this,...l);const v=d.assumeNonNull(p.getProperties(b._assertThisInitialized(l))),w=v.store,x=new u;v.store=x;n.setupConstructedDefaults(v,w,x);return l}b._inherits(q,h);var k=b._createSuper(q);h=q.prototype;h.read=function(l,v){r.read(this,l,v)};h.getAtOrigin=function(l,v){const w=p.getProperties(this).store,x=t.nameToId(v);if("string"===typeof l)return w.get(l,x);const z={};l.forEach(A=>{z[A]=w.get(A,x)});return z};
h.originOf=function(l){return t.idToName(this.originIdOf(l))};h.originIdOf=function(l){return p.getProperties(this).store.originOf(l)};h.revert=function(l,v){const w=p.getProperties(this).store,x=t.nameToId(v),z=p.getProperties(this);("string"===typeof l?"*"===l?w.keys(x):[l]:l).forEach(A=>{z.invalidate(A);w.revert(A,x);z.commit(A)})};return b._createClass(q)}(f);return f=c.__decorate([m.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],f)};a.ReadOnlyMultiOriginJSONSupport=function(f){function h(){return q.apply(this,
arguments)}b._inherits(h,f);var q=b._createSuper(h);return b._createClass(h)}(g(e));a.ReadOnlyMultiOriginJSONSupport=c.__decorate([m.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../../chunks/_rollupPluginBabelHelpers","../lang","../maybe","./PropertyOrigin"],function(a,b,c,e){return function(){function d(){this._propertyOriginMap=
new Map;this._originStores=Array(e.OriginIdNum);this._values=new Map;this.multipleOriginsSupported=!0}var n=d.prototype;n.clone=function(u){const t=new d;var r=this._originStores[e.OriginId.DEFAULTS];r&&r.forEach((p,m)=>{t.set(m,b.clone(p),e.OriginId.DEFAULTS)});for(let p=e.OriginId.SERVICE;p<e.OriginIdNum;p++)(r=this._originStores[p])&&r.forEach((m,g)=>{u&&u.has(g)||t.set(g,b.clone(m),p)});return t};n.get=function(u,t){return(t=void 0===t?this._values:this._originStores[t])?t.get(u):void 0};n.keys=
function(u){return(u=null==u?this._values:this._originStores[u])?[...u.keys()]:[]};n.set=function(u,t,r=e.OriginId.USER){var p=this._originStores[r];p||(p=new Map,this._originStores[r]=p);p.set(u,t);return!this._values.has(u)||c.assumeNonNull(this._propertyOriginMap.get(u))<=r?(p=this._values.get(u),this._values.set(u,t),this._propertyOriginMap.set(u,r),p!==t):!1};n.delete=function(u,t=e.OriginId.USER){var r=this._originStores[t];if(r){var p=r.get(u);r.delete(u);if(this._values.has(u)&&this._propertyOriginMap.get(u)===
t)for(this._values.delete(u),--t;0<=t;t--)if((r=this._originStores[t])&&r.has(u)){this._values.set(u,r.get(u));this._propertyOriginMap.set(u,t);break}return p}};n.has=function(u,t){return(t=void 0===t?this._values:this._originStores[t])?t.has(u):!1};n.revert=function(u,t){for(;0<t&&!this.has(u,t);)--t;var r=this._originStores[t];r=r&&r.get(u);const p=this._values.get(u);this._values.set(u,r);this._propertyOriginMap.set(u,t);return p!==r};n.originOf=function(u){return this._propertyOriginMap.get(u)||
e.OriginId.DEFAULTS};n.forEach=function(u){this._values.forEach(u)};return a._createClass(d)}()})},"esri/core/sql":function(){define(["require","exports","./maybe"],function(a,b,c){b.parseWhereClause=async function(e,d){const {WhereClause:n}=await new Promise((u,t)=>a(["./sql/WhereClause"],u,t));return n.create(e,d)};b.sqlAnd=function(e,d){return c.isSome(e)?c.isSome(d)?`(${e}) AND (${d})`:e:d};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/form/FormTemplate":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/elements".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){var f;const h=g.buildTypeMaps(m);c=f=function(q){function k(v){v=l.call(this,v);v.description=null;v.elements=null;v.expressionInfos=null;v.preserveFieldValuesWhenHidden=!1;v.title=null;return v}a._inherits(k,q);var l=a._createSuper(k);q=k.prototype;q.castElements=function(v){return g.ensureType(v,h)};q.readElements=function(v,w){return g.fromJSON(w.formElements,h)};q.writeElements=function(v,w){w.formElements=g.toJSON(v,h)};q.clone=function(){return new f({description:this.description,
expressionInfos:e.clone(this.expressionInfos),elements:e.clone(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})};return a._createClass(k)}(c.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"elements",void 0);b.__decorate([n.cast("elements")],c.prototype,"castElements",null);b.__decorate([u.reader("elements",["formElements"])],c.prototype,
"readElements",null);b.__decorate([r.writer("elements")],c.prototype,"writeElements",null);b.__decorate([d.property({type:[p],json:{write:!0}})],c.prototype,"expressionInfos",void 0);b.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],c.prototype,"preserveFieldValuesWhenHidden",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=f=b.__decorate([t.subclass("esri.form.FormTemplate")],c)})},"esri/form/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=g.call(this,f);f.expression=null;f.name=null;f.returnType="boolean";f.title=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return a._createClass(m)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],
c.prototype,"name",void 0);b.__decorate([e.property({type:["boolean","date","number","string"],json:{write:!0}})],c.prototype,"returnType",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=r=b.__decorate([t.subclass("esri.form.ExpressionInfo")],c)})},"esri/form/elements/GroupElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./Element ../support/elements".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;r=m=function(f){function h(k){k=q.call(this,k);k.elements=null;k.initialState="expanded";k.type="group";return k}a._inherits(h,f);var q=a._createSuper(h);f=h.prototype;f.castElements=function(k){return p.ensureType(k,g,!1)};f.readElements=function(k,l){return p.fromJSON(l.formElements,g,!1)};f.writeElements=function(k,l){l.formElements=p.toJSON(k,g,!1)};f.clone=function(){return new m({description:this.description,elements:c.clone(this.elements),initialState:this.initialState,
label:this.label,visibilityExpression:this.visibilityExpression})};return a._createClass(h)}(r);b.__decorate([e.property({json:{write:!0}})],r.prototype,"elements",void 0);b.__decorate([d.cast("elements")],r.prototype,"castElements",null);b.__decorate([n.reader("elements",["formElements"])],r.prototype,"readElements",null);b.__decorate([t.writer("elements")],r.prototype,"writeElements",null);b.__decorate([e.property({type:["collapsed","expanded"],json:{write:!0}})],r.prototype,"initialState",void 0);
b.__decorate([e.property({type:String,json:{read:!1,write:!0}})],r.prototype,"type",void 0);r=m=b.__decorate([u.subclass("esri.form.elements.GroupElement")],r);const g=p.buildTypeMaps(r);return r})},"esri/form/elements/Element":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,c,e,d){c=function(n){function u(r){r=t.call(this,r);
r.description=null;r.label=null;r.type=null;r.visibilityExpression=null;return r}a._inherits(u,n);var t=a._createSuper(u);return a._createClass(u)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property()],c.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"visibilityExpression",void 0);return c=
b.__decorate([d.subclass("esri.form.elements.Element")],c)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement".split(" "),function(a,b,c,e,d,n){a.buildTypeMaps=function(u){return{typesWithGroup:{base:e,key:"type",typeMap:{attachment:c,field:d,group:u,relationship:n}},typesWithoutGroup:{base:e,key:"type",typeMap:{attachment:c,field:d,relationship:n}}}};
a.ensureType=function(u,t,r=!0){return u?u.map(p=>b.ensureOneOfType(r?t.typesWithGroup:t.typesWithoutGroup,p)):null};a.fromJSON=function(u,t,r=!0){if(!u)return null;const p=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return u.filter(m=>p[m.type]).map(m=>p[m.type].fromJSON(m))};a.toJSON=function(u,t,r=!0){if(!u)return null;const p=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return u.filter(m=>p[m.type]).map(m=>m.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/form/elements/AttachmentElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Element ./inputs/AttachmentInput".split(" "),function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.attachmentKeyword=null;h.editable=!0;h.input=null;h.type="attachment";return h}a._inherits(g,
m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})};return a._createClass(g)}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"attachmentKeyword",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"editable",void 0);b.__decorate([c.property({type:r,json:{read:{source:"inputType"},
write:{target:"inputType"}}})],e.prototype,"input",void 0);b.__decorate([c.property({type:["attachment"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=p=b.__decorate([u.subclass("esri.form.elements.AttachmentElement")],e)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=g.call(this,f);f.type=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({type:this.type})};return a._createClass(m)}(c.JSONSupport);b.__decorate([e.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],c.prototype,"type",void 0);return c=r=b.__decorate([t.subclass("esri.form.elements.inputs.AttachmentInput")],c)})},"esri/form/elements/FieldElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/deprecate ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Element ./support/inputs ../../layers/support/domains".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){var f;const h=e.getLogger("esri.form.elements.FieldElement");e=f=function(q){function k(v){v=l.call(this,v);v.domain=null;v.editableExpression=null;v.fieldName=null;v.hint=null;v.input=null;v.requiredExpression=null;v.type="field";v.valueExpression=null;return v}a._inherits(k,q);var l=a._createSuper(k);k.prototype.clone=function(){return new f({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,
hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})};a._createClass(k,[{key:"editable",get:function(){c.deprecatedProperty(h,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0});return this._get("editable")??!0},set:function(v){c.deprecatedProperty(h,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0});this._set("editable",v)}}]);return k}(p);
b.__decorate([d.property({types:g.types,json:{read:{reader:g.fromJSON},write:!0}})],e.prototype,"domain",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],e.prototype,"editable",null);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"editableExpression",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"fieldName",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"hint",void 0);b.__decorate([d.property({types:m.types,
json:{read:{source:"inputType"},write:{target:"inputType"}}})],e.prototype,"input",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"requiredExpression",void 0);b.__decorate([d.property({type:String,json:{read:!1,write:!0}})],e.prototype,"type",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);return e=f=b.__decorate([r.subclass("esri.form.elements.FieldElement")],e)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/SwitchInput ../inputs/TextAreaInput ../inputs/TextBoxInput".split(" "),
function(a,b,c,e,d,n,u,t,r){a.types={base:d,key:"type",typeMap:{"barcode-scanner":b,"combo-box":c,"datetime-picker":e,"radio-buttons":n,switch:u,"text-area":t,"text-box":r}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(f){f=g.call(this,f);f.type="barcode-scanner";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({maxLength:this.maxLength,minLength:this.minLength})};return a._createClass(m)}(t);b.__decorate([c.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=r=b.__decorate([u.subclass("esri.form.elements.inputs.BarcodeScannerInput")],e)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,n,u,t){e=function(r){function p(g){g=m.call(this,g);g.maxLength=null;g.minLength=0;return g}a._inherits(p,r);var m=a._createSuper(p);return a._createClass(p)}(t);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"maxLength",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"minLength",void 0);return e=b.__decorate([u.subclass("esri.form.elements.inputs.TextInput")],e)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){c=function(r){function p(g){g=m.call(this,g);g.type=null;return g}a._inherits(p,r);var m=a._createSuper(p);return a._createClass(p)}(c.JSONSupport);b.__decorate([e.property()],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.form.elements.inputs.Input")],c)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(f){f=g.call(this,f);f.noValueOptionLabel=null;f.showNoValueOption=!0;f.type="combo-box";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})};return a._createClass(m)}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],
e.prototype,"showNoValueOption",void 0);b.__decorate([c.property({type:["combo-box"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=r=b.__decorate([u.subclass("esri.form.elements.inputs.ComboBoxInput")],e)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,e,d,n,u,t,r,p){function m(f){return null!=f?new Date(f):null}var g;e=g=function(f){function h(k){k=q.call(this,k);k.includeTime=!1;k.max=null;k.min=null;k.type="datetime-picker";return k}a._inherits(h,f);var q=a._createSuper(h);f=h.prototype;f.readMax=function(k,l){return m(l.max)};f.writeMax=function(k,l){l.max=k?k.getTime():null};f.readMin=function(k,l){return m(l.min)};f.writeMin=function(k,l){l.min=k?k.getTime():null};f.clone=function(){return new g({includeTime:this.includeTime,
max:this.max,min:this.min})};return a._createClass(h)}(p);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"includeTime",void 0);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],e.prototype,"max",void 0);b.__decorate([u.reader("max")],e.prototype,"readMax",null);b.__decorate([r.writer("max")],e.prototype,"writeMax",null);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],e.prototype,"min",void 0);b.__decorate([u.reader("min")],e.prototype,"readMin",
null);b.__decorate([r.writer("min")],e.prototype,"writeMin",null);b.__decorate([c.property({type:["datetime-picker"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=g=b.__decorate([t.subclass("esri.form.elements.inputs.DateTimePickerInput")],e)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(f){f=g.call(this,f);f.noValueOptionLabel=null;f.showNoValueOption=!0;f.type="radio-buttons";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})};return a._createClass(m)}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],
e.prototype,"showNoValueOption",void 0);b.__decorate([c.property({type:["radio-buttons"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=r=b.__decorate([u.subclass("esri.form.elements.inputs.RadioButtonsInput")],e)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(f){f=g.call(this,f);f.offValue=null;f.onValue=null;f.type="switch";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({offValue:this.offValue,onValue:this.onValue})};return a._createClass(m)}(t);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],e.prototype,"offValue",void 0);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],e.prototype,"onValue",void 0);b.__decorate([c.property({type:["switch"],
json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=r=b.__decorate([u.subclass("esri.form.elements.inputs.SwitchInput")],e)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),function(a,b,c,e,d,n,u,t){var r;
e=r=function(p){function m(f){f=g.call(this,f);f.type="text-area";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({maxLength:this.maxLength,minLength:this.minLength})};return a._createClass(m)}(t);b.__decorate([c.property({type:["text-area"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=r=b.__decorate([u.subclass("esri.form.elements.inputs.TextAreaInput")],e)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(f){f=g.call(this,f);f.type="text-box";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({maxLength:this.maxLength,minLength:this.minLength})};return a._createClass(m)}(t);b.__decorate([c.property({type:["text-box"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=r=b.__decorate([u.subclass("esri.form.elements.inputs.TextBoxInput")],e)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,c,e,d,n){b={key:"type",base:e,typeMap:{range:n,"coded-value":c,inherited:d}};a.CodedValueDomain=c;a.DomainBase=e;a.InheritedDomain=d;a.RangeDomain=n;a.fromJSON=function(u){if(!u||!u.type)return null;switch(u.type){case "range":return n.fromJSON(u);case "codedValue":return c.fromJSON(u);case "inherited":return d.fromJSON(u)}return null};a.types=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;d=p=function(m){function g(h){h=f.call(this,h);h.codedValues=null;h.type="coded-value";return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.getName=function(h){let q=null;if(this.codedValues){const k=String(h);this.codedValues.some(l=>{String(l.code)===k&&(q=l.name);return!!q})}return q};m.clone=function(){return new p({codedValues:c.clone(this.codedValues),name:this.name})};return a._createClass(g)}(r);b.__decorate([e.property({type:[t.CodedValue],json:{write:!0}})],
d.prototype,"codedValues",void 0);b.__decorate([n.enumeration({codedValue:"coded-value"})],d.prototype,"type",void 0);return d=p=b.__decorate([u.subclass("esri.layers.support.CodedValueDomain")],d)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;a.CodedValue=p=function(m){function g(h){h=f.call(this,h);h.name=null;h.code=null;return h}b._inherits(g,m);var f=b._createSuper(g);g.prototype.clone=function(){return new p({name:this.name,code:this.code})};return b._createClass(g)}(e.JSONSupport);c.__decorate([d.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);c.__decorate([d.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=p=c.__decorate([r.subclass("esri.layers.support.CodedValue")],
a.CodedValue);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p){c=new c.JSONMap({inherited:"inherited",
codedValue:"coded-value",range:"range"});e=function(m){function g(h){h=f.call(this,h);h.name=null;h.type=null;return h}a._inherits(g,m);var f=a._createSuper(g);return a._createClass(g)}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"name",void 0);b.__decorate([r.enumeration(c)],e.prototype,"type",void 0);return e=b.__decorate([p.subclass("esri.layers.support.Domain")],e)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;c=m=function(g){function f(q){q=h.call(this,q);q.type="inherited";return q}a._inherits(f,g);var h=a._createSuper(f);f.prototype.clone=function(){return new m};return a._createClass(f)}(p);b.__decorate([t.enumeration({inherited:"inherited"})],c.prototype,"type",void 0);return c=m=b.__decorate([r.subclass("esri.layers.support.InheritedDomain")],c)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.maxValue=null;h.minValue=null;h.type="range";return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return a._createClass(g)}(r);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(m,g){return g.range&&g.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&
null==this.minValue}},target:"range",writer(m,g,f){g[f]=[this.minValue||0,m]}}}})],e.prototype,"maxValue",void 0);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(m,g){return g.range&&g.range[0]}},write:{target:"range",writer(m,g,f){g[f]=[m,this.maxValue||0]}}}})],e.prototype,"minValue",void 0);b.__decorate([u.enumeration({range:"range"})],e.prototype,"type",void 0);return e=p=b.__decorate([t.subclass("esri.layers.support.RangeDomain")],e)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,e,d,n,u,t){var r;d=r=function(p){function m(f){f=g.call(this,f);f.displayCount=null;f.displayType="list";f.editable=!0;f.orderByFields=null;f.relationshipId=null;f.type="relationship";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:c.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})};
return a._createClass(m)}(u);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"displayCount",void 0);b.__decorate([e.property({type:["list"],json:{write:!0}})],d.prototype,"displayType",void 0);b.__decorate([e.property({type:Boolean,json:{write:!0}})],d.prototype,"editable",void 0);b.__decorate([e.property({type:[t],json:{write:!0}})],d.prototype,"orderByFields",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"relationshipId",void 0);b.__decorate([e.property({type:["relationship"],
json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=r=b.__decorate([n.subclass("esri.form.elements.RelationshipElement")],d)})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/HandleOwner ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/maybe ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y){let C=0;const F=m.getLogger("esri.layers.graphics.sources.MemorySource");a.MemorySource=function(G){function E(O){O=P.call(this,O);O._idToClientGraphic=null;O.type="memory";return O}b._inherits(E,G);var P=b._createSuper(E);G=E.prototype;G.load=function(O){O=g.isSome(O)?O.signal:null;this.addResolvingPromise(this._startWorker(O));return Promise.resolve(this)};G.destroy=function(){this._connection?.close();this._connection=null};G.applyEdits=
function(O){return this.load().then(()=>this._applyEdits(O))};G.openPorts=function(){return this.load().then(()=>this._connection.openPorts())};G.queryFeatures=async function(O,K={}){await this.load(K);K=await this._connection.invoke("queryFeatures",O?O.toJSON():null,K);z.applyFeatureSetZUnitScaling(O,this.layer.spatialReference,K);O=A.fromJSON(K);if(!this._requiresClientGraphicMapping())return O;K=this.layer.objectIdField;for(const M of O.features){const I=this._idToClientGraphic.get(M.attributes[K]);
I&&(M.geometry=I.geometry)}O.geometryType=this.layer.geometryType;return O};G.queryFeaturesJSON=async function(O,K={}){if(this._requiresClientGraphicMapping())throw new u("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(K);K=await this._connection.invoke("queryFeatures",O?O.toJSON():null,K);z.applyFeatureSetZUnitScaling(O,this.layer.spatialReference,K);return K};G.queryFeatureCount=function(O,K={}){return this.load(K).then(()=>
this._connection.invoke("queryFeatureCount",O?O.toJSON():null,K))};G.queryObjectIds=function(O,K={}){return this.load(K).then(()=>this._connection.invoke("queryObjectIds",O?O.toJSON():null,K))};G.queryExtent=function(O,K={}){return this.load(K).then(()=>this._connection.invoke("queryExtent",O?O.toJSON():null,K)).then(M=>({count:M.count,extent:B.fromJSON(M.extent)}))};G.querySnapping=function(O,K={}){return this.load(K).then(()=>this._connection.invoke("querySnapping",O,K))};G._applyEdits=async function(O){if(!this._connection)throw new u("feature-layer-source:edit-failure",
"Memory source not loaded");const K=this.layer.objectIdField;let M=null;const I=[],H=[];await Promise.all([this._prepareClientMapping(O.addFeatures,null),this._prepareClientMapping(O.updateFeatures,null)]);const L=V=>"objectId"in V&&null!=V.objectId?V.objectId:"attributes"in V&&null!=V.attributes[K]?V.attributes[K]:null;O.addFeatures&&(M=this._prepareAddFeatures(O.addFeatures));if(O.deleteFeatures)for(var aa of O.deleteFeatures){const V=L(aa);null!=V&&I.push(V)}aa=O.updateFeatures&&this._idToClientGraphic?
new Map:null;if(O.updateFeatures)for(const V of O.updateFeatures)H.push(this._serializeFeature(V)),aa&&(O=L(V),null!=O&&aa.set(O,V));x.unapplyEditsZUnitScaling(M?M.features:null,H,this.layer.spatialReference);const {fullExtent:R,featureEditResults:S}=await this._connection.invoke("applyEdits",{adds:M?M.features:[],updates:H,deletes:I});this.fullExtent=R;M&&M.finish(S.uidToObjectId);this._updateClientGraphicIds(aa,S);return this._createEditsResult(S)};G._prepareClientMapping=async function(O,K){if("mesh"===
this._layerOrSourceGeometryType&&!g.isNone(O)){var M=[];for(const {geometry:I}of O)!g.isSome(I)||"mesh"!==I.type||I.hasExtent||I.loaded||M.push(I.load({signal:K}));M.length&&await Promise.all(M)}};G._updateClientGraphicIds=function(O,K){if(this._idToClientGraphic){if(O)for(const M of K.updateResults){if(!M.success)continue;const I=O.get(M.objectId);null!=I&&this._addIdToClientGraphic(I)}for(const M of K.deleteResults)M.success&&this._idToClientGraphic.delete(M.objectId)}};G._createEditsResult=function(O){return{addFeatureResults:O.addResults?
O.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:O.updateResults?O.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:O.deleteResults?O.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};G._createFeatureEditResult=function(O){const K=!0===O.success?null:O.error||{code:void 0,description:void 0};return{objectId:O.objectId,globalId:O.globalId,error:K?new u("feature-layer-source:edit-failure",
K.description,{code:K.code}):null}};G._prepareAddFeatures=function(O){const K=new Map,M=Array(O.length);let I=null;for(let L=0;L<O.length;L++){const aa=O[L],R=this._serializeFeature(aa);!I&&g.isSome(aa.geometry)&&(I=aa.geometry.type);M[L]=R;K.set(`${R.uid}`,aa)}const H=this;return{features:M,inferredGeometryType:I,finish(L){const aa=H.sourceJSON.objectIdField;for(const R in L){const S=L[R],V=K.get(R);V&&(V.attributes||(V.attributes={}),-1===S?delete V.attributes[aa]:V.attributes[aa]=S,H._addIdToClientGraphic(V))}}}};
G._addIdToClientGraphic=function(O){if(this._idToClientGraphic){var K=this.sourceJSON.objectIdField;K=O.attributes&&O.attributes[K];null!=K&&this._idToClientGraphic.set(K,O)}};G._requiresClientGraphicMapping=function(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)};G._geometryRequiresClientGraphicMapping=function(O){return this._geometryTypeRequiresClientGraphicMapping(O.type)};G._geometryTypeRequiresClientGraphicMapping=function(O){return"mesh"===O||"multipatch"===
O||"extent"===O};G._serializeFeature=function(O){const {attributes:K}=O;O=this._geometryForSerialization(O);const M=(C++).toString();return O?{uid:M,geometry:O.toJSON(),attributes:K}:{uid:M,attributes:K}};G._geometryForSerialization=function(O){({geometry:O}=O);return g.isNone(O)?null:this._geometryRequiresClientGraphicMapping(O)?O.extent?D.fromExtent(O.extent):null:O};G._startWorker=async function(O){this._connection=await h.open("MemorySourceWorker",{strategy:r("feature-layers-workers")?"dedicated":
"local",signal:O});const {fields:K,spatialReference:M,objectIdField:I,hasM:H,hasZ:L,timeInfo:aa}=this.layer;var R="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,O);const S=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",ea=>{F.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");ea.preventDefault()}));R={features:S.features,fields:K&&K.map(ea=>ea.toJSON()),geometryType:y.typeKebabDictionary.toJSON(this._workerGeometryType),
hasM:"mesh"!==this._layerOrSourceGeometryType&&H,hasZ:"mesh"===this._layerOrSourceGeometryType||L,objectIdField:I,spatialReference:R?null:M&&M.toJSON(),timeInfo:aa?aa.toJSON():null};O=await this._connection.invoke("load",R,{signal:O});for(var V of O.warnings)F.warn(V.message,{layer:this.layer,warning:V});O.featureErrors.length&&F.warn(`Encountered ${O.featureErrors.length} validation errors while loading features`,O.featureErrors);V=O.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(S.inferredGeometryType)&&
(V.geometryType=y.typeKebabDictionary.toJSON(S.inferredGeometryType));this.sourceJSON=V;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);S.finish(O.assignedObjectIds)};b._createClass(E,[{key:"_workerGeometryType",get:function(){const O=this.layer?.geometryType;return O?this._geometryTypeRequiresClientGraphicMapping(O)?"polygon":O:null}},{key:"_layerOrSourceGeometryType",get:function(){return this.layer?.geometryType??this.sourceJSON?.geometryType}}]);return E}(p.LoadableMixin(f.EsriPromiseMixin(t.HandleOwnerMixin(n))));
c.__decorate([v.shared({Type:d,ensureType:k.ensureType(d)})],a.MemorySource.prototype,"itemType",void 0);c.__decorate([q.property()],a.MemorySource.prototype,"type",void 0);c.__decorate([q.property({constructOnly:!0})],a.MemorySource.prototype,"layer",void 0);c.__decorate([q.property({readOnly:!0})],a.MemorySource.prototype,"_workerGeometryType",null);c.__decorate([q.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=c.__decorate([w.subclass("esri.layers.graphics.sources.MemorySource")],
a.MemorySource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/HandleOwner":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Handles ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./support/WatchUpdatingTracking".split(" "),function(a,b,c,e,d,n,u,t){const r=p=>{p=function(m){function g(){var h=f.apply(this,arguments);h._handles=new d;h._updatingHandles=new t.WatchUpdatingTracking;return h}b._inherits(g,
m);var f=b._createSuper(g);g.prototype.destroy=function(){this.destroyed||(this._handles.destroy(),this._updatingHandles.destroy())};b._createClass(g,[{key:"handles",get:function(){return this._handles}},{key:"updatingHandles",get:function(){return this._updatingHandles}}]);return g}(p);c.__decorate([n.property({readOnly:!0})],p.prototype,"handles",null);c.__decorate([n.property({readOnly:!0})],p.prototype,"updatingHandles",null);return p=c.__decorate([u.subclass("esri.core.HandleOwner")],p)};a.HandleOwner=
function(p){function m(){return g.apply(this,arguments)}b._inherits(m,p);var g=b._createSuper(m);return b._createClass(m)}(r(e));a.HandleOwner=c.__decorate([u.subclass("esri.core.HandleOwner")],a.HandleOwner);a.HandleOwnerMixin=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/support/WatchUpdatingTracking":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../Accessor ../Handles ../maybe ../reactiveUtils ../scheduling ../accessorSupport/decorators/property ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p){a.WatchUpdatingTracking=function(m){function g(){var h=f.apply(this,arguments);h.updating=!1;h._handleId=0;h._handles=new d;h._scheduleHandleId=0;h._pendingPromises=new Set;return h}b._inherits(g,m);var f=b._createSuper(g);m=g.prototype;m.destroy=function(){this.removeAll();this._handles.destroy()};m.add=function(h,q,k={}){return this._installWatch(h,q,k,u.watch)};m.addWhen=function(h,q,k={}){return this._installWatch(h,q,k,u.when)};m.addOnCollectionChange=function(h,
q,{initial:k=!1,final:l=!1}={}){const v=++this._handleId;this._handles.add([u.on(h,"after-changes",this._createSyncUpdatingCallback(),u.sync),u.on(h,"change",q,{onListenerAdd:k?w=>q({added:w.toArray(),removed:[]}):void 0,onListenerRemove:l?w=>q({added:[],removed:w.toArray()}):void 0})],v);return{remove:()=>this._handles.remove(v)}};m.addPromise=function(h){if(n.isNone(h))return h;const q=++this._handleId;this._handles.add({remove:()=>{this._pendingPromises.delete(h)&&(0!==this._pendingPromises.size||
this._handles.has(-42)||this._set("updating",!1))}},q);this._pendingPromises.add(h);this._set("updating",!0);const k=()=>this._handles.remove(q);h.then(k,k);return h};m.removeAll=function(){this._pendingPromises.clear();this._handles.removeAll();this._set("updating",!1)};m._installWatch=function(h,q,k={},l){const v=++this._handleId;k.sync||this._installSyncUpdatingWatch(h,v);h=l(h,q,k);this._handles.add(h,v);return{remove:()=>this._handles.remove(v)}};m._installSyncUpdatingWatch=function(h,q){const k=
this._createSyncUpdatingCallback();h=u.watch(h,k,{sync:!0,equals:()=>!1});this._handles.add(h,q);return h};m._createSyncUpdatingCallback=function(){return()=>{this._handles.remove(-42);++this._scheduleHandleId;const h=this._scheduleHandleId;this._get("updating")||this._set("updating",!0);this._handles.add(t.schedule(()=>{h===this._scheduleHandleId&&(this._set("updating",0<this._pendingPromises.size),this._handles.remove(-42))}),-42)}};return b._createClass(g)}(e);c.__decorate([r.property({readOnly:!0})],
a.WatchUpdatingTracking.prototype,"updating",void 0);a.WatchUpdatingTracking=c.__decorate([p.subclass("esri.core.support.WatchUpdatingTracking")],a.WatchUpdatingTracking);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workers":function(){define("require exports ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),function(a,b,c,e,d,n,u,t){function r(l){if(l&&l.__esModule)return l;const v=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});
if(l)for(const w in l)if("default"!==w){const x=Object.getOwnPropertyDescriptor(l,w);Object.defineProperty(v,w,x.get?x:{enumerable:!0,get:()=>l[w]})}v.default=l;return Object.freeze(v)}async function p(l,v){const w=new n;await w.open(l,v);return w}async function m(){if(q)return q;k=new AbortController;const l=[];for(let v=0;v<g;v++){const w=t.create(v).then(x=>h[v]=x);l.push(w)}return q=Promise.all(l)}let g=e("esri-workers-debug")?1:e("esri-mobile")?Math.min(navigator.hardwareConcurrency-1,3):e("host-browser")?
navigator.hardwareConcurrency-1:0;g||(g=e("safari")&&e("mac")?7:2);let f=0;const h=[];let q=null,k;b.Connection=n;b.RemoteClient=u;b.initialize=function(){m()};b.open=async function(l,v={}){if("string"!==typeof l)throw new c("workers:undefined-module","modulePath is missing");var w=v.strategy||"distributed";e("host-webworker")&&!e("esri-workers")&&(w="local");if("local"===w){var x=await u.loadWorker(l);x||(x=await new Promise((z,A)=>a([l],B=>z(r(B)),A)));d.throwIfAborted(v.signal);w=v.client||x;x=
u.connect(x);return p([x],{...v,client:w})}await m();d.throwIfAborted(v.signal);if("dedicated"===w)return w=f++%g,w=await h[w].open(l,v),p([w],v);if(v.maxNumWorkers&&0<v.maxNumWorkers&&(w=Math.min(v.maxNumWorkers,g),w<g)){x=Array(w);for(let z=0;z<w;++z){const A=f++%g;x[z]=h[A].open(l,v)}return p(x,v)}w=h.map(z=>z.open(l,v));return p(w,v)};b.openWithPorts=function(l,v){return p(l,{client:v})};b.terminate=function(){q&&(k.abort(),q=null);for(let l=0;l<h.length;l++)h[l]&&h[l].terminate();h.length=0};
Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/Connection":function(){define("../../chunks/_rollupPluginBabelHelpers ../handleUtils ../Logger ../promiseUtils ../Queue ./RemoteClient".split(" "),function(a,b,c,e,d,n){return function(){function u(){this._inUseClients=[];this._clients=[];this._clientPromises=[];this._ongoingJobsQueue=new d}var t=u.prototype;t.destroy=function(){this.close()};t.open=function(r,p){return new Promise((m,g)=>{let f=!0;const h=q=>{e.throwIfAborted(p.signal);
f&&(f=!1,q())};this._clients.length=r.length;this._clientPromises.length=r.length;this._inUseClients.length=r.length;for(let q=0;q<r.length;++q){const k=r[q];e.isPromiseLike(k)?this._clientPromises[q]=k.then(l=>{this._clients[q]=new n(l,p,()=>this._ongoingJobsQueue.pop()??null);h(m);return this._clients[q]},()=>{h(g);return null}):(this._clients[q]=new n(k,p,()=>this._ongoingJobsQueue.pop()??null),this._clientPromises[q]=Promise.resolve(this._clients[q]),h(m))}})};t.broadcast=function(r,p,m){const g=
Array(this._clientPromises.length);for(let f=0;f<this._clientPromises.length;++f)g[f]=this._clientPromises[f].then(h=>h?.invoke(r,p,m));return g};t.close=function(){let r;for(;r=this._ongoingJobsQueue.pop();)r.deferred.reject(e.createAbortError(`Worker closing, aborting job calling '${r.methodName}'`));for(const p of this._clientPromises)p.then(m=>m?.close());this._clients.length=0;this._clientPromises.length=0;this._inUseClients.length=0};t.invoke=function(r,p,m){let g;Array.isArray(m)?(c.getLogger("esri.core.workers.Connection").warn("invoke()",
"The transferList parameter is deprecated, use the options object instead"),g={transferList:m}):g=m;m=e.createDeferred();this._ongoingJobsQueue.push({methodName:r,data:p,invokeOptions:g,deferred:m});for(r=0;r<this._clientPromises.length;r++)(p=this._clients[r])?p.jobAdded():this._clientPromises[r].then(f=>f?.jobAdded());return m.promise};t.on=function(r,p){return Promise.all(this._clientPromises).then(()=>b.handlesGroup(this._clients.map(m=>m.on(r,p))))};t.openPorts=function(){return new Promise(r=>
{const p=Array(this._clientPromises.length);let m=p.length;for(let g=0;g<this._clientPromises.length;++g)this._clientPromises[g].then(f=>{f&&(p[g]=f.openPort());0===--m&&r(p)})})};a._createClass(u,[{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"test",get:function(){return{numClients:this._clients.length}}}]);return u}()})},"esri/core/Queue":function(){define(["../chunks/_rollupPluginBabelHelpers","./maybe"],function(a,b){return function(){function c(d=n=>n.values().next().value){this._peeker=
d;this._items=new Set}var e=c.prototype;e.clear=function(){this._items.clear()};e.last=function(){if(0!==this._items.size){for(var d of this._items);return d}};e.peek=function(){if(0!==this._items.size)return this._peeker(this._items)};e.push=function(d){this.contains(d)||this._items.add(d)};e.contains=function(d){return this._items.has(d)};e.pop=function(){if(0!==this.length){var d=this.peek();this._items.delete(b.assumeNonNull(d));return d}};e.popLast=function(){if(0!==this.length){var d=this.last();
this._items.delete(b.assumeNonNull(d));return d}};e.remove=function(d){this._items.delete(d)};e.filter=function(d){this._items.forEach(n=>{d(n)||this._items.delete(n)});return this};a._createClass(c,[{key:"length",get:function(){return this._items.size}}]);return c}()})},"esri/core/workers/RemoteClient":function(){define("../../chunks/_rollupPluginBabelHelpers ../../kernel ../Error ../events ../maybe ../promiseUtils ./registry ./utils ../../support/revision".split(" "),function(a,b,c,e,d,n,u,t,r){const {CLOSE:p,
ABORT:m,INVOKE:g,RESPONSE:f,OPEN_PORT:h,ON:q}=t.MessageType;let k=function(){function v(x){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=x;this._timer=null;this._process=this._process.bind(this)}var w=v.prototype;w.push=function(x){x.type===t.MessageType.ABORT?this._cancelledJobIds.add(x.jobId):(this._invokeMessages.push(x),null===this._timer&&(this._timer=setTimeout(this._process,0)))};w.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();
this._timer=null};w._process=function(){this._timer=null;for(const x of this._invokeMessages)this._cancelledJobIds.has(x.jobId)||this._invoke(x);this._cancelledJobIds.clear();this._invokeMessages.length=0};return a._createClass(v)}(),l=function(){function v(x,z,A){this._port=x;this._getNextJob=A;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new k(B=>this._onInvokeMessage(B));this._client=z.client;this._onMessage=this._onMessage.bind(this);this._channel=z.channel;this._schedule=z.schedule;
this._port.addEventListener("message",this._onMessage);this._port.start()}v.connect=function(x){const z=new MessageChannel;x="function"===typeof x?new x:"default"in x&&"function"===typeof x.default?new x.default:x;const A=new v(z.port1,{channel:z,client:x},()=>null);"object"===typeof x&&"remoteClient"in x&&(x.remoteClient=A);v.clients.set(A,x);return z.port2};v.loadWorker=function(x){return(x=u.registry[x])?x():Promise.resolve(null)};var w=v.prototype;w.close=function(){this._post({type:p});this._close()};
w.isBusy=function(){return 0<this._outJobs.size};w.invoke=function(x,z,A){const B=A&&A.signal,D=A&&A.transferList;if(!this._port)return Promise.reject(new c("worker:port-closed",`Cannot call invoke('${x}'), port is closed`,{methodName:x,data:z}));const y=t.newJobId();return new Promise((C,F)=>{if(n.isAborted(B))this._processWork(),F(n.createAbortError());else{var G=n.onAbort(B,()=>{const E=this._outJobs.get(y);E&&(this._outJobs.delete(y),this._processWork(),d.removeMaybe(E.abortHandle),this._post({type:m,
jobId:y}),F(n.createAbortError()))});this._outJobs.set(y,{resolve:C,reject:F,abortHandle:G,debugInfo:x});this._post({type:g,jobId:y,methodName:x,abortable:null!=B},z,D)}})};w.on=function(x,z){function A(D){z(D.data)}const B=new MessageChannel;this._port.postMessage({type:t.MessageType.ON,eventType:x,port:B.port2},[B.port2]);B.port1.addEventListener("message",A);B.port1.start();return{remove(){B.port1.postMessage({type:t.MessageType.CLOSE});B.port1.close();B.port1.removeEventListener("message",A)}}};
w.jobAdded=function(){this._processWork()};w.openPort=function(){const x=new MessageChannel;this._post({type:h,port:x.port2});return x.port1};w._processWork=function(){if(!(2<=this._outJobs.size)){var x=this._getNextJob();if(x){var {methodName:z,data:A,invokeOptions:B,deferred:D}=x;this.invoke(z,A,B).then(y=>D.resolve(y)).catch(y=>D.reject(y))}}};w._close=function(){this._channel&&(this._channel=void 0);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(x=>
{d.removeMaybe(x.abortHandle);x.reject(n.createAbortError(`Worker closing, aborting job calling '${x.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._schedule=this._client=this._port=null};w._onMessage=function(x){d.isSome(this._schedule)?this._schedule(()=>this._processMessage(x)):this._processMessage(x)};w._processMessage=function(x){if(x=t.receiveMessage(x))switch(x.type){case f:this._onResponseMessage(x);break;case g:this._invokeQueue.push(x);break;case m:this._onAbortMessage(x);
break;case p:this._onCloseMessage();break;case h:this._onOpenPortMessage(x);break;case q:this._onOnMessage(x)}};w._onAbortMessage=function(x){const z=this._inJobs,A=x.jobId,B=z.get(A);this._invokeQueue.push(x);B&&(B.controller&&B.controller.abort(),z.delete(A))};w._onCloseMessage=function(){const x=this._client;this._close();x&&"destroy"in x&&v.clients.get(this)===x&&x.destroy();v.clients.delete(this);x&&x.remoteClient&&(x.remoteClient=null)};w._onInvokeMessage=function(x){const {methodName:z,jobId:A,
data:B,abortable:D}=x;x=D?new AbortController:null;const y=this._inJobs;let C=this._client,F=C[z],G;try{if(!F&&z&&z.includes(".")){const E=z.split(".");for(let P=0;P<E.length-1;P++)C=C[E[P]],F=C[E[P+1]]}if("function"!==typeof F)throw new TypeError(`${z} is not a function`);G=F.call(C,B,{client:this,signal:x?x.signal:null})}catch(E){this._post({type:f,jobId:A,error:t.toInvokeError(E)});return}n.isPromiseLike(G)?(y.set(A,{controller:x,promise:G}),G.then(E=>{y.has(A)&&(y.delete(A),this._post({type:f,
jobId:A},E))},E=>{y.has(A)&&(y.delete(A),n.isAbortError(E)||this._post({type:f,jobId:A,error:t.toInvokeError(E||{message:`Error encountered at method ${z}`})}))})):this._post({type:f,jobId:A},G)};w._onOpenPortMessage=function(x){new v(x.port,{client:this._client},()=>null)};w._onOnMessage=function(x){const {port:z}=x,A=this._client.on(x.eventType,D=>{z.postMessage(D)}),B=e.on(x.port,"message",D=>{t.receiveMessage(D)?.type===t.MessageType.CLOSE&&(B.remove(),A.remove(),z.close())})};w._onResponseMessage=
function(x){const {jobId:z,error:A,data:B}=x;x=this._outJobs;if(x.has(z)){var D=x.get(z);x.delete(z);this._processWork();d.removeMaybe(D.abortHandle);A?D.reject(c.fromJSON(JSON.parse(A))):D.resolve(B)}};w._post=function(x,z,A){return t.postMessage(this._port,x,z,A)};return a._createClass(v)}();l.kernelInfo={revision:r.commitHash,version:b.version,buildDate:r.buildDate};l.clients=new Map;return l})},"esri/core/workers/registry":function(){define(["require","exports"],function(a,b){const c=e=>Object.freeze(Object.defineProperty({__proto__:null,
default:e},Symbol.toStringTag,{value:"Module"}));b.registry={statsWorker:()=>new Promise((e,d)=>a(["../../smartMapping/statistics/support/statsWorker"],e,d)),geometryEngineWorker:()=>new Promise((e,d)=>a(["../../geometry/geometryEngineWorker"],e,d)),CSVSourceWorker:()=>new Promise((e,d)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],n=>e(c(n)),d)),EdgeProcessingWorker:()=>new Promise((e,d)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],n=>e(c(n)),d)),ElevationSamplerWorker:()=>
new Promise((e,d)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],n=>e(c(n)),d)),FeatureServiceSnappingSourceWorker:()=>new Promise((e,d)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],n=>e(c(n)),d)),GeoJSONSourceWorker:()=>new Promise((e,d)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],n=>e(c(n)),d)),LercWorker:()=>new Promise((e,d)=>a(["../../layers/support/LercWorker"],n=>e(c(n)),d)),MemorySourceWorker:()=>
new Promise((e,d)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],n=>e(c(n)),d)),PBFDecoderWorker:()=>new Promise((e,d)=>a(["../../views/3d/support/PBFDecoderWorker"],n=>e(c(n)),d)),Pipeline:()=>new Promise((e,d)=>a(["../../views/2d/layers/features/Pipeline"],n=>e(c(n)),d)),PointCloudWorker:()=>new Promise((e,d)=>a(["../../views/3d/layers/PointCloudWorker"],n=>e(c(n)),d)),RasterWorker:()=>new Promise((e,d)=>a(["../../layers/support/RasterWorker"],n=>e(c(n)),d)),SceneLayerSnappingSourceWorker:()=>
new Promise((e,d)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],n=>e(c(n)),d)),SceneLayerWorker:()=>new Promise((e,d)=>a(["../../views/3d/layers/SceneLayerWorker"],e,d)),WFSSourceWorker:()=>new Promise((e,d)=>a(["../../layers/graphics/sources/WFSSourceWorker"],n=>e(c(n)),d)),WorkerTileHandler:()=>new Promise((e,d)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],n=>e(c(n)),d))};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/core/workers/utils":function(){define(["exports","../has"],function(a,b){function c(t){return t&&"object"===typeof t&&("result"in t||"transferList"in t)}function e(t){return t?"string"===typeof t?JSON.stringify({name:"message",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function d(t,r,p,m){if(r.type===a.MessageType.OPEN_PORT)t.postMessage(r,[r.port]);else if(r.type!==a.MessageType.INVOKE&&r.type!==a.MessageType.RESPONSE)t.postMessage(r);
else if(c(p)?(m=n(p.transferList),r.data=p.result):(m=n(m),r.data=p),m){if(b("ff"))for(const g of m)if("byteLength"in g&&267386880<g.byteLength)switch(r.type){case a.MessageType.INVOKE:throw"Worker call with large ArrayBuffer would crash Firefox";case a.MessageType.RESPONSE:d(t,{type:a.MessageType.RESPONSE,jobId:r.jobId,error:e("Worker call with large ArrayBuffer would crash Firefox")});return}t.postMessage(r,m)}else t.postMessage(r)}function n(t){if(!t||!t.length)return null;if(b("esri-workers-arraybuffer-transfer"))return t;
t=t.filter(r=>!(r instanceof ArrayBuffer||"ArrayBuffer"===r?.constructor?.name));return t.length?t:null}a.MessageType=void 0;(function(t){t[t.HANDSHAKE=0]="HANDSHAKE";t[t.OPEN=1]="OPEN";t[t.OPENED=2]="OPENED";t[t.RESPONSE=3]="RESPONSE";t[t.INVOKE=4]="INVOKE";t[t.ABORT=5]="ABORT";t[t.CLOSE=6]="CLOSE";t[t.OPEN_PORT=7]="OPEN_PORT";t[t.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let u=0;a.isTranferableResult=c;a.newJobId=function(){return u++};a.postMessage=d;a.receiveMessage=function(t){return t?
(t=t.data)?"string"===typeof t?JSON.parse(t):t:null:null};a.toInvokeError=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerOwner":function(){define("../../chunks/_rollupPluginBabelHelpers ../../kernel ../Error ../Logger ../maybe ../promiseUtils ./utils ./workerFactory".split(" "),function(a,b,c,e,d,n,u,t){const {ABORT:r,INVOKE:p,OPEN:m,OPENED:g,RESPONSE:f}=u.MessageType;return function(){function h(k,l){this._outJobs=new Map;this._inJobs=new Map;this.worker=
k;this.id=l;k.addEventListener("message",this._onMessage.bind(this));k.addEventListener("error",v=>{v.preventDefault();e.getLogger("esri.core.workers.WorkerOwner").error(v)})}h.create=async function(k){const l=await t.createWorker();return new h(l,k)};var q=h.prototype;q.terminate=function(){this.worker.terminate()};q.open=async function(k,l={}){const {signal:v}=l,w=u.newJobId();return new Promise((x,z)=>{const A=n.onAbortOrThrow(v,()=>{this._outJobs.delete(w);this._post({type:r,jobId:w})});this._outJobs.set(w,
{resolve:x,reject:z,abortHandle:A});this._post({type:m,jobId:w,modulePath:k})})};q._onMessage=function(k){if(k=u.receiveMessage(k))switch(k.type){case g:this._onOpenedMessage(k);break;case f:this._onResponseMessage(k);break;case r:this._onAbortMessage(k);break;case p:this._onInvokeMessage(k)}};q._onAbortMessage=function(k){const l=this._inJobs;k=k.jobId;const v=l.get(k);v&&(v.controller&&v.controller.abort(),l.delete(k))};q._onInvokeMessage=function(k){const {methodName:l,jobId:v,data:w,abortable:x}=
k;k=x?new AbortController:null;const z=this._inJobs,A=b.workerMessages[l];let B;try{if("function"!==typeof A)throw new TypeError(`${l} is not a function`);B=A.call(null,w,{signal:k?k.signal:null})}catch(D){this._post({type:f,jobId:v,error:u.toInvokeError(D)});return}n.isPromiseLike(B)?(z.set(v,{controller:k,promise:B}),B.then(D=>{z.has(v)&&(z.delete(v),this._post({type:f,jobId:v},D))},D=>{z.has(v)&&(z.delete(v),D||(D={message:"Error encountered at method"+l}),n.isAbortError(D)||this._post({type:f,
jobId:v,error:u.toInvokeError(D||{message:`Error encountered at method ${l}`})}))})):this._post({type:f,jobId:v},B)};q._onOpenedMessage=function(k){const {jobId:l,data:v}=k;if(k=this._outJobs.get(l))this._outJobs.delete(l),d.removeMaybe(k.abortHandle),k.resolve(v)};q._onResponseMessage=function(k){const {jobId:l,error:v,data:w}=k;if(k=this._outJobs.get(l))this._outJobs.delete(l),d.removeMaybe(k.abortHandle),v?k.reject(c.fromJSON(JSON.parse(v))):k.resolve(w)};q._post=function(k,l,v){return u.postMessage(this.worker,
k,l,v)};return a._createClass(h)}()})},"esri/core/workers/workerFactory":function(){define("exports ../../assets ../../config ../../intl ../../kernel ../has ../Logger ../urlUtils ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g,f){async function h(x){return new Promise(z=>{function A(D){(D=p.receiveMessage(D))&&D.type===k&&(x.removeEventListener("message",A),x.removeEventListener("error",B),z(x))}function B(D){D.preventDefault();
x.removeEventListener("message",A);x.removeEventListener("error",B);q.warn("Failed to create Worker. Fallback to execute module in main thread",D);x=new m;x.addEventListener("message",A);x.addEventListener("error",B)}x.addEventListener("message",A);x.addEventListener("error",B)})}const q=u.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:k}=p.MessageType;let l,v,w=0;a.createWorker=async function(){if(!n("esri-workers")||(n("mozilla"),0))return h(new m);if(!l&&!v)try{var x=["let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3dJSON.parse(",
');self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;return new Promise(((r,i)\x3d\x3e{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!\x3dt,data:o})}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,version:r}\x3dconfiguration.kernelInfo,{revision:t,version:n}\x3de.kernelInfo;esriConfig.assetsPath!\x3d\x3desriConfig.defaultAssetsPath\x26\x26o!\x3d\x3dt\x26\x26console.warn(`Version mismatch detected between ArcGIS API for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n}`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case 1:let n;function t(e){const o\x3dn.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((e\x3d\x3e(n\x3de.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const i\x3doutgoing.get(r);outgoing.delete(r),o.error?i.reject(JSON.parse(o.error)):i.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'],
z=x.join;let D;if(null!=c["default"]){const G={...c};delete G["default"];D=JSON.parse(JSON.stringify(G))}else D=JSON.parse(JSON.stringify(c));D.assetsPath=t.makeAbsolute(D.assetsPath);D.defaultAssetsPath=D.defaultAssetsPath?t.makeAbsolute(D.defaultAssetsPath):void 0;D.request.interceptors=[];D.log.interceptors=[];D.locale=g.getLocale();D.has={"esri-csp-restrictions":n("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":n("esri-2d-update-debug"),"featurelayer-pbf":n("featurelayer-pbf"),
"featurelayer-simplify-thresholds":n("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":n("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":n("featurelayer-simplify-mobile-factor"),"esri-atomics":n("esri-atomics"),"esri-shared-array-buffer":n("esri-shared-array-buffer"),"esri-tiles-debug":n("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":n("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":n("feature-polyline-generalization-factor"),
"host-webworker":1,"polylabel-placement-enabled":n("polylabel-placement-enabled")};D.workers.loaderUrl?D.workers.loaderUrl=t.makeAbsolute(D.workers.loaderUrl):r.DEFAULT_LOADER_URL&&(D.workers.loaderUrl=r.DEFAULT_LOADER_URL);D.workers.workerPath=D.workers.workerPath?t.makeAbsolute(D.workers.workerPath):"esri/core/workers/RemoteClient";D.workers.useDynamicImport=!1;const y=c.workers.loaderConfig,C=r.loaderConfig({baseUrl:y?.baseUrl,locale:g.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,
"host-webworker":1,...y?.has},map:{...y?.map},paths:{...y?.paths},packages:y?.packages||[]});var A=JSON.stringify({esriConfig:D,loaderConfig:C,kernelInfo:{version:d.version,buildDate:f.buildDate,revision:f.commitHash}});const F=z.call(x,`'${A}'`);l=URL.createObjectURL(new Blob([F],{type:"text/javascript"}))}catch(D){v=D||{}}let B;if(l)try{B=new Worker(l,{name:`esri-worker-${w++}`})}catch(D){q.warn("Failed to create Worker. Fallback to execute module in main thread",v),B=new m}else q.warn("Failed to create Worker. Fallback to execute module in main thread",
v),B=new m;return h(B)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),function(a,b,c,e,d,n,u,t){n.registerMessageBundleLoader(u.createJSONLoader({pattern:"esri/",location:t.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.convertNumberFormatToIntlOptions=c.convertNumberFormatToIntlOptions;
a.formatNumber=c.formatNumber;a.substitute=e.substitute;a.getLocale=d.getLocale;a.onLocaleChange=d.onLocaleChange;a.prefersRTL=d.prefersRTL;a.setLocale=d.setLocale;a.fetchMessageBundle=n.fetchMessageBundle;a.normalizeMessageBundleLocale=n.normalizeMessageBundleLocale;a.registerMessageBundleLoader=n.registerMessageBundleLoader;a.createJSONLoader=u.createJSONLoader;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),
function(a,b,c,e,d,n){function u(r){switch(typeof r){case "string":return r;case "number":return n.formatNumber(r);case "boolean":return""+r;default:return r instanceof Date?d.formatDate(r):""}}const t=b.getLogger("esri.intl.substitute");a.substitute=function(r,p,m={}){const {format:g={}}=m;return e.replace(r,f=>{{const k=f.indexOf(":");if(-1===k)var h=f.trim();else{h=f.slice(0,k).trim();var q=f.slice(k+1).trim()}if(h)if(f=c.getDeepValue(h,p),null==f)q="";else if(h=(q?g?.[q]:null)??g?.[h])b:switch(h.type){case "date":q=
d.formatDate(f,h.intlOptions);break b;case "number":q=n.formatNumber(f,h.intlOptions);break b;default:t.warn("missing format descriptor for key {key}"),q=u(f)}else if(q)b:switch(q.toLowerCase()){case "dateformat":q=d.formatDate(f);break b;case "numberformat":q=n.formatNumber(f);break b;default:t.warn(`inline format is unsupported since 4.12: ${q}`),q=/^(dateformat|datestring)/i.test(q)?d.formatDate(f):/^numberformat/i.test(q)?n.formatNumber(f):u(f)}else q=u(f);else q=""}return q})};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/intl/t9n":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../request ../core/Error ../core/maybe ./messages".split(" "),function(a,b,c,e,d,n){async function u(m,g,f,h){var q=g.exec(f);if(!q)throw new e("esri-intl:invalid-bundle",`Bundle id "${f}" is not compatible with the pattern "${g}"`);g=q[1]?`${q[1]}/`:"";q=q[2];const k=n.normalizeMessageBundleLocale(h);h=`${g}${q}.json`;g=k?`${g}${q}_${k}.json`:h;let l;try{l=await t(m(g))}catch(v){if(g===
h)throw new e("intl:unknown-bundle",`Bundle "${f}" cannot be loaded`,{error:v});try{l=await t(m(h))}catch(w){throw new e("intl:unknown-bundle",`Bundle "${f}" cannot be loaded`,{error:w});}}return l}async function t(m){if(d.isSome(p.fetchBundleAsset))return p.fetchBundleAsset(m);m=await c(m,{responseType:"text"});return JSON.parse(m.data)}let r=function(){function m({base:g="",pattern:f,location:h=new URL(window.location.href)}){let q;q="string"===typeof h?k=>(new URL(k,new URL(h,window.location.href))).href:
h instanceof URL?k=>(new URL(k,h)).href:h;this.pattern="string"===typeof f?new RegExp(`^${f}`):f;this.getAssetUrl=q;g=g?g.endsWith("/")?g:g+"/":"";this.matcher=new RegExp(`^${g}(?:(.*)/)?(.*)$`)}m.prototype.fetchMessageBundle=function(g,f){return u(this.getAssetUrl,this.matcher,g,f)};return b._createClass(m)}();const p={};a.JSONLoader=r;a.createJSONLoader=function(m){return new r(m)};a.test=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/loaderConfig":function(){define(["exports",
"../../assets","../has","../urlUtils"],function(a,b,c,e){a.DEFAULT_LOADER_URL=null;a.DEFAULT_LOADER_URL=e.makeAbsolute(b.getAssetUrl("esri/core/workers/init.js"));var d=e.makeAbsolute(b.getAssetUrl("dojo/"));var n=[{name:"esri",location:"../esri"}];a.loaderConfig=function(u){const t={async:u.async,isDebug:u.isDebug,locale:u.locale,baseUrl:u.baseUrl,has:{...u.has},map:{...u.map},packages:u.packages&&u.packages.concat()||[],paths:{...u.paths}};u.hasOwnProperty("async")||(t.async=!0);u.hasOwnProperty("isDebug")||
(t.isDebug=!1);u.baseUrl||(t.baseUrl=d);n?.forEach(r=>{a:{var p=t.packages??[];for(const m of p)if(m.name===r.name)break a;p.push(r)}});return t};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerFallback":function(){define(["require","../../chunks/_rollupPluginBabelHelpers","../nextTick","./RemoteClient","./utils"],function(a,b,c,e,d){function n(t){if(t&&t.__esModule)return t;const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t)for(const p in t)if("default"!==
p){const m=Object.getOwnPropertyDescriptor(t,p);Object.defineProperty(r,p,m.get?m:{enumerable:!0,get:()=>t[p]})}r.default=t;return Object.freeze(r)}let u=b._createClass(function(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...p)=>t[r](...p)})});return function(){function t(){this._dispatcher=new u;this._workerPostMessage({type:d.MessageType.HANDSHAKE})}var r=t.prototype;r.terminate=function(){};r.postMessage=function(p){c.nextTick(()=>
{this._workerMessageHandler(new MessageEvent("message",{data:p}))})};r.dispatchEvent=function(p){return this._dispatcher.dispatchEvent(p)};r.addEventListener=function(p,m,g){this._dispatcher.addEventListener(p,m,g)};r.removeEventListener=function(p,m,g){this._dispatcher.removeEventListener(p,m,g)};r._workerPostMessage=function(p){c.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:p}))})};r._workerMessageHandler=async function(p){if((p=d.receiveMessage(p))&&p.type===d.MessageType.OPEN){const {modulePath:m,
jobId:g}=p;(p=await e.loadWorker(m))||(p=await new Promise((f,h)=>a([m],q=>f(n(q)),h)));p=e.connect(p);this._workerPostMessage({type:d.MessageType.OPENED,jobId:g,data:p})}};b._createClass(t,[{key:"onmessage",get:function(){return this._onmessageHandler},set:function(p){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=p)&&this.addEventListener("message",p)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(p){this._onmessageerrorHandler&&
this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=p)&&this.addEventListener("messageerror",p)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(p){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=p)&&this.addEventListener("error",p)}}]);return t}()})},"esri/rest/query/operations/editsZScale":function(){define(["exports","../../../core/maybe","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],
function(a,b,c,e){function d(u,t,r){if(null==u.hasM||u.hasZ)for(const p of t)for(const m of p)2<m.length&&(m[2]*=r)}function n(u,t,r){if(u)for(const g of u){u=g.geometry;var p=t,m=r;if(!b.isNone(u)&&u.spatialReference&&!e.equals(u.spatialReference,p)&&(p=c.getMetersPerVerticalUnitForSR(u.spatialReference)/m,1!==p))if("x"in u)null!=u.z&&(u.z*=p);else if("rings"in u)d(u,u.rings,p);else if("paths"in u)d(u,u.paths,p);else if("points"in u&&(null==u.hasM||u.hasZ))for(const f of u.points)2<f.length&&(f[2]*=
p)}}a.unapplyEditsZUnitScaling=function(u,t,r){if((u||t)&&r){var p=c.getMetersPerVerticalUnitForSR(r);n(u,r,p);n(t,r,p)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","../../../core/maybe","../../../geometry/support/zscale"],function(a,b,c){a.applyFeatureSetZUnitScaling=function(e,d,n){if(n&&n.features&&n.hasZ&&(e=c.getGeometryZScaler(n.geometryType,d,e.outSpatialReference),!b.isNone(e)))for(const u of n.features)e(u.geometry)};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k){var l;const v=new d.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});d=l=function(w){function x(A){A=z.call(this,A);A.displayFieldName=null;A.exceededTransferLimit=!1;A.features=[];A.fields=null;A.geometryType=null;A.hasM=!1;A.hasZ=!1;A.queryGeometry=null;A.spatialReference=null;return A}a._inherits(x,w);var z=a._createSuper(x);
w=x.prototype;w.readFeatures=function(A,B){B=h.fromJSON(B.spatialReference);const D=[];for(let F=0;F<A.length;F++){var y=A[F];const G=e.fromJSON(y);var C=y.geometry&&y.geometry.spatialReference;t.isSome(G.geometry)&&!C&&(G.geometry.spatialReference=B);y=y.aggregateGeometries;C=G.aggregateGeometries;if(y&&t.isSome(C))for(const E in C){const P=C[E],O=y[E]?.spatialReference;t.isSome(P)&&!O&&(P.spatialReference=B)}D.push(G)}return D};w.writeGeometryType=function(A,B,D,y){if(A)v.write(A,B,D,y);else if({features:A}=
this,A)for(const C of A)if(C&&t.isSome(C.geometry)){v.write(C.geometry.type,B,D,y);break}};w.readQueryGeometry=function(A,B){if(!A)return null;const D=!!A.spatialReference;(A=q.fromJSON(A))&&!D&&B.spatialReference&&(A.spatialReference=h.fromJSON(B.spatialReference));return A};w.writeSpatialReference=function(A,B){if(A)B.spatialReference=A.toJSON();else if({features:A}=this,A)for(const D of A)if(D&&t.isSome(D.geometry)&&D.geometry.spatialReference){B.spatialReference=D.geometry.spatialReference.toJSON();
break}};w.clone=function(){return new l(this.cloneProperties())};w.cloneProperties=function(){return u.clone({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})};w.toJSON=function(A){const B=this.write();if(B.features&&Array.isArray(A)&&0<A.length)for(let D=0;D<
B.features.length;D++){const y=B.features[D];if(y.geometry){const C=A&&A[D];y.geometry=C&&C.toJSON()||y.geometry}}return B};w.quantize=function(A){const {scale:[B,D],translate:[y,C]}=A,F=this.features,G=this._getQuantizationFunction(this.geometryType,E=>Math.round((E-y)/B),E=>Math.round((C-E)/D));for(let E=0,P=F.length;E<P;E++)G?.(t.unwrap(F[E].geometry))||(F.splice(E,1),E--,P--);this.transform=A;return this};w.unquantize=function(){const {geometryType:A,features:B,transform:D}=this;if(!D)return this;
const {translate:[y,C],scale:[F,G]}=D,E=this._getHydrationFunction(A,P=>P*F+y,P=>C-P*G);for(const {geometry:P}of B)t.isSome(P)&&E&&E(P);this.transform=null;return this};w._quantizePoints=function(A,B,D){let y,C;const F=[];for(let E=0,P=A.length;E<P;E++){var G=A[E];if(0<E){const O=B(G[0]);G=D(G[1]);if(O!==y||G!==C)F.push([O-y,G-C]),y=O,C=G}else y=B(G[0]),C=D(G[1]),F.push([y,C])}return 0<F.length?F:null};w._getQuantizationFunction=function(A,B,D){return"point"===A?y=>{y.x=B(y.x);y.y=D(y.y);return y}:
"polyline"===A||"polygon"===A?y=>{const C=q.isPolygon(y)?y.rings:y.paths,F=[];for(let G=0,E=C.length;G<E;G++){const P=this._quantizePoints(C[G],B,D);P&&F.push(P)}return 0<F.length?(q.isPolygon(y)?y.rings=F:y.paths=F,y):null}:"multipoint"===A?y=>{const C=this._quantizePoints(y.points,B,D);return C&&0<C.length?(y.points=C,y):null}:"extent"===A?y=>y:null};w._getHydrationFunction=function(A,B,D){return"point"===A?y=>{y.x=B(y.x);y.y=D(y.y)}:"polyline"===A||"polygon"===A?y=>{y=q.isPolygon(y)?y.rings:y.paths;
let C,F;for(let G=0,E=y.length;G<E;G++){const P=y[G];for(let O=0,K=P.length;O<K;O++){const M=P[O];0<O?(C+=M[0],F+=M[1]):(C=M[0],F=M[1]);M[0]=B(C);M[1]=D(F)}}}:"extent"===A?y=>{y.xmin=B(y.xmin);y.ymin=D(y.ymin);y.xmax=B(y.xmax);y.ymax=D(y.ymax)}:"multipoint"===A?y=>{y=y.points;let C,F;for(let G=0,E=y.length;G<E;G++){const P=y[G];0<G?(C+=P[0],F+=P[1]):(C=P[0],F=P[1]);P[0]=B(C);P[1]=D(F)}}:null};return a._createClass(x)}(n.JSONSupport);b.__decorate([r.property({type:String,json:{write:!0}})],d.prototype,
"displayFieldName",void 0);b.__decorate([r.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],d.prototype,"exceededTransferLimit",void 0);b.__decorate([r.property({type:[e],json:{write:!0}})],d.prototype,"features",void 0);b.__decorate([m.reader("features")],d.prototype,"readFeatures",null);b.__decorate([r.property({type:[k],json:{write:!0}})],d.prototype,"fields",void 0);b.__decorate([r.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:v.read}}})],
d.prototype,"geometryType",void 0);b.__decorate([f.writer("geometryType")],d.prototype,"writeGeometryType",null);b.__decorate([r.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],d.prototype,"hasM",void 0);b.__decorate([r.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],d.prototype,"hasZ",void 0);b.__decorate([r.property({types:c.geometryTypes,json:{write:!0}})],d.prototype,"queryGeometry",void 0);b.__decorate([m.reader("queryGeometry")],d.prototype,
"readQueryGeometry",null);b.__decorate([r.property({type:h,json:{write:!0}})],d.prototype,"spatialReference",void 0);b.__decorate([f.writer("spatialReference")],d.prototype,"writeSpatialReference",null);b.__decorate([r.property({json:{write:!0}})],d.prototype,"transform",void 0);d=l=b.__decorate([g.subclass("esri.rest.support.FeatureSet")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){var h;const q=new c.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});c=h=function(k){function l(w){w=v.call(this,w);w.alias=
null;w.defaultValue=void 0;w.description=null;w.domain=null;w.editable=!0;w.length=-1;w.name=null;w.nullable=!0;w.type=null;w.valueType=null;w.visible=!0;return w}a._inherits(l,k);var v=a._createSuper(l);k=l.prototype;k.readDescription=function(w,{description:x}){w=null;try{w=x?JSON.parse(x):null}catch(z){}return w?.value??null};k.readValueType=function(w,{description:x}){w=null;try{w=x?JSON.parse(x):null}catch(z){}return w?q.fromJSON(w.fieldValueType):null};k.clone=function(){return new h({alias:this.alias,
defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})};return a._createClass(l)}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);b.__decorate([d.property({type:[String,Number],json:{write:{allowNull:!0}}})],c.prototype,"defaultValue",void 0);b.__decorate([d.property()],
c.prototype,"description",void 0);b.__decorate([p.reader("description")],c.prototype,"readDescription",null);b.__decorate([d.property({types:g.types,json:{read:{reader:g.fromJSON},write:!0}})],c.prototype,"domain",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",void 0);b.__decorate([d.property({type:n.Integer,json:{write:!0}})],c.prototype,"length",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({type:Boolean,
json:{write:!0}})],c.prototype,"nullable",void 0);b.__decorate([r.enumeration(f.kebabDict)],c.prototype,"type",void 0);b.__decorate([d.property()],c.prototype,"valueType",void 0);b.__decorate([p.reader("valueType",["description"])],c.prototype,"readValueType",null);b.__decorate([d.property({type:Boolean,json:{read:!1}})],c.prototype,"visible",void 0);return c=h=b.__decorate([m.subclass("esri.layers.support.Field")],c)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],
function(a,b){b=new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});a.kebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t){a.APIKeyMixin=r=>{r=function(p){function m(){return g.apply(this,arguments)}b._inherits(m,p);var g=b._createSuper(m);b._createClass(m,[{key:"apiKey",get:function(){return this._isOverridden("apiKey")?
this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null},set:function(f){null!=f?this._override("apiKey",f):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}}]);return m}(r);c.__decorate([e.property({type:String})],r.prototype,"apiKey",null);return r=c.__decorate([t.subclass("esri.layers.mixins.APIKeyMixin")],r)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){a.ArcGISService=g=>{g=function(f){function h(){return q.apply(this,arguments)}b._inherits(h,f);var q=b._createSuper(h);b._createClass(h,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const k=m.parse(this.url);if(d.isSome(k)&&k.title)return k.title}return this._get("title")||""},set:function(k){this._set("title",k)}},{key:"url",set:function(k){this._set("url",m.sanitizeUrl(k,e.getLogger(this.declaredClass)))}}]);
return h}(g);c.__decorate([n.property()],g.prototype,"title",null);c.__decorate([n.property({type:String})],g.prototype,"url",null);return g=c.__decorate([p.subclass("esri.layers.mixins.ArcGISService")],g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils".split(" "),
function(a,b,c,e,d,n,u,t,r){const p={read:{reader:r.read},write:{allowNull:!0,writer:r.write}};a.BlendLayer=m=>{m=function(g){function f(){var q=h.apply(this,arguments);q.blendMode="normal";q.effect=null;return q}b._inherits(f,g);var h=b._createSuper(f);return b._createClass(f)}(m);c.__decorate([e.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),
nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],m.prototype,"blendMode",void 0);c.__decorate([e.property({json:{read:!1,write:!1,origins:{"web-map":p,"portal-item":p}}})],m.prototype,"effect",void 0);return m=c.__decorate([t.subclass("esri.layers.mixins.BlendLayer")],m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error","../../core/object",
"./parser","./utils"],function(a,b,c,e,d){function n(p){return(p=e.parse(p))?d.isEffectFunctions(p)?p.map(m=>m.toJSON()):p.map(({scale:m,effects:g})=>({scale:m,value:g.map(f=>f.toJSON())})):null}function u(p){if(!p||0===p.length)return null;var m=(m=p[0])?"scale"in m:!1;if(m){m=[];for(const g of p)m.push({scale:g.scale,value:t(g.value)});return m}return t(p)}function t(p){if(!p||!p.length)return"";const m=[];for(const q of p){p=[];switch(q.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":p=
[r(q,"amount")];break;case "blur":p=[r(q,"radius","pt")];break;case "hue-rotate":p=[r(q,"angle","deg")];break;case "drop-shadow":p=r(q,"xoffset","pt");var g=r(q,"yoffset","pt"),f=r(q,"blurRadius","pt"),h=q;if(null==h.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${h.type} effect`,{effect:h});h=h.color;p=[p,g,f,`rgba(${h[0]||0}, ${h[1]||0}, ${h[2]||0}, ${h[3]/255||0})`];break;case "bloom":p=[r(q,"strength"),r(q,"radius","pt"),r(q,"threshold")]}p=`${q.type}(${p.filter(Boolean).join(" ")})`;
e.parse(p);m.push(p)}return m.join(" ")}function r(p,m,g){if(null==p[m])throw new b("effect:missing-parameter",`Missing parameter '${m}' in ${p.type} effect`,{effect:p});return g?p[m]+g:""+p[m]}a.effectFunctionsFromJSON=t;a.fromJSON=u;a.read=function(p,m,g){try{return u(p)}catch(f){g?.messages?.push(f)}return null};a.toJSON=n;a.write=function(p,m,g,f){try{const h=n(p);c.setDeepValue(g,h,m)}catch(h){f.messages&&f.messages.push(h)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/parser":function(){define("exports ../../colorUtils ../../core/Error ./effects ../../chunks/_commonjsHelpers ./utils".split(" "),
function(a,b,c,e,d,n){function u(x){let z;if(!x)return[];try{z=q.parse(x)}catch(A){throw new c("effect:invalid-syntax","Invalid effect syntax",{value:x,error:A});}return z.map(A=>t(A))}function t(x){try{switch(x.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var z=1;r(x.parameters,1);1===x.parameters.length&&(z=g(x.parameters[0]));return new e.ColorMatrixEffect(x.name,z);case "opacity":return z=1,r(x.parameters,1),1===x.parameters.length&&(z=g(x.parameters[0])),
new e.OpacityEffect(z);case "hue-rotate":z=0;r(x.parameters,1);if(1===x.parameters.length){var A=x.parameters[0];if("quantity"!==A.type||!(0===A.value&&null===A.unit||A.unit&&null!=k[A.unit]))throw new c("effect:type-error",`Expected <angle>, Actual: ${p(A)}`,{term:A});z=A.value*k[A.unit]||0}return new e.HueRotateEffect(z);case "blur":return z=0,r(x.parameters,1),1===x.parameters.length&&(z=f(x.parameters[0]),m(z,x.parameters[0])),new e.BlurEffect(z);case "drop-shadow":const F=[];let G=null;for(const E of x.parameters)if("color"===
E.type){F.length&&Object.freeze(F);if(G)throw new c("effect:type-error","Accepts only one color",{});a:{A=void 0;var B=E;switch(B.colorType){case "hex":G=b.hex2rgba(B.value);break a;case "named":G=h(B.value);break a;case "function":z=B.value;r(z.parameters,4);if(v.test(z.name))A=[g(z.parameters[0]),g(z.parameters[1]),g(z.parameters[2]),z.parameters[3]?g(z.parameters[3]):1];else if(w.test(z.name)){B=b;var D=B.hsla2rgba,y=z.parameters[0],C=y;if("quantity"!==C.type||null!==C.unit)throw new c("effect:type-error",
`Expected <double>, Actual: ${p(C)}`,{term:C});m(y.value,y);A=D.call(B,y.value,g(z.parameters[1]),g(z.parameters[2]),z.parameters[3]?g(z.parameters[3]):1)}else throw new c("effect:syntax-error",`Invalid color function '${z.name}'`,{colorFunction:z});G=A;break a}G=void 0}}else{const P=f(E);if(Object.isFrozen(F))throw new c("effect:type-error","\x3clength\x3e parameters not consecutive",{lengths:F});F.push(P);3===F.length&&m(P,E)}if(2>F.length||3<F.length)throw new c("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${F.length}}`,
{lengths:F});return new e.DropShadowEffect(F[0],F[1],F[2]||0,G||h("black"));case "bloom":return z=1,y=D=0,r(x.parameters,3),x.parameters[0]&&(z=g(x.parameters[0])),x.parameters[1]&&(D=f(x.parameters[1]),m(D,x.parameters[1])),x.parameters[2]&&(y=g(x.parameters[2])),new e.BloomEffect(z,D,y)}}catch(F){throw F.details.filter=x,F;}throw new c("effect:unknown-effect",`Effect '${x.name}' is not supported`,{effect:x});}function r(x,z){if(x.length>z)throw new c("effect:type-error",`Function supports up to ${z} parameters, Actual: ${x.length}`,
{parameters:x});}function p(x){if("color"===x.type)return"\x3ccolor\x3e";if(x.unit){if(l[x.unit])return"\x3clength\x3e";if(k[x.unit])return"\x3cangle\x3e";if("%"===x.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function m(x,z){if(0>x)throw new c("effect:type-error",`Negative values are not allowed, Actual: ${x}`,{term:z});}function g(x){if("quantity"!==x.type||null!==x.unit&&"%"!==x.unit)throw new c("effect:type-error",`Expected <double> or <percentage>, Actual: ${p(x)}`,{term:x});const z=
x.value;m(z,x);return"%"===x.unit?.01*z:z}function f(x){if("quantity"!==x.type||!(0===x.value&&null===x.unit||x.unit&&null!=l[x.unit]))throw new c("effect:type-error",`Expected <length>, Actual: ${p(x)}`,{term:x});return x.value*l[x.unit]||0}function h(x){if(!b.isNamedColor(x))throw new c("effect:unknown-color",`color '${x}' isn't valid`,{namedColor:x});return b.getNamedColorCopy(x)}var q={};(function(x){(function(z,A){x.exports&&(x.exports=A())})(d.commonjsGlobal,function(){function z(B,D,y,C){B=
Error.call(this,B);Object.setPrototypeOf&&Object.setPrototypeOf(B,z.prototype);B.expected=D;B.found=y;B.location=C;B.name="SyntaxError";return B}function A(B,D,y){y=y||" ";if(B.length>D)return B;D-=B.length;y+=y.repeat(D);return B+y.slice(0,D)}(function(B,D){function y(){this.constructor=B}y.prototype=D.prototype;B.prototype=new y})(z,Error);z.prototype.format=function(B){var D="Error: "+this.message;if(this.location){var y=null,C;for(C=0;C<B.length;C++)if(B[C].source===this.location.source){y=B[C].text.split(/\r\n|\n|\r/g);
break}B=this.location.start;C=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(B):B;var F=this.location.source+":"+C.line+":"+C.column;if(y){var G=this.location.end,E=A("",C.line.toString().length," ");y=y[B.line-1];G=(B.line===G.line?G.column:y.length+1)-B.column||1;D+="\n --\x3e "+F+"\n"+E+" |\n"+C.line+" | "+y+"\n"+E+" | "+A("",B.column-1," ")+A("",G,"^")}else D+="\n at "+F}return D};z.buildMessage=function(B,D){function y(P){return P.charCodeAt(0).toString(16).toUpperCase()}
function C(P){return P.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+y(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+y(O)})}function F(P){return P.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+
y(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+y(O)})}function G(P){return E[P.type](P)}var E={literal:function(P){return'"'+C(P.text)+'"'},class:function(P){var O=P.parts.map(function(K){return Array.isArray(K)?F(K[0])+"-"+F(K[1]):F(K)});return"["+(P.inverted?"^":"")+O.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(P){return P.description}};return"Expected "+function(P){P=P.map(G);var O,K;P.sort();if(0<P.length){for(K=O=1;O<
P.length;O++)P[O-1]!==P[O]&&(P[K]=P[O],K++);P.length=K}switch(P.length){case 1:return P[0];case 2:return P[0]+" or "+P[1];default:return P.slice(0,-1).join(", ")+", or "+P[P.length-1]}}(B)+" but "+(D?'"'+C(D)+'"':"end of input")+" found."};return{SyntaxError:z,parse:function(B,D){function y(Pa,Ea){return{type:"literal",text:Pa,ignoreCase:Ea}}function C(Pa,Ea,Ua){return{type:"class",parts:Pa,inverted:Ea,ignoreCase:Ua}}function F(Pa){return{type:"other",description:Pa}}function G(Pa){var Ea=Ba[Pa],
Ua;if(!Ea){for(Ua=Pa-1;!Ba[Ua];)Ua--;Ea=Ba[Ua];for(Ea={line:Ea.line,column:Ea.column};Ua<Pa;)10===B.charCodeAt(Ua)?(Ea.line++,Ea.column=1):Ea.column++,Ua++;Ba[Pa]=Ea}return Ea}function E(Pa,Ea,Ua){var na=G(Pa),La=G(Ea);Pa={source:S,start:{offset:Pa,line:na.line,column:na.column},end:{offset:Ea,line:La.line,column:La.column}};Ua&&S&&"function"===typeof S.offset&&(Pa.start=S.offset(Pa.start),Pa.end=S.offset(Pa.end));return Pa}function P(Pa){Ta<va||(Ta>va&&(va=Ta,Ka=[]),Ka.push(Pa))}function O(){Qa++;
var Pa=Ta;I();if(B.substr(Ta,4)===ha){var Ea=ha;Ta+=4}else Ea=R,0===Qa&&P(Ia);Ea!==R?(I(),sa=Pa,Pa=[]):(Ta=Pa,Pa=R);Qa--;Pa===R&&0===Qa&&P(wa);if(Pa===R)if(Pa=[],Ea=K(),Ea!==R)for(;Ea!==R;)Pa.push(Ea),Ea=K();else Pa=R;return Pa}function K(){var Pa=Ta;I();Qa++;var Ea=Ta;var Ua=H();if(Ua!==R){if(40===B.charCodeAt(Ta)){var na=Y;Ta++}else na=R,0===Qa&&P(Na);na!==R?(sa=Ea,Ea=Ua):(Ta=Ea,Ea=R)}else Ta=Ea,Ea=R;Qa--;Ea===R&&(Ua=R,0===Qa&&P(Aa));if(Ea!==R){I();Ua=Ta;na=M();if(na!==R){var La=[];var Ra=Ta;var Wa=
I();if(44===B.charCodeAt(Ta)){var ab=ia;Ta++}else ab=R,0===Qa&&P(ma);ab===R&&(ab=null);var fb=I();var jb=M();jb!==R?Ra=Wa=[Wa,ab,fb,jb]:(Ta=Ra,Ra=R);for(;Ra!==R;)La.push(Ra),Ra=Ta,Wa=I(),44===B.charCodeAt(Ta)?(ab=ia,Ta++):(ab=R,0===Qa&&P(ma)),ab===R&&(ab=null),fb=I(),jb=M(),jb!==R?Ra=Wa=[Wa,ab,fb,jb]:(Ta=Ra,Ra=R);sa=Ua;Ua=0<La.length?[na].concat(aa(La,3)):[na]}else Ta=Ua,Ua=R;Ua===R&&(Ua=null);I();41===B.charCodeAt(Ta)?(na=la,Ta++):(na=R,0===Qa&&P(Oa));na!==R?(I(),sa=Pa,Pa={type:"function",name:Ea,
parameters:Ua||[]}):(Ta=Pa,Pa=R)}else Ta=Pa,Pa=R;return Pa}function M(){var Pa=Ta;Qa++;var Ea=Ta;I();var Ua=L();if(Ua!==R){if(37===B.charCodeAt(Ta)){var na=Z;Ta++}else na=R,0===Qa&&P(bb);na!==R?(sa=Ea,Ea={value:Ua,unit:"%"}):(Ta=Ea,Ea=R)}else Ta=Ea,Ea=R;Qa--;Ea===R&&0===Qa&&P($a);Ea===R&&(Qa++,Ea=Ta,I(),Ua=L(),Ua!==R?(B.substr(Ta,2)===U?(na=U,Ta+=2):(na=R,0===Qa&&P(db)),na!==R?(sa=Ea,Ea={value:Ua,unit:"px"}):(Ta=Ea,Ea=R)):(Ta=Ea,Ea=R),Ea===R&&(Ea=Ta,I(),Ua=L(),Ua!==R?(B.substr(Ta,2)===pa?(na=pa,Ta+=
2):(na=R,0===Qa&&P(eb)),na!==R?(sa=Ea,Ea={value:Ua,unit:"cm"}):(Ta=Ea,Ea=R)):(Ta=Ea,Ea=R),Ea===R&&(Ea=Ta,I(),Ua=L(),Ua!==R?(B.substr(Ta,2)===xa?(na=xa,Ta+=2):(na=R,0===Qa&&P(Da)),na!==R?(sa=Ea,Ea={value:Ua,unit:"mm"}):(Ta=Ea,Ea=R)):(Ta=Ea,Ea=R),Ea===R&&(Ea=Ta,I(),Ua=L(),Ua!==R?(B.substr(Ta,2)===N?(na=N,Ta+=2):(na=R,0===Qa&&P(Ja)),na!==R?(sa=Ea,Ea={value:Ua,unit:"in"}):(Ta=Ea,Ea=R)):(Ta=Ea,Ea=R),Ea===R&&(Ea=Ta,I(),Ua=L(),Ua!==R?(B.substr(Ta,2)===T?(na=T,Ta+=2):(na=R,0===Qa&&P(Za)),na!==R?(sa=Ea,Ea=
{value:Ua,unit:"pt"}):(Ta=Ea,Ea=R)):(Ta=Ea,Ea=R),Ea===R&&(Ea=Ta,I(),Ua=L(),Ua!==R?(B.substr(Ta,2)===qa?(na=qa,Ta+=2):(na=R,0===Qa&&P(ya)),na!==R?(sa=Ea,Ea={value:Ua,unit:"pc"}):(Ta=Ea,Ea=R)):(Ta=Ea,Ea=R)))))),Qa--,Ea===R&&0===Qa&&P(Sa),Ea===R&&(Qa++,Ea=Ta,Ua=L(),Ua!==R?(B.substr(Ta,3)===Ca?(na=Ca,Ta+=3):(na=R,0===Qa&&P(wb)),na!==R?(sa=Ea,Ea={value:Ua,unit:"deg"}):(Ta=Ea,Ea=R)):(Ta=Ea,Ea=R),Ea===R&&(Ea=Ta,Ua=L(),Ua!==R?(B.substr(Ta,3)===Fa?(na=Fa,Ta+=3):(na=R,0===Qa&&P(tb)),na!==R?(sa=Ea,Ea={value:Ua,
unit:"rad"}):(Ta=Ea,Ea=R)):(Ta=Ea,Ea=R),Ea===R&&(Ea=Ta,Ua=L(),Ua!==R?(B.substr(Ta,4)===fa?(na=fa,Ta+=4):(na=R,0===Qa&&P(yb)),na!==R?(sa=Ea,Ea={value:Ua,unit:"grad"}):(Ta=Ea,Ea=R)):(Ta=Ea,Ea=R),Ea===R&&(Ea=Ta,Ua=L(),Ua!==R?(B.substr(Ta,4)===ba?(na=ba,Ta+=4):(na=R,0===Qa&&P(Bb)),na!==R?(sa=Ea,Ea={value:Ua,unit:"turn"}):(Ta=Ea,Ea=R)):(Ta=Ea,Ea=R)))),Qa--,Ea===R&&(Ua=R,0===Qa&&P(qb)),Ea===R&&(Qa++,Ea=Ta,I(),Ua=L(),Ua!==R?(sa=Ea,Ea={value:Ua,unit:null}):(Ta=Ea,Ea=R),Qa--,Ea===R&&0===Qa&&P(Ab))));Ea!==
R&&(sa=Pa,Ea={type:"quantity",value:Ea.value,unit:Ea.unit});Pa=Ea;if(Pa===R){Pa=Ta;Qa++;Ea=Ta;35===B.charCodeAt(Ta)?(Ua=ka,Ta++):(Ua=R,0===Qa&&P(xb));if(Ua!==R){Ua=[];ua.test(B.charAt(Ta))?(na=B.charAt(Ta),Ta++):(na=R,0===Qa&&P(Cb));if(na!==R)for(;na!==R;)Ua.push(na),ua.test(B.charAt(Ta))?(na=B.charAt(Ta),Ta++):(na=R,0===Qa&&P(Cb));else Ua=R;Ua!==R?(sa=Ea,Ea={type:"hex",value:B.substring(sa,Ta)}):(Ta=Ea,Ea=R)}else Ta=Ea,Ea=R;Ea===R&&(Ea=Ta,Ua=K(),Ua!==R&&(sa=Ea,Ua={type:"function",value:Ua}),Ea=Ua,
Ea===R&&(Ea=Ta,Ua=H(),Ua!==R&&(sa=Ea,Ua={type:"named",value:B.substring(sa,Ta)}),Ea=Ua));Qa--;Ea===R&&(Ua=R,0===Qa&&P(Ib));Ea!==R&&(sa=Pa,Ea={type:"color",colorType:Ea.type,value:Ea.value});Pa=Ea}return Pa}function I(){Qa++;var Pa=[];if(ca.test(B.charAt(Ta))){var Ea=B.charAt(Ta);Ta++}else Ea=R,0===Qa&&P(Ga);for(;Ea!==R;)Pa.push(Ea),ca.test(B.charAt(Ta))?(Ea=B.charAt(Ta),Ta++):(Ea=R,0===Qa&&P(Ga));Qa--;Ea=R;0===Qa&&P(ta);return Pa}function H(){Qa++;var Pa=Ta;var Ea=[];if(ja.test(B.charAt(Ta))){var Ua=
B.charAt(Ta);Ta++}else Ua=R,0===Qa&&P(Xa);if(Ua!==R)for(;Ua!==R;)Ea.push(Ua),ja.test(B.charAt(Ta))?(Ua=B.charAt(Ta),Ta++):(Ua=R,0===Qa&&P(Xa));else Ea=R;Ea!==R&&(sa=Pa,Ea=B.substring(sa,Ta));Pa=Ea;Qa--;Pa===R&&(Ea=R,0===Qa&&P(Va));return Pa}function L(){var Pa=Ta;da.test(B.charAt(Ta))?(B.charAt(Ta),Ta++):0===Qa&&P(kb);var Ea=Ta;var Ua=[];if(ra.test(B.charAt(Ta))){var na=B.charAt(Ta);Ta++}else na=R,0===Qa&&P(rb);for(;na!==R;)Ua.push(na),ra.test(B.charAt(Ta))?(na=B.charAt(Ta),Ta++):(na=R,0===Qa&&P(rb));
46===B.charCodeAt(Ta)?(na=X,Ta++):(na=R,0===Qa&&P(vb));if(na!==R){var La=[];if(ra.test(B.charAt(Ta))){var Ra=B.charAt(Ta);Ta++}else Ra=R,0===Qa&&P(rb);if(Ra!==R)for(;Ra!==R;)La.push(Ra),ra.test(B.charAt(Ta))?(Ra=B.charAt(Ta),Ta++):(Ra=R,0===Qa&&P(rb));else La=R;La!==R?Ea=Ua=[Ua,na,La]:(Ta=Ea,Ea=R)}else Ta=Ea,Ea=R;if(Ea===R)if(Ea=[],ra.test(B.charAt(Ta))?(Ua=B.charAt(Ta),Ta++):(Ua=R,0===Qa&&P(rb)),Ua!==R)for(;Ua!==R;)Ea.push(Ua),ra.test(B.charAt(Ta))?(Ua=B.charAt(Ta),Ta++):(Ua=R,0===Qa&&P(rb));else Ea=
R;if(Ea!==R){Ua=Ta;101===B.charCodeAt(Ta)?(na=Q,Ta++):(na=R,0===Qa&&P(hb));if(na!==R){da.test(B.charAt(Ta))?(La=B.charAt(Ta),Ta++):(La=R,0===Qa&&P(kb));La===R&&(La=null);Ra=[];ra.test(B.charAt(Ta))?(Ea=B.charAt(Ta),Ta++):(Ea=R,0===Qa&&P(rb));if(Ea!==R)for(;Ea!==R;)Ra.push(Ea),ra.test(B.charAt(Ta))?(Ea=B.charAt(Ta),Ta++):(Ea=R,0===Qa&&P(rb));else Ra=R;Ra!==R?Ua=na=[na,La,Ra]:(Ta=Ua,Ua=R)}else Ta=Ua,Ua=R;Ua===R&&(Ua=null);sa=Pa;Pa=parseFloat(B.substring(sa,Ta))}else Ta=Pa,Pa=R;return Pa}function aa(Pa,
Ea){return Pa.map(function(Ua){return Ua[Ea]})}D=void 0!==D?D:{};var R={},S=D.grammarSource,V={start:O},ea=O,ha="none",la=")",ia=",",Y="(",Z="%",U="px",pa="cm",xa="mm",N="in",T="pt",qa="pc",Ca="deg",Fa="rad",fa="grad",ba="turn",ka="#",X=".",Q="e",ca=/^[ \t\n\r]/,ja=/^[a-z\-]/,ua=/^[0-9a-fA-F]/,da=/^[+\-]/,ra=/^[0-9]/,wa=F("none"),Ia=y("none",!1),Oa=y(")",!1),ma=y(",",!1),ta=F("whitespace"),Ga=C([" ","\t","\n","\r"],!1,!1),Aa=F("function"),Na=y("(",!1),Va=F("identifier"),Xa=C([["a","z"],"-"],!1,!1),
$a=F("percentage"),bb=y("%",!1),Sa=F("length"),db=y("px",!1),eb=y("cm",!1),Da=y("mm",!1),Ja=y("in",!1),Za=y("pt",!1),ya=y("pc",!1),qb=F("angle"),wb=y("deg",!1),tb=y("rad",!1),yb=y("grad",!1),Bb=y("turn",!1),Ab=F("number"),Ib=F("color"),xb=y("#",!1),Cb=C([["0","9"],["a","f"],["A","F"]],!1,!1),kb=C(["+","-"],!1,!1),rb=C([["0","9"]],!1,!1),vb=y(".",!1),hb=y("e",!1),Ta=0,sa=0,Ba=[{line:1,column:1}],va=0,Ka=[],Qa=0;if("startRule"in D){if(!(D.startRule in V))throw Error("Can't start parsing from rule \""+
D.startRule+'".');ea=V[D.startRule]}D=ea();if(D!==R&&Ta===B.length)return D;D!==R&&Ta<B.length&&P({type:"end"});throw function(Pa,Ea,Ua){return new z(z.buildMessage(Pa,Ea),Pa,Ea,Ua)}(Ka,va<B.length?B.charAt(va):null,va<B.length?E(va,va+1):E(va,va));}}})})({get exports(){return q},set exports(x){q=x}});const k={deg:1,grad:.9,rad:180/Math.PI,turn:360},l={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},v=/^rgba?/i,w=/^hsla?/i;a.parse=function(x){if(!x||0===x.length)return null;if("string"===typeof x)return(x=
u(x))&&0!==x.length?x:null;x=x.map(z=>{if(!Number.isFinite(z.scale)||0>=z.scale)throw new c("effect:invalid-scale","scale must be finite and greater than 0",{stop:z});return{scale:z.scale,effects:u(z.value)}});x.sort((z,A)=>A.effects.length-z.effects.length);for(let z=0;z<x.length-1;z++){if(!n.canInterpolateEffects(x[z].effects,x[z+1].effects))throw new c("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:x[z].effects,b:x[z+1].effects});n.normalizeEffects(x[z].effects,
x[z+1].effects)}x.sort((z,A)=>A.scale-z.scale);return x};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/effects":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../colorUtils ../../core/screenUtils ../../chunks/mat4f32 ./colorMatrixFunctions".split(" "),function(a,b,c,e,d,n){function u(q,k,l){return q+(k-q)*l}function t(q){return Math.round(1E3*e.px2pt(q))/1E3}let r=function(){function q(l,v,w){this.strength=l;this.radius=v;this.threshold=
w;this.type="bloom"}var k=q.prototype;k.interpolate=function(l,v,w){this.strength=u(l.strength,v.strength,w);this.radius=u(l.radius,v.radius,w);this.threshold=u(l.threshold,v.threshold,w)};k.clone=function(){return new q(this.strength,this.radius,this.threshold)};k.toJSON=function(){return{type:"bloom",radius:t(this.radius),strength:this.strength,threshold:this.threshold}};return b._createClass(q)}(),p=function(){function q(l){this.radius=l;this.type="blur"}var k=q.prototype;k.interpolate=function(l,
v,w){this.radius=Math.round(u(l.radius,v.radius,w))};k.clone=function(){return new q(this.radius)};k.toJSON=function(){return{type:"blur",radius:t(this.radius)}};return b._createClass(q)}(),m=function(){function q(l,v){this.type=l;this.amount=v;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}var k=q.prototype;k.interpolate=function(l,v,w){this.amount=u(l.amount,v.amount,w);this._updateMatrix()};k.clone=function(){return new q(this.type,this.amount)};
k.toJSON=function(){return{type:this.type,amount:this.amount}};k._updateMatrix=function(){const l=this._colorMatrix||d.create();switch(this.type){case "brightness":this._colorMatrix=n.brightness(l,this.amount);break;case "contrast":this._colorMatrix=n.contrast(l,this.amount);break;case "grayscale":this._colorMatrix=n.grayscale(l,this.amount);break;case "invert":this._colorMatrix=n.invert(l,this.amount);break;case "saturate":this._colorMatrix=n.saturate(l,this.amount);break;case "sepia":this._colorMatrix=
n.sepia(l,this.amount)}};b._createClass(q,[{key:"colorMatrix",get:function(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}}]);return q}(),g=function(){function q(l,v,w,x){this.offsetX=l;this.offsetY=v;this.blurRadius=w;this.color=x;this.type="drop-shadow"}var k=q.prototype;k.interpolate=function(l,v,w){this.offsetX=u(l.offsetX,v.offsetX,w);this.offsetY=u(l.offsetY,v.offsetY,w);this.blurRadius=u(l.blurRadius,v.blurRadius,w);this.color[0]=Math.round(u(l.color[0],v.color[0],w));this.color[1]=
Math.round(u(l.color[1],v.color[1],w));this.color[2]=Math.round(u(l.color[2],v.color[2],w));this.color[3]=u(l.color[3],v.color[3],w)};k.clone=function(){return new q(this.offsetX,this.offsetY,this.blurRadius,[...this.color])};k.toJSON=function(){const l=[...this.color];l[3]*=255;return{type:"drop-shadow",xoffset:t(this.offsetX),yoffset:t(this.offsetY),blurRadius:t(this.blurRadius),color:l}};return b._createClass(q)}(),f=function(){function q(l){this.angle=l;this.type="hue-rotate"}var k=q.prototype;
k.interpolate=function(l,v,w){this.angle=u(l.angle,v.angle,w);this._updateMatrix()};k.clone=function(){return new q(this.angle)};k.toJSON=function(){return{type:"hue-rotate",angle:this.angle}};k._updateMatrix=function(){const l=this._colorMatrix||d.create();this._colorMatrix=n.rotateHue(l,this.angle)};b._createClass(q,[{key:"colorMatrix",get:function(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}}]);return q}(),h=function(){function q(l){this.amount=l;this.type="opacity";this.amount=
Math.min(this.amount,1)}var k=q.prototype;k.interpolate=function(l,v,w){this.amount=u(l.amount,v.amount,w)};k.clone=function(){return new q(this.amount)};k.toJSON=function(){return{type:"opacity",amount:this.amount}};return b._createClass(q)}();a.BloomEffect=r;a.BlurEffect=p;a.ColorMatrixEffect=m;a.DropShadowEffect=g;a.HueRotateEffect=f;a.OpacityEffect=h;a.createEffectWithInitialValues=function(q){switch(q.type){case "grayscale":case "sepia":case "invert":return new m(q.type,0);case "saturate":case "brightness":case "contrast":return new m(q.type,
1);case "opacity":return new h(1);case "hue-rotate":return new f(0);case "blur":return new p(0);case "drop-shadow":return new g(0,0,0,[...c.getNamedColor("transparent")]);case "bloom":return new r(0,0,1)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4f32":function(){define(["exports"],function(a){function b(){const t=new Float32Array(16);t[0]=1;t[5]=1;t[10]=1;t[15]=1;return t}function c(t){const r=new Float32Array(16);r[0]=t[0];r[1]=t[1];r[2]=t[2];r[3]=t[3];r[4]=
t[4];r[5]=t[5];r[6]=t[6];r[7]=t[7];r[8]=t[8];r[9]=t[9];r[10]=t[10];r[11]=t[11];r[12]=t[12];r[13]=t[13];r[14]=t[14];r[15]=t[15];return r}function e(t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B){const D=new Float32Array(16);D[0]=t;D[1]=r;D[2]=p;D[3]=m;D[4]=g;D[5]=f;D[6]=h;D[7]=q;D[8]=k;D[9]=l;D[10]=v;D[11]=w;D[12]=x;D[13]=z;D[14]=A;D[15]=B;return D}function d(t,r){return new Float32Array(t,r,16)}const n=b(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:n,clone:c,create:b,createView:d,fromValues:e},
Symbol.toStringTag,{value:"Module"}));a.IDENTITY=n;a.clone=c;a.create=b;a.createView=d;a.fromValues=e;a.mat4f32=u})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../chunks/mat4"],function(a,b){a.brightness=(c,e)=>{c=b.set(c,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return b.transpose(c,c)};a.contrast=(c,e)=>{c=b.set(c,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return b.transpose(c,c)};a.grayscale=(c,e)=>{e=1-e;c=b.set(c,.2126+.7874*e,.7152-.7152*e,.0722-.0722*e,0,.2126-
.2126*e,.7152+.2848*e,.0722-.0722*e,0,.2126-.2126*e,.7152-.7152*e,.0722+.9278*e,0,0,0,0,1);return b.transpose(c,c)};a.invert=(c,e)=>{const d=1-2*e;c=b.set(c,d,0,0,e,0,d,0,e,0,0,d,e,0,0,0,1);return b.transpose(c,c)};a.rotateHue=(c,e)=>{const d=Math.sin(e*Math.PI/180);e=Math.cos(e*Math.PI/180);c=b.set(c,.213+.787*e-.213*d,.715-.715*e-.715*d,.072-.072*e+.928*d,0,.213-.213*e+.143*d,.715+.285*e+.14*d,.072-.072*e-.283*d,0,.213-.213*e-.787*d,.715-.715*e+.715*d,.072+.928*e+.072*d,0,0,0,0,1);return b.transpose(c,
c)};a.saturate=(c,e)=>{c=b.set(c,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return b.transpose(c,c)};a.sepia=(c,e)=>{e=1-e;c=b.set(c,.393+.607*e,.769-.769*e,.189-.189*e,0,.349-.349*e,.686+.314*e,.168-.168*e,0,.272-.272*e,.534-.534*e,.131+.869*e,0,0,0,0,1);return b.transpose(c,c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(a){a.commonjsGlobal=
"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};a.getDefaultExportFromCjs=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,b){a.canInterpolateEffects=function(c,e){const d=c.length>e.length?c:e;return(c.length>e.length?e:c).every((n,u)=>n.type===d[u].type)};a.isEffectFunctions=
function(c){return(c=c[0])?"type"in c:!1};a.normalizeEffects=function(c,e){const d=c.length>e.length?c:e;c=c.length>e.length?e:c;for(e=c.length;e<d.length;e++)c.push(b.createEffectWithInitialValues(d[e]))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){a.CustomParametersMixin=r=>{r=function(p){function m(){var f=g.apply(this,arguments);f.customParameters=null;return f}b._inherits(m,p);var g=b._createSuper(m);return b._createClass(m)}(r);c.__decorate([e.property({type:Object,json:{write:{overridePolicy(p){return{enabled:!!(p&&0<Object.keys(p).length)}}}}})],r.prototype,"customParameters",void 0);return r=c.__decorate([t.subclass("esri.layers.mixins.CustomParametersMixin")],r)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/mixins/EditBusLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Evented ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/Error ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p){const m=new e.EventEmitter,g=Symbol("esri.layers.mixins.EditBusLayer");a.EditBusLayer=f=>{f=function(q){function k(...v){var w=l.call(this,...v);
w[h]=!0;w.when().then(()=>{w.own([m.on("edits",x=>{const z="layer"in x?x.layer?.url:x.serviceUrl,A="layer"in x?x.layer?.layerId:x.layerId;var B=x.event;if(("layer"in x?x.layer:null)!==b._assertThisInitialized(w)&&z===w.url)if(null!=A&&null!=w.layerId&&A===w.layerId)w.emit("edits",d.clone(B));else if(x=B.editedFeatures?.find(({layerId:D})=>D===w.layerId)){const {adds:D,updates:y,deletes:C}=x.editedFeatures;B={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:D?
D.map(({attributes:F})=>({objectId:w.objectIdField&&F[w.objectIdField],globalId:w.globalIdField&&F[w.globalIdField]})):[],deletedFeatures:C?C.map(({attributes:F})=>({objectId:w.objectIdField&&F[w.objectIdField],globalId:w.globalIdField&&F[w.globalIdField]})):[],updatedFeatures:y?y.map(({current:{attributes:F}})=>({objectId:w.objectIdField&&F[w.objectIdField],globalId:w.globalIdField&&F[w.globalIdField]})):[],editedFeatures:d.clone(B.editedFeatures),exceededTransferLimit:!1};w.emit("edits",B)}})])},
()=>{});return w}b._inherits(k,q);var l=b._createSuper(k);return b._createClass(k)}(f);var h=g;return f=c.__decorate([p.subclass("esri.layers.mixins.EditBusLayer")],f)};a.editEventBus=m;a.isEditBusLayer=function(f){return null!=f&&"object"===typeof f&&g in f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),
function(a,b,c,e,d,n,u,t,r){const p={write:{allowNull:!0}};a.FeatureEffectLayer=m=>{m=function(g){function f(){var q=h.apply(this,arguments);q.featureEffect=null;return q}b._inherits(f,g);var h=b._createSuper(f);return b._createClass(f)}(m);c.__decorate([e.property({type:r,json:{origins:{"web-map":p,"portal-item":p}}})],m.prototype,"featureEffect",void 0);return m=c.__decorate([t.subclass("esri.layers.mixins.FeatureEffectLayer")],m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/FeatureEffect":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/maybe ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g,f){var h;t={read:{reader:g.read},write:{writer:g.write,overridePolicy(){return{allowNull:null!=
this.excludedEffect,isRequired:null==this.excludedEffect}}}};g={read:{reader:g.read},write:{writer:g.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}};r={name:"showExcludedLabels",default:!0};e=h=function(q){function k(v){v=l.call(this,v);v.filter=null;v.includedEffect=null;v.excludedEffect=null;v.excludedLabelsVisible=!1;return v}a._inherits(k,q);var l=a._createSuper(k);q=k.prototype;q.write=function(v,w){v=a._get(a._getPrototypeOf(k.prototype),
"write",this).call(this,v,w);if(w?.origin){if(v.filter){const x=Object.keys(v.filter);if(1<x.length||"where"!==x[0])return w.messages?.push(new c("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:w.layer,effect:this})),null}if("showExcludedLabels"in v)return w.messages?.push(new c("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:w.layer,
effect:this})),null}return v};q.clone=function(){return new h({filter:d.isSome(this.filter)?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})};return a._createClass(k)}(e.JSONSupport);b.__decorate([u.property({type:f,json:{write:{allowNull:!0,writer(q,k,l,v){(q=q?.write({},v))&&0!==Object.keys(q).length?n.setDeepValue(l,q,k):n.setDeepValue(l,null,k)}}}})],e.prototype,"filter",void 0);b.__decorate([u.property({json:{write:!0,
origins:{"web-map":t,"portal-item":t}}})],e.prototype,"includedEffect",void 0);b.__decorate([u.property({json:{write:!0,origins:{"web-map":g,"portal-item":g}}})],e.prototype,"excludedEffect",void 0);b.__decorate([u.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":r,"portal-item":r}}})],e.prototype,"excludedLabelsVisible",void 0);return e=h=b.__decorate([m.subclass("esri.layers.support.FeatureEffect")],e)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../rest/support/Query".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){var f;p=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});n=f=function(h){function q(l){l=k.call(this,l);l.where=null;l.geometry=null;l.spatialRelationship="intersects";l.distance=void 0;l.objectIds=null;l.units=null;l.timeExtent=null;return l}a._inherits(q,h);var k=a._createSuper(q);h=q.prototype;h.createQuery=function(l={}){const {where:v,geometry:w,spatialRelationship:x,timeExtent:z,objectIds:A,units:B,distance:D}=
this;return new g({geometry:u.clone(w),objectIds:u.clone(A),spatialRelationship:x,timeExtent:u.clone(z),where:v,units:B,distance:D,...l})};h.clone=function(){const {where:l,geometry:v,spatialRelationship:w,timeExtent:x,objectIds:z,units:A,distance:B}=this;return new f({geometry:u.clone(v),objectIds:u.clone(z),spatialRelationship:w,timeExtent:u.clone(x),where:l,units:A,distance:B})};return a._createClass(q)}(n.JSONSupport);b.__decorate([r.property({type:String,json:{write:!0}})],n.prototype,"where",
void 0);b.__decorate([r.property({types:c.geometryTypes,json:{write:!0}})],n.prototype,"geometry",void 0);b.__decorate([r.property({type:p.apiValues,json:{name:"spatialRel",read:{reader:p.read},write:{allowNull:!1,writer:p.write,overridePolicy(){return{enabled:t.isSome(this.geometry)}}}}})],n.prototype,"spatialRelationship",void 0);b.__decorate([r.property({type:Number,json:{write:{overridePolicy(h){return{enabled:null!=h&&null!=this.geometry}}}}})],n.prototype,"distance",void 0);b.__decorate([r.property({type:[Number],
json:{write:!0}})],n.prototype,"objectIds",void 0);b.__decorate([r.property({type:d.apiValues,json:{read:d.read,write:{writer:d.write,overridePolicy(h){return{enabled:null!=h&&null!=this.geometry}}}}})],n.prototype,"units",void 0);b.__decorate([r.property({type:e,json:{write:!0}})],n.prototype,"timeExtent",void 0);return n=f=b.__decorate([m.subclass("esri.layers.support.FeatureFilter")],n)})},"esri/rest/support/Query":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./FullTextSearch ./QuantizationParameters ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z){var A;const B=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});n=A=function(D){function y(F){F=C.call(this,F);F.aggregateIds=null;F.cacheHint=void 0;F.compactGeometryEnabled=!1;F.datumTransformation=null;F.defaultSpatialReferenceEnabled=!1;F.distance=void 0;F.dynamicDataSource=void 0;F.formatOf3DObjects=null;F.fullText=null;F.gdbVersion=null;F.geometry=null;F.geometryPrecision=void 0;F.groupByFieldsForStatistics=null;
F.having=null;F.historicMoment=null;F.maxAllowableOffset=void 0;F.maxRecordCountFactor=1;F.multipatchOption=null;F.num=void 0;F.objectIds=null;F.orderByFields=null;F.outFields=null;F.outSpatialReference=null;F.outStatistics=null;F.parameterValues=null;F.pixelSize=null;F.quantizationParameters=null;F.rangeValues=null;F.relationParameter=null;F.resultType=null;F.returnCentroid=!1;F.returnDistinctValues=!1;F.returnExceededLimitFeatures=!0;F.returnGeometry=!1;F.returnQueryGeometry=!1;F.returnM=void 0;
F.returnZ=void 0;F.sourceSpatialReference=null;F.spatialRelationship="intersects";F.start=void 0;F.sqlFormat=null;F.text=null;F.timeExtent=null;F.timeReferenceUnknownClient=!1;F.units=null;F.where=null;return F}a._inherits(y,D);var C=a._createSuper(y);y.from=function(F){return h.ensureClass(A,F)};D=y.prototype;D.castDatumTransformation=function(F){return"number"===typeof F||"object"===typeof F?F:null};D.writeHistoricMoment=function(F,G){G.historicMoment=F&&F.getTime()};D.writeParameterValues=function(F,
G){if(F){const E={};for(const P in F){const O=F[P];Array.isArray(O)?E[P]=O.map(K=>K instanceof Date?K.getTime():K):E[P]=O instanceof Date?O.getTime():O}G.parameterValues=E}};D.writeStart=function(F,G){G.resultOffset=this.start;G.resultRecordCount=this.num||10;G.where="1\x3d1"};D.writeWhere=function(F,G){G.where=F||"1\x3d1"};D.clone=function(){return new A(u.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,
defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:t.isSome(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,
num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,
returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))};return a._createClass(y)}(n.JSONSupport);
n.MAX_MAX_RECORD_COUNT_FACTOR=5;b.__decorate([r.property({json:{write:!0}})],n.prototype,"aggregateIds",void 0);b.__decorate([r.property({type:Boolean,json:{write:!0}})],n.prototype,"cacheHint",void 0);b.__decorate([r.property({type:Boolean,json:{default:!1,write:!0}})],n.prototype,"compactGeometryEnabled",void 0);b.__decorate([r.property({json:{write:!0}})],n.prototype,"datumTransformation",void 0);b.__decorate([p.cast("datumTransformation")],n.prototype,"castDatumTransformation",null);b.__decorate([r.property({type:Boolean,
json:{default:!1,write:!0}})],n.prototype,"defaultSpatialReferenceEnabled",void 0);b.__decorate([r.property({type:Number,json:{write:{overridePolicy(D){return{enabled:0<D}}}}})],n.prototype,"distance",void 0);b.__decorate([r.property({type:k.DataLayerSource,json:{write:!0}})],n.prototype,"dynamicDataSource",void 0);b.__decorate([r.property({type:String,json:{write:!0}})],n.prototype,"formatOf3DObjects",void 0);b.__decorate([r.property({type:[l],json:{write:{enabled:!0,overridePolicy(){return{enabled:t.isSome(this.fullText)&&
0<this.fullText.length}}}}})],n.prototype,"fullText",void 0);b.__decorate([r.property({type:String,json:{write:!0}})],n.prototype,"gdbVersion",void 0);b.__decorate([r.property({types:c.geometryTypes,json:{read:q.fromJSON,write:!0}})],n.prototype,"geometry",void 0);b.__decorate([r.property({type:Number,json:{write:!0}})],n.prototype,"geometryPrecision",void 0);b.__decorate([r.property({type:[String],json:{write:!0}})],n.prototype,"groupByFieldsForStatistics",void 0);b.__decorate([r.property({type:String,
json:{write:!0}})],n.prototype,"having",void 0);b.__decorate([r.property({type:Date})],n.prototype,"historicMoment",void 0);b.__decorate([f.writer("historicMoment")],n.prototype,"writeHistoricMoment",null);b.__decorate([r.property({type:Number,json:{write:!0}})],n.prototype,"maxAllowableOffset",void 0);b.__decorate([r.property({type:Number,cast(D){return 1>D?1:D>A.MAX_MAX_RECORD_COUNT_FACTOR?A.MAX_MAX_RECORD_COUNT_FACTOR:D},json:{write:{overridePolicy(D){return{enabled:1<D}}}}})],n.prototype,"maxRecordCountFactor",
void 0);b.__decorate([r.property({type:["xyFootprint"],json:{write:!0}})],n.prototype,"multipatchOption",void 0);b.__decorate([r.property({type:Number,json:{read:{source:"resultRecordCount"}}})],n.prototype,"num",void 0);b.__decorate([r.property({json:{write:!0}})],n.prototype,"objectIds",void 0);b.__decorate([r.property({type:[String],json:{write:!0}})],n.prototype,"orderByFields",void 0);b.__decorate([r.property({type:[String],json:{write:!0}})],n.prototype,"outFields",void 0);b.__decorate([r.property({type:x,
json:{name:"outSR",write:!0}})],n.prototype,"outSpatialReference",void 0);b.__decorate([r.property({type:[w],json:{write:{enabled:!0,overridePolicy(){return{enabled:t.isSome(this.outStatistics)&&0<this.outStatistics.length}}}}})],n.prototype,"outStatistics",void 0);b.__decorate([r.property({json:{write:!0}})],n.prototype,"parameterValues",void 0);b.__decorate([f.writer("parameterValues")],n.prototype,"writeParameterValues",null);b.__decorate([r.property({type:z,json:{write:!0}})],n.prototype,"pixelSize",
void 0);b.__decorate([r.property({type:v,json:{write:!0}})],n.prototype,"quantizationParameters",void 0);b.__decorate([r.property({type:[Object],json:{write:!0}})],n.prototype,"rangeValues",void 0);b.__decorate([r.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],n.prototype,"relationParameter",void 0);b.__decorate([r.property({type:String,json:{write:!0}})],n.prototype,"resultType",
void 0);b.__decorate([r.property({type:Boolean,json:{default:!1,write:!0}})],n.prototype,"returnCentroid",void 0);b.__decorate([r.property({type:Boolean,json:{default:!1,write:!0}})],n.prototype,"returnDistinctValues",void 0);b.__decorate([r.property({type:Boolean,json:{default:!0,write:!0}})],n.prototype,"returnExceededLimitFeatures",void 0);b.__decorate([r.property({type:Boolean,json:{write:!0}})],n.prototype,"returnGeometry",void 0);b.__decorate([r.property({type:Boolean,json:{default:!1,write:!0}})],
n.prototype,"returnQueryGeometry",void 0);b.__decorate([r.property({type:Boolean,json:{default:!1,write:!0}})],n.prototype,"returnM",void 0);b.__decorate([r.property({type:Boolean,json:{write:{overridePolicy(D){return{enabled:D}}}}})],n.prototype,"returnZ",void 0);b.__decorate([r.property({type:x,json:{write:!0}})],n.prototype,"sourceSpatialReference",void 0);b.__decorate([m.enumeration(B,{ignoreUnknown:!1,name:"spatialRel"})],n.prototype,"spatialRelationship",void 0);b.__decorate([r.property({type:Number,
json:{read:{source:"resultOffset"}}})],n.prototype,"start",void 0);b.__decorate([f.writer("start"),f.writer("num")],n.prototype,"writeStart",null);b.__decorate([r.property({type:String,json:{write:!0}})],n.prototype,"sqlFormat",void 0);b.__decorate([r.property({type:String,json:{write:!0}})],n.prototype,"text",void 0);b.__decorate([r.property({type:e,json:{write:!0}})],n.prototype,"timeExtent",void 0);b.__decorate([r.property({type:Boolean,json:{default:!1,write:!0}})],n.prototype,"timeReferenceUnknownClient",
void 0);b.__decorate([m.enumeration(d,{ignoreUnknown:!1}),r.property({json:{write:{overridePolicy(D){return{enabled:!!D&&null!=this.distance&&0<this.distance}}}}})],n.prototype,"units",void 0);b.__decorate([r.property({type:String,json:{write:{overridePolicy(D){return{enabled:null!=D||null!=this.start&&0<this.start}}}}})],n.prototype,"where",void 0);b.__decorate([f.writer("where")],n.prototype,"writeWhere",null);return n=A=b.__decorate([g.subclass("esri.rest.support.Query")],n)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l){function v(){A||(A=g.createTypeReader({types:w()}));return A}function w(){B||(B={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":h.MapLayerSource}});return B}var x,z;e=e.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=x=function(D){function y(F){F=C.call(this,F);F.type="join-table";return F}b._inherits(y,D);var C=b._createSuper(y);D=y.prototype;D.readLeftTableSource=function(F,
G,E){return v()(F,G,E)};D.castLeftTableSource=function(F){return m.ensureOneOfType(w(),F)};D.readRightTableSource=function(F,G,E){return v()(F,G,E)};D.castRightTableSource=function(F){return m.ensureOneOfType(w(),F)};D.clone=function(){const {leftTableKey:F,rightTableKey:G,leftTableSource:E,rightTableSource:P,joinType:O}=this,K={leftTableKey:F,rightTableKey:G,leftTableSource:E?.clone()??void 0,rightTableSource:P?.clone()??void 0,joinType:O};return new x(K)};return b._createClass(y)}(d.JSONSupport);
c.__decorate([t.enumeration({joinTable:"join-table"})],a.JoinTableDataSource.prototype,"type",void 0);c.__decorate([n.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableKey",void 0);c.__decorate([n.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);c.__decorate([n.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);c.__decorate([r.reader("leftTableSource")],a.JoinTableDataSource.prototype,
"readLeftTableSource",null);c.__decorate([u.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);c.__decorate([n.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableSource",void 0);c.__decorate([r.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);c.__decorate([u.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);c.__decorate([t.enumeration(e)],a.JoinTableDataSource.prototype,
"joinType",void 0);a.JoinTableDataSource=x=c.__decorate([p.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let A=null,B=null;u={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,"query-table":q.QueryTableDataSource,raster:k.RasterDataSource,table:l.TableDataSource}};a.DataLayerSource=z=function(D){function y(F){F=C.call(this,F);F.type="data-layer";return F}b._inherits(y,D);var C=b._createSuper(y);y.prototype.clone=function(){const {fields:F,dataSource:G}=
this;return new z({fields:F,dataSource:G})};return b._createClass(y)}(d.JSONSupport);c.__decorate([t.enumeration({dataLayer:"data-layer"})],a.DataLayerSource.prototype,"type",void 0);c.__decorate([n.property({type:[f],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);c.__decorate([n.property({types:u,json:{write:!0}})],a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=z=c.__decorate([p.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=
m.ensureType(a.DataLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;a.MapLayerSource=m=function(g){function f(q){q=h.call(this,q);q.type="map-layer";return q}b._inherits(f,g);var h=b._createSuper(f);f.prototype.clone=function(){const {mapLayerId:q,gdbVersion:k}=this;return new m({mapLayerId:q,gdbVersion:k})};return b._createClass(f)}(e.JSONSupport);c.__decorate([r.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);c.__decorate([d.property({type:n.Integer,json:{write:!0}})],a.MapLayerSource.prototype,
"mapLayerId",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.MapLayerSource.prototype,"gdbVersion",void 0);a.MapLayerSource=m=c.__decorate([p.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){var h;a.QueryTableDataSource=h=function(q){function k(v){v=l.call(this,v);v.type="query-table";return v}b._inherits(k,q);var l=b._createSuper(k);k.prototype.clone=function(){const {workspaceId:v,query:w,oidFields:x,spatialReference:z,geometryType:A}=this,B={workspaceId:v,query:w,oidFields:x,spatialReference:z?.clone()??void 0,geometryType:A};return new h(B)};return b._createClass(k)}(d.JSONSupport);c.__decorate([p.enumeration({queryTable:"query-table"})],a.QueryTableDataSource.prototype,
"type",void 0);c.__decorate([n.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"workspaceId",void 0);c.__decorate([n.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);c.__decorate([n.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);c.__decorate([n.property({type:g,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);c.__decorate([p.enumeration(f.featureGeometryTypeKebabDictionary)],
a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=h=c.__decorate([m.subclass("esri.layers.support.source.QueryTableDataSource")],a.QueryTableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;a.RasterDataSource=m=function(g){function f(q){q=h.call(this,q);q.type="raster";return q}b._inherits(f,g);var h=b._createSuper(f);f.prototype.clone=function(){const {workspaceId:q,dataSourceName:k}=this;return new m({workspaceId:q,dataSourceName:k})};return b._createClass(f)}(e.JSONSupport);c.__decorate([r.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,
"dataSourceName",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=m=c.__decorate([p.subclass("esri.layers.support.source.RasterDataSource")],a.RasterDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;a.TableDataSource=m=function(g){function f(q){q=h.call(this,q);q.type="table";return q}b._inherits(f,g);var h=b._createSuper(f);f.prototype.clone=function(){const {workspaceId:q,gdbVersion:k,dataSourceName:l}=this;return new m({workspaceId:q,gdbVersion:k,dataSourceName:l})};return b._createClass(f)}(e.JSONSupport);c.__decorate([r.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,
"workspaceId",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=m=c.__decorate([p.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p){c=function(m){function g(h){h=f.call(this,h);h.onFields=null;h.operator=null;h.searchTerm=null;h.searchType=null;return h}a._inherits(g,m);var f=a._createSuper(g);return a._createClass(g)}(c.ClonableMixin(e.JSONSupport));b.__decorate([n.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:d.isSome(this.onFields)&&0<this.onFields.length}}}}})],c.prototype,"onFields",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],c.prototype,
"operator",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],c.prototype,"searchTerm",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],c.prototype,"searchType",void 0);return c=b.__decorate([p.subclass("esri.rest.support.FullTextSearch")],c)})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),
function(a,b,c,e,d,n,u,t,r,p){var m;c=new e.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});d=m=function(g){function f(q){q=h.call(this,q);q.extent=null;q.mode="view";q.originPosition="upper-left";q.tolerance=1;return q}a._inherits(f,g);var h=a._createSuper(f);f.prototype.clone=function(){return new m(n.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};return a._createClass(f)}(d.JSONSupport);b.__decorate([u.property({type:p,json:{write:{overridePolicy(){return{enabled:"view"===
this.mode}}}}})],d.prototype,"extent",void 0);b.__decorate([u.property({type:["view","edit"],json:{write:!0}})],d.prototype,"mode",void 0);b.__decorate([u.property({type:String,json:{read:c.read,write:c.write}})],d.prototype,"originPosition",void 0);b.__decorate([u.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],d.prototype,"tolerance",void 0);return d=m=b.__decorate([r.subclass("esri.rest.support.QuantizationParameters")],d)})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;c=new c.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});e=p=function(m){function g(h){h=f.call(this,h);h.maxPointCount=void 0;h.maxRecordCount=void 0;h.maxVertexCount=void 0;h.onStatisticField=null;
h.outStatisticFieldName=null;h.statisticType=null;h.statisticParameters=null;return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.writeStatisticParameters=function(h,q){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)q.statisticParameters=d.clone(h)};m.clone=function(){return new p({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,
statisticType:this.statisticType,statisticParameters:d.clone(this.statisticParameters)})};return a._createClass(g)}(e.JSONSupport);b.__decorate([n.property({type:Number,json:{write:!0}})],e.prototype,"maxPointCount",void 0);b.__decorate([n.property({type:Number,json:{write:!0}})],e.prototype,"maxRecordCount",void 0);b.__decorate([n.property({type:Number,json:{write:!0}})],e.prototype,"maxVertexCount",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"onStatisticField",void 0);
b.__decorate([n.property({type:String,json:{write:!0}})],e.prototype,"outStatisticFieldName",void 0);b.__decorate([n.property({type:String,json:{read:{source:"statisticType",reader:c.read},write:{target:"statisticType",writer:c.write}}})],e.prototype,"statisticType",void 0);b.__decorate([n.property({type:Object})],e.prototype,"statisticParameters",void 0);b.__decorate([r.writer("statisticParameters")],e.prototype,"writeStatisticParameters",null);return e=p=b.__decorate([t.subclass("esri.rest.support.StatisticDefinition")],
e)})},"esri/layers/mixins/FeatureLayerBase":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/Extent ../../geometry/HeightModelInfo ../../geometry/SpatialReference ../support/arcgisLayerUrl ../support/commonProperties ../support/EditFieldsInfo ../support/FeatureIndex ../support/featureLayerUtils ../support/GeometryFieldsInfo ../support/LayerFloorInfo ../support/Relationship ../support/serviceCapabilitiesUtils ../../time/TimeReference".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D){a.FeatureLayerBase=y=>{y=function(C){function F(){var E=G.apply(this,arguments);E.capabilities=null;E.copyright=null;E.dateFieldsTimeReference=null;E.datesInUnknownTimezone=!1;E.displayField=null;E.definitionExpression=null;E.editFieldsInfo=null;E.editingInfo=null;E.elevationInfo=null;E.floorInfo=null;E.fullExtent=null;E.gdbVersion=null;E.geometryFieldsInfo=null;E.geometryType=null;E.hasM=void 0;E.hasZ=void 0;E.heightModelInfo=null;E.historicMoment=
null;E.isTable=!1;E.layerId=void 0;E.minScale=0;E.maxScale=0;E.globalIdField=null;E.objectIdField=null;E.preferredTimeReference=null;E.relationships=null;E.sourceJSON=null;E.returnM=void 0;E.returnZ=void 0;E.serviceDefinitionExpression=null;E.serviceItemId=null;E.spatialReference=h.WGS84;E.subtypeField=null;E.trackIdField=null;E.indexes=new (e.ofType(v.FeatureIndex));E.version=void 0;return E}b._inherits(F,C);var G=b._createSuper(F);C=F.prototype;C.readCapabilitiesFromService=function(E,P){return B.getFeatureLayerCapabilities(P,
this.url)};C.readEditingInfo=function(E,P){({editingInfo:E}=P);return E?{lastEditDate:null!=E.lastEditDate?new Date(E.lastEditDate):null}:null};C.readIsTableFromService=function(E,P){return"Table"===P.type};C.readMinScale=function(E,P){return P.effectiveMinScale||E||0};C.readMaxScale=function(E,P){return P.effectiveMaxScale||E||0};C.readGlobalIdFieldFromService=function(E,P){return w.readGlobalIdField(P)};C.readObjectIdFieldFromService=function(E,P){return w.readObjectIdField(P)};C.readServiceDefinitionExpression=
function(E,P){return P.definitionQuery||P.definitionExpression};C.writeUrl=function(E,P,O,K){q.writeUrlWithLayerId(this,E,null,P,K)};C.readVersion=function(E,P){return w.readVersion(P)};b._createClass(F,[{key:"effectiveCapabilities",get:function(){var E=this.capabilities;if(!E)return null;E=d.clone(E);const {operations:P,editing:O}=E;if(this.sourceJSON?.isMultiServicesView)return this.userHasUpdateItemPrivileges&&(P.supportsQuery=!0),E;if(this.userHasUpdateItemPrivileges)return P.supportsAdd=P.supportsDelete=
P.supportsEditing=P.supportsQuery=P.supportsUpdate=O.supportsDeleteByOthers=O.supportsGeometryUpdate=O.supportsUpdateByOthers=!0,E;this.userHasFullEditingPrivileges&&P.supportsEditing&&(P.supportsAdd=P.supportsDelete=P.supportsUpdate=O.supportsGeometryUpdate=!0);return E}},{key:"url",set:function(E){E=q.sanitizeUrlWithLayerId({layer:this,url:E,nonStandardUrlAllowed:!0,logger:n.getLogger(this.declaredClass)});this._set("url",E.url);null!=E.layerId&&this._set("layerId",E.layerId)}}]);return F}(y);c.__decorate([u.property({readOnly:!0,
json:{read:!1,origins:{service:{read:{source:"advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" ")}}}}})],
y.prototype,"capabilities",void 0);c.__decorate([r.reader("service","capabilities")],y.prototype,"readCapabilitiesFromService",null);c.__decorate([u.property({readOnly:!0})],y.prototype,"effectiveCapabilities",null);c.__decorate([u.property({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],y.prototype,"copyright",void 0);c.__decorate([u.property({type:D})],y.prototype,"dateFieldsTimeReference",void 0);c.__decorate([u.property({type:Boolean})],y.prototype,"datesInUnknownTimezone",
void 0);c.__decorate([u.property({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],y.prototype,"displayField",void 0);c.__decorate([u.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],y.prototype,"definitionExpression",void 0);c.__decorate([u.property({readOnly:!0,type:l})],y.prototype,"editFieldsInfo",void 0);c.__decorate([u.property({readOnly:!0})],y.prototype,"editingInfo",void 0);
c.__decorate([r.reader("editingInfo")],y.prototype,"readEditingInfo",null);c.__decorate([u.property((()=>{const C=d.clone(k.elevationInfo),F=C.json.origins;F["web-map"]={read:!1,write:!1};F["portal-item"]={read:!1,write:!1};return C})())],y.prototype,"elevationInfo",void 0);c.__decorate([u.property({type:z,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],y.prototype,"floorInfo",void 0);c.__decorate([u.property({type:g,json:{origins:{service:{read:{source:"extent"}}}}})],
y.prototype,"fullExtent",void 0);c.__decorate([u.property()],y.prototype,"gdbVersion",void 0);c.__decorate([u.property({readOnly:!0,type:x,json:{read:{source:"geometryProperties"}}})],y.prototype,"geometryFieldsInfo",void 0);c.__decorate([u.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:w.geometryTypeKebabDict.read}}}})],y.prototype,"geometryType",void 0);c.__decorate([u.property({type:Boolean,json:{origins:{service:{read:!0}}}})],y.prototype,
"hasM",void 0);c.__decorate([u.property({type:Boolean,json:{origins:{service:{read:!0}}}})],y.prototype,"hasZ",void 0);c.__decorate([u.property({readOnly:!0,type:f})],y.prototype,"heightModelInfo",void 0);c.__decorate([u.property({type:Date})],y.prototype,"historicMoment",void 0);c.__decorate([u.property({readOnly:!0})],y.prototype,"isTable",void 0);c.__decorate([r.reader("service","isTable",["type"])],y.prototype,"readIsTableFromService",null);c.__decorate([u.property({type:Number,json:{origins:{service:{read:{source:"id"}},
"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],y.prototype,"layerId",void 0);c.__decorate([u.property(k.minScale)],y.prototype,"minScale",void 0);c.__decorate([r.reader("service","minScale",["minScale","effectiveMinScale"])],y.prototype,"readMinScale",null);c.__decorate([u.property(k.maxScale)],y.prototype,"maxScale",void 0);c.__decorate([r.reader("service","maxScale",["maxScale","effectiveMaxScale"])],y.prototype,"readMaxScale",null);c.__decorate([u.property({type:String})],y.prototype,
"globalIdField",void 0);c.__decorate([r.reader("service","globalIdField",["globalIdField","fields"])],y.prototype,"readGlobalIdFieldFromService",null);c.__decorate([u.property({type:String})],y.prototype,"objectIdField",void 0);c.__decorate([r.reader("service","objectIdField",["objectIdField","fields"])],y.prototype,"readObjectIdFieldFromService",null);c.__decorate([u.property({type:D})],y.prototype,"preferredTimeReference",void 0);c.__decorate([u.property({type:[A],readOnly:!0})],y.prototype,"relationships",
void 0);c.__decorate([u.property()],y.prototype,"sourceJSON",void 0);c.__decorate([u.property({type:Boolean})],y.prototype,"returnM",void 0);c.__decorate([u.property({type:Boolean})],y.prototype,"returnZ",void 0);c.__decorate([u.property({readOnly:!0})],y.prototype,"serviceDefinitionExpression",void 0);c.__decorate([r.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],y.prototype,"readServiceDefinitionExpression",null);c.__decorate([u.property({type:String,
readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],y.prototype,"serviceItemId",void 0);c.__decorate([u.property({type:h,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],y.prototype,"spatialReference",void 0);c.__decorate([u.property({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],y.prototype,"subtypeField",void 0);c.__decorate([u.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],y.prototype,"trackIdField",void 0);c.__decorate([u.property({readOnly:!0,
json:{write:!1}})],y.prototype,"serverGens",void 0);c.__decorate([u.property({type:e.ofType(v.FeatureIndex),readOnly:!0})],y.prototype,"indexes",void 0);c.__decorate([u.property(k.url)],y.prototype,"url",null);c.__decorate([m.writer("url")],y.prototype,"writeUrl",null);c.__decorate([u.property({json:{origins:{service:{read:!0}},read:!1}})],y.prototype,"version",void 0);c.__decorate([r.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],
y.prototype,"readVersion",null);return y=c.__decorate([p.subclass("esri.layers.mixins.FeatureLayerBase")],y)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/HeightModelInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){function h(v,w){return new u("height-unit:unsupported",`Height unit of value '${v}' is not supported`,w)}var q;const k=e.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});r=k.jsonValues.slice();c.removeUnordered(r,"orthometric");const l=e.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards",
"sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});c=q=function(v){function w(z){z=x.call(this,z);z.heightModel="gravity-related-height";z.heightUnit="meters";z.vertCRS=null;return z}a._inherits(w,v);var x=a._createSuper(w);
v=w.prototype;v.writeHeightModel=function(z,A,B){return k.write(z,A,B)};v.readHeightModel=function(z,A,B){if(A=k.read(z))return A;if(B&&B.messages){A=B.messages;var D=A.push;z=new u("height-model:unsupported",`Height model of value '${z}' is not supported`,{context:B});D.call(A,z)}return null};v.readHeightUnit=function(z,A,B){if(A=l.read(z))return A;B&&B.messages&&B.messages.push(h(z,{context:B}));return null};v.readHeightUnitService=function(z,A,B){if(A=n.unitFromRESTJSON(z)||l.read(z))return A;
B&&B.messages&&B.messages.push(h(z,{context:B}));return null};v.readVertCRS=function(z,A){return A.vertCRS||A.ellipsoid||A.geoid};v.clone=function(){return new q({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})};v.equals=function(z){return z?this===z?!0:this.heightModel===z.heightModel&&this.heightUnit===z.heightUnit&&this.vertCRS===z.vertCRS:!1};w.deriveUnitFromSR=function(z,A){A=n.getVerticalUnitStringForSR(A);return new q({heightModel:z.heightModel,heightUnit:A,vertCRS:z.vertCRS})};
v.write=function(z,A){A={origin:"web-scene",...A};return a._get(a._getPrototypeOf(w.prototype),"write",this).call(this,z,A)};w.fromJSON=function(z){if(!z)return null;const A=new q;A.read(z,{origin:"web-scene"});return A};return a._createClass(w)}(d.JSONSupport);b.__decorate([t.property({type:k.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:r,default:"ellipsoidal"}}}})],c.prototype,"heightModel",void 0);b.__decorate([f.writer("web-scene","heightModel")],c.prototype,"writeHeightModel",
null);b.__decorate([m.reader(["web-scene","service"],"heightModel")],c.prototype,"readHeightModel",null);b.__decorate([t.property({type:l.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:l.jsonValues,write:l.write}}}})],c.prototype,"heightUnit",void 0);b.__decorate([m.reader("web-scene","heightUnit")],c.prototype,"readHeightUnit",null);b.__decorate([m.reader("service","heightUnit")],c.prototype,"readHeightUnitService",null);b.__decorate([t.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],
c.prototype,"vertCRS",void 0);b.__decorate([m.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],c.prototype,"readVertCRS",null);return c=q=b.__decorate([g.subclass("esri.geometry.HeightModelInfo")],c)})},"esri/layers/support/EditFieldsInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../time/TimeReference".split(" "),
function(a,b,c,e,d,n,u,t,r,p){c=function(m){function g(h){h=f.call(this,h);h.creatorField=null;h.creationDateField=null;h.editorField=null;h.editDateField=null;h.realm=null;h.dateFieldsTimeReference=null;return h}a._inherits(g,m);var f=a._createSuper(g);return a._createClass(g)}(c.ClonableMixin(e.JSONSupport));b.__decorate([d.property()],c.prototype,"creatorField",void 0);b.__decorate([d.property()],c.prototype,"creationDateField",void 0);b.__decorate([d.property()],c.prototype,"editorField",void 0);
b.__decorate([d.property()],c.prototype,"editDateField",void 0);b.__decorate([d.property()],c.prototype,"realm",void 0);b.__decorate([d.property({type:p})],c.prototype,"dateFieldsTimeReference",void 0);return c=b.__decorate([r.subclass("esri.layers.support.EditFieldsInfo")],c)})},"esri/time/TimeReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Clonable ../core/JSONSupport ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./timeReferenceUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){c=function(h){function q(l){l=k.call(this,l);l.legacy=null;l.timeZone="system";return l}a._inherits(q,h);var k=a._createSuper(q);h=q.prototype;h.readLegacy=function(l,v){const {timeZone:w,respectsDaylightSaving:x}=v;return{timeZone:w,respectsDaylightSaving:x}};h.readTimeZone=function(l,v){return"timeZoneIANA"in v?v.timeZoneIANA:f.convertLegacyTimeZone(v)};h.writeTimeZone=function(l,v){v.timeZoneIANA=l};h.equals=function(l){return d.isNone(l)||d.isNone(this.timeZone)||
d.isNone(l.timeZone)?!1:this.timeZone===l.timeZone};return a._createClass(q)}(c.ClonableMixin(e.JSONSupport));b.__decorate([n.property()],c.prototype,"legacy",void 0);b.__decorate([p.reader("legacy",["timeZone"])],c.prototype,"readLegacy",null);b.__decorate([n.property({type:String,nonNullable:!0})],c.prototype,"timeZone",void 0);b.__decorate([p.reader("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],c.prototype,"readTimeZone",null);b.__decorate([g.writer("timeZone")],c.prototype,
"writeTimeZone",null);return c=b.__decorate([m.subclass("esri.time.TimeReference")],c)})},"esri/time/timeReferenceUtils":function(){define(["exports","./legacyTimeZoneMap","../chunks/datetime"],function(a,b,c){a.convertLegacyTimeZone=function(e,d="system"){if(!e||!b.legacyTimeZoneMap.has(e.timeZone))return d;d=b.legacyTimeZoneMap.get(e.timeZone);if(e.timeZone.startsWith("UTC")||e.respectsDaylightSaving)return d;e=c.DateTime.local().setZone(d);e=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);
e=0===e?"Etc/UTC":`Etc/GMT${c.FixedOffsetZone.instance(-e).formatOffset(0,"narrow")}`;return e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/legacyTimeZoneMap":function(){define(["exports"],function(a){const b=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time",
"Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time",
"Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time",
"Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time",
"America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time",
"Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],
["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Chihuahua"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time",
"Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],
["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time",
"America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],
["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time",
"America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],
["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time",
"Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);a.legacyTimeZoneMap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],function(a){function b(J,W={}){const oa=JSON.stringify([J,W]);let za=oc[oa];za||(za=new Intl.ListFormat(J,W),oc[oa]=za);return za}
function c(J,W={}){const oa=JSON.stringify([J,W]);let za=bc[oa];za||(za=new Intl.DateTimeFormat(J,W),bc[oa]=za);return za}function e(J,W={}){const oa=JSON.stringify([J,W]);let za=cc[oa];za||(za=new Intl.NumberFormat(J,W),cc[oa]=za);return za}function d(J,W={}){const {base:oa,...za}=W,Ha=JSON.stringify([J,za]);let Ma=dc[Ha];Ma||(Ma=new Intl.RelativeTimeFormat(J,W),dc[Ha]=Ma);return Ma}function n(J){const W=[];for(let oa=1;12>=oa;oa++){const za=lb.utc(2016,oa,1);W.push(J(za))}return W}function u(J){const W=
[];for(let oa=1;7>=oa;oa++){const za=lb.utc(2016,11,13+oa);W.push(J(za))}return W}function t(J,W,oa,za,Ha){J=J.listingMode(oa);return"error"===J?null:"en"===J?za(W):Ha(W)}function r(J,W){if(p(J)||null===J)return W;if(J instanceof Tb)return J;if("string"===typeof J){const oa=J.toLowerCase();return"default"===oa?W:"local"===oa||"system"===oa?Yb.instance:"utc"===oa||"gmt"===oa?Db.utcInstance:Db.parseSpecifier(oa)||Lb.create(J)}return m(J)?Db.instance(J):"object"===typeof J&&J.offset&&"number"===typeof J.offset?
J:new Nc(J)}function p(J){return"undefined"===typeof J}function m(J){return"number"===typeof J}function g(J){return"number"===typeof J&&0===J%1}function f(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(J){return!1}}function h(J,W,oa){if(0!==J.length)return J.reduce((za,Ha)=>{Ha=[W(Ha),Ha];return za?oa(za[0],Ha[0])===za[0]?za:Ha:Ha},null)[1]}function q(J,W){return W.reduce((oa,za)=>{oa[za]=J[za];return oa},{})}function k(J,W){return Object.prototype.hasOwnProperty.call(J,W)}
function l(J,W,oa){return g(J)&&J>=W&&J<=oa}function v(J,W=2){return 0>J?"-"+(""+-J).padStart(W,"0"):(""+J).padStart(W,"0")}function w(J){if(!p(J)&&null!==J&&""!==J)return parseInt(J,10)}function x(J){if(!p(J)&&null!==J&&""!==J)return parseFloat(J)}function z(J){if(!p(J)&&null!==J&&""!==J)return J=1E3*parseFloat("0."+J),Math.floor(J)}function A(J,W,oa=!1){W=10**W;return(oa?Math.trunc:Math.round)(J*W)/W}function B(J){return 0===J%4&&(0!==J%100||0===J%400)}function D(J,W){var oa=W-1;oa=oa-12*Math.floor(oa/
12)+1;return 2===oa?B(J+(W-oa)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][oa-1]}function y(J){let W=Date.UTC(J.year,J.month-1,J.day,J.hour,J.minute,J.second,J.millisecond);100>J.year&&0<=J.year&&(W=new Date(W),W.setUTCFullYear(J.year,J.month-1,J.day));return+W}function C(J){var W=J-1;W=(W+Math.floor(W/4)-Math.floor(W/100)+Math.floor(W/400))%7;return 4===(J+Math.floor(J/4)-Math.floor(J/100)+Math.floor(J/400))%7||3===W?53:52}function F(J){return 99<J?J:J>zb.twoDigitCutoffYear?1900+J:2E3+J}function G(J,
W,oa,za=null){J=new Date(J);const Ha={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};za&&(Ha.timeZone=za);return(W=(new Intl.DateTimeFormat(oa,{timeZoneName:W,...Ha})).formatToParts(J).find(Ma=>"timezonename"===Ma.type.toLowerCase()))?W.value:null}function E(J,W){J=parseInt(J,10);Number.isNaN(J)&&(J=0);W=parseInt(W,10)||0;W=0>J||Object.is(J,-0)?-W:W;return 60*J+W}function P(J){const W=Number(J);if("boolean"===typeof J||""===J||Number.isNaN(W))throw new Qa(`Invalid unit value ${J}`);
return W}function O(J,W){const oa={};for(const za in J)if(k(J,za)){const Ha=J[za];void 0!==Ha&&null!==Ha&&(oa[W(za)]=P(Ha))}return oa}function K(J,W){const oa=Math.trunc(Math.abs(J/60)),za=Math.trunc(Math.abs(J%60));J=0<=J?"+":"-";switch(W){case "short":return`${J}${v(oa,2)}:${v(za,2)}`;case "narrow":return`${J}${oa}${0<za?`:${za}`:""}`;case "techie":return`${J}${v(oa,2)}${v(za,2)}`;default:throw new RangeError(`Value format ${W} is out of range for property format`);}}function M(J){return q(J,["hour",
"minute","second","millisecond"])}function I(J){switch(J){case "narrow":return[...Oc];case "short":return[...pc];case "long":return[...Pc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function H(J){switch(J){case "narrow":return[...Qc];case "short":return[...qc];case "long":return[...rc];case "numeric":return"1234567".split("");default:return null}}function L(J){switch(J){case "narrow":return[...Rc];
case "short":return[...Sc];case "long":return[...Tc];default:return null}}function aa(J,W,oa="always",za=!1){const Ha={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var Ma=-1===["hours","minutes","seconds"].indexOf(J);if("auto"===oa&&Ma)switch(oa="days"===J,W){case 1:return oa?"tomorrow":`next ${Ha[J][0]}`;case -1:return oa?"yesterday":`last ${Ha[J][0]}`;
case 0:return oa?"today":`this ${Ha[J][0]}`}oa=Object.is(W,-0)||0>W;W=Math.abs(W);Ma=1===W;const Ya=Ha[J];J=za?Ma?Ya[1]:Ya[2]||Ya[1]:Ma?Ha[J][0]:J;return oa?`${W} ${J} ago`:`in ${W} ${J}`}function R(J,W){let oa="";for(const za of J)oa=za.literal?oa+za.val:oa+W(za.val);return oa}function S(...J){J=J.reduce((W,oa)=>W+oa.source,"");return RegExp(`^${J}$`)}function V(...J){return W=>J.reduce(([oa,za,Ha],Ma)=>{const [Ya,cb,gb]=Ma(W,Ha);return[{...oa,...Ya},cb||za,gb]},[{},null,1]).slice(0,2)}function ea(J,
...W){if(null==J)return[null,null];for(const [oa,za]of W)if(W=oa.exec(J))return za(W);return[null,null]}function ha(...J){return(W,oa)=>{const za={};let Ha;for(Ha=0;Ha<J.length;Ha++)za[J[Ha]]=w(W[oa+Ha]);return[za,null,oa+Ha]}}function la(J,W,oa){J=J[W];return p(J)?oa:w(J)}function ia(J,W){return[{hours:la(J,W,0),minutes:la(J,W+1,0),seconds:la(J,W+2,0),milliseconds:z(J[W+3])},null,W+4]}function Y(J,W){const oa=!J[W]&&!J[W+1];J=E(J[W+1],J[W+2]);return[{},oa?null:Db.instance(J),W+3]}function Z(J,W){return[{},
J[W]?Lb.create(J[W]):null,W+1]}function U(J){const [W,oa,za,Ha,Ma,Ya,cb,gb,mb]=J,ib="-"===W[0];J=gb&&"-"===gb[0];const ob=(nb,Eb=!1)=>void 0!==nb&&(Eb||nb&&ib)?-nb:nb;return[{years:ob(x(oa)),months:ob(x(za)),weeks:ob(x(Ha)),days:ob(x(Ma)),hours:ob(x(Ya)),minutes:ob(x(cb)),seconds:ob(x(gb),"-0"===gb),milliseconds:ob(z(mb),J)}]}function pa(J,W,oa,za,Ha,Ma,Ya){W={year:2===W.length?F(w(W)):w(W),month:pc.indexOf(oa)+1,day:w(za),hour:w(Ha),minute:w(Ma)};Ya&&(W.second=w(Ya));J&&(W.weekday=3<J.length?rc.indexOf(J)+
1:qc.indexOf(J)+1);return W}function xa(J){const [,W,oa,za,Ha,Ma,Ya,cb,gb,mb,ib,ob]=J;J=pa(W,Ha,za,oa,Ma,Ya,cb);let nb;nb=gb?Uc[gb]:mb?0:E(ib,ob);return[J,new Db(nb)]}function N(J){const [,W,oa,za,Ha,Ma,Ya,cb]=J;return[pa(W,Ha,za,oa,Ma,Ya,cb),Db.utcInstance]}function T(J){const [,W,oa,za,Ha,Ma,Ya,cb]=J;return[pa(W,cb,oa,za,Ha,Ma,Ya),Db.utcInstance]}function qa(J,W,oa=!1){J={values:oa?W.values:{...J.values,...(W.values||{})},loc:J.loc.clone(W.loc),conversionAccuracy:W.conversionAccuracy||J.conversionAccuracy,
matrix:W.matrix||J.matrix};return new pb(J)}function Ca(J,W,oa,za,Ha){J=J[Ha][oa];var Ma=W[oa]/J;Ma=Math.sign(Ma)!==Math.sign(za[Ha])&&0!==za[Ha]&&1>=Math.abs(Ma)?0>Ma?Math.floor(Ma):Math.ceil(Ma):Math.trunc(Ma);za[Ha]+=Ma;W[oa]-=Ma*J}function Fa(J,W){Vc.reduce((oa,za)=>{if(p(W[za]))return oa;oa&&Ca(J,W,oa,W,za);return za},null)}function fa(J,W){J=W.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-J.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(pb.fromMillis(J).as("days"))}
function ba(J,W,oa){const za=[["years",(gb,mb)=>mb.year-gb.year],["quarters",(gb,mb)=>mb.quarter-gb.quarter+4*(mb.year-gb.year)],["months",(gb,mb)=>mb.month-gb.month+12*(mb.year-gb.year)],["weeks",(gb,mb)=>{gb=fa(gb,mb);return(gb-gb%7)/7}],["days",fa]],Ha={},Ma=J;let Ya,cb;for(const [gb,mb]of za)0<=oa.indexOf(gb)&&(Ya=gb,Ha[gb]=mb(J,W),cb=Ma.plus(Ha),cb>W?(Ha[gb]--,J=Ma.plus(Ha)):J=cb);return[J,Ha,cb,Ya]}function ka(J,W,oa,za){let [Ha,Ma,Ya,cb]=ba(J,W,oa);J=W-Ha;oa=oa.filter(gb=>0<=["hours","minutes",
"seconds","milliseconds"].indexOf(gb));0===oa.length&&(Ya<W&&(Ya=Ha.plus({[cb]:1})),Ya!==Ha&&(Ma[cb]=(Ma[cb]||0)+J/(Ya-Ha)));W=pb.fromObject(Ma,za);return 0<oa.length?pb.fromMillis(J,za).shiftTo(...oa).plus(W):W}function X({numberingSystem:J},W=""){return new RegExp(`${ec[J||"latn"]}${W}`)}function Q(J,W=oa=>oa){return{regex:J,deser:([oa])=>{{let za=parseInt(oa,10);if(isNaN(za)){za="";for(let Ha=0;Ha<oa.length;Ha++){const Ma=oa.charCodeAt(Ha);if(-1!==oa[Ha].search(ec.hanidec))za+=Wc.indexOf(oa[Ha]);
else for(const Ya in sc){const [cb,gb]=sc[Ya];Ma>=cb&&Ma<=gb&&(za+=Ma-cb)}}oa=parseInt(za,10)}else oa=za}return W(oa)}}}function ca(J){return J.replace(/\./g,"\\.?").replace(fc,tc)}function ja(J,W){return null===J?null:{regex:RegExp(J.map(ca).join("|")),deser:([oa])=>J.findIndex(za=>oa.replace(/\./g,"").replace(fc," ").toLowerCase()===za.replace(/\./g,"").replace(fc," ").toLowerCase())+W}}function ua(J,W){return{regex:J,deser:([,oa,za])=>E(oa,za),groups:W}}function da(J){return{regex:J,deser:([W])=>
W}}function ra(J,W){const oa=X(W),za=X(W,"{2}"),Ha=X(W,"{3}"),Ma=X(W,"{4}"),Ya=X(W,"{6}"),cb=X(W,"{1,2}"),gb=X(W,"{1,3}"),mb=X(W,"{1,6}"),ib=X(W,"{1,9}"),ob=X(W,"{2,4}"),nb=X(W,"{4,6}"),Eb=Ob=>({regex:RegExp(Ob.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([gc])=>gc,literal:!0}),Ub=(Ob=>{if(J.literal)return Eb(Ob);switch(Ob.val){case "G":return ja(W.eras("short",!1),0);case "GG":return ja(W.eras("long",!1),0);case "y":return Q(mb);case "yy":return Q(ob,F);case "yyyy":return Q(Ma);case "yyyyy":return Q(nb);
case "yyyyyy":return Q(Ya);case "M":return Q(cb);case "MM":return Q(za);case "MMM":return ja(W.months("short",!0,!1),1);case "MMMM":return ja(W.months("long",!0,!1),1);case "L":return Q(cb);case "LL":return Q(za);case "LLL":return ja(W.months("short",!1,!1),1);case "LLLL":return ja(W.months("long",!1,!1),1);case "d":return Q(cb);case "dd":return Q(za);case "o":return Q(gb);case "ooo":return Q(Ha);case "HH":return Q(za);case "H":return Q(cb);case "hh":return Q(za);case "h":return Q(cb);case "mm":return Q(za);
case "m":return Q(cb);case "q":return Q(cb);case "qq":return Q(za);case "s":return Q(cb);case "ss":return Q(za);case "S":return Q(gb);case "SSS":return Q(Ha);case "u":return da(ib);case "uu":return da(cb);case "uuu":return Q(oa);case "a":return ja(W.meridiems(),0);case "kkkk":return Q(Ma);case "kk":return Q(ob,F);case "W":return Q(cb);case "WW":return Q(za);case "E":case "c":return Q(oa);case "EEE":return ja(W.weekdays("short",!1,!1),1);case "EEEE":return ja(W.weekdays("long",!1,!1),1);case "ccc":return ja(W.weekdays("short",
!0,!1),1);case "cccc":return ja(W.weekdays("long",!0,!1),1);case "Z":case "ZZ":return ua(new RegExp(`([+-]${cb.source})(?::(${za.source}))?`),2);case "ZZZ":return ua(new RegExp(`([+-]${cb.source})(${za.source})?`),2);case "z":return da(/[a-z_+-/]{1,256}?/i);case " ":return da(/[^\S\n\r]/);default:return Eb(Ob)}})(J)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};Ub.token=J;return Ub}function wa(J){return[`^${J.map(W=>W.regex).reduce((W,oa)=>`${W}(${oa.source})`,"")}$`,J]}function Ia(J,
W,oa){if(J=J.match(W)){W={};let za=1;for(const Ha in oa)if(k(oa,Ha)){const Ma=oa[Ha],Ya=Ma.groups?Ma.groups+1:1;!Ma.literal&&Ma.token&&(W[Ma.token.val[0]]=Ma.deser(J.slice(za,za+Ya)));za+=Ya}return[J,W]}return[J,{}]}function Oa(J){const W=Ha=>{switch(Ha){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";
case "k":return"weekYear";case "q":return"quarter";default:return null}};let oa=null,za;p(J.z)||(oa=Lb.create(J.z));p(J.Z)||(oa||(oa=new Db(J.Z)),za=J.Z);p(J.q)||(J.M=3*(J.q-1)+1);p(J.h)||(12>J.h&&1===J.a?J.h+=12:12===J.h&&0===J.a&&(J.h=0));0===J.G&&J.y&&(J.y=-J.y);p(J.u)||(J.S=z(J.u));return[Object.keys(J).reduce((Ha,Ma)=>{const Ya=W(Ma);Ya&&(Ha[Ya]=J[Ma]);return Ha},{}),oa,za]}function ma(J,W){return Array.prototype.concat(...J.map(oa=>{if(!oa.literal){var za=Fb.macroTokenToFormatOpts(oa.val);za=
Ga(za,W);oa=null==za||za.includes(void 0)?oa:za}return oa}))}function ta(J,W,oa){oa=ma(Fb.parseFormat(oa),J);var za=oa.map(nb=>ra(nb,J));const Ha=za.find(nb=>nb.invalidReason);if(Ha)return{input:W,tokens:oa,invalidReason:Ha.invalidReason};const [Ma,Ya]=wa(za);za=RegExp(Ma,"i");const [cb,gb]=Ia(W,za,Ya),[mb,ib,ob]=gb?Oa(gb):[null,null,void 0];if(k(gb,"a")&&k(gb,"H"))throw new va("Can't include meridiem when specifying 24-hour format");return{input:W,tokens:oa,regex:za,rawMatches:cb,matches:gb,result:mb,
zone:ib,specificOffset:ob}}function Ga(J,W){if(!J)return null;W=Fb.create(W,J);var oa=W.formatDateTimeParts;hc||(hc=lb.fromMillis(1555555555555));return oa.call(W,hc).map(za=>{{const {type:Ma,value:Ya}=za;if("literal"===Ma)za=/^\s+$/.test(Ya),za={literal:!za,val:za?" ":Ya};else{za=J[Ma];var Ha=Xc[Ma];"object"===typeof Ha&&(Ha=Ha[za]);za=Ha?{literal:!1,val:Ha}:void 0}}return za})}function Aa(J,W){return new Jb("unit out of range",`you specified ${W} (of type ${typeof W}) as a ${J}, which is invalid`)}
function Na(J,W,oa){W=new Date(Date.UTC(J,W-1,oa));100>J&&0<=J&&W.setUTCFullYear(W.getUTCFullYear()-1900);J=W.getUTCDay();return 0===J?7:J}function Va(J,W){J=B(J)?ic:jc;const oa=J.findIndex(za=>za<W);return{month:oa+1,day:W-J[oa]}}function Xa(J){const {year:W,month:oa,day:za}=J;var Ha=za+(B(W)?ic:jc)[oa-1];const Ma=Na(W,oa,za);Ha=Math.floor((Ha-Ma+10)/7);let Ya;1>Ha?(Ya=W-1,Ha=C(Ya)):Ha>C(W)?(Ya=W+1,Ha=1):Ya=W;return{weekYear:Ya,weekNumber:Ha,weekday:Ma,...M(J)}}function $a(J){const {weekYear:W,weekNumber:oa,
weekday:za}=J;var Ha=Na(W,1,4),Ma=B(W)?366:365;Ha=7*oa+za-Ha-3;1>Ha?(Ma=W-1,Ha+=B(Ma)?366:365):Ha>Ma?(Ma=W+1,Ha-=B(W)?366:365):Ma=W;const {month:Ya,day:cb}=Va(Ma,Ha);return{year:Ma,month:Ya,day:cb,...M(J)}}function bb(J){const {year:W,month:oa,day:za}=J;var Ha=za+(B(W)?ic:jc)[oa-1];return{year:W,ordinal:Ha,...M(J)}}function Sa(J){const {year:W,ordinal:oa}=J,{month:za,day:Ha}=Va(W,oa);return{year:W,month:za,day:Ha,...M(J)}}function db(J){const W=g(J.year),oa=l(J.month,1,12),za=l(J.day,1,D(J.year,J.month));
return W?oa?za?!1:Aa("day",J.day):Aa("month",J.month):Aa("year",J.year)}function eb(J){const {hour:W,minute:oa,second:za,millisecond:Ha}=J;J=l(W,0,23)||24===W&&0===oa&&0===za&&0===Ha;const Ma=l(oa,0,59),Ya=l(za,0,59),cb=l(Ha,0,999);return J?Ma?Ya?cb?!1:Aa("millisecond",Ha):Aa("second",za):Aa("minute",oa):Aa("hour",W)}function Da(J){return new Jb("unsupported zone",`the zone "${J.name}" is not supported`)}function Ja(J){null===J.weekData&&(J.weekData=Xa(J.c));return J.weekData}function Za(J,W){J={ts:J.ts,
zone:J.zone,c:J.c,o:J.o,loc:J.loc,invalid:J.invalid};return new lb({...J,...W,old:J})}function ya(J,W,oa){let za=J-6E4*W;const Ha=oa.offset(za);if(W===Ha)return[za,W];za-=6E4*(Ha-W);W=oa.offset(za);return Ha===W?[za,Ha]:[J-6E4*Math.min(Ha,W),Math.max(Ha,W)]}function qb(J,W){J=new Date(J+6E4*W);return{year:J.getUTCFullYear(),month:J.getUTCMonth()+1,day:J.getUTCDate(),hour:J.getUTCHours(),minute:J.getUTCMinutes(),second:J.getUTCSeconds(),millisecond:J.getUTCMilliseconds()}}function wb(J,W,oa){return ya(y(J),
W,oa)}function tb(J,W){const oa=J.o;var za=J.c.year+Math.trunc(W.years);const Ha=J.c.month+Math.trunc(W.months)+3*Math.trunc(W.quarters);za={...J.c,year:za,month:Ha,day:Math.min(J.c.day,D(za,Ha))+Math.trunc(W.days)+7*Math.trunc(W.weeks)};W=pb.fromObject({years:W.years-Math.trunc(W.years),quarters:W.quarters-Math.trunc(W.quarters),months:W.months-Math.trunc(W.months),weeks:W.weeks-Math.trunc(W.weeks),days:W.days-Math.trunc(W.days),hours:W.hours,minutes:W.minutes,seconds:W.seconds,milliseconds:W.milliseconds}).as("milliseconds");
za=y(za);let [Ma,Ya]=ya(za,oa,J.zone);0!==W&&(Ma+=W,Ya=J.zone.offset(Ma));return{ts:Ma,o:Ya}}function yb(J,W,oa,za,Ha,Ma){const {setZone:Ya,zone:cb}=oa;return J&&0!==Object.keys(J).length||W?(J=lb.fromObject(J,{...oa,zone:W||cb,specificOffset:Ma}),Ya?J:J.setZone(cb)):lb.invalid(new Jb("unparsable",`the input "${Ha}" can't be parsed as ${za}`))}function Bb(J,W,oa=!0){return J.isValid?Fb.create(sb.create("en-US"),{allowZ:oa,forceSimple:!0}).formatDateTimeFromString(J,W):null}function Ab(J,W){const oa=
9999<J.c.year||0>J.c.year;let za="";oa&&0<=J.c.year&&(za+="+");za+=v(J.c.year,oa?6:4);W?(za=za+"-"+v(J.c.month),za=za+"-"+v(J.c.day)):(za+=v(J.c.month),za+=v(J.c.day));return za}function Ib(J,W,oa,za,Ha,Ma){let Ya=v(J.c.hour);W?(Ya=Ya+":"+v(J.c.minute),0===J.c.second&&oa||(Ya+=":")):Ya+=v(J.c.minute);0===J.c.second&&oa||(Ya+=v(J.c.second),0===J.c.millisecond&&za||(Ya=Ya+"."+v(J.c.millisecond,3)));Ha&&(J.isOffsetFixed&&0===J.offset&&!Ma?Ya+="Z":0>J.o?(Ya=Ya+"-"+v(Math.trunc(-J.o/60)),Ya=Ya+":"+v(Math.trunc(-J.o%
60))):(Ya=Ya+"+"+v(Math.trunc(J.o/60)),Ya=Ya+":"+v(Math.trunc(J.o%60))));Ma&&(Ya+="["+J.zone.ianaName+"]");return Ya}function xb(J){const W={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",
weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[J.toLowerCase()];if(!W)throw new Ka(J);return W}function Cb(J,W){const oa=r(W.zone,zb.defaultZone);W=sb.fromObject(W);const za=zb.now();var Ha;if(p(J.year))J=za;else{for(const Ma of uc)p(J[Ma])&&(J[Ma]=vc[Ma]);if(Ha=db(J)||eb(J))return lb.invalid(Ha);Ha=oa.offset(za);[J,Ha]=wb(J,Ha,oa)}return new lb({ts:J,zone:oa,loc:W,o:Ha})}function kb(J,W,oa){const za=p(oa.round)?!0:oa.round,Ha=(Ya,cb)=>{Ya=A(Ya,za||oa.calendary?0:2,!0);return W.loc.clone(oa).relFormatter(oa).format(Ya,
cb)},Ma=Ya=>oa.calendary?W.hasSame(J,Ya)?0:W.startOf(Ya).diff(J.startOf(Ya),Ya).get(Ya):W.diff(J,Ya).get(Ya);if(oa.unit)return Ha(Ma(oa.unit),oa.unit);for(const Ya of oa.units){const cb=Ma(Ya);if(1<=Math.abs(cb))return Ha(cb,Ya)}return Ha(J>W?-0:0,oa.units[oa.units.length-1])}function rb(J){let W={};0<J.length&&"object"===typeof J[J.length-1]?(W=J[J.length-1],J=Array.from(J).slice(0,J.length-1)):J=Array.from(J);return[W,J]}function vb(J){if(lb.isDateTime(J))return J;if(J&&J.valueOf&&m(J.valueOf()))return lb.fromJSDate(J);
if(J&&"object"===typeof J)return lb.fromObject(J);throw new Qa(`Unknown datetime argument: ${J}, of type ${typeof J}`);}class hb extends Error{}class Ta extends hb{constructor(J){super(`Invalid DateTime: ${J.toMessage()}`)}}class sa extends hb{constructor(J){super(`Invalid Interval: ${J.toMessage()}`)}}class Ba extends hb{constructor(J){super(`Invalid Duration: ${J.toMessage()}`)}}class va extends hb{}class Ka extends hb{constructor(J){super(`Invalid unit ${J}`)}}class Qa extends hb{}class Pa extends hb{constructor(){super("Zone is an abstract class")}}
const Ea={year:"numeric",month:"numeric",day:"numeric"},Ua={year:"numeric",month:"short",day:"numeric"},na={year:"numeric",month:"short",day:"numeric",weekday:"short"},La={year:"numeric",month:"long",day:"numeric"},Ra={year:"numeric",month:"long",day:"numeric",weekday:"long"},Wa={hour:"numeric",minute:"numeric"},ab={hour:"numeric",minute:"numeric",second:"numeric"},fb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},jb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},
Hb={hour:"numeric",minute:"numeric",hourCycle:"h23"},Mb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},Qb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},Kb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},Vb={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},Gb={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Rb={year:"numeric",
month:"short",day:"numeric",hour:"numeric",minute:"numeric"},Sb={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Nb={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},Wb={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},wc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},xc={year:"numeric",month:"long",
day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},yc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"};class Tb{get type(){throw new Pa;}get name(){throw new Pa;}get ianaName(){return this.name}get isUniversal(){throw new Pa;}offsetName(J,W){throw new Pa;}formatOffset(J,W){throw new Pa;}offset(J){throw new Pa;}equals(J){throw new Pa;}get isValid(){throw new Pa;}}let kc=null;class Yb extends Tb{static get instance(){null===
kc&&(kc=new Yb);return kc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(J,{format:W,locale:oa}){return G(J,W,oa)}formatOffset(J,W){return K(this.offset(J),W)}offset(J){return-(new Date(J)).getTimezoneOffset()}equals(J){return"system"===J.type}get isValid(){return!0}}let Zb={};const Yc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let $b={};class Lb extends Tb{static create(J){$b[J]||($b[J]=new Lb(J));return $b[J]}static resetCache(){$b=
{};Zb={}}static isValidSpecifier(J){return this.isValidZone(J)}static isValidZone(J){if(!J)return!1;try{return(new Intl.DateTimeFormat("en-US",{timeZone:J})).format(),!0}catch(W){return!1}}constructor(J){super();this.zoneName=J;this.valid=Lb.isValidZone(J)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(J,{format:W,locale:oa}){return G(J,W,oa,this.name)}formatOffset(J,W){return K(this.offset(J),W)}offset(J){J=new Date(J);if(isNaN(J))return NaN;var W=this.name;
Zb[W]||(Zb[W]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:W,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}));W=Zb[W];if(W.formatToParts){W=W.formatToParts(J);var oa=[];for(let ib=0;ib<W.length;ib++){const {type:ob,value:nb}=W[ib],Eb=Yc[ob];"era"===ob?oa[Eb]=nb:p(Eb)||(oa[Eb]=parseInt(nb,10))}W=oa}else{W=W.format(J).replace(/\u200E/g,"");W=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(W);const [,ib,ob,nb,Eb,Ub,Ob,gc]=W;W=
[nb,ib,ob,Eb,Ub,Ob,gc]}let [za,Ha,Ma,Ya,cb,gb,mb]=W;"BC"===Ya&&(za=-Math.abs(za)+1);W=y({year:za,month:Ha,day:Ma,hour:24===cb?0:cb,minute:gb,second:mb,millisecond:0});J=+J;oa=J%1E3;return(W-(J-(0<=oa?oa:1E3+oa)))/6E4}equals(J){return"iana"===J.type&&J.name===this.name}get isValid(){return this.valid}}let oc={},bc={},cc={},dc={},ac=null;class Zc{constructor(J,W,oa){this.padTo=oa.padTo||0;this.floor=oa.floor||!1;const {padTo:za,floor:Ha,...Ma}=oa;if(!W||0<Object.keys(Ma).length)W={useGrouping:!1,...oa},
0<oa.padTo&&(W.minimumIntegerDigits=oa.padTo),this.inf=e(J,W)}format(J){if(this.inf)return this.inf.format(this.floor?Math.floor(J):J);J=this.floor?Math.floor(J):A(J,3);return v(J,this.padTo)}}class $c{constructor(J,W,oa){this.opts=oa;oa=this.originalZone=void 0;this.opts.timeZone?this.dt=J:"fixed"===J.zone.type?(oa=J.offset/60*-1,oa=0<=oa?`Etc/GMT+${oa}`:`Etc/GMT${oa}`,0!==J.offset&&Lb.create(oa).valid?this.dt=J:(oa="UTC",this.dt=0===J.offset?J:J.setZone("UTC").plus({minutes:J.offset}),this.originalZone=
J.zone)):"system"===J.zone.type?this.dt=J:"iana"===J.zone.type?(this.dt=J,oa=J.zone.name):(oa="UTC",this.dt=J.setZone("UTC").plus({minutes:J.offset}),this.originalZone=J.zone);J={...this.opts};J.timeZone=J.timeZone||oa;this.dtf=c(W,J)}format(){return this.originalZone?this.formatToParts().map(({value:J})=>J).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const J=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?J.map(W=>{if("timeZoneName"===W.type){const oa=this.originalZone.offsetName(this.dt.ts,
{locale:this.dt.locale,format:this.opts.timeZoneName});return{...W,value:oa}}return W}):J}resolvedOptions(){return this.dtf.resolvedOptions()}}class ad{constructor(J,W,oa){this.opts={style:"long",...oa};!W&&f()&&(this.rtf=d(J,oa))}format(J,W){return this.rtf?this.rtf.format(J,W):aa(W,J,this.opts.numeric,"long"!==this.opts.style)}formatToParts(J,W){return this.rtf?this.rtf.formatToParts(J,W):[]}}class sb{static fromOpts(J){return sb.create(J.locale,J.numberingSystem,J.outputCalendar,J.defaultToEN)}static create(J,
W,oa,za=!1){J=J||zb.defaultLocale;var Ha;(Ha=J)||(za?za="en-US":(ac||(ac=(new Intl.DateTimeFormat).resolvedOptions().locale),za=ac),Ha=za);return new sb(Ha,W||zb.defaultNumberingSystem,oa||zb.defaultOutputCalendar,J)}static resetCache(){ac=null;bc={};cc={};dc={}}static fromObject({locale:J,numberingSystem:W,outputCalendar:oa}={}){return sb.create(J,W,oa)}constructor(J,W,oa,za){var Ha=J.indexOf("-x-");-1!==Ha&&(J=J.substring(0,Ha));Ha=J.indexOf("-u-");if(-1===Ha)var Ma=[J];else{try{Ma=c(J).resolvedOptions();
var Ya=J}catch(nb){Ya=J.substring(0,Ha),Ma=c(Ya).resolvedOptions()}const {numberingSystem:ib,calendar:ob}=Ma;Ma=[Ya,ib,ob]}const [cb,gb,mb]=Ma;this.locale=cb;this.numberingSystem=W||gb||null;this.outputCalendar=oa||mb||null;W=this.locale;oa=this.numberingSystem;if((Ma=this.outputCalendar)||oa)W.includes("-u-")||(W+="-u"),Ma&&(W+=`-ca-${Ma}`),oa&&(W+=`-nu-${oa}`);this.intl=W;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache=
{};this.specifiedLocale=za;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var J=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=J}return this.fastNumbersCached}listingMode(){const J=this.isEnglish(),W=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||
"gregory"===this.outputCalendar);return J&&W?"en":"intl"}clone(J){return J&&0!==Object.getOwnPropertyNames(J).length?sb.create(J.locale||this.specifiedLocale,J.numberingSystem||this.numberingSystem,J.outputCalendar||this.outputCalendar,J.defaultToEN||!1):this}redefaultToEN(J={}){return this.clone({...J,defaultToEN:!0})}redefaultToSystem(J={}){return this.clone({...J,defaultToEN:!1})}months(J,W=!1,oa=!0){return t(this,J,oa,I,()=>{const za=W?{month:J,day:"numeric"}:{month:J},Ha=W?"format":"standalone";
this.monthsCache[Ha][J]||(this.monthsCache[Ha][J]=n(Ma=>this.extract(Ma,za,"month")));return this.monthsCache[Ha][J]})}weekdays(J,W=!1,oa=!0){return t(this,J,oa,H,()=>{const za=W?{weekday:J,year:"numeric",month:"long",day:"numeric"}:{weekday:J},Ha=W?"format":"standalone";this.weekdaysCache[Ha][J]||(this.weekdaysCache[Ha][J]=u(Ma=>this.extract(Ma,za,"weekday")));return this.weekdaysCache[Ha][J]})}meridiems(J=!0){return t(this,void 0,J,()=>zc,()=>{if(!this.meridiemCache){const W={hour:"numeric",hourCycle:"h12"};
this.meridiemCache=[lb.utc(2016,11,13,9),lb.utc(2016,11,13,19)].map(oa=>this.extract(oa,W,"dayperiod"))}return this.meridiemCache})}eras(J,W=!0){return t(this,J,W,L,()=>{const oa={era:J};this.eraCache[J]||(this.eraCache[J]=[lb.utc(-40,1,1),lb.utc(2017,1,1)].map(za=>this.extract(za,oa,"era")));return this.eraCache[J]})}extract(J,W,oa){return(J=this.dtFormatter(J,W).formatToParts().find(za=>za.type.toLowerCase()===oa))?J.value:null}numberFormatter(J={}){return new Zc(this.intl,J.forceSimple||this.fastNumbers,
J)}dtFormatter(J,W={}){return new $c(J,this.intl,W)}relFormatter(J={}){return new ad(this.intl,this.isEnglish(),J)}listFormatter(J={}){return b(this.intl,J)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(J){return this.locale===J.locale&&this.numberingSystem===J.numberingSystem&&this.outputCalendar===J.outputCalendar}}let lc=null;class Db extends Tb{static get utcInstance(){null===
lc&&(lc=new Db(0));return lc}static instance(J){return 0===J?Db.utcInstance:new Db(J)}static parseSpecifier(J){return J&&(J=J.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Db(E(J[1],J[2])):null}constructor(J){super();this.fixed=J}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${K(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${K(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(J,W){return K(this.fixed,W)}get isUniversal(){return!0}offset(){return this.fixed}equals(J){return"fixed"===
J.type&&J.fixed===this.fixed}get isValid(){return!0}}class Nc extends Tb{constructor(J){super();this.zoneName=J}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Ac=()=>Date.now(),Bc="system",Cc=null,Dc=null,Ec=null,Fc=60,Gc;class zb{static get now(){return Ac}static set now(J){Ac=J}static set defaultZone(J){Bc=J}static get defaultZone(){return r(Bc,
Yb.instance)}static get defaultLocale(){return Cc}static set defaultLocale(J){Cc=J}static get defaultNumberingSystem(){return Dc}static set defaultNumberingSystem(J){Dc=J}static get defaultOutputCalendar(){return Ec}static set defaultOutputCalendar(J){Ec=J}static get twoDigitCutoffYear(){return Fc}static set twoDigitCutoffYear(J){Fc=J%100}static get throwOnInvalid(){return Gc}static set throwOnInvalid(J){Gc=J}static resetCaches(){sb.resetCache();Lb.resetCache()}}const Pc="January February March April May June July August September October November December".split(" "),
pc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Oc="JFMAMJJASOND".split(""),rc="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),qc="Mon Tue Wed Thu Fri Sat Sun".split(" "),Qc="MTWTFSS".split(""),zc=["AM","PM"],Tc=["Before Christ","Anno Domini"],Sc=["BC","AD"],Rc=["B","A"],bd={D:Ea,DD:Ua,DDD:La,DDDD:Ra,t:Wa,tt:ab,ttt:fb,tttt:jb,T:Hb,TT:Mb,TTT:Qb,TTTT:Kb,f:Vb,ff:Rb,fff:Wb,ffff:xc,F:Gb,FF:Sb,FFF:wc,FFFF:yc};class Fb{static create(J,W={}){return new Fb(J,W)}static parseFormat(J){let W=
null,oa="",za=!1;const Ha=[];for(let Ma=0;Ma<J.length;Ma++){const Ya=J.charAt(Ma);"'"===Ya?(0<oa.length&&Ha.push({literal:za||/^\s+$/.test(oa),val:oa}),W=null,oa="",za=!za):za?oa+=Ya:Ya===W?oa+=Ya:(0<oa.length&&Ha.push({literal:/^\s+$/.test(oa),val:oa}),W=oa=Ya)}0<oa.length&&Ha.push({literal:za||/^\s+$/.test(oa),val:oa});return Ha}static macroTokenToFormatOpts(J){return bd[J]}constructor(J,W){this.opts=W;this.loc=J;this.systemLoc=null}formatWithSystemDefault(J,W){null===this.systemLoc&&(this.systemLoc=
this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(J,{...this.opts,...W}).format()}formatDateTime(J,W={}){return this.loc.dtFormatter(J,{...this.opts,...W}).format()}formatDateTimeParts(J,W={}){return this.loc.dtFormatter(J,{...this.opts,...W}).formatToParts()}formatInterval(J,W={}){return this.loc.dtFormatter(J.start,{...this.opts,...W}).dtf.formatRange(J.start.toJSDate(),J.end.toJSDate())}resolvedOptions(J,W={}){return this.loc.dtFormatter(J,{...this.opts,...W}).resolvedOptions()}num(J,
W=0){if(this.opts.forceSimple)return v(J,W);const oa={...this.opts};0<W&&(oa.padTo=W);return this.loc.numberFormatter(oa).format(J)}formatDateTimeFromString(J,W){const oa="en"===this.loc.listingMode(),za=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Ha=(ib,ob)=>this.loc.extract(J,ib,ob),Ma=ib=>J.isOffsetFixed&&0===J.offset&&ib.allowZ?"Z":J.isValid?J.zone.formatOffset(J.ts,ib.format):"",Ya=(ib,ob)=>oa?I(ib)[J.month-1]:Ha(ob?{month:ib}:{month:ib,day:"numeric"},"month"),cb=(ib,ob)=>oa?
H(ib)[J.weekday-1]:Ha(ob?{weekday:ib}:{weekday:ib,month:"long",day:"numeric"},"weekday"),gb=ib=>{const ob=Fb.macroTokenToFormatOpts(ib);return ob?this.formatWithSystemDefault(J,ob):ib},mb=ib=>oa?L(ib)[0>J.year?0:1]:Ha({era:ib},"era");return R(Fb.parseFormat(W),ib=>{switch(ib){case "S":return this.num(J.millisecond);case "u":case "SSS":return this.num(J.millisecond,3);case "s":return this.num(J.second);case "ss":return this.num(J.second,2);case "uu":return this.num(Math.floor(J.millisecond/10),2);
case "uuu":return this.num(Math.floor(J.millisecond/100));case "m":return this.num(J.minute);case "mm":return this.num(J.minute,2);case "h":return this.num(0===J.hour%12?12:J.hour%12);case "hh":return this.num(0===J.hour%12?12:J.hour%12,2);case "H":return this.num(J.hour);case "HH":return this.num(J.hour,2);case "Z":return Ma({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return Ma({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return Ma({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return J.zone.offsetName(J.ts,
{format:"short",locale:this.loc.locale});case "ZZZZZ":return J.zone.offsetName(J.ts,{format:"long",locale:this.loc.locale});case "z":return J.zoneName;case "a":return oa?zc[12>J.hour?0:1]:Ha({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return za?Ha({day:"numeric"},"day"):this.num(J.day);case "dd":return za?Ha({day:"2-digit"},"day"):this.num(J.day,2);case "c":return this.num(J.weekday);case "ccc":return cb("short",!0);case "cccc":return cb("long",!0);case "ccccc":return cb("narrow",!0);case "E":return this.num(J.weekday);
case "EEE":return cb("short",!1);case "EEEE":return cb("long",!1);case "EEEEE":return cb("narrow",!1);case "L":return za?Ha({month:"numeric",day:"numeric"},"month"):this.num(J.month);case "LL":return za?Ha({month:"2-digit",day:"numeric"},"month"):this.num(J.month,2);case "LLL":return Ya("short",!0);case "LLLL":return Ya("long",!0);case "LLLLL":return Ya("narrow",!0);case "M":return za?Ha({month:"numeric"},"month"):this.num(J.month);case "MM":return za?Ha({month:"2-digit"},"month"):this.num(J.month,
2);case "MMM":return Ya("short",!1);case "MMMM":return Ya("long",!1);case "MMMMM":return Ya("narrow",!1);case "y":return za?Ha({year:"numeric"},"year"):this.num(J.year);case "yy":return za?Ha({year:"2-digit"},"year"):this.num(J.year.toString().slice(-2),2);case "yyyy":return za?Ha({year:"numeric"},"year"):this.num(J.year,4);case "yyyyyy":return za?Ha({year:"numeric"},"year"):this.num(J.year,6);case "G":return mb("short");case "GG":return mb("long");case "GGGGG":return mb("narrow");case "kk":return this.num(J.weekYear.toString().slice(-2),
2);case "kkkk":return this.num(J.weekYear,4);case "W":return this.num(J.weekNumber);case "WW":return this.num(J.weekNumber,2);case "o":return this.num(J.ordinal);case "ooo":return this.num(J.ordinal,3);case "q":return this.num(J.quarter);case "qq":return this.num(J.quarter,2);case "X":return this.num(Math.floor(J.ts/1E3));case "x":return this.num(J.ts);default:return gb(ib)}})}formatDurationFromString(J,W){const oa=Ha=>{switch(Ha[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";
case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};W=Fb.parseFormat(W);const za=W.reduce((Ha,{literal:Ma,val:Ya})=>Ma?Ha:Ha.concat(Ya),[]);J=J.shiftTo(...za.map(oa).filter(Ha=>Ha));return R(W,(Ha=>Ma=>{const Ya=oa(Ma);return Ya?this.num(Ha.get(Ya),Ma.length):Ma})(J))}}class Jb{constructor(J,W){this.reason=J;this.explanation=W}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Hc=
/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Ic=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,mc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Jc=RegExp(`${mc.source}${`(?:${Ic.source}?(?:\\[(${Hc.source})\\])?)?`}`),nc=RegExp(`(?:T${Jc.source})?`),cd=ha("weekYear","weekNumber","weekDay"),dd=ha("year","ordinal"),Kc=RegExp(`${mc.source} ?(?:${Ic.source}|(${Hc.source}))?`),ed=RegExp(`(?: ${Kc.source})?`),fd=RegExp(`^T?${mc.source}$`),gd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,
Uc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},hd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,id=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,jd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
kd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,ld=S(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,nc),md=S(/(\d{4})-?W(\d\d)(?:-?(\d))?/,nc),nd=S(/(\d{4})-?(\d{3})/,nc),od=S(Jc),Lc=V(function(J,W){return[{year:la(J,W),month:la(J,W+1,1),day:la(J,W+2,1)},null,W+3]},ia,Y,Z),pd=V(cd,ia,Y,Z),qd=V(dd,ia,Y,Z),rd=V(ia,Y,Z),sd=V(ia),td=S(/(\d{4})-(\d\d)-(\d\d)/,ed),ud=S(Kc),vd=V(ia,Y,Z),Mc={weeks:{days:7,hours:168,minutes:10080,
seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},wd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},
...Mc},xd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Mc},Pb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Vc=Pb.slice(0).reverse();class pb{constructor(J){const W=
"longterm"===J.conversionAccuracy||!1;let oa=W?xd:wd;J.matrix&&(oa=J.matrix);this.values=J.values;this.loc=J.loc||sb.create();this.conversionAccuracy=W?"longterm":"casual";this.invalid=J.invalid||null;this.matrix=oa;this.isLuxonDuration=!0}static fromMillis(J,W){return pb.fromObject({milliseconds:J},W)}static fromObject(J,W={}){if(null==J||"object"!==typeof J)throw new Qa(`Duration.fromObject: argument expected to be an object, got ${null===J?"null":typeof J}`);return new pb({values:O(J,pb.normalizeUnit),
loc:sb.fromObject(W),conversionAccuracy:W.conversionAccuracy,matrix:W.matrix})}static fromDurationLike(J){if(m(J))return pb.fromMillis(J);if(pb.isDuration(J))return J;if("object"===typeof J)return pb.fromObject(J);throw new Qa(`Unknown duration argument ${J} of type ${typeof J}`);}static fromISO(J,W){const [oa]=ea(J,[gd,U]);return oa?pb.fromObject(oa,W):pb.invalid("unparsable",`the input "${J}" can't be parsed as ISO 8601`)}static fromISOTime(J,W){const [oa]=ea(J,[fd,sd]);return oa?pb.fromObject(oa,
W):pb.invalid("unparsable",`the input "${J}" can't be parsed as ISO 8601`)}static invalid(J,W=null){if(!J)throw new Qa("need to specify a reason the Duration is invalid");J=J instanceof Jb?J:new Jb(J,W);if(zb.throwOnInvalid)throw new Ba(J);return new pb({invalid:J})}static normalizeUnit(J){const W={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",
second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[J?J.toLowerCase():J];if(!W)throw new Ka(J);return W}static isDuration(J){return J&&J.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(J,W={}){W={...W,floor:!1!==W.round&&!1!==W.floor};return this.isValid?Fb.create(this.loc,W).formatDurationFromString(this,J):"Invalid Duration"}toHuman(J={}){const W=Pb.map(oa=>
{const za=this.values[oa];return p(za)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...J,unit:oa.slice(0,-1)}).format(za)}).filter(oa=>oa);return this.loc.listFormatter({type:"conjunction",style:J.listStyle||"narrow",...J}).format(W)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let J="P";0!==this.years&&(J+=this.years+"Y");if(0!==this.months||0!==this.quarters)J+=this.months+3*this.quarters+"M";0!==this.weeks&&(J+=this.weeks+"W");0!==this.days&&
(J+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)J+="T";0!==this.hours&&(J+=this.hours+"H");0!==this.minutes&&(J+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)J+=A(this.seconds+this.milliseconds/1E3,3)+"S";"P"===J&&(J+="T0S");return J}toISOTime(J={}){if(!this.isValid)return null;var W=this.toMillis();if(0>W||864E5<=W)return null;J={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...J};W=this.shiftTo("hours",
"minutes","seconds","milliseconds");let oa="basic"===J.format?"hhmm":"hh:mm";J.suppressSeconds&&0===W.seconds&&0===W.milliseconds||(oa+="basic"===J.format?"ss":":ss",J.suppressMilliseconds&&0===W.milliseconds||(oa+=".SSS"));W=W.toFormat(oa);J.includePrefix&&(W="T"+W);return W}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(J){if(!this.isValid)return this;J=pb.fromDurationLike(J);const W={};for(const oa of Pb)if(k(J.values,
oa)||k(this.values,oa))W[oa]=J.get(oa)+this.get(oa);return qa(this,{values:W},!0)}minus(J){if(!this.isValid)return this;J=pb.fromDurationLike(J);return this.plus(J.negate())}mapUnits(J){if(!this.isValid)return this;const W={};for(const oa of Object.keys(this.values))W[oa]=P(J(this.values[oa],oa));return qa(this,{values:W},!0)}get(J){return this[pb.normalizeUnit(J)]}set(J){if(!this.isValid)return this;J={...this.values,...O(J,pb.normalizeUnit)};return qa(this,{values:J})}reconfigure({locale:J,numberingSystem:W,
conversionAccuracy:oa,matrix:za}={}){J={loc:this.loc.clone({locale:J,numberingSystem:W}),matrix:za,conversionAccuracy:oa};return qa(this,J)}as(J){return this.isValid?this.shiftTo(J).get(J):NaN}normalize(){if(!this.isValid)return this;const J=this.toObject();Fa(this.matrix,J);return qa(this,{values:J},!0)}rescale(){if(!this.isValid)return this;var J=this.normalize().shiftToAll().toObject();const W={};for(const [oa,za]of Object.entries(J))0!==za&&(W[oa]=za);return qa(this,{values:W},!0)}shiftTo(...J){if(!this.isValid||
0===J.length)return this;J=J.map(Ma=>pb.normalizeUnit(Ma));const W={},oa={},za=this.toObject();let Ha;for(const Ma of Pb)if(0<=J.indexOf(Ma)){Ha=Ma;let Ya=0;for(const gb in oa)Ya+=this.matrix[gb][Ma]*oa[gb],oa[gb]=0;m(za[Ma])&&(Ya+=za[Ma]);const cb=Math.trunc(Ya);W[Ma]=cb;oa[Ma]=(1E3*Ya-1E3*cb)/1E3;for(const gb in za)Pb.indexOf(gb)>Pb.indexOf(Ma)&&Ca(this.matrix,za,gb,W,Ma)}else m(za[Ma])&&(oa[Ma]=za[Ma]);for(const Ma in oa)0!==oa[Ma]&&(W[Ha]+=Ma===Ha?oa[Ma]:oa[Ma]/this.matrix[Ha][Ma]);return qa(this,
{values:W},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const J={};for(const W of Object.keys(this.values))J[W]=0===this.values[W]?0:-this.values[W];return qa(this,{values:J},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?
this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:
null}equals(J){if(!this.isValid||!J.isValid||!this.loc.equals(J.loc))return!1;for(const za of Pb){var W=this.values[za];var oa=J.values[za];W=void 0===W||0===W?void 0===oa||0===oa:W===oa;if(!W)return!1}return!0}}class ub{constructor(J){this.s=J.start;this.e=J.end;this.invalid=J.invalid||null;this.isLuxonInterval=!0}static invalid(J,W=null){if(!J)throw new Qa("need to specify a reason the Interval is invalid");J=J instanceof Jb?J:new Jb(J,W);if(zb.throwOnInvalid)throw new sa(J);return new ub({invalid:J})}static fromDateTimes(J,
W){J=vb(J);W=vb(W);var oa=J&&J.isValid?W&&W.isValid?W<J?ub.invalid("end before start",`The end of an interval must be after its start, but you had start=${J.toISO()} and end=${W.toISO()}`):null:ub.invalid("missing or invalid end"):ub.invalid("missing or invalid start");return null==oa?new ub({start:J,end:W}):oa}static after(J,W){W=pb.fromDurationLike(W);J=vb(J);return ub.fromDateTimes(J,J.plus(W))}static before(J,W){W=pb.fromDurationLike(W);J=vb(J);return ub.fromDateTimes(J.minus(W),J)}static fromISO(J,
W){const [oa,za]=(J||"").split("/",2);if(oa&&za){let Ya;try{var Ha=lb.fromISO(oa,W);Ya=Ha.isValid}catch(gb){Ya=!1}let cb;try{var Ma=lb.fromISO(za,W);cb=Ma.isValid}catch(gb){cb=!1}if(Ya&&cb)return ub.fromDateTimes(Ha,Ma);if(Ya){if(Ma=pb.fromISO(za,W),Ma.isValid)return ub.after(Ha,Ma)}else if(cb&&(Ha=pb.fromISO(oa,W),Ha.isValid))return ub.before(Ma,Ha)}return ub.invalid("unparsable",`the input "${J}" can't be parsed as ISO 8601`)}static isInterval(J){return J&&J.isLuxonInterval||!1}get start(){return this.isValid?
this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(J="milliseconds"){return this.isValid?this.toDuration(...[J]).get(J):NaN}count(J="milliseconds"){if(!this.isValid)return NaN;const W=this.start.startOf(J),oa=this.end.startOf(J);return Math.floor(oa.diff(W,J).get(J))+(oa.valueOf()!==this.end.valueOf())}hasSame(J){return this.isValid?
this.isEmpty()||this.e.minus(1).hasSame(this.s,J):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(J){return this.isValid?this.s>J:!1}isBefore(J){return this.isValid?this.e<=J:!1}contains(J){return this.isValid?this.s<=J&&this.e>J:!1}set({start:J,end:W}={}){return this.isValid?ub.fromDateTimes(J||this.s,W||this.e):this}splitAt(...J){if(!this.isValid)return[];J=J.map(vb).filter(Ma=>this.contains(Ma)).sort();const W=[];let {s:oa}=this,za=0;for(;oa<this.e;){var Ha=J[za]||this.e;Ha=+Ha>
+this.e?this.e:Ha;W.push(ub.fromDateTimes(oa,Ha));oa=Ha;za+=1}return W}splitBy(J){J=pb.fromDurationLike(J);if(!this.isValid||!J.isValid||0===J.as("milliseconds"))return[];let {s:W}=this,oa=1;const za=[];for(;W<this.e;){var Ha=this.start.plus(J.mapUnits(Ma=>Ma*oa));Ha=+Ha>+this.e?this.e:Ha;za.push(ub.fromDateTimes(W,Ha));W=Ha;oa+=1}return za}divideEqually(J){return this.isValid?this.splitBy(this.length()/J).slice(0,J):[]}overlaps(J){return this.e>J.s&&this.s<J.e}abutsStart(J){return this.isValid?+this.e===
+J.s:!1}abutsEnd(J){return this.isValid?+J.e===+this.s:!1}engulfs(J){return this.isValid?this.s<=J.s&&this.e>=J.e:!1}equals(J){return this.isValid&&J.isValid?this.s.equals(J.s)&&this.e.equals(J.e):!1}intersection(J){if(!this.isValid)return this;const W=this.s>J.s?this.s:J.s;J=this.e<J.e?this.e:J.e;return W>=J?null:ub.fromDateTimes(W,J)}union(J){return this.isValid?ub.fromDateTimes(this.s<J.s?this.s:J.s,this.e>J.e?this.e:J.e):this}static merge(J){const [W,oa]=J.sort((za,Ha)=>za.s-Ha.s).reduce(([za,
Ha],Ma)=>Ha?Ha.overlaps(Ma)||Ha.abutsStart(Ma)?[za,Ha.union(Ma)]:[za.concat([Ha]),Ma]:[za,Ma],[[],null]);oa&&W.push(oa);return W}static xor(J){let W=null,oa=0;const za=[];J=J.map(Ha=>[{time:Ha.s,type:"s"},{time:Ha.e,type:"e"}]);J=Array.prototype.concat(...J).sort((Ha,Ma)=>Ha.time-Ma.time);for(const Ha of J)oa+="s"===Ha.type?1:-1,1===oa?W=Ha.time:(W&&+W!==+Ha.time&&za.push(ub.fromDateTimes(W,Ha.time)),W=null);return ub.merge(za)}difference(...J){return ub.xor([this].concat(J)).map(W=>this.intersection(W)).filter(W=>
W&&!W.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toLocaleString(J=Ea,W={}){return this.isValid?Fb.create(this.s.loc.clone(W),J).formatInterval(this):"Invalid Interval"}toISO(J){return this.isValid?`${this.s.toISO(J)}/${this.e.toISO(J)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(J){return this.isValid?`${this.s.toISOTime(J)}/${this.e.toISOTime(J)}`:"Invalid Interval"}toFormat(J,
{separator:W=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(J)}${W}${this.e.toFormat(J)}`:"Invalid Interval"}toDuration(J,W){return this.isValid?this.e.diff(this.s,J,W):pb.invalid(this.invalidReason)}mapEndpoints(J){return ub.fromDateTimes(J(this.s),J(this.e))}}class Xb{static hasDST(J=zb.defaultZone){const W=lb.now().setZone(J).set({month:12});return!J.isUniversal&&W.offset!==W.set({month:6}).offset}static isValidIANAZone(J){return Lb.isValidZone(J)}static normalizeZone(J){return r(J,zb.defaultZone)}static months(J=
"long",{locale:W=null,numberingSystem:oa=null,locObj:za=null,outputCalendar:Ha="gregory"}={}){return(za||sb.create(W,oa,Ha)).months(J)}static monthsFormat(J="long",{locale:W=null,numberingSystem:oa=null,locObj:za=null,outputCalendar:Ha="gregory"}={}){return(za||sb.create(W,oa,Ha)).months(J,!0)}static weekdays(J="long",{locale:W=null,numberingSystem:oa=null,locObj:za=null}={}){return(za||sb.create(W,oa,null)).weekdays(J)}static weekdaysFormat(J="long",{locale:W=null,numberingSystem:oa=null,locObj:za=
null}={}){return(za||sb.create(W,oa,null)).weekdays(J,!0)}static meridiems({locale:J=null}={}){return sb.create(J).meridiems()}static eras(J="short",{locale:W=null}={}){return sb.create(W,null,"gregory").eras(J)}static features(){return{relative:f()}}}const ec={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",
khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},sc={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,
3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Wc=ec.hanidec.replace(/[\[|\]]/g,"").split(""),tc=`[ ${String.fromCharCode(160)}]`,fc=new RegExp(tc,"g"),Xc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s",
"2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let hc=null;const jc=[0,31,59,90,120,151,181,212,243,273,304,334],ic=[0,31,60,91,121,152,182,213,244,274,305,335],vc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},zd={ordinal:1,hour:0,minute:0,second:0,millisecond:0},uc="year month day hour minute second millisecond".split(" "),Ad="weekYear weekNumber weekday hour minute second millisecond".split(" "),Bd="year ordinal hour minute second millisecond".split(" ");
class lb{constructor(J){const W=J.zone||zb.defaultZone;let oa=J.invalid||(Number.isNaN(J.ts)?new Jb("invalid input"):null)||(W.isValid?null:Da(W));this.ts=p(J.ts)?zb.now():J.ts;let za=null;var Ha=null;oa||(J.old&&J.old.ts===this.ts&&J.old.zone.equals(W)?[za,Ha]=[J.old.c,J.old.o]:(Ha=W.offset(this.ts),za=qb(this.ts,Ha),za=(oa=Number.isNaN(za.year)?new Jb("invalid input"):null)?null:za,Ha=oa?null:Ha));this._zone=W;this.loc=J.loc||sb.create();this.invalid=oa;this.weekData=null;this.c=za;this.o=Ha;this.isLuxonDateTime=
!0}static now(){return new lb({})}static local(){const [J,W]=rb(arguments),[oa,za,Ha,Ma,Ya,cb,gb]=W;return Cb({year:oa,month:za,day:Ha,hour:Ma,minute:Ya,second:cb,millisecond:gb},J)}static utc(){const [J,W]=rb(arguments),[oa,za,Ha,Ma,Ya,cb,gb]=W;J.zone=Db.utcInstance;return Cb({year:oa,month:za,day:Ha,hour:Ma,minute:Ya,second:cb,millisecond:gb},J)}static fromJSDate(J,W={}){J="[object Date]"===Object.prototype.toString.call(J)?J.valueOf():NaN;if(Number.isNaN(J))return lb.invalid("invalid input");const oa=
r(W.zone,zb.defaultZone);return oa.isValid?new lb({ts:J,zone:oa,loc:sb.fromObject(W)}):lb.invalid(Da(oa))}static fromMillis(J,W={}){if(m(J))return-864E13>J||864E13<J?lb.invalid("Timestamp out of range"):new lb({ts:J,zone:r(W.zone,zb.defaultZone),loc:sb.fromObject(W)});throw new Qa(`fromMillis requires a numerical input, but received a ${typeof J} with value ${J}`);}static fromSeconds(J,W={}){if(m(J))return new lb({ts:1E3*J,zone:r(W.zone,zb.defaultZone),loc:sb.fromObject(W)});throw new Qa("fromSeconds requires a numerical input");
}static fromObject(J,W={}){J=J||{};var oa=r(W.zone,zb.defaultZone);if(!oa.isValid)return lb.invalid(Da(oa));var za=zb.now();const Ha=p(W.specificOffset)?oa.offset(za):W.specificOffset,Ma=O(J,xb);var Ya=!p(Ma.ordinal),cb=!p(Ma.year),gb=!p(Ma.month)||!p(Ma.day);cb=cb||gb;var mb=Ma.weekYear||Ma.weekNumber;W=sb.fromObject(W);if((cb||Ya)&&mb)throw new va("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(gb&&Ya)throw new va("Can't mix ordinal dates with month/day");gb=mb||Ma.weekday&&
!cb;let ib=qb(za,Ha);gb?(za=Ad,mb=yd,ib=Xa(ib)):Ya?(za=Bd,mb=zd,ib=bb(ib)):(za=uc,mb=vc);let ob=!1;for(var nb of za)p(Ma[nb])?Ma[nb]=ob?mb[nb]:ib[nb]:ob=!0;gb?(nb=g(Ma.weekYear),za=l(Ma.weekNumber,1,C(Ma.weekYear)),mb=l(Ma.weekday,1,7),nb=nb?za?mb?!1:Aa("weekday",Ma.weekday):Aa("week",Ma.week):Aa("weekYear",Ma.weekYear)):Ya?(nb=g(Ma.year),za=l(Ma.ordinal,1,B(Ma.year)?366:365),nb=nb?za?!1:Aa("ordinal",Ma.ordinal):Aa("year",Ma.year)):nb=db(Ma);if(nb=nb||eb(Ma))return lb.invalid(nb);Ya=gb?$a(Ma):Ya?
Sa(Ma):Ma;const [Eb,Ub]=wb(Ya,Ha,oa);oa=new lb({ts:Eb,zone:oa,o:Ub,loc:W});return Ma.weekday&&cb&&J.weekday!==oa.weekday?lb.invalid("mismatched weekday",`you can't specify both a weekday of ${Ma.weekday} and a date of ${oa.toISO()}`):oa}static fromISO(J,W={}){const [oa,za]=ea(J,[ld,Lc],[md,pd],[nd,qd],[od,rd]);return yb(oa,za,W,"ISO 8601",J)}static fromRFC2822(J,W={}){const [oa,za]=ea(J.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[hd,xa]);return yb(oa,za,W,"RFC 2822",J)}static fromHTTP(J,
W={}){const [oa,za]=ea(J,[id,N],[jd,N],[kd,T]);return yb(oa,za,W,"HTTP",W)}static fromFormat(J,W,oa={}){if(p(J)||p(W))throw new Qa("fromFormat requires an input string and a format");const {locale:za=null,numberingSystem:Ha=null}=oa,Ma=sb.fromOpts({locale:za,numberingSystem:Ha,defaultToEN:!0}),{result:Ya,zone:cb,specificOffset:gb,invalidReason:mb}=ta(Ma,J,W),[ib,ob,nb,Eb]=[Ya,cb,gb,mb];return Eb?lb.invalid(Eb):yb(ib,ob,oa,`format ${W}`,J,nb)}static fromString(J,W,oa={}){return lb.fromFormat(J,W,oa)}static fromSQL(J,
W={}){const [oa,za]=ea(J,[td,Lc],[ud,vd]);return yb(oa,za,W,"SQL",J)}static invalid(J,W=null){if(!J)throw new Qa("need to specify a reason the DateTime is invalid");J=J instanceof Jb?J:new Jb(J,W);if(zb.throwOnInvalid)throw new Ta(J);return new lb({invalid:J})}static isDateTime(J){return J&&J.isLuxonDateTime||!1}static parseFormatForOpts(J,W={}){return(J=Ga(J,sb.fromObject(W)))?J.map(oa=>oa?oa.val:null).join(""):null}static expandFormat(J,W={}){return ma(Fb.parseFormat(J),sb.fromObject(W)).map(oa=>
oa.val).join("")}get(J){return this[J]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?
this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ja(this).weekYear:NaN}get weekNumber(){return this.isValid?Ja(this).weekNumber:NaN}get weekday(){return this.isValid?
Ja(this).weekday:NaN}get ordinal(){return this.isValid?bb(this.c).ordinal:NaN}get monthShort(){return this.isValid?Xb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Xb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Xb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Xb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?
this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return B(this.year)}get daysInMonth(){return D(this.year,this.month)}get daysInYear(){return this.isValid?
B(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?C(this.weekYear):NaN}resolvedLocaleOptions(J={}){const {locale:W,numberingSystem:oa,calendar:za}=Fb.create(this.loc.clone(J),J).resolvedOptions(this);return{locale:W,numberingSystem:oa,outputCalendar:za}}toUTC(J=0,W={}){return this.setZone(Db.instance(J),W)}toLocal(){return this.setZone(zb.defaultZone)}setZone(J,{keepLocalTime:W=!1,keepCalendarTime:oa=!1}={}){J=r(J,zb.defaultZone);if(J.equals(this.zone))return this;if(J.isValid){let za=
this.ts;if(W||oa)W=J.offset(this.ts),oa=this.toObject(),[za]=wb(oa,W,J);return Za(this,{ts:za,zone:J})}return lb.invalid(Da(J))}reconfigure({locale:J,numberingSystem:W,outputCalendar:oa}={}){J=this.loc.clone({locale:J,numberingSystem:W,outputCalendar:oa});return Za(this,{loc:J})}setLocale(J){return this.reconfigure({locale:J})}set(J){if(!this.isValid)return this;J=O(J,xb);var W=!p(J.weekYear)||!p(J.weekNumber)||!p(J.weekday);const oa=!p(J.ordinal),za=!p(J.year),Ha=!p(J.month)||!p(J.day),Ma=J.weekYear||
J.weekNumber;if((za||Ha||oa)&&Ma)throw new va("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Ha&&oa)throw new va("Can't mix ordinal dates with month/day");W?W=$a({...Xa(this.c),...J}):p(J.ordinal)?(W={...this.toObject(),...J},p(J.day)&&(W.day=Math.min(D(W.year,W.month),W.day))):W=Sa({...bb(this.c),...J});const [Ya,cb]=wb(W,this.o,this.zone);return Za(this,{ts:Ya,o:cb})}plus(J){if(!this.isValid)return this;J=pb.fromDurationLike(J);return Za(this,tb(this,J))}minus(J){if(!this.isValid)return this;
J=pb.fromDurationLike(J).negate();return Za(this,tb(this,J))}startOf(J){if(!this.isValid)return this;const W={};J=pb.normalizeUnit(J);switch(J){case "years":W.month=1;case "quarters":case "months":W.day=1;case "weeks":case "days":W.hour=0;case "hours":W.minute=0;case "minutes":W.second=0;case "seconds":W.millisecond=0}"weeks"===J&&(W.weekday=1);"quarters"===J&&(W.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(W)}endOf(J){return this.isValid?this.plus({[J]:1}).startOf(J).minus(1):this}toFormat(J,
W={}){return this.isValid?Fb.create(this.loc.redefaultToEN(W)).formatDateTimeFromString(this,J):"Invalid DateTime"}toLocaleString(J=Ea,W={}){return this.isValid?Fb.create(this.loc.clone(W),J).formatDateTime(this):"Invalid DateTime"}toLocaleParts(J={}){return this.isValid?Fb.create(this.loc.clone(J),J).formatDateTimeParts(this):[]}toISO({format:J="extended",suppressSeconds:W=!1,suppressMilliseconds:oa=!1,includeOffset:za=!0,extendedZone:Ha=!1}={}){if(!this.isValid)return null;J="extended"===J;let Ma=
Ab(this,J);return Ma=Ma+"T"+Ib(this,J,W,oa,za,Ha)}toISODate({format:J="extended"}={}){return this.isValid?Ab(this,"extended"===J):null}toISOWeekDate(){return Bb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:J=!1,suppressSeconds:W=!1,includeOffset:oa=!0,includePrefix:za=!1,extendedZone:Ha=!1,format:Ma="extended"}={}){return this.isValid?(za?"T":"")+Ib(this,"extended"===Ma,W,J,oa,Ha):null}toRFC2822(){return Bb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Bb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?
Ab(this,!0):null}toSQLTime({includeOffset:J=!0,includeZone:W=!1,includeOffsetSpace:oa=!0}={}){let za="HH:mm:ss.SSS";if(W||J)oa&&(za+=" "),W?za+="z":J&&(za+="ZZ");return Bb(this,za,!0)}toSQL(J={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(J)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/
1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(J={}){if(!this.isValid)return{};const W={...this.c};J.includeConfig&&(W.outputCalendar=this.outputCalendar,W.numberingSystem=this.loc.numberingSystem,W.locale=this.loc.locale);return W}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(J,W="milliseconds",oa={}){if(!this.isValid||!J.isValid)return pb.invalid("created by diffing an invalid DateTime");oa={locale:this.locale,numberingSystem:this.numberingSystem,...oa};
const za=(Array.isArray(W)?W:[W]).map(pb.normalizeUnit);W=J.valueOf()>this.valueOf();J=ka(W?this:J,W?J:this,za,oa);return W?J.negate():J}diffNow(J="milliseconds",W={}){return this.diff(lb.now(),J,W)}until(J){return this.isValid?ub.fromDateTimes(this,J):this}hasSame(J,W){if(!this.isValid)return!1;const oa=J.valueOf();J=this.setZone(J.zone,{keepLocalTime:!0});return J.startOf(W)<=oa&&oa<=J.endOf(W)}equals(J){return this.isValid&&J.isValid&&this.valueOf()===J.valueOf()&&this.zone.equals(J.zone)&&this.loc.equals(J.loc)}toRelative(J=
{}){if(!this.isValid)return null;const W=J.base||lb.fromObject({},{zone:this.zone}),oa=J.padding?this<W?-J.padding:J.padding:0;let za="years months days hours minutes seconds".split(" "),Ha=J.unit;Array.isArray(J.unit)&&(za=J.unit,Ha=void 0);return kb(W,this.plus(oa),{...J,numeric:"always",units:za,unit:Ha})}toRelativeCalendar(J={}){return this.isValid?kb(J.base||lb.fromObject({},{zone:this.zone}),this,{...J,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...J){if(!J.every(lb.isDateTime))throw new Qa("min requires all arguments be DateTimes");
return h(J,W=>W.valueOf(),Math.min)}static max(...J){if(!J.every(lb.isDateTime))throw new Qa("max requires all arguments be DateTimes");return h(J,W=>W.valueOf(),Math.max)}static fromFormatExplain(J,W,oa={}){const {locale:za=null,numberingSystem:Ha=null}=oa;oa=sb.fromOpts({locale:za,numberingSystem:Ha,defaultToEN:!0});return ta(oa,J,W)}static fromStringExplain(J,W,oa={}){return lb.fromFormatExplain(J,W,oa)}static get DATE_SHORT(){return Ea}static get DATE_MED(){return Ua}static get DATE_MED_WITH_WEEKDAY(){return na}static get DATE_FULL(){return La}static get DATE_HUGE(){return Ra}static get TIME_SIMPLE(){return Wa}static get TIME_WITH_SECONDS(){return ab}static get TIME_WITH_SHORT_OFFSET(){return fb}static get TIME_WITH_LONG_OFFSET(){return jb}static get TIME_24_SIMPLE(){return Hb}static get TIME_24_WITH_SECONDS(){return Mb}static get TIME_24_WITH_SHORT_OFFSET(){return Qb}static get TIME_24_WITH_LONG_OFFSET(){return Kb}static get DATETIME_SHORT(){return Vb}static get DATETIME_SHORT_WITH_SECONDS(){return Gb}static get DATETIME_MED(){return Rb}static get DATETIME_MED_WITH_SECONDS(){return Sb}static get DATETIME_MED_WITH_WEEKDAY(){return Nb}static get DATETIME_FULL(){return Wb}static get DATETIME_FULL_WITH_SECONDS(){return wc}static get DATETIME_HUGE(){return xc}static get DATETIME_HUGE_WITH_SECONDS(){return yc}}
a.DateTime=lb;a.Duration=pb;a.FixedOffsetZone=Db;a.IANAZone=Lb;a.Info=Xb;a.Interval=ub;a.SystemZone=Yb;a.Zone=Tb})},"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p){a.FeatureIndex=
function(m){function g(h){return f.call(this,h)}b._inherits(g,m);var f=b._createSuper(g);return b._createClass(g)}(e.ClonableMixin(d.JSONSupport));c.__decorate([n.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"name",void 0);c.__decorate([n.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"fields",void 0);c.__decorate([n.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isAscending",void 0);c.__decorate([n.property({constructOnly:!0,
json:{write:!0}})],a.FeatureIndex.prototype,"indexType",void 0);c.__decorate([n.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isUnique",void 0);c.__decorate([n.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"description",void 0);a.FeatureIndex=c.__decorate([p.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/featureLayerUtils":function(){define("require exports ../../kernel ../../core/Error ../../core/jsonMap ../../core/maybe ../../core/sql ./layerUtils ../../rest/support/AttachmentQuery ../../rest/support/Query ../../rest/support/RelationshipQuery".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){function g(q,k,l){const {attributes:v}=k,{objectIdField:w}=q;return q.get("capabilities.data.supportsAttachment")?k?v?w&&v[w]?Promise.resolve():Promise.reject(new e(l,`feature is missing the identifying attribute ${w}`)):Promise.reject(new e(l,"'attributes' are required on a feature to query attachments")):Promise.reject(new e(l,"A feature is required to add/delete/update attachments")):Promise.reject(new e(l,"this layer doesn't support attachments"))}async function f(q){return(await q.load()).source}
async function h(q,k){if(c.id&&!c.id.findCredential(q)){var l;try{const v=await t.getOwningPortalUrl(q,k);v&&(l=await c.id.checkSignInStatus(`${v}/sharing`))}catch(v){}if(l)try{const v=n.isSome(k)?k.signal:null;await c.id.getCredential(q,{signal:v})}catch(v){}}}d=new d.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});b.addAttachment=async function(q,k,l,v){const w=await f(q);await g(q,
k,v);if(!w.addAttachment)throw new e(v,"Layer source does not support addAttachment capability");return w.addAttachment(k,l)};b.applyEdits=async function(q,k,l){const v=await new Promise((w,x)=>a(["../graphics/editingSupport"],w,x));q=await q.load();return v.applyEdits(q,q.source,k,l)};b.computeEffectiveEditingEnabled=function(q){return q.sourceJSON?.isMultiServicesView?!1:q.userHasUpdateItemPrivileges||q.editingEnabled};b.createQuery=function(q){const k=new p,l=q.get("capabilities.data"),v=q.get("capabilities.query");
k.historicMoment=q.historicMoment;k.gdbVersion=q.gdbVersion;k.returnGeometry=!0;v&&(k.compactGeometryEnabled=v.supportsCompactGeometry,k.defaultSpatialReferenceEnabled=v.supportsDefaultSpatialReference);l&&(l.supportsZ&&null!=q.returnZ&&(k.returnZ=q.returnZ),l.supportsM&&null!=q.returnM&&(k.returnM=q.returnM));k.outFields=["*"];const {timeOffset:w,timeExtent:x}=q;k.timeExtent=null!=w&&null!=x?x.offset(-w.value,w.unit):x||null;k.multipatchOption="multipatch"===q.geometryType?"xyFootprint":null;return k};
b.deleteAttachments=async function(q,k,l,v){const w=await f(q);await g(q,k,v);if(!w.deleteAttachments)throw new e(v,"Layer source does not support deleteAttachments capability");return w.deleteAttachments(k,l)};b.ensureLayerCredential=async function(q,k){const l=q.parsedUrl?.path;if(l){var v=q.editFieldsInfo;(q.userHasUpdateItemPrivileges||q.userHasFullEditingPrivileges&&q.capabilities.operations.supportsEditing||v?.creatorField||v?.editorField)&&await h(l,k)}};b.fetchRecomputedExtents=async function(q,
k,l){q=(await q.load({signal:k?.signal})).source;if(!q.fetchRecomputedExtents)throw new e(l,"Layer source does not support fetchUpdates capability");return q.fetchRecomputedExtents(k)};b.geometryTypeKebabDict=d;b.hasDataChanged=async function(q){const k=q.source;if(k?.refresh)try{const {dataChanged:l,updates:v}=await k.refresh();n.isSome(v)&&(q.sourceJSON={...q.sourceJSON,...v},q.read(v,{origin:"service",url:q.parsedUrl}));if(l)return!0}catch{}if(q.definitionExpression)try{return(await u.parseWhereClause(q.definitionExpression,
q.fieldsIndex)).hasDateFunctions}catch{}return!1};b.queryAttachments=async function(q,k,l,v){k=r.from(k);await q.load();l=q.source;q=q.capabilities;if(!q?.data?.supportsAttachment)throw new e(v,"this layer doesn't support attachments");const {attachmentTypes:w,objectIds:x,globalIds:z,num:A,size:B,start:D,where:y}=k;if(!q?.operations?.supportsQueryAttachments&&(0<w?.length||0<z?.length||0<B?.length||A||D||y))throw new e(v,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",
k);if(!(x?.length||z?.length||y))throw new e(v,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",k);if(!l.queryAttachments)throw new e(v,"Layer source does not support queryAttachments capability",k);return l.queryAttachments(k)};b.queryExtent=async function(q,k,l,v){const w=await f(q);if(!w.queryExtent)throw new e(v,"Layer source does not support queryExtent capability");return w.queryExtent(p.from(k)??q.createQuery(),l)};b.queryFeatureCount=async function(q,k,l,v){const w=
await f(q);if(!w.queryFeatureCount)throw new e(v,"Layer source does not support queryFeatureCount capability");return w.queryFeatureCount(p.from(k)??q.createQuery(),l)};b.queryObjectIds=async function(q,k,l,v){const w=await f(q);if(!w.queryObjectIds)throw new e(v,"Layer source does not support queryObjectIds capability");return w.queryObjectIds(p.from(k)??q.createQuery(),l)};b.queryRelatedFeatures=async function(q,k,l,v){q=await f(q);if(!q.queryRelatedFeatures)throw new e(v,"Layer source does not support queryRelatedFeatures capability");
return q.queryRelatedFeatures(m.from(k),l)};b.queryRelatedFeaturesCount=async function(q,k,l,v){q=await f(q);if(!q.queryRelatedFeaturesCount)throw new e(v,"Layer source does not support queryRelatedFeaturesCount capability");return q.queryRelatedFeaturesCount(m.from(k),l)};b.readGlobalIdField=function(q){const {globalIdField:k,fields:l}=q;if(k)return k;if(l)for(const v of l)if("esriFieldTypeGlobalID"===v.type)return v.name};b.readObjectIdField=function(q){const {objectIdField:k,fields:l}=q;if(k)return k;
if(l)for(const v of l)if("esriFieldTypeOID"===v.type)return v.name};b.readVersion=function(q){return q.currentVersion?q.currentVersion:q.hasOwnProperty("capabilities")||q.hasOwnProperty("drawingInfo")||q.hasOwnProperty("hasAttachments")||q.hasOwnProperty("htmlPopupType")||q.hasOwnProperty("relationships")||q.hasOwnProperty("timeInfo")||q.hasOwnProperty("typeIdField")||q.hasOwnProperty("types")?10:9.3};b.updateAttachment=async function(q,k,l,v,w){const x=await f(q);await g(q,k,w);if(!x.updateAttachment)throw new e(w,
"Layer source does not support updateAttachment capability");return x.updateAttachment(k,l,v)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AttachmentQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=g.call(this,f);f.attachmentTypes=null;f.attachmentsWhere=null;f.cacheHint=void 0;f.keywords=null;f.globalIds=null;f.name=null;f.num=null;f.objectIds=null;f.returnMetadata=!1;f.size=null;f.start=null;f.where=null;return f}a._inherits(m,p);var g=a._createSuper(m);p=m.prototype;p.writeStart=function(f,h){h.resultOffset=this.start;h.resultRecordCount=this.num||10};p.clone=function(){return new r(e.clone({attachmentTypes:this.attachmentTypes,
attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))};return a._createClass(m)}(c.JSONSupport);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"attachmentTypes",void 0);b.__decorate([d.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],
c.prototype,"attachmentsWhere",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"cacheHint",void 0);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"keywords",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,"globalIds",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([d.property({type:[Number],
json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],c.prototype,"returnMetadata",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([d.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([t.writer("start"),t.writer("num")],c.prototype,"writeStart",null);b.__decorate([d.property({type:String,json:{read:{source:"definitionExpression"},
write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);c=r=b.__decorate([u.subclass("esri.rest.support.AttachmentQuery")],c);c.from=n.ensureType(c);return c})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/source/DataLayerSource ../../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;c=g=function(f){function h(k){k=q.call(this,k);k.cacheHint=void 0;k.dynamicDataSource=void 0;k.gdbVersion=null;k.geometryPrecision=void 0;k.historicMoment=null;k.maxAllowableOffset=void 0;k.objectIds=null;k.orderByFields=null;k.outFields=null;k.outSpatialReference=null;k.relationshipId=void 0;k.start=void 0;k.num=void 0;k.returnGeometry=!1;k.returnM=void 0;k.returnZ=void 0;k.where=null;return k}a._inherits(h,f);var q=a._createSuper(h);f=h.prototype;f._writeHistoricMoment=
function(k,l){l.historicMoment=k&&k.getTime()};f.writeStart=function(k,l){l.resultOffset=this.start;l.resultRecordCount=this.num||10;0<this.start&&null==this.where&&(l.definitionExpression="1\x3d1")};f.clone=function(){return new g(d.clone({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,
orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))};return a._createClass(h)}(e.JSONSupport);b.__decorate([n.property({type:Boolean,json:{write:!0}})],c.prototype,"cacheHint",void 0);b.__decorate([n.property({type:p.DataLayerSource,json:{write:!0}})],c.prototype,"dynamicDataSource",void 0);
b.__decorate([n.property({type:String,json:{write:!0}})],c.prototype,"gdbVersion",void 0);b.__decorate([n.property({type:Number,json:{write:!0}})],c.prototype,"geometryPrecision",void 0);b.__decorate([n.property({type:Date})],c.prototype,"historicMoment",void 0);b.__decorate([r.writer("historicMoment")],c.prototype,"_writeHistoricMoment",null);b.__decorate([n.property({type:Number,json:{write:!0}})],c.prototype,"maxAllowableOffset",void 0);b.__decorate([n.property({type:[Number],json:{write:!0}})],
c.prototype,"objectIds",void 0);b.__decorate([n.property({type:[String],json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([n.property({type:[String],json:{write:!0}})],c.prototype,"outFields",void 0);b.__decorate([n.property({type:m,json:{read:{source:"outSR"},write:{target:"outSR"}}})],c.prototype,"outSpatialReference",void 0);b.__decorate([n.property({json:{write:!0}})],c.prototype,"relationshipId",void 0);b.__decorate([n.property({type:Number,json:{read:{source:"resultOffset"}}})],
c.prototype,"start",void 0);b.__decorate([r.writer("start"),r.writer("num")],c.prototype,"writeStart",null);b.__decorate([n.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([n.property({json:{write:!0}})],c.prototype,"returnGeometry",void 0);b.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(f){return{enabled:f}}}}})],c.prototype,"returnM",void 0);b.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(f){return{enabled:f}}}}})],
c.prototype,"returnZ",void 0);b.__decorate([n.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);c=g=b.__decorate([t.subclass("esri.rest.support.RelationshipQuery")],c);c.from=u.ensureType(c);return c})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p){c=function(m){function g(h){h=f.call(this,h);h.shapeAreaField=null;h.shapeLengthField=null;h.units=null;return h}a._inherits(g,m);var f=a._createSuper(g);return a._createClass(g)}(c.ClonableMixin(e.JSONSupport));b.__decorate([n.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],c.prototype,"shapeAreaField",void 0);b.__decorate([n.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],c.prototype,"shapeLengthField",void 0);b.__decorate([n.property({type:String,
json:{read:m=>d.areaUnitsJSONMap.read(m)||d.lengthUnitsJSONMap.read(m)}})],c.prototype,"units",void 0);return c=b.__decorate([p.subclass("esri.layers.support.GeometryFieldsInfo")],c)})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;e=p=function(m){function g(h){h=f.call(this,h);h.floorField=null;h.viewAllMode=!1;h.viewAllLevelIds=new c;return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})};return a._createClass(g)}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"floorField",void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],
e.prototype,"viewAllMode",void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],e.prototype,"viewAllLevelIds",void 0);return e=p=b.__decorate([r.subclass("esri.layers.support.LayerFloorInfo")],e)})},"esri/layers/support/Relationship":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p){u=new e.JSONMap({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});e=new e.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});c=function(m){function g(h){h=f.call(this,h);h.cardinality=null;h.composite=null;h.id=null;h.keyField=null;h.keyFieldInRelationshipTable=null;h.name=null;h.relatedTableId=null;h.relationshipTableId=null;h.role=null;return h}a._inherits(g,m);var f=
a._createSuper(g);return a._createClass(g)}(c.ClonableMixin(d.JSONSupport));b.__decorate([n.property({json:{read:u.read,write:u.write}})],c.prototype,"cardinality",void 0);b.__decorate([n.property({json:{read:!0,write:!0}})],c.prototype,"composite",void 0);b.__decorate([n.property({json:{read:!0,write:!0}})],c.prototype,"id",void 0);b.__decorate([n.property({json:{read:!0,write:!0}})],c.prototype,"keyField",void 0);b.__decorate([n.property({json:{read:!0,write:!0}})],c.prototype,"keyFieldInRelationshipTable",
void 0);b.__decorate([n.property({json:{read:!0,write:!0}})],c.prototype,"name",void 0);b.__decorate([n.property({json:{read:!0,write:!0}})],c.prototype,"relatedTableId",void 0);b.__decorate([n.property({json:{read:!0,write:!0}})],c.prototype,"relationshipTableId",void 0);b.__decorate([n.property({json:{read:e.read,write:e.write}})],c.prototype,"role",void 0);return c=b.__decorate([p.subclass("esri.layers.support.Relationship")],c)})},"esri/layers/support/serviceCapabilitiesUtils":function(){define(["exports",
"../../core/has","../../core/maybe","./arcgisLayerUrl"],function(a,b,c,e){function d(f,h,q){return!(f&&f.hasOwnProperty(h)?!f[h]:!q)}function n(f,h,q){return f&&f.hasOwnProperty(h)?f[h]:q}function u(f){f=f?.supportedSpatialAggregationStatistics?.map(h=>h.toLowerCase());return{envelope:!!f?.includes("envelopeaggregate"),centroid:!!f?.includes("centroidaggregate"),convexHull:!!f?.includes("convexhullaggregate")}}function t(f,h){return!!f?.supportedOperationsWithCacheHint?.map(q=>q.toLowerCase())?.includes(h.toLowerCase())}
function r(f){const h=f.attachmentProperties,q={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:t(f.advancedQueryCapabilities,"queryAttachments"),supportsResize:d(f,"supportsAttachmentsResizing",!1)};h&&Array.isArray(h)&&h.forEach(k=>{const l=g[k.name];l&&(q[l]=!!k.isEnabled)});return q}function p(f,h,q){f=f?f.toLowerCase().split(",").map(A=>A.trim()):[];q=q?e.parse(q):null;q=f.includes(c.isSome(q)&&"MapServer"===q.serverType?"data":
"query");const k=f.includes("editing")&&!h.datesInUnknownTimezone;let l=k&&f.includes("create"),v=k&&f.includes("delete"),w=k&&f.includes("update");const x=f.includes("changetracking"),z=h.advancedQueryCapabilities;!k||l||v||w||(l=v=w=!0);return{supportsCalculate:d(h,"supportsCalculate",!1),supportsTruncate:d(h,"supportsTruncate",!1),supportsValidateSql:d(h,"supportsValidateSql",!1),supportsAdd:l,supportsDelete:v,supportsEditing:k,supportsChangeTracking:x,supportsQuery:q,supportsQueryAnalytics:d(z,
"supportsQueryAnalytic",!1),supportsQueryAttachments:d(z,"supportsQueryAttachments",!1),supportsQueryTopFeatures:d(z,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:d(h,"supportsAttachmentsResizing",!1),supportsSync:f.includes("sync"),supportsUpdate:w,supportsExceedsLimitStatistics:d(h,"supportsExceedsLimitStatistics",!1)}}function m(f,h){const q=f.advancedQueryCapabilities,k=f.ownershipBasedAccessControlForFeatures,l=f.archivingInfo;var v=f.currentVersion;v=!h?.includes("MapServer")||v>=
b("mapserver-pbf-version-support");h=e.isHostedAgolService(h);const w=new Set((f.supportedQueryFormats??"").split(",").map(x=>x.toLowerCase().trim()));return{supportsStatistics:d(q,"supportsStatistics",f.supportsStatistics),supportsPercentileStatistics:d(q,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:d(q,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:u(q),supportsCentroid:d(q,"supportsReturningGeometryCentroid",!1),supportsDistance:d(q,
"supportsQueryWithDistance",!1),supportsDistinct:d(q,"supportsDistinct",f.supportsAdvancedQueries),supportsExtent:d(q,"supportsReturningQueryExtent",!1),supportsGeometryProperties:d(q,"supportsReturningGeometryProperties",!1),supportsHavingClause:d(q,"supportsHavingClause",!1),supportsOrderBy:d(q,"supportsOrderBy",f.supportsAdvancedQueries),supportsPagination:d(q,"supportsPagination",!1),supportsQuantization:d(f,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:d(f,"supportsQuantizationEditMode",
!1),supportsQueryGeometry:d(f,"supportsReturningQueryGeometry",!1),supportsResultType:d(q,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:d(q,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:d(q,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:d(f,"useStandardizedQueries",!1),supportsTopFeaturesQuery:d(q,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:d(k,"allowOthersToQuery",!0),supportsHistoricMoment:d(l,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:v&&
w.has("pbf"),supportsDisjointSpatialRelationship:d(q,"supportsDisjointSpatialRel",!1),supportsCacheHint:d(q,"supportsQueryWithCacheHint",!1)||t(q,"query"),supportsDefaultSpatialReference:d(q,"supportsDefaultSR",!1),supportsCompactGeometry:h,supportsFullTextSearch:d(q,"supportsFullTextSearch",!1),maxRecordCountFactor:n(f,"maxRecordCountFactor",void 0),maxRecordCount:n(f,"maxRecordCount",void 0),standardMaxRecordCount:n(f,"standardMaxRecordCount",void 0),tileMaxRecordCount:n(f,"tileMaxRecordCount",
void 0)}}const g={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};a.getFeatureLayerCapabilities=function(f,h){var q={supportsCacheHint:t(f.advancedQueryCapabilities,"queryAnalytics")},k=r(f);var l={isVersioned:d(f,"isDataVersioned",!1),supportsAttachment:d(f,"hasAttachments",!1),supportsM:d(f,"hasM",!1),supportsZ:d(f,"hasZ",!1)};var v={supportsAdvancedFieldProperties:d(f,"supportsFieldDescriptionProperty",!1)},w=p(f.capabilities,
f,h);h=m(f,h);var x=f.advancedQueryCapabilities;var z=d(x,"supportsAdvancedQueryRelated",!1);x={supportsPagination:d(x,"supportsQueryRelatedPagination",!1),supportsCount:z,supportsOrderBy:z,supportsCacheHint:t(x,"queryRelated")};z={supportsCacheHint:t(f.advancedQueryCapabilities,"queryTopFilter")};const A=f.ownershipBasedAccessControlForFeatures;f={supportsGeometryUpdate:d(f,"allowGeometryUpdates",!0),supportsGlobalId:d(f,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:d(f,
"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:d(f,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:d(f,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:d(f,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:d(A,"allowAnonymousToDelete",!0),supportsDeleteByOthers:d(A,"allowOthersToDelete",!0),supportsUpdateByAnonymous:d(A,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:d(A,"allowOthersToUpdate",!0)};return{analytics:q,attachment:k,data:l,
metadata:v,operations:w,query:h,queryRelated:x,queryTopFeatures:z,editing:f}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/FeatureReductionLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/AggregateField ../support/featureReductionUtils ../../views/2d/layers/support/clusterUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){a.FeatureReductionLayer=g=>{g=function(f){function h(...k){var l=q.call(this,...k);l.own(l.watch("renderer",()=>{if(l.featureReduction){const v=l._normalizeFeatureReduction(l.featureReduction);l._set("featureReduction",v)}},!0));return l}b._inherits(h,f);var q=b._createSuper(h);h.prototype._normalizeFeatureReduction=function(k){if("cluster"!==k?.type)return k;const l=k.clone(),v=[new r({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],w=(l.fields??[]).filter(x=>
!x.isAutoGenerated);if(k.renderer&&!k.renderer.authoringInfo?.isAutoGenerated)return l.fields=[...v,...w],l;if(k.symbol)return l.fields=[...v,...w],l.renderer=null,l;if(!this.renderer)return k;k=m.createClusterRenderer(v,this.renderer,k,null,!1);l.fields=[...v,...w];l.renderer=k;return l};b._createClass(h,[{key:"featureReduction",set:function(k){k=this._normalizeFeatureReduction(k);this._set("featureReduction",k)}},{key:"renderer",set:function(k){}}]);return h}(g);c.__decorate([e.property(p.featureReductionProperty)],
g.prototype,"featureReduction",null);return g=c.__decorate([t.subclass("esri.layers.mixins.FeatureReductionLayer")],g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/AggregateField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ExpressionInfo".split(" "),
function(a,b,c,e,d,n,u,t){var r;c=r=function(p){function m(f){f=g.call(this,f);f.isAutoGenerated=!1;f.name=null;f.alias=null;f.onStatisticField=null;f.onStatisticExpression=null;f.statisticType=null;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:e.clone(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})};return a._createClass(m)}(c.JSONSupport);
b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"isAutoGenerated",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"onStatisticField",void 0);b.__decorate([d.property({type:t,json:{write:!0}})],c.prototype,"onStatisticExpression",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],
c.prototype,"statisticType",void 0);return c=r=b.__decorate([u.subclass("esri.layers.support.AggregateField")],c)})},"esri/layers/support/ExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r){c=function(p){function m(f){f=
g.call(this,f);f.expression=null;f.title=null;f.returnType=null;return f}a._inherits(m,p);var g=a._createSuper(m);return a._createClass(m)}(c.ClonableMixin(e.JSONSupport));b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"returnType",void 0);return c=b.__decorate([r.subclass("esri.layers.support.ExpressionInfo")],
c)})},"esri/layers/support/featureReductionUtils":function(){define(["exports","./FeatureReduction","./FeatureReductionBinning","./FeatureReductionCluster","./FeatureReductionSelection"],function(a,b,c,e,d){const n={key:"type",base:b.FeatureReduction,typeMap:{cluster:e,binning:c}};a.featureReductionProperty={types:{key:"type",base:b.FeatureReduction,typeMap:{selection:d,cluster:e,binning:c}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:n},"portal-item":{types:n},
"web-scene":{types:{key:"type",base:b.FeatureReduction,typeMap:{selection:d}}}}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,
t,r){a.FeatureReduction=function(p){function m(){var f=g.apply(this,arguments);f.type=null;return f}b._inherits(m,p);var g=b._createSuper(m);return b._createClass(m)}(e.JSONSupport);c.__decorate([d.property({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=c.__decorate([r.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionBinning":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/lang ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/extensions/serializableProperty/reader ./AggregateField ./commonProperties ./FeatureReduction ./LabelClass".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F){var G;const E=B.createTypeReader({types:h.symbolTypesRenderer});e=G=function(P){function O(M){M=K.call(this,M);M.type="binning";M.binType="geohash";M.fixedBinLevel=3;M.labelingInfo=null;M.labelsVisible=!0;M.maxScale=0;M.popupEnabled=!0;M.popupTemplate=null;M.fields=[];M.renderer=null;return M}a._inherits(O,P);var K=a._createSuper(O);P=O.prototype;P.writeFields=function(M,I,H){M=M.filter(L=>"avg_angle"!==L.statisticType).map(L=>L.toJSON());
k.setDeepValue(H,M,I)};P.readRenderer=function(M,I,H){return(M=I.drawingInfo?.renderer)?g.read(M,I,H)??void 0:I.defaultSymbol?I.types&&I.types.length?new m({defaultSymbol:E(I.defaultSymbol,I,H),field:I.typeIdField,uniqueValueInfos:I.types.map(L=>({id:L.id,symbol:E(L.symbol,L,H)}))}):new p({symbol:E(I.defaultSymbol,I,H)}):null};P.clone=function(){return new G({fields:q.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:q.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,
popupEnabled:this.popupEnabled,popupTemplate:q.clone(this.popupTemplate),renderer:q.clone(this.renderer)})};return a._createClass(O)}(C.FeatureReduction);b.__decorate([w.enumeration({binning:"binning"})],e.prototype,"type",void 0);b.__decorate([w.enumeration({geohash:"geohash"})],e.prototype,"binType",void 0);b.__decorate([l.property({type:Number,range:{min:1,max:9},json:{write:!0}})],e.prototype,"fixedBinLevel",void 0);b.__decorate([l.property({type:[F],json:{read:{source:"drawingInfo.labelingInfo"},
write:{target:"drawingInfo.labelingInfo"}}})],e.prototype,"labelingInfo",void 0);b.__decorate([l.property(y.labelsVisible)],e.prototype,"labelsVisible",void 0);b.__decorate([l.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],e.prototype,"maxScale",void 0);b.__decorate([l.property(y.popupEnabled)],e.prototype,"popupEnabled",void 0);b.__decorate([l.property({type:c,json:{name:"popupInfo",write:!0}})],e.prototype,"popupTemplate",void 0);b.__decorate([l.property({type:[D],json:{write:!0}})],
e.prototype,"fields",void 0);b.__decorate([A.writer("fields")],e.prototype,"writeFields",null);b.__decorate([l.property({types:f.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],e.prototype,"renderer",void 0);b.__decorate([x.reader("renderer",["drawingInfo.renderer"])],e.prototype,"readRenderer",null);return e=G=b.__decorate([z.subclass("esri.layers.support.FeatureReductionBinning")],e)})},"esri/layers/support/LabelClass":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ./layerUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l){function v(A,B,D){return{enabled:!q.isSceneServiceLayer(D?.layer)}}function w(A){return A?"service"===A.origin?!1:"map-image"!==A.layer?.type:!0}function x(A){return"map-image"===A?.type?!!A.capabilities?.exportMap?.supportsArcadeExpressionForLabeling:!1}var z;e=new e.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",
esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",
esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});d=z=function(A){function B(y){y=D.call(this,y);y.type="label";y.name=null;y.allowOverrun=!1;y.deconflictionStrategy="static";y.labelExpression=null;y.labelExpressionInfo=null;y.labelPlacement=null;y.labelPosition="curved";y.maxScale=0;y.minScale=0;y.repeatLabel=!0;y.repeatLabelDistance=null;y.symbol=k.defaultTextSymbol2D;y.useCodedValues=void 0;y.where=null;return y}a._inherits(B,A);var D=a._createSuper(B);B.evaluateWhere=function(y,C){const F=(G,E,P)=>{switch(E){case "\x3d":return G==
P;case "\x3c\x3e":return G!=P;case "\x3e":return G>P;case "\x3e\x3d":return G>=P;case "\x3c":return G<P;case "\x3c\x3d":return G<=P}return!1};try{if(null==y)return!0;const G=y.split(" ");if(3===G.length)return F(C[G[0]],G[1],G[2]);if(7===G.length){const E=F(C[G[0]],G[1],G[2]),P=G[3],O=F(C[G[4]],G[5],G[6]);switch(P){case "AND":return E&&O;case "OR":return E||O}}return!1}catch(G){console.log("Error.: can't parse \x3d "+y)}};A=B.prototype;A.readLabelExpression=function(y,C){C=C.labelExpressionInfo;if(!C||
!C.value&&!C.expression)return y};A.writeLabelExpression=function(y,C,F){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)y=h.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const G=h.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);G&&(y="["+G+"]")}null!=y&&(C[F]=y)};A.writeLabelExpressionInfo=function(y,C,F,G){if(null==y&&null!=this.labelExpression&&w(G))y=new f({expression:this.getLabelExpressionArcade()});
else if(!y)return;y=y.toJSON(G);y.expression&&(C[F]=y)};A.writeMaxScale=function(y,C){if(y||this.minScale)C.maxScale=y};A.writeMinScale=function(y,C){if(y||this.maxScale)C.minScale=y};A.getLabelExpression=function(){return h.getLabelExpression(this)};A.getLabelExpressionArcade=function(){return h.getLabelExpressionArcade(this)};A.getLabelExpressionSingleField=function(){return h.getLabelExpressionSingleField(this)};A.hash=function(){return JSON.stringify(this)};A.clone=function(){return new z({allowOverrun:this.allowOverrun,
deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:n.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:n.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};return a._createClass(B)}(d.JSONSupport);b.__decorate([t.property({type:String,
json:{write:!0}})],d.prototype,"name",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:v}}}}})],d.prototype,"allowOverrun",void 0);b.__decorate([t.property({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:v}}}}})],d.prototype,"deconflictionStrategy",void 0);b.__decorate([t.property({type:String,json:{write:{overridePolicy(A,
B,D){return this.labelExpressionInfo&&"service"===D?.origin&&x(D.layer)?{enabled:!1}:{allowNull:!0}}}}})],d.prototype,"labelExpression",void 0);b.__decorate([p.reader("labelExpression")],d.prototype,"readLabelExpression",null);b.__decorate([g.writer("labelExpression")],d.prototype,"writeLabelExpression",null);b.__decorate([t.property({type:f,json:{write:{overridePolicy(A,B,D){return w(D)||x(D?.layer)?{allowNull:!0}:{enabled:!1}}}}})],d.prototype,"labelExpressionInfo",void 0);b.__decorate([g.writer("labelExpressionInfo")],
d.prototype,"writeLabelExpressionInfo",null);b.__decorate([t.property({type:e.apiValues,json:{type:e.jsonValues,read:e.read,write:e.write}})],d.prototype,"labelPlacement",void 0);b.__decorate([t.property({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],d.prototype,"labelPosition",void 0);b.__decorate([t.property({type:Number})],d.prototype,"maxScale",void 0);b.__decorate([g.writer("maxScale")],d.prototype,"writeMaxScale",
null);b.__decorate([t.property({type:Number})],d.prototype,"minScale",void 0);b.__decorate([g.writer("minScale")],d.prototype,"writeMinScale",null);b.__decorate([t.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:v}}}}})],d.prototype,"repeatLabel",void 0);b.__decorate([t.property({type:Number,cast:u.toPt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:v}}}}})],d.prototype,"repeatLabelDistance",void 0);b.__decorate([t.property({types:c.symbolTypesLabel,
json:{origins:{"web-scene":{types:c.symbolTypesLabel3D,write:l.writeLabelSymbol,default:null}},write:l.writeLabelSymbol,default:null}})],d.prototype,"symbol",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0}})],d.prototype,"useCodedValues",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],d.prototype,"where",void 0);return d=z=b.__decorate([m.subclass("esri.layers.support.LabelClass")],d)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){var g;c=g=function(f){function h(){var k=q.apply(this,arguments);k.expression=null;k.title=null;k.value=null;return k}a._inherits(h,f);var q=a._createSuper(h);f=h.prototype;f.readExpression=function(k,l){return l.value?m.convertTemplatedStringToArcade(l.value):k};f.writeExpression=function(k,l,v){null!=this.value&&(k=m.convertTemplatedStringToArcade(this.value));null!=k&&(l[v]=k)};f.clone=function(){return new g({expression:this.expression,title:this.title,value:this.value})};
return a._createClass(h)}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],c.prototype,"expression",void 0);b.__decorate([t.reader("expression",["expression","value"])],c.prototype,"readExpression",null);b.__decorate([p.writer("expression")],c.prototype,"writeExpression",null);b.__decorate([e.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"title",void 0);b.__decorate([e.property({json:{read:!1,write:!1}})],c.prototype,
"value",void 0);return c=g=b.__decorate([r.subclass("esri.layers.support.LabelExpressionInfo")],c)})},"esri/layers/support/labelUtils":function(){define(["exports","../../core/string"],function(a,b){function c(k){return k.replace(RegExp("\\[","g"),"{").replace(RegExp("\\]","g"),"}")}function e(k){const l={expression:"",type:"none"};k.labelExpressionInfo?k.labelExpressionInfo.value?(l.expression=k.labelExpressionInfo.value,l.type="conventional"):k.labelExpressionInfo.expression&&(l.expression=k.labelExpressionInfo.expression,
l.type="arcade"):null!=k.labelExpression&&(l.expression=c(k.labelExpression),l.type="conventional");return l}function d(k){k?(k=b.replace(k,l=>'__begin__$feature["'+l+'"]__end__'),k=p.test(k)?k.replace(p,""):'"'+k,k=m.test(k)?k.replace(m,""):k+'"',k=k.replace(t,'" + ').replace(r,' + "')):k='""';return k}function n(k){return(k=k?.match(g))&&k[1].trim()||null}function u(k){if(!k)return null;let l=f.exec(k)||h.exec(k);return l?l[1]||l[3]:(l=q.exec(k))?l[2]:null}const t=RegExp("__begin__","ig"),r=RegExp("__end__",
"ig"),p=RegExp("^__begin__","i"),m=RegExp("__end__$","i"),g=/^\s*\{([^}]+)\}\s*$/i,f=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,h=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,q=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=d;a.getLabelExpression=e;a.getLabelExpressionArcade=function(k){k=e(k);if(!k)return null;switch(k.type){case "conventional":return d(k.expression);
case "arcade":return k.expression}return null};a.getLabelExpressionSingleField=function(k){k=e(k);if(!k)return null;switch(k.type){case "conventional":return n(k.expression);case "arcade":return u(k.expression)}return null};a.getSingleFieldArcadeExpression=u;a.getSingleFieldTemplatedString=n;a.sqlToTemplateString=c;a.templateStringToSql=function(k){return k.replace(RegExp("\\{","g"),"[").replace(RegExp("\\}","g"),"]")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../../core/maybe ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),
function(a,b,c,e,d,n,u,t){const r=n.fromJSON(t.defaultPointSymbolJSON),p=d.fromJSON(t.defaultPolylineSymbolJSON),m=e.fromJSON(t.defaultPolygonSymbolJSON);b=u.fromJSON(t.defaultTextSymbolJSON);n=n.fromJSON(t.errorPointSymbolJSON);d=d.fromJSON(t.errorPolylineSymbolJSON);e=e.fromJSON(t.errorPolygonSymbolJSON);a.defaultPointSymbol2D=r;a.defaultPolygonSymbol2D=m;a.defaultPolylineSymbol2D=p;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=n;a.errorPolygonSymbol2D=e;a.errorPolylineSymbol2D=d;a.getDefaultSymbol2D=
function(g){if(c.isNone(g))return null;switch(g.type){case "point":case "multipoint":return r;case "polyline":return p;case "polygon":case "extent":return m}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(a){const b=[252,146,31,255],c={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},e={type:"esriSLS",style:"esriSLSSolid",
width:.75,color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=c;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=e;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,
text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/extensions/serializableProperty/reader ./AggregateField ./commonProperties ./LabelClass".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F){var G;const E=D.createTypeReader({types:h.symbolTypesRenderer});e=G=function(P){function O(M){M=K.call(this,M);M.type="cluster";M.clusterRadius=v.toPt("80px");M.clusterMinSize=v.toPt("12px");M.clusterMaxSize=v.toPt("50px");M.maxScale=0;M.popupEnabled=!0;M.popupTemplate=null;M.renderer=null;M.symbol=null;M.labelingInfo=null;M.labelsVisible=!0;M.fields=null;return M}a._inherits(O,P);var K=a._createSuper(O);P=O.prototype;P.readRenderer=
function(M,I,H){M=I.drawingInfo?.renderer;return M?.authoringInfo?.isAutoGenerated?null:M?"simple"!==M.type||M.visualVariables?.length?g.read(M,I,H)??void 0:null:I.defaultSymbol?I.types&&I.types.length?new m({defaultSymbol:E(I.defaultSymbol,I,H),field:I.typeIdField,uniqueValueInfos:I.types.map(L=>({id:L.id,symbol:E(L.symbol,L,H)}))}):new p({symbol:E(I.defaultSymbol,I,H)}):null};P.readSymbol=function(M,I,H){M=I.drawingInfo?.renderer;return M?.authoringInfo?.isAutoGenerated?null:M&&"simple"===M.type&&
!M.visualVariables?.length?g.read(M,I,H)?.symbol:null};P.writeSymbol=function(M,I,H,L){H=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||H)M=new p({symbol:M}),I.drawingInfo={renderer:M.write({},L)}};P.writeFields=function(M,I,H){M=M.filter(L=>"avg_angle"!==L.statisticType).map(L=>L.toJSON());l.setDeepValue(H,M,I)};P.readFields=function(M,I,H){return M.filter(L=>!L.isAutoGenerated).map(L=>y.fromJSON(L))};P.clone=function(){return new G({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,
clusterMaxSize:this.clusterMaxSize,labelingInfo:k.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:k.clone(this.fields),maxScale:this.maxScale,renderer:k.clone(this.renderer),symbol:k.clone(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:k.clone(this.popupTemplate)})};return a._createClass(O)}(q.JSONSupport);b.__decorate([w.property({type:["cluster"],readOnly:!0,json:{write:!0}})],e.prototype,"type",void 0);b.__decorate([w.property({type:Number,cast:P=>"auto"===P?P:v.toPt(P),
json:{write:!0}})],e.prototype,"clusterRadius",void 0);b.__decorate([w.property({type:Number,cast:v.toPt,json:{write:!0}})],e.prototype,"clusterMinSize",void 0);b.__decorate([w.property({type:Number,cast:v.toPt,json:{write:!0}})],e.prototype,"clusterMaxSize",void 0);b.__decorate([w.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],e.prototype,"maxScale",void 0);b.__decorate([w.property(C.popupEnabled)],e.prototype,"popupEnabled",void 0);b.__decorate([w.property({type:c,json:{read:{source:"popupInfo"},
write:{target:"popupInfo"}}})],e.prototype,"popupTemplate",void 0);b.__decorate([w.property({types:f.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],e.prototype,"renderer",void 0);b.__decorate([z.reader("renderer",["drawingInfo.renderer"])],e.prototype,"readRenderer",null);b.__decorate([w.property({types:h.symbolTypesCluster})],e.prototype,"symbol",void 0);b.__decorate([z.reader("symbol",["drawingInfo.renderer"])],e.prototype,"readSymbol",null);b.__decorate([B.writer("symbol")],e.prototype,
"writeSymbol",null);b.__decorate([w.property({type:[F],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],e.prototype,"labelingInfo",void 0);b.__decorate([w.property(C.labelsVisible)],e.prototype,"labelsVisible",void 0);b.__decorate([w.property({type:[y],json:{write:!0}})],e.prototype,"fields",void 0);b.__decorate([B.writer("fields")],e.prototype,"writeFields",null);b.__decorate([z.reader("fields")],e.prototype,"readFields",null);return e=G=b.__decorate([A.subclass("esri.layers.support.FeatureReductionCluster")],
e)})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),function(a,b,c,e,d,n,u,t){var r;e=r=function(p){function m(f){f=g.call(this,f);f.type="selection";return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=
function(){return new r};return a._createClass(m)}(t.FeatureReduction);b.__decorate([c.property({type:["selection"]})],e.prototype,"type",void 0);return e=r=b.__decorate([u.subclass("esri.layers.support.FeatureReductionSelection")],e)})},"esri/views/2d/layers/support/clusterUtils":function(){define("exports ../../../../core/Error ../../../../core/has ../../../../core/Logger ../../../../core/maybe ../../../../core/MD5 ../../../../layers/support/AggregateField ../../../../layers/support/ExpressionInfo ../../../../renderers/support/AuthoringInfo ../../../../renderers/visualVariables/SizeVariable ../../../../renderers/visualVariables/support/SizeStop ../../engine/LevelDependentSizeVariable".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){function f(A,B,D){switch(A){case "sum":return`cluster_sum_${B}`;case "avg":case "avg_angle":return`cluster_avg_${B}`;case "mode":return`cluster_type_${B}`;case "avg_norm":return A=B.toLowerCase()+",norm:field,"+D.toLowerCase(),"cluster_avg_"+n.createMD5Hash(A)}}function h(A,B,D,y){const C=n.createMD5Hash(B),F="mode"===D?`cluster_type_${C}`:"sum"===D?`cluster_sum_${C}`:`cluster_avg_${C}`;A.some(G=>G.name===F)||A.push(new u({name:F,isAutoGenerated:!0,onStatisticExpression:new t({expression:B,
returnType:y}),statisticType:D}));return F}function q(A,B,D,y,C){if("cluster_count"===B||A.some(G=>G.name===B))return B;const F=f(D,B,C);A.some(G=>G.name===F)||("avg_norm"===D?A.push(new u({name:F,isAutoGenerated:!0,onStatisticExpression:new t({expression:`$feature.${B} / $feature.${C}`,returnType:y}),statisticType:"avg"})):A.push(new u({name:F,isAutoGenerated:!0,onStatisticField:B,statisticType:D})));return F}const k=e.getLogger("esri.views.2d.layers.support.clusterUtils");c.add("esri-cluster-arcade-enabled",
!0);const l=c("esri-cluster-arcade-enabled"),v=A=>{for(const B of A)if("size"===B.type)return B;return null},w=A=>{for(const B of A)if("cluster_count"===B.field)return!0;return!1},x=(A,B)=>{const D=[new m({value:0,size:0}),new m({value:1})];if(d.isNone(B))return new p({field:"cluster_count",stops:[...D,new m({value:2,size:0})]});const y=Object.keys(B).reduce((C,F)=>({...C,[F]:[...D,new m({value:Math.max(2,B[F].minValue),size:A.clusterMinSize}),new m({value:Math.max(3,B[F].maxValue),size:A.clusterMaxSize})]}),
{});return new g.LevelDependentSizeVariable({field:"cluster_count",levels:y})},z=A=>{const B=D=>k.error(new b("Unsupported-renderer",D,{renderer:A}));if(!A)return!1;switch(A.type){case "unique-value":if(A.field2||A.field3)return B("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case "class-breaks":if(A.normalizationField){const D=A.normalizationType;if("field"!==D)return B(`FeatureReductionCluster does not support a normalizationType of ${D}`),!1}break;case "simple":case "pie-chart":break;
default:return B(`FeatureReductionCluster does not support renderers of type ${A.type}`),!1}if(!l){if("valueExpression"in A&&A.valueExpression)return B("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in A&&A.visualVariables||[]).some(D=>!!("valueExpression"in D&&D.valueExpression)))return B("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),
!1}return!0};a.createClusterCountSizeVariable=x;a.createClusterRenderer=(A,B,D,y,C)=>{B=B.clone();if(!z(B))return B;B.authoringInfo||(B.authoringInfo=new r);B.authoringInfo.isAutoGenerated=!0;if("visualVariables"in B){const F=(B.visualVariables||[]).filter(E=>"$view.scale"!==E.valueExpression),G=v(F);F.forEach(E=>{"rotation"===E.type?E.field?E.field=q(A,E.field,"avg_angle","number"):E.valueExpression&&(E.field=h(A,E.valueExpression,"avg_angle","number"),E.valueExpression=null):E.normalizationField?
(E.field=q(A,E.field,"avg_norm","number",E.normalizationField),E.normalizationField=null):E.field?E.field=q(A,E.field,"avg","number"):E.valueExpression&&(E.field=h(A,E.valueExpression,"avg","number"),E.valueExpression=null)});d.isNone(G)&&!w(F)&&C&&(F.push(x(D,y)),B.dynamicClusterSize=!0);B.visualVariables=F}switch(B.type){case "pie-chart":for(const F of B.attributes)F.field?F.field=q(A,F.field,"sum","number"):F.valueExpression&&(F.field=h(A,F.valueExpression,"sum","number"),F.valueExpression=null);
break;case "unique-value":B.field?B.field=q(A,B.field,"mode","string"):B.valueExpression&&(B.field=h(A,B.valueExpression,"mode","string"),B.valueExpression=null);break;case "class-breaks":B.normalizationField?(B.field=q(A,B.field,"avg_norm","number",B.normalizationField),B.normalizationField=null):B.field?B.field=q(A,B.field,"avg","number"):B.valueExpression&&(B.field=h(A,B.valueExpression,"avg","number"),B.valueExpression=null)}return B};a.findSizeVV=v;a.hasClusterCountVV=w;a.injectDynamicLevelDependentSizeVisualVariable=
function(A,B,D){A=A.clone();let y=!1;if("visualVariables"in A){var C=(A.visualVariables||[]).filter(F=>"$view.scale"!==F.valueExpression);C=v(C);d.isNone(C)&&(A.visualVariables||(A.visualVariables=[]),A.visualVariables.push(x(B,D)),y=A.dynamicClusterSize=!0)}return{renderer:A,didInject:y}};a.isClusterCompatibleRenderer=z;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MD5":function(){define(["exports"],function(a){function b(t,r){const p=(t&65535)+(r&65535);return(t>>16)+
(r>>16)+(p>>16)<<16|p&65535}function c(t,r,p,m,g,f){t=b(b(r,t),b(m,f));return b(t<<g|t>>>32-g,p)}function e(t,r,p,m,g,f,h){return c(r&p|~r&m,t,r,g,f,h)}function d(t,r,p,m,g,f,h){return c(r&m|p&~m,t,r,g,f,h)}function n(t,r,p,m,g,f,h){return c(p^(r|~m),t,r,g,f,h)}const u={Base64:0,Hex:1,String:2,Raw:3};a.createMD5Hash=function(t,r=u.Hex){r=r||u.Base64;var p=[];for(let h=0,q=8*t.length;h<q;h+=8)p[h>>5]|=(t.charCodeAt(h/8)&255)<<h%32;t=8*t.length;p[t>>5]|=128<<t%32;p[(t+64>>>9<<4)+14]=t;t=1732584193;
var m=-271733879;let g=-1732584194,f=271733878;for(let h=0;h<p.length;h+=16){const q=t,k=m,l=g,v=f;t=e(t,m,g,f,p[h],7,-680876936);f=e(f,t,m,g,p[h+1],12,-389564586);g=e(g,f,t,m,p[h+2],17,606105819);m=e(m,g,f,t,p[h+3],22,-1044525330);t=e(t,m,g,f,p[h+4],7,-176418897);f=e(f,t,m,g,p[h+5],12,1200080426);g=e(g,f,t,m,p[h+6],17,-1473231341);m=e(m,g,f,t,p[h+7],22,-45705983);t=e(t,m,g,f,p[h+8],7,1770035416);f=e(f,t,m,g,p[h+9],12,-1958414417);g=e(g,f,t,m,p[h+10],17,-42063);m=e(m,g,f,t,p[h+11],22,-1990404162);
t=e(t,m,g,f,p[h+12],7,1804603682);f=e(f,t,m,g,p[h+13],12,-40341101);g=e(g,f,t,m,p[h+14],17,-1502002290);m=e(m,g,f,t,p[h+15],22,1236535329);t=d(t,m,g,f,p[h+1],5,-165796510);f=d(f,t,m,g,p[h+6],9,-1069501632);g=d(g,f,t,m,p[h+11],14,643717713);m=d(m,g,f,t,p[h],20,-373897302);t=d(t,m,g,f,p[h+5],5,-701558691);f=d(f,t,m,g,p[h+10],9,38016083);g=d(g,f,t,m,p[h+15],14,-660478335);m=d(m,g,f,t,p[h+4],20,-405537848);t=d(t,m,g,f,p[h+9],5,568446438);f=d(f,t,m,g,p[h+14],9,-1019803690);g=d(g,f,t,m,p[h+3],14,-187363961);
m=d(m,g,f,t,p[h+8],20,1163531501);t=d(t,m,g,f,p[h+13],5,-1444681467);f=d(f,t,m,g,p[h+2],9,-51403784);g=d(g,f,t,m,p[h+7],14,1735328473);m=d(m,g,f,t,p[h+12],20,-1926607734);t=c(m^g^f,t,m,p[h+5],4,-378558);f=c(t^m^g,f,t,p[h+8],11,-2022574463);g=c(f^t^m,g,f,p[h+11],16,1839030562);m=c(g^f^t,m,g,p[h+14],23,-35309556);t=c(m^g^f,t,m,p[h+1],4,-1530992060);f=c(t^m^g,f,t,p[h+4],11,1272893353);g=c(f^t^m,g,f,p[h+7],16,-155497632);m=c(g^f^t,m,g,p[h+10],23,-1094730640);t=c(m^g^f,t,m,p[h+13],4,681279174);f=c(t^m^
g,f,t,p[h],11,-358537222);g=c(f^t^m,g,f,p[h+3],16,-722521979);m=c(g^f^t,m,g,p[h+6],23,76029189);t=c(m^g^f,t,m,p[h+9],4,-640364487);f=c(t^m^g,f,t,p[h+12],11,-421815835);g=c(f^t^m,g,f,p[h+15],16,530742520);m=c(g^f^t,m,g,p[h+2],23,-995338651);t=n(t,m,g,f,p[h],6,-198630844);f=n(f,t,m,g,p[h+7],10,1126891415);g=n(g,f,t,m,p[h+14],15,-1416354905);m=n(m,g,f,t,p[h+5],21,-57434055);t=n(t,m,g,f,p[h+12],6,1700485571);f=n(f,t,m,g,p[h+3],10,-1894986606);g=n(g,f,t,m,p[h+10],15,-1051523);m=n(m,g,f,t,p[h+1],21,-2054922799);
t=n(t,m,g,f,p[h+8],6,1873313359);f=n(f,t,m,g,p[h+15],10,-30611744);g=n(g,f,t,m,p[h+6],15,-1560198380);m=n(m,g,f,t,p[h+13],21,1309151649);t=n(t,m,g,f,p[h+4],6,-145523070);f=n(f,t,m,g,p[h+11],10,-1120210379);g=n(g,f,t,m,p[h+2],15,718787259);m=n(m,g,f,t,p[h+9],21,-343485551);t=b(t,q);m=b(m,k);g=b(g,l);f=b(f,v)}p=[t,m,g,f];switch(r){case u.Raw:return p;case u.Hex:r=[];for(let h=0,q=4*p.length;h<q;h++)r.push("0123456789abcdef".charAt(p[h>>2]>>h%4*8+4&15)+"0123456789abcdef".charAt(p[h>>2]>>h%4*8&15));return r.join("");
case u.String:r=[];for(let h=0,q=32*p.length;h<q;h+=8)r.push(String.fromCharCode(p[h>>5]>>>h%32&255));return r.join("");case u.Base64:r=[];for(let h=0,q=4*p.length;h<q;h+=3)for(t=(p[h>>2]>>h%4*8&255)<<16|(p[h+1>>2]>>(h+1)%4*8&255)<<8|p[h+2>>2]>>(h+2)%4*8&255,m=0;4>m;m++)8*h+6*m>32*p.length?r.push("\x3d"):r.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>6*(3-m)&63));return r.join("")}};a.outputTypes=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/2d/engine/LevelDependentSizeVariable":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../renderers/visualVariables/SizeVariable ../../../renderers/visualVariables/support/sizeVariableUtils".split(" "),function(a,b,c,e,d,n,u,t,r,
p){var m;a.LevelDependentSizeVariable=m=function(g){function f(){return h.apply(this,arguments)}b._inherits(f,g);var h=b._createSuper(f);g=f.prototype;g.writeLevels=function(q,k,l){for(const v in q){k.stops=this.levels[v];break}};g.clone=function(){return new m({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:p.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,
minSize:p.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(q=>q.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:e.clone(this.levels)})};return b._createClass(f)}(r);c.__decorate([d.property()],a.LevelDependentSizeVariable.prototype,"levels",void 0);c.__decorate([t.writer("levels")],
a.LevelDependentSizeVariable.prototype,"writeLevels",null);a.LevelDependentSizeVariable=m=c.__decorate([u.subclass("esri.views.2d.engine.LevelDependentSizeVariable")],a.LevelDependentSizeVariable);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),
function(a,b,c,e,d,n,u,t,r,p){function m(f,h,q){if(!f)return null;f=f.find(k=>!!k.field);if(!f)return null;h=new p;h.read(f,q);return[h]}function g(f,h,q,k){(f=f.find(l=>!!l.field))&&e.setDeepValue(q,[f.toJSON()],h)}a.OrderedLayer=f=>{f=function(h){function q(){var l=k.apply(this,arguments);l.orderBy=null;return l}b._inherits(q,h);var k=b._createSuper(q);return b._createClass(q)}(f);c.__decorate([d.property({type:[p],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",
reader:m},write:{target:"layerDefinition.orderBy",writer:g}}})],f.prototype,"orderBy",void 0);return f=c.__decorate([r.subclass("esri.layers.mixins.OrderedLayer")],f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r){var p;c=new c.JSONMap({asc:"ascending",desc:"descending"});e=p=function(m){function g(h){h=f.call(this,h);h.field=null;h.valueExpression=null;h.order="ascending";return h}a._inherits(g,m);var f=a._createSuper(g);g.prototype.clone=function(){return new p({field:this.field,valueExpression:this.valueExpression,order:this.order})};return a._createClass(g)}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([d.property({type:String,
json:{write:!0}})],e.prototype,"valueExpression",void 0);b.__decorate([d.property({type:c.apiValues,json:{read:c.read,write:c.write}})],e.prototype,"order",void 0);return e=p=b.__decorate([r.subclass("esri.layers.support.OrderByInfo")],e)})},"esri/layers/mixins/PublishableLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),
function(a,b,c,e,d,n,u,t,r){const p=Symbol("esri.layers.mixins.PublishableLayer");a.PublishableLayer=m=>{m=function(f){function h(){var k=q.apply(this,arguments);k[g]=!0;return k}b._inherits(h,f);var q=b._createSuper(h);h.prototype._checkPublishingStatus=function(k){let l=0;const v=async x=>{k.updating=!0;let z;try{z=await this.fetchPublishingStatus()}catch(A){z="unavailable"}if("published"===z||"unavailable"===z)"publishing"===k.status&&this.refresh(),w.remove();k.status=z;k.updating=!1;w.removed||
(l=setTimeout(v,x,x+125))},w={removed:!1,remove(){this.removed=!0;clearTimeout(l)}};this.when().catch(()=>w.remove());v(250);this.own(w)};b._createClass(h,[{key:"publishingInfo",get:function(){if(this.destroyed)return null;var k=this._get("publishingInfo");if(k)return k;k=new r;this._checkPublishingStatus(k);return k}}]);return h}(m);var g=p;c.__decorate([e.property({readOnly:!0,clonable:!1})],m.prototype,"publishingInfo",null);return m=c.__decorate([t.subclass("esri.layers.mixins.PublishableLayer")],
m)};a.isPublishableLayer=function(m){return null!=m&&"object"===typeof m&&p in m};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PublishingInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t){c=function(r){function p(){var g=
m.apply(this,arguments);g.updating=!1;g.status="unknown";return g}a._inherits(p,r);var m=a._createSuper(p);return a._createClass(p)}(c);b.__decorate([e.property()],c.prototype,"updating",void 0);b.__decorate([e.property()],c.prototype,"status",void 0);return c=b.__decorate([t.subclass("esri.layers.support.PublishingInfo")],c)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/fieldUtils ../support/TimeInfo ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h){a.TemporalLayer=q=>{q=function(k){function l(){var w=v.apply(this,arguments);w.timeExtent=null;w.timeOffset=null;w.useViewTime=!0;return w}b._inherits(l,k);var v=b._createSuper(l);l.prototype.readOffset=function(w,x){x=x.timeInfo.exportOptions;if(!x)return null;w=x.timeOffset;x=h.timeUnitKebabDictionary.fromJSON(x.timeOffsetUnits);return w&&x?new d({value:w,unit:x}):null};b._createClass(l,[{key:"timeInfo",set:function(w){g.fixTimeInfoFields(w,this.fieldsIndex);
this._set("timeInfo",w)}}]);return l}(q);c.__decorate([n.property({type:e,json:{write:!1}})],q.prototype,"timeExtent",void 0);c.__decorate([n.property({type:d})],q.prototype,"timeOffset",void 0);c.__decorate([p.reader("service","timeOffset",["timeInfo.exportOptions"])],q.prototype,"readOffset",null);c.__decorate([n.property({value:null,type:f,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],q.prototype,"timeInfo",null);c.__decorate([n.property({type:Boolean,
json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],q.prototype,"useViewTime",void 0);return q=c.__decorate([m.subclass("esri.layers.mixins.TemporalLayer")],q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeInterval":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Clonable ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/enumeration ./core/accessorSupport/decorators/subclass ./portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){c=function(f){function h(k){k=q.call(this,k);k.unit="milliseconds";k.value=0;return k}a._inherits(h,f);var q=a._createSuper(h);h.prototype.toMilliseconds=function(){return d.convertTime(this.value,this.unit,"milliseconds")};return a._createClass(h)}(c.ClonableMixin(e.JSONSupport));b.__decorate([p.enumeration(g.timeUnitKebabDictionary,{nonNullable:!0})],c.prototype,"unit",void 0);b.__decorate([n.property({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",
void 0);return c=b.__decorate([m.subclass("esri.TimeInterval")],c)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports","../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});
a.timeUnitKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/Clonable ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../time/TimeReference".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){d=function(k){function l(w){w=v.call(this,w);w.cumulative=!1;w.endField=null;w.fullTimeExtent=null;w.hasLiveData=!1;w.interval=null;w.startField=null;w.timeReference=null;w.trackIdField=null;w.useTime=!0;return w}a._inherits(l,k);var v=a._createSuper(l);k=l.prototype;k.readFullTimeExtent=function(w,x){return x.timeExtent&&Array.isArray(x.timeExtent)&&2===x.timeExtent.length?new c({start:new Date(x.timeExtent[0]),end:new Date(x.timeExtent[1])}):null};k.writeFullTimeExtent=
function(w,x){w&&u.isSome(w.start)&&u.isSome(w.end)?x.timeExtent=[w.start.getTime(),w.end.getTime()]:x.timeExtent=null};k.readInterval=function(w,x){return x.timeInterval&&x.timeIntervalUnits?e.fromJSON({value:x.timeInterval,unit:x.timeIntervalUnits}):x.defaultTimeInterval&&x.defaultTimeIntervalUnits?e.fromJSON({value:x.defaultTimeInterval,unit:x.defaultTimeIntervalUnits}):null};k.writeInterval=function(w,x){x.timeInterval=w?.toJSON().value??null;x.timeIntervalUnits=w?.toJSON().unit??null};return a._createClass(l)}(d.ClonableMixin(n.JSONSupport));
b.__decorate([t.property({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],d.prototype,"cumulative",void 0);b.__decorate([t.property({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],d.prototype,"endField",void 0);b.__decorate([t.property({type:c,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"fullTimeExtent",void 0);b.__decorate([g.reader("fullTimeExtent",["timeExtent"])],d.prototype,"readFullTimeExtent",null);b.__decorate([h.writer("fullTimeExtent")],
d.prototype,"writeFullTimeExtent",null);b.__decorate([t.property({type:Boolean,json:{write:!0}})],d.prototype,"hasLiveData",void 0);b.__decorate([t.property({type:e,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"interval",void 0);b.__decorate([g.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],d.prototype,"readInterval",null);b.__decorate([h.writer("interval")],d.prototype,"writeInterval",null);b.__decorate([t.property({type:String,
json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],d.prototype,"startField",void 0);b.__decorate([t.property({type:q,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"timeReference",void 0);b.__decorate([t.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"trackIdField",void 0);b.__decorate([t.property({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],d.prototype,"useTime",void 0);return d=b.__decorate([f.subclass("esri.layers.support.TimeInfo")],
d)})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p){e=new e.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",
esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});c=function(m){function g(h){h=
f.call(this,h);h.name=null;h.description=null;h.drawingTool=null;h.prototype=null;h.thumbnail=null;return h}a._inherits(g,m);var f=a._createSuper(g);return a._createClass(g)}(c.ClonableMixin(d.JSONSupport));b.__decorate([n.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([n.property({json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([n.property({json:{read:e.read,write:e.write}})],c.prototype,"drawingTool",void 0);b.__decorate([n.property({json:{write:!0}})],c.prototype,
"prototype",void 0);b.__decorate([n.property({json:{write:!0}})],c.prototype,"thumbnail",void 0);return c=b.__decorate([p.subclass("esri.layers.support.FeatureTemplate")],c)})},"esri/layers/support/FeatureType":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){c=function(h){function q(l){l=k.call(this,l);l.id=null;l.name=null;l.domains=null;l.templates=null;return l}a._inherits(q,h);var k=a._createSuper(q);h=q.prototype;h.readDomains=function(l){const v={};for(const w of Object.keys(l))v[w]=g.fromJSON(l[w]);return v};h.writeDomains=function(l,v){const w={};for(const x of Object.keys(l))l[x]&&(w[x]=l[x]?.toJSON());v.domains=w};return a._createClass(q)}(c.ClonableMixin(e.JSONSupport));b.__decorate([d.property({json:{write:!0}})],
c.prototype,"id",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"domains",void 0);b.__decorate([r.reader("domains")],c.prototype,"readDomains",null);b.__decorate([m.writer("domains")],c.prototype,"writeDomains",null);b.__decorate([d.property({type:[f],json:{write:!0}})],c.prototype,"templates",void 0);return c=b.__decorate([p.subclass("esri.layers.support.FeatureType")],c)})},"esri/layers/support/fieldProperties":function(){define(["exports",
"../../core/Logger","./Field","./FieldsIndex","./fieldUtils"],function(a,b,c,e,d){a.defineFieldProperties=function(){return{fields:{type:[c],value:null},fieldsIndex:{readOnly:!0,get(){return new e(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(n){this._userOutFields=n;this.notifyChange("outFields")},get:function(){const n=this._userOutFields;if(!n||!n.length)return null;if(n.includes("*"))return["*"];if(!this.fields)return n;for(const u of n)this.fieldsIndex?.has(u)||b.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",
`Invalid field ${u} found in outFields`,{layer:this,outFields:n});return d.fixFields(this.fieldsIndex,n)}}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FieldsIndex":function(){define(["../../chunks/_rollupPluginBabelHelpers","./fieldUtils"],function(a,b){function c(d){return"oid"===d.type||"esriFieldTypeOID"===d.type}function e(d){return"global-id"===d.type||"esriFieldTypeGlobalID"===d.type}return function(){function d(u=[]){this.fields=[];this._fieldsMap=
new Map;this._normalizedFieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=new Set;this.dateFields=[];this.numericFields=[];this._requiredFields=null;if(u){this.fields=u;var t=[];for(const r of u){u=r?.name;const p=b.normalizeFieldName(r?.name)?.toLowerCase()??"";if(u&&p){const m=u.trim().toLowerCase();this._fieldsMap.set(u,r);this._fieldsMap.set(m,r);this._normalizedFieldsMap.set(p,r);t.push(m);"date"===r.type||"esriFieldTypeDate"===r.type?(this.dateFields.push(r),this._dateFieldsSet.add(r)):
b.isNumericField(r)&&(this._numericFieldsSet.add(r),this.numericFields.push(r));c(r)||e(r)||(r.editable=null==r.editable||!!r.editable,r.nullable=null==r.nullable||!!r.nullable)}}t.sort();this.uid=t.join(",")}}var n=d.prototype;n.destroy=function(){this._fieldsMap.clear()};n.has=function(u){return null!=this.get(u)};n.get=function(u){if(u){var t=this._fieldsMap.get(u);if(t)return t;(t=this._fieldsMap.get(u.trim().toLowerCase())??this._normalizedFieldsMap.get(b.normalizeFieldName(u)?.toLowerCase()??
""))&&this._fieldsMap.set(u,t);return t}};n.isDateField=function(u){return this._dateFieldsSet.has(this.get(u))};n.isNumericField=function(u){return this._numericFieldsSet.has(this.get(u))};n.normalizeFieldName=function(u){if(u=this.get(u))return u.name??void 0};a._createClass(d,[{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];for(const u of this.fields)c(u)||e(u)||u.nullable||void 0!==b.getFieldDefaultValue(u)||this._requiredFields.push(u)}return this._requiredFields}}]);
return d}()})},"esri/layers/support/labelingInfo":function(){define(["exports","../../core/Error","../../core/lang","../../core/Logger","./LabelClass"],function(a,b,c,e,d){const n=e.getLogger("esri.layers.support.labelingInfo"),u=/\[([^\[\]]+)\]/gi,t={esriGeometryPoint:"above-right above-center above-left center-center center-left center-right below-center below-left below-right".split(" "),esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};
a.reader=function(r,p,m){return r?r.map(g=>{const f=new d;f.read(g,m);if(f.labelExpression){const h=p.fields||p.layerDefinition&&p.layerDefinition.fields||this.fields;f.labelExpression=f.labelExpression.replace(u,(q,k)=>{a:if(h){q=k.toLowerCase();for(let l=0;l<h.length;l++){const v=h[l].name;if(v.toLowerCase()===q){k=v;break a}}}return`[${k}]`})}return f}):null};a.validateLabelingInfo=function(r,p){r=c.clone(r);return r.some(m=>{{const f=m.labelPlacement;var g=t[p];m.symbol?g?(g.includes(f)||(g=g[0],
f&&n.warn(`Found invalid label placement type ${f} for ${p}. Defaulting to ${g}`),m.labelPlacement=g),m=!1):(n.error(new b("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${p}' is not supported`)),m=!0):(n.warn("No ILabelClass symbol specified."),m=!0)}return m})?[]:r};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/versionUtils":function(){define(["exports","./arcgisLayerUrl"],function(a,b){const c=[];c.push([10.91,()=>
{const e=new Set([9709,9716,9741,9761,9766]);for(var d=9712;9713>=d;d++)e.add(d);for(d=9748;9749>=d;d++)e.add(d);for(d=20904;20932>=d;d++)e.add(d);for(d=21004;21032>=d;d++)e.add(d);for(d=21207;21264>=d;d++)e.add(d);for(d=21307;21364>=d;d++)e.add(d);for(d=102759;102760>=d;d++)e.add(d);for(d=102901;102955>=d;d++)e.add(d);return e}]);c.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(var d=9356;9360>=d;d++)e.add(d);for(d=9404;9407>=
d;d++)e.add(d);for(d=9476;9482>=d;d++)e.add(d);for(d=9487;9494>=d;d++)e.add(d);for(d=9697;9699>=d;d++)e.add(d);return e}]);c.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(var d=9248;9254>=d;d++)e.add(d);for(d=9271;9273>=d;d++)e.add(d);for(d=9284;9285>=d;d++)e.add(d);for(d=21453;21463>=d;d++)e.add(d);return e}]);c.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(var d=8035;8036>=d;d++)e.add(d);for(d=8455;8456>=
d;d++)e.add(d);for(d=8518;8529>=d;d++)e.add(d);for(d=8533;8536>=d;d++)e.add(d);for(d=8538;8540>=d;d++)e.add(d);for(d=8677;8679>=d;d++)e.add(d);for(d=8902;8903>=d;d++)e.add(d);for(d=8907;8910>=d;d++)e.add(d);for(d=8949;8951>=d;d++)e.add(d);for(d=8972;8987>=d;d++)e.add(d);for(d=9039;9040>=d;d++)e.add(d);for(d=9068;9069>=d;d++)e.add(d);for(d=9140;9141>=d;d++)e.add(d);for(d=9148;9150>=d;d++)e.add(d);for(d=9153;9159>=d;d++)e.add(d);for(d=9205;9218>=d;d++)e.add(d);for(d=9221;9222>=d;d++)e.add(d);for(d=
54098;54101>=d;d++)e.add(d);return e}]);c.push([10.71,()=>{const e=new Set([6316]);for(var d=8351;8353>=d;d++)e.add(d);for(d=9294;9297>=d;d++)e.add(d);for(d=22619;22621>=d;d++)e.add(d);for(d=103586;103594>=d;d++)e.add(d);return e}]);c.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(var d=8065;8068>=d;d++)e.add(d);for(d=8082;8083>=d;d++)e.add(d);for(d=8379;8385>=d;d++)e.add(d);for(d=8836;8840>=d;d++)e.add(d);for(d=8857;8860>=d;d++)e.add(d);for(d=
53035;53037>=d;d++)e.add(d);for(d=54090;54091>=d;d++)e.add(d);for(d=102498;102499>=d;d++)e.add(d);return e}]);c.push([10.61,()=>new Set([102497])]);c.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(var d=7755;7787>=d;d++)e.add(d);for(d=7791;7795>=d;d++)e.add(d);for(d=7799;7801>=d;d++)e.add(d);for(d=7825;7831>=d;d++)e.add(d);for(d=7877;7878>=d;d++)e.add(d);for(d=7882;7883>=d;d++)e.add(d);for(d=7991;7992>=d;d++)e.add(d);for(d=8042;8043>=d;d++)e.add(d);
for(d=8058;8059>=d;d++)e.add(d);for(d=8311;8348>=d;d++)e.add(d);for(d=9060;9067>=d;d++)e.add(d);for(d=102562;102568>=d;d++)e.add(d);for(d=102799;102900>=d;d++)e.add(d);return e}]);c.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9E3]);for(var d=8013;8032>=d;d++)e.add(d);for(d=9053;9057>=d;d++)e.add(d);for(d=104017;104018>=d;d++)e.add(d);for(d=104971;104974>=d;d++)e.add(d);return e}]);c.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(var d=4087;4088>=
d;d++)e.add(d);for(d=5896;5899>=d;d++)e.add(d);for(d=7005;7007>=d;d++)e.add(d);for(d=7057;7070>=d;d++)e.add(d);for(d=7073;7082>=d;d++)e.add(d);for(d=7109;7128>=d;d++)e.add(d);for(d=7844;7859>=d;d++)e.add(d);return e}]);a.serviceSupportsSpatialReference=function(e,d){if(b.isHostedAgolService(e.url??""))return!0;({wkid:d}=d);for(const n of c){if((e.version??0)>=n[0])break;"function"===typeof n[1]&&(n[1]=n[1]());if(n[1].has(d))return!1}return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/rest/support/TopFeaturesQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/support/jsonUtils ./TopFilter ../../geometry/SpatialReference".split(" "),function(a,
b,c,e,d,n,u,t,r,p,m,g,f,h,q){var k;const l=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});n=k=function(v){function w(z){z=x.call(this,z);z.cacheHint=void 0;z.distance=void 0;z.geometry=null;z.geometryPrecision=void 0;z.maxAllowableOffset=void 0;z.num=void 0;z.objectIds=null;z.orderByFields=null;z.outFields=null;z.outSpatialReference=null;z.resultType=null;z.returnGeometry=!1;z.returnM=void 0;z.returnZ=void 0;z.start=void 0;z.spatialRelationship=
"intersects";z.timeExtent=null;z.topFilter=void 0;z.units=null;z.where="1\x3d1";return z}a._inherits(w,v);var x=a._createSuper(w);v=w.prototype;v.writeStart=function(z,A){A.resultOffset=this.start;A.resultRecordCount=this.num||10};v.clone=function(){return new k(u.clone({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,
outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))};return a._createClass(w)}(n.JSONSupport);b.__decorate([r.property({type:Boolean,json:{write:!0}})],n.prototype,"cacheHint",void 0);b.__decorate([r.property({type:Number,json:{write:{overridePolicy(v){return{enabled:0<
v}}}}})],n.prototype,"distance",void 0);b.__decorate([r.property({types:c.geometryTypes,json:{read:f.fromJSON,write:!0}})],n.prototype,"geometry",void 0);b.__decorate([r.property({type:Number,json:{write:!0}})],n.prototype,"geometryPrecision",void 0);b.__decorate([r.property({type:Number,json:{write:!0}})],n.prototype,"maxAllowableOffset",void 0);b.__decorate([r.property({type:Number,json:{read:{source:"resultRecordCount"}}})],n.prototype,"num",void 0);b.__decorate([r.property({json:{write:!0}})],
n.prototype,"objectIds",void 0);b.__decorate([r.property({type:[String],json:{write:!0}})],n.prototype,"orderByFields",void 0);b.__decorate([r.property({type:[String],json:{write:!0}})],n.prototype,"outFields",void 0);b.__decorate([r.property({type:q,json:{read:{source:"outSR"},write:{target:"outSR"}}})],n.prototype,"outSpatialReference",void 0);b.__decorate([r.property({type:String,json:{write:!0}})],n.prototype,"resultType",void 0);b.__decorate([r.property({json:{write:!0}})],n.prototype,"returnGeometry",
void 0);b.__decorate([r.property({type:Boolean,json:{write:{overridePolicy(v){return{enabled:v}}}}})],n.prototype,"returnM",void 0);b.__decorate([r.property({type:Boolean,json:{write:{overridePolicy(v){return{enabled:v}}}}})],n.prototype,"returnZ",void 0);b.__decorate([r.property({type:Number,json:{read:{source:"resultOffset"}}})],n.prototype,"start",void 0);b.__decorate([g.writer("start"),g.writer("num")],n.prototype,"writeStart",null);b.__decorate([r.property({type:String,json:{read:{source:"spatialRel",
reader:l.read},write:{target:"spatialRel",writer:l.write}}})],n.prototype,"spatialRelationship",void 0);b.__decorate([r.property({type:e,json:{write:!0}})],n.prototype,"timeExtent",void 0);b.__decorate([r.property({type:h,json:{write:!0}})],n.prototype,"topFilter",void 0);b.__decorate([r.property({type:String,json:{read:d.read,write:{writer:d.write,overridePolicy(v){return{enabled:t.isSome(v)&&t.isSome(this.distance)&&0<this.distance}}}}})],n.prototype,"units",void 0);b.__decorate([r.property({type:String,
json:{write:!0}})],n.prototype,"where",void 0);n=k=b.__decorate([m.subclass("esri.rest.support.TopFeaturesQuery")],n);n.from=p.ensureType(n);return n})},"esri/rest/support/TopFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t){var r;c=
r=function(p){function m(f){f=g.call(this,f);f.groupByFields=void 0;f.topCount=void 0;f.orderByFields=void 0;return f}a._inherits(m,p);var g=a._createSuper(m);m.prototype.clone=function(){return new r({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})};return a._createClass(m)}(c.JSONSupport);b.__decorate([e.property({type:[String],json:{write:!0}})],c.prototype,"groupByFields",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"topCount",
void 0);b.__decorate([e.property({type:[String],json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=r=b.__decorate([t.subclass("esri.rest.support.TopFilter")],c)})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/RelationshipContent ../popup/content/TextContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){function h(F,G){const E=F;G&&(F=F.filter(P=>!G.includes(P.type)));F===E&&(F=F.slice());F.sort(q);return F}function q(F,G){return"oid"===F.type?-1:"oid"===G.type?1:z(F)?-1:z(G)?1:(F.alias||F.name).toLocaleLowerCase().localeCompare((G.alias||G.name).toLocaleLowerCase())}function k(F,G){if(!F||!G)return!1;const {creationDateField:E,creatorField:P,editDateField:O,editorField:K}=G;return[E&&E.toLowerCase(),P&&P.toLowerCase(),O&&O.toLowerCase(),K&&K.toLowerCase()].includes(F.toLowerCase())}
function l({editFieldsInfo:F,fields:G,objectIdField:E},P){return h(G??[],P?.ignoreFieldTypes||C).map(O=>{var K=O.name;var M=O.editable&&!B.includes(O.type)&&!k(O.name,F);return new g({fieldName:K,isEditable:M,label:O.alias,format:x(O),visible:y(O,{editFieldsInfo:F,objectIdField:E,visibleFieldNames:P?.visibleFieldNames})})})}function v(F,G){return F.map(E=>new g({fieldName:E.name,isEditable:!1,label:E.alias,format:w(E,G),visible:!0}))}function w(F,G){const {onStatisticField:E,onStatisticExpression:P,
statisticType:O}=F;return E&&(F=G.find(K=>E===K.name))?x(F):"number"===P?.returnType?new f({digitSeparator:!0,places:2}):"count"===O?new f({digitSeparator:!0,places:0}):null}function x(F){switch(F.type){case "small-integer":case "integer":case "single":return new f({digitSeparator:!0,places:0});case "double":return new f({digitSeparator:!0,places:2});case "date":return new f({dateFormat:"long-month-day-year"});default:return"string"===F.type&&c.isRasterPixelValueField(F.name)?new f({digitSeparator:!0,
places:0}):null}}function z(F){return"name"===(F.name&&F.name.toLowerCase())||"name"===(F.alias&&F.alias.toLowerCase())?!0:!1}const A=["oid","global-id"],B=["oid","global-id","guid"],D=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],y=(F,{editFieldsInfo:G,objectIdField:E,visibleFieldNames:P})=>P?P.has(F.name):k(F.name,G)?!1:E&&F.name===E?!1:A.includes(F.type)?!1:!D.some(O=>O.test(F.name)),
C=["geometry","blob","raster","guid","xml"];a.createFieldInfos=l;a.createFieldsContent=function(F,G){return new t({fieldInfos:l(F,G).filter(E=>E.visible)})};a.createPopupTemplate=function({displayField:F,editFieldsInfo:G,fields:E,objectIdField:P,title:O},K){if(!E)return null;G=l({editFieldsInfo:G,fields:E,objectIdField:P},K);if(!G.length)return null;E={titleBase:O,fields:E,displayField:F};F=c.getDisplayFieldName(E);({titleBase:E}=E);F=F?`${E}: {${F.trim()}}`:E??"";E=[new t,new e];return new b({title:F,
content:E,fieldInfos:G})};a.createPopupTemplateForFeatureReduction=function(F){const {fields:G,featureReduction:E,title:P}=F;F=E.fields;if(!F)return null;F=v(F,G??[]);if(!F.length)return null;var O=[new t];return new b({title:P,content:O,fieldInfos:F})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../kernel ../../../request ../../../TimeExtent ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/maybe ../../../core/object ../../../core/promiseUtils ../../../core/urlUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/support/jsonUtils ../assetEditingSupport ./support/clientSideDefaults ./support/QueryTask ../../support/arcgisLayerUrl ../../../rest/query/operations/editsZScale ../../../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F){async function G(K){return"string"===typeof K?q.dataComponents(K)??{data:K}:new Promise((M,I)=>{const H=new FileReader;H.readAsDataURL(K);H.onload=()=>M(q.dataComponents(H.result));H.onerror=L=>I(L)})}const E=new p.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),P=new Set(["Feature Layer","Table"]),O=new p.JSONMap({Started:"published",Publishing:"publishing",Stopped:"unavailable"});c=function(K){function M(){var H=
I.apply(this,arguments);H.type="feature-layer";H.refresh=h.debounce(async()=>{await H.load();var L=H.sourceJSON.editingInfo?.lastEditDate;if(null==L)return{dataChanged:!0,updates:{}};try{await H._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}L=L!==H.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:L,updates:L?{editingInfo:H.sourceJSON.editingInfo,extent:H.sourceJSON.extent}:null}});return H}a._inherits(M,K);var I=a._createSuper(M);K=M.prototype;K.load=function(H){H=g.isSome(H)?
H.signal:null;this.addResolvingPromise(this._fetchService(this.layer.sourceJSON,H));return Promise.resolve(this)};K.addAttachment=async function(H,L){await this.load();H=H.attributes[this.layer.objectIdField];const aa=this.layer.parsedUrl.path+"/"+H+"/addAttachment",R=this._getLayerRequestOptions();L=this._getFormDataForAttachment(L,R.query);try{const S=await n(aa,{body:L});return this._createFeatureEditResult(S.data.addAttachmentResult)}catch(S){throw this._createAttachmentErrorResult(H,S);}};K.updateAttachment=
async function(H,L,aa){await this.load();H=H.attributes[this.layer.objectIdField];const R=this.layer.parsedUrl.path+"/"+H+"/updateAttachment";L=this._getLayerRequestOptions({query:{attachmentId:L}});aa=this._getFormDataForAttachment(aa,L.query);try{const S=await n(R,{body:aa});return this._createFeatureEditResult(S.data.updateAttachmentResult)}catch(S){throw this._createAttachmentErrorResult(H,S);}};K.applyEdits=async function(H,L){await this.load();const aa=this.layer.infoFor3D;var R=g.isSome(aa),
S=R||(L?.globalIdUsed??!1),V=H.addFeatures?.map(U=>this._serializeFeature(U,aa)).filter(g.isSome)??[],ea=H.updateFeatures?.map(U=>this._serializeFeature(U,aa)).filter(g.isSome)??[];const ha=this._getFeatureIds(H.deleteFeatures,S);C.unapplyEditsZUnitScaling(V,ea,this.layer.spatialReference);var la=[],ia=[],Y=[...(H.deleteAttachments??[])];for(const U of H.addAttachments??[])la.push(await this._serializeAttachment(U));for(const U of H.updateAttachments??[])ia.push(await this._serializeAttachment(U));
ia=la.length||ia.length||Y.length?{adds:la,updates:ia,deletes:Y}:null;Y=void 0;la=null;if(R){la=new Map;Y=[];for(const U of H.addAssets??[])Y.push(this._serializeAssetMapEditAndUploadAssets(U,la));H=await Promise.all(Y);Y=H.length?{adds:H,updates:[],deletes:[]}:void 0}H={gdbVersion:L?.gdbVersion||this.layer.gdbVersion,rollbackOnFailure:L?.rollbackOnFailureEnabled,useGlobalIds:S,returnEditMoment:L?.returnEditMoment,usePreviousEditMoment:L?.usePreviousEditMoment,sessionId:L?.sessionId};L?.returnServiceEditsOption?
(H.edits=JSON.stringify([{id:this.layer.layerId,adds:V,updates:ea,deletes:ha,attachments:ia,assetMaps:g.unwrap(Y)}]),H.returnServiceEditsOption=E.toJSON(L?.returnServiceEditsOption),H.returnServiceEditsInSourceSR=L?.returnServiceEditsInSourceSR):(H.adds=V.length?JSON.stringify(V):null,H.updates=ea.length?JSON.stringify(ea):null,H.deletes=ha.length?S?JSON.stringify(ha):ha.join(","):null,H.attachments=ia&&JSON.stringify(ia),H.assetMaps=g.isSome(Y)?JSON.stringify(Y):void 0);V=this._getLayerRequestOptions({method:"post",
query:H});S=L?.returnServiceEditsOption?this.layer.url:this.layer.parsedUrl.path;L=await n(S+"/applyEdits",V);!this.layer.capabilities.operations?.supportsEditing&&this.layer.effectiveCapabilities?.operations?.supportsEditing&&await d.id?.findCredential(this.layer.url)?.refreshToken();if(R&&null!=L.data&&null!=L.data.assetMaps){ea=L.data;R=this.layer.objectIdField;V=[];for(var Z of ea.addResults)Z.success&&V.push(Z.objectId);for(const U of ea.updateResults)U.success&&V.push(U.objectId);Z=this._createRequestQueryOptions();
if((Z=await n(S+"/query",{...Z,query:{f:"json",formatOf3DObjects:"3D_glb",where:`OBJECTID IN (${V.join(",")})`,outFields:`${R}`}}))&&Z.data&&Z.data.assetMaps&&g.isSome(la)){Z=Z.data.assetMaps;for(const U of Z)Z=la.get(U.parentGlobalId).geometry,g.isSome(Z)&&"mesh"===Z.type&&Z.updateExternalSource({source:[{name:U.assetName,source:U.assetName}],extent:Z.extent})}}return this._createEditsResult(L)};K.deleteAttachments=async function(H,L){await this.load();H=H.attributes[this.layer.objectIdField];const aa=
this.layer.parsedUrl.path+"/"+H+"/deleteAttachments";try{return(await n(aa,this._getLayerRequestOptions({query:{attachmentIds:L.join(",")},method:"post"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(R){throw this._createAttachmentErrorResult(H,R);}};K.fetchRecomputedExtents=function(H={}){return this.load({signal:H.signal}).then(async()=>{var L=this._getLayerRequestOptions({...H,query:{returnUpdates:!0}});const {layerId:aa,url:R}=this.layer;({data:L}=await n(`${R}/${aa}`,
L));const {id:S,extent:V,fullExtent:ea,timeExtent:ha}=L;L=V||ea;return{id:S,fullExtent:L&&x.fromJSON(L),timeExtent:ha&&u.fromJSON({start:ha[0],end:ha[1]})}})};K.queryAttachments=async function(H,L={}){await this.load();L=this._getLayerRequestOptions(L);return this.queryTask.executeAttachmentQuery(H,L)};K.queryFeatures=async function(H,L){await this.load();return this.queryTask.execute(H,{...L,query:this._createRequestQueryOptions(L)})};K.queryFeaturesJSON=async function(H,L){await this.load();return this.queryTask.executeJSON(H,
{...L,query:this._createRequestQueryOptions(L)})};K.queryObjectIds=async function(H,L){await this.load();return this.queryTask.executeForIds(H,{...L,query:this._createRequestQueryOptions(L)})};K.queryFeatureCount=async function(H,L){await this.load();return this.queryTask.executeForCount(H,{...L,query:this._createRequestQueryOptions(L)})};K.queryExtent=async function(H,L){await this.load();return this.queryTask.executeForExtent(H,{...L,query:this._createRequestQueryOptions(L)})};K.queryRelatedFeatures=
async function(H,L){await this.load();return this.queryTask.executeRelationshipQuery(H,{...L,query:this._createRequestQueryOptions(L)})};K.queryRelatedFeaturesCount=async function(H,L){await this.load();return this.queryTask.executeRelationshipQueryForCount(H,{...L,query:this._createRequestQueryOptions(L)})};K.queryTopFeatures=async function(H,L){await this.load();return this.queryTask.executeTopFeaturesQuery(H,{...L,query:this._createRequestQueryOptions(L)})};K.queryTopObjectIds=async function(H,
L){await this.load();return this.queryTask.executeForTopIds(H,{...L,query:this._createRequestQueryOptions(L)})};K.queryTopExtents=async function(H,L){await this.load();return this.queryTask.executeForTopExtents(H,{...L,query:this._createRequestQueryOptions(L)})};K.queryTopCount=async function(H,L){await this.load();return this.queryTask.executeForTopCount(H,{...L,query:this._createRequestQueryOptions(L)})};K.fetchPublishingStatus=async function(){if(!y.isHostedAgolService(this.layer.url))return"unavailable";
var H=q.join(this.layer.url,"status");H=await n(H,{query:{f:"json"}});return O.fromJSON(H.data.status)};K._createRequestQueryOptions=function(H){H={...this.layer.customParameters,token:this.layer.apiKey,...H?.query};this.layer.datesInUnknownTimezone&&(H.timeReferenceUnknownClient=!0);return H};K._fetchService=async function(H,L){H||({data:H}=await n(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:r("featurelayer-advanced-symbols")?{returnAdvancedSymbols:!0}:{},signal:L})));this.sourceJSON=
this._patchServiceJSON(H);H=H.type;if(!P.has(H))throw new t("feature-layer-source:unsupported-type",`Source type "${H}" is not supported`);};K._patchServiceJSON=function(H){if("Table"!==H.type&&H.geometryType&&!H?.drawingInfo?.renderer&&!H.defaultSymbol){const L=B.createDrawingInfo(H.geometryType).renderer;f.setDeepValue("drawingInfo.renderer",L,H)}"esriGeometryMultiPatch"===H.geometryType&&H.infoFor3D&&(H.geometryType="mesh");return H};K._serializeFeature=function(H,L){const {geometry:aa,attributes:R}=
H;if(g.isSome(L)&&g.isSome(H.geometry)&&"mesh"===H.geometry.type){const V={...R};H=H.geometry;var S=H.origin;H=H.transform;V[L.transformFieldRoles.originX]=S.x;V[L.transformFieldRoles.originY]=S.y;V[L.transformFieldRoles.originZ]=S.z;if(g.isSome(H)){S=H.translation;const ea=H.scale;H=H.rotation;V[L.transformFieldRoles.translationX]=S[0];V[L.transformFieldRoles.translationY]=-S[2];V[L.transformFieldRoles.translationZ]=S[1];V[L.transformFieldRoles.scaleX]=ea[0];V[L.transformFieldRoles.scaleY]=ea[1];
V[L.transformFieldRoles.scaleZ]=ea[2];V[L.transformFieldRoles.rotationX]=H[0];V[L.transformFieldRoles.rotationY]=H[2];V[L.transformFieldRoles.rotationZ]=H[1];V[L.transformFieldRoles.rotationDeg]=H[3]}return{geometry:null,attributes:V}}return g.isNone(aa)?{attributes:R}:"mesh"===aa.type||"extent"===aa.type?null:{geometry:aa.toJSON(),attributes:R}};K._serializeAttachment=async function(H){const {feature:L,attachment:aa}=H,{globalId:R,name:S,contentType:V,data:ea,uploadId:ha}=aa;H={globalId:R,parentGlobalId:null,
contentType:null,name:null,uploadId:null,data:null};L&&(H.parentGlobalId="attributes"in L?L.attributes&&L.attributes[this.layer.globalIdField]:L.globalId);if(ha)H.uploadId=ha;else if(ea){const la=await G(ea);la&&(H.contentType=la.mediaType,H.data=la.data);ea instanceof File&&(H.name=ea.name)}S&&(H.name=S);V&&(H.contentType=V);return H};K._serializeAssetMapEditAndUploadAssets=async function(H,L){var aa=this.layer.url,R=null;try{const S=new Blob([H.data],{type:H.mimeType}),V=new FormData;V.append("f",
"json");V.append("file",S,`${H.assetName}`);const {data:ea}=await n(`${aa}/uploads/upload`,{body:V,method:"post",responseType:"json"});if(!ea.success)throw new t("feature-layer-source:upload-failure","Expected upload to be successfull.");R={assetType:H.assetType,assetUploadId:ea.item.itemID}}catch(S){R=null}if(g.isNone(R)){aa=await G(new Blob([H.data]));if(!aa.isBase64)throw new t("feature-layer-source:uploadAssets-failure","Expected gltf data in base64 format after conversion.");R={assetType:H.assetType,
assetData:aa.data}}if(g.isNone(R))throw new t("feature-layer-source:uploadAssets-failure","Unable to prepare uploadAsset request options.");aa={method:"post",query:{f:"json",assets:JSON.stringify([R])},responseType:"json"};aa=await n(q.join(this.layer.parsedUrl.path,"uploadAssets"),aa);if(1!==aa.data.uploadResults.length||!aa.data.uploadResults[0].success)throw new t("feature-layer-source:uploadAssets-failure","Bad response.");aa=aa.data.uploadResults[0].assetHash;R=[];H.flags&A.AssetMapEditFlags.PROJECT_VERTICES&&
R.push("PROJECT_VERTICES");aa={globalId:H.assetMapGlobalId,parentGlobalId:H.featureGlobalId,assetName:H.assetName,assetHash:aa,flags:R};L.set(H.featureGlobalId,H.feature);return aa};K._getFeatureIds=function(H,L){const aa=H?.[0];return aa?this._canUseGlobalIds(L,H)?this._getGlobalIdsFromFeatureIdentifier(H):"objectId"in aa?this._getObjectIdsFromFeatureIdentifier(H):this._getIdsFromFeatures(H):[]};K._getIdsFromFeatures=function(H){const L=this.layer.objectIdField;return H.map(aa=>aa.attributes&&aa.attributes[L])};
K._canUseGlobalIds=function(H,L){return H&&"globalId"in L[0]};K._getObjectIdsFromFeatureIdentifier=function(H){return H.map(L=>L.objectId)};K._getGlobalIdsFromFeatureIdentifier=function(H){return H.map(L=>L.globalId)};K._createEditsResult=function(H){const L=H.data,{layerId:aa}=this.layer;H=[];let R=null;if(Array.isArray(L))for(var S of L)H.push({id:S.id,editedFeatures:S.editedFeatures}),S.id===aa&&(R={addResults:S.addResults??[],updateResults:S.updateResults??[],deleteResults:S.deleteResults??[],
attachments:S.attachments,editMoment:S.editMoment});else R=L;S=R?.attachments;S={addFeatureResults:R?.addResults?.map(this._createFeatureEditResult,this)??[],updateFeatureResults:R?.updateResults?.map(this._createFeatureEditResult,this)??[],deleteFeatureResults:R?.deleteResults?.map(this._createFeatureEditResult,this)??[],addAttachmentResults:S&&S.addResults?S.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:S&&S.updateResults?S.updateResults.map(this._createFeatureEditResult,
this):[],deleteAttachmentResults:S&&S.deleteResults?S.deleteResults.map(this._createFeatureEditResult,this):[]};R?.editMoment&&(S.editMoment=R.editMoment);if(0<H.length){S.editedFeatureResults=[];for(const V of H){({editedFeatures:H}=V);const ea=H?.spatialReference?new F(H.spatialReference):null;S.editedFeatureResults.push({layerId:V.id,editedFeatures:{adds:H?.adds?.map(ha=>this._createEditedFeature(ha,ea))||[],updates:H?.updates?.map(ha=>({original:this._createEditedFeature(ha[0],ea),current:this._createEditedFeature(ha[1],
ea)}))||[],deletes:H?.deletes?.map(ha=>this._createEditedFeature(ha,ea))||[],spatialReference:ea}})}}return S};K._createEditedFeature=function(H,L){return new e({attributes:H.attributes,geometry:z.fromJSON({...H.geometry,spatialReference:L})})};K._createFeatureEditResult=function(H){const L=!0===H.success?null:H.error||{code:void 0,description:void 0};return{objectId:H.objectId,globalId:H.globalId,error:L?new t("feature-layer-source:edit-failure",L.description,{code:L.code}):null}};K._createAttachmentErrorResult=
function(H,L){return{objectId:H,globalId:null,error:new t("feature-layer-source:attachment-failure",L.details.messages&&L.details.messages[0]||L.message,{code:L.details.httpStatus||L.details.messageCode})}};K._getFormDataForAttachment=function(H,L){if(H=H instanceof FormData?H:H&&H.elements?new FormData(H):null)for(const aa in L){const R=L[aa];null!=R&&(H.set?H.set(aa,R):H.append(aa,R))}return H};K._getLayerRequestOptions=function(H={}){const {parsedUrl:L,gdbVersion:aa,dynamicDataSource:R}=this.layer;
return{...H,query:{gdbVersion:aa,layer:R?JSON.stringify({source:R}):void 0,...L.query,f:"json",...this._createRequestQueryOptions(H)},responseType:"json"}};a._createClass(M,[{key:"queryTask",get:function(){const {capabilities:H,parsedUrl:L,dynamicDataSource:aa,infoFor3D:R,gdbVersion:S,spatialReference:V,fieldsIndex:ea}=this.layer,ha=r("featurelayer-pbf")&&H?.query.supportsFormatPBF&&g.isNone(R);return new D({url:L.path,pbfSupported:ha,fieldsIndex:ea,infoFor3D:R,dynamicDataSource:aa,gdbVersion:S,sourceSpatialReference:V,
queryAttachmentsSupported:H?.operations?.supportsQueryAttachments??!1})}}]);return M}(m);b.__decorate([k.property()],c.prototype,"type",void 0);b.__decorate([k.property({constructOnly:!0})],c.prototype,"layer",void 0);b.__decorate([k.property({readOnly:!0})],c.prototype,"queryTask",null);return c=b.__decorate([w.subclass("esri.layers.graphics.sources.FeatureLayerSource")],c)})},"esri/layers/graphics/assetEditingSupport":function(){define(["exports"],function(a){a.AssetMapEditFlags=void 0;var b=a.AssetMapEditFlags||
(a.AssetMapEditFlags={});b[b.PROJECT_VERTICES=1]="PROJECT_VERTICES";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang","../../data/QueryEngineCapabilities","../../../../symbols/support/defaultsJSON"],function(a,b,c,e,d){const n=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let u=1;a.createCapabilities=function(t,r){return{analytics:{supportsCacheHint:!1},attachment:null,
data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:r,supportsDelete:r,supportsEditing:r,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:r,supportsExceedsLimitStatistics:!0},query:e.queryCapabilities,queryRelated:{supportsCount:!0,
supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:r,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}};a.createDefaultAttributesFunction=function(t,r){if(b("esri-csp-restrictions"))return()=>({[r]:null,
...t});try{let p=`this.${r} = null;`;for(const g in t){const f=n.test(g)?`.${g}`:`["${g}"]`;p+=`this${f} = ${JSON.stringify(t[g])};`}const m=(new Function(`\n      return class AttributesClass$${u++} {\n        constructor() {\n          ${p};\n        }\n      }\n    `))();return()=>new m}catch(p){return()=>({[r]:null,...t})}};a.createDefaultTemplate=function(t={}){return[{name:"New Feature",description:"",prototype:{attributes:c.clone(t)}}]};a.createDrawingInfo=function(t){return{renderer:{type:"simple",
symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?d.defaultPointSymbolJSON:"esriGeometryPolyline"===t?d.defaultPolylineSymbolJSON:d.defaultPolygonSymbolJSON}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(a){a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,
convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,
supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/QueryTask":function(){define("require ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Error ../../../../core/has ../../../../core/maybe ../../../../core/promiseUtils ../../../../core/urlUtils ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/accessorSupport/decorators/subclass ../../../support/source/DataLayerSource ../../../../rest/utils ../../../../rest/query/executeForCount ../../../../rest/query/executeForExtent ../../../../rest/query/executeForIds ../../../../rest/query/executeQueryJSON ../../../../rest/query/executeQueryPBF ../../../../rest/support/FeatureSet ../../../../rest/support/Query".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A){const B=D=>Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));e=function(D){function y(F){F=C.call(this,F);F.dynamicDataSource=null;F.fieldsIndex=null;F.gdbVersion=null;F.infoFor3D=null;F.pbfSupported=!1;F.queryAttachmentsSupported=!1;F.sourceSpatialReference=null;F.url=null;return F}b._inherits(y,D);var C=b._createSuper(y);D=y.prototype;D.execute=async function(F,G){const E=await this.executeJSON(F,
G);return this.featureSetFromJSON(F,E,G)};D.executeJSON=async function(F,G){const E=this._normalizeQuery(F);F=null!=F.outStatistics?.[0];const P=n("featurelayer-pbf-statistics");F=!F||P;let O;if(this.pbfSupported&&F)try{O=await x.executeRawQueryPBF(this.url,E,G)}catch(K){if("query:parsing-pbf"===K.name)this.pbfSupported=!1;else throw K;}this.pbfSupported&&F||(O=await w.executeRawQueryJSON(this.url,E,G));this._normalizeFields(O.fields);return O};D.featureSetFromJSON=async function(F,G,E){if(!this._queryIs3DObjectFormat(F)||
u.isNone(this.infoFor3D)||!G.assetMaps||!G.features||!G.features.length)return z.fromJSON(G);({meshFeatureSetFromJSON:E}=await t.whenOrAbort(new Promise((P,O)=>a(["../../../../rest/support/meshFeatureSet"],P,O)),E));return E(F,this.infoFor3D,G)};D.executeForCount=function(F,G){return k.executeForCount(this.url,this._normalizeQuery(F),G)};D.executeForExtent=function(F,G){return l.executeForExtent(this.url,this._normalizeQuery(F),G)};D.executeForIds=function(F,G){return v.executeForIds(this.url,this._normalizeQuery(F),
G)};D.executeRelationshipQuery=async function(F,G){const [{default:E},{executeRelationshipQuery:P}]=await t.whenOrAbort(Promise.all([new Promise((O,K)=>a(["../../../../rest/support/RelationshipQuery"],M=>O(B(M)),K)),new Promise((O,K)=>a(["../../../../rest/query/executeRelationshipQuery"],O,K))]),G);F=E.from(F);if(this.gdbVersion||this.dynamicDataSource)F=F.clone(),F.gdbVersion=F.gdbVersion||this.gdbVersion,F.dynamicDataSource=F.dynamicDataSource||this.dynamicDataSource;return P(this.url,F,G)};D.executeRelationshipQueryForCount=
async function(F,G){const [{default:E},{executeRelationshipQueryForCount:P}]=await t.whenOrAbort(Promise.all([new Promise((O,K)=>a(["../../../../rest/support/RelationshipQuery"],M=>O(B(M)),K)),new Promise((O,K)=>a(["../../../../rest/query/executeRelationshipQuery"],O,K))]),G);F=E.from(F);if(this.gdbVersion||this.dynamicDataSource)F=F.clone(),F.gdbVersion=F.gdbVersion||this.gdbVersion,F.dynamicDataSource=F.dynamicDataSource||this.dynamicDataSource;return P(this.url,F,G)};D.executeAttachmentQuery=async function(F,
G){const {executeAttachmentQuery:E,fetchAttachments:P,processAttachmentQueryResult:O}=await t.whenOrAbort(new Promise((M,I)=>a(["../../../../rest/query/operations/queryAttachments"],M,I)),G),K=q.parseUrl(this.url);F=await (this.queryAttachmentsSupported?E(K,F,G):P(K,F,G));return O(K,F)};D.executeTopFeaturesQuery=async function(F,G){const {executeTopFeaturesQuery:E}=await t.whenOrAbort(new Promise((P,O)=>a(["../../../../rest/query/executeTopFeaturesQuery"],P,O)),G);return E(this.parsedUrl,F,this.sourceSpatialReference,
G)};D.executeForTopIds=async function(F,G){const {executeForTopIds:E}=await t.whenOrAbort(new Promise((P,O)=>a(["../../../../rest/query/executeForTopIds"],P,O)),G);return E(this.parsedUrl,F,G)};D.executeForTopExtents=async function(F,G){const {executeForTopExtents:E}=await t.whenOrAbort(new Promise((P,O)=>a(["../../../../rest/query/executeForTopExtents"],P,O)),G);return E(this.parsedUrl,F,G)};D.executeForTopCount=async function(F,G){const {executeForTopCount:E}=await t.whenOrAbort(new Promise((P,
O)=>a(["../../../../rest/query/executeForTopCount"],P,O)),G);return E(this.parsedUrl,F,G)};D._normalizeQuery=function(F){let G=A.from(F);G.sourceSpatialReference=G.sourceSpatialReference||this.sourceSpatialReference;if(this.gdbVersion||this.dynamicDataSource)G=G===F?G.clone():G,G.gdbVersion=F.gdbVersion||this.gdbVersion,G.dynamicDataSource=F.dynamicDataSource?h.DataLayerSource.from(F.dynamicDataSource):this.dynamicDataSource;if(u.isSome(this.infoFor3D)&&this._queryIs3DObjectFormat(F)){G=G===F?G.clone():
G;G.formatOf3DObjects=null;for(const E of this.infoFor3D.queryFormats){if("3D_glb"===E){G.formatOf3DObjects=E;break}"3D_gltf"!==E||G.formatOf3DObjects||(G.formatOf3DObjects=E)}if(!G.formatOf3DObjects)throw new d("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(u.isNone(G.outFields)||!G.outFields.includes("*")){G=G===F?G.clone():G;u.isNone(G.outFields)&&(G.outFields=[]);const {originX:E,originY:P,originZ:O,
translationX:K,translationY:M,translationZ:I,scaleX:H,scaleY:L,scaleZ:aa,rotationX:R,rotationY:S,rotationZ:V,rotationDeg:ea}=this.infoFor3D.transformFieldRoles;G.outFields.push(E,P,O,K,M,I,H,L,aa,R,S,V,ea)}}return G};D._normalizeFields=function(F){if(u.isSome(this.fieldsIndex)&&u.isSome(F))for(const G of F)(F=this.fieldsIndex.get(G.name))&&Object.assign(G,F.toJSON())};D._queryIs3DObjectFormat=function(F){return u.isSome(this.infoFor3D)&&!0===F.returnGeometry&&"xyFootprint"!==F.multipatchOption&&!F.outStatistics};
b._createClass(y,[{key:"parsedUrl",get:function(){return r.urlToObject(this.url)}}]);return y}(e);c.__decorate([p.property({type:h.DataLayerSource})],e.prototype,"dynamicDataSource",void 0);c.__decorate([p.property()],e.prototype,"fieldsIndex",void 0);c.__decorate([p.property()],e.prototype,"gdbVersion",void 0);c.__decorate([p.property()],e.prototype,"infoFor3D",void 0);c.__decorate([p.property({readOnly:!0})],e.prototype,"parsedUrl",null);c.__decorate([p.property()],e.prototype,"pbfSupported",void 0);
c.__decorate([p.property()],e.prototype,"queryAttachmentsSupported",void 0);c.__decorate([p.property()],e.prototype,"sourceSpatialReference",void 0);c.__decorate([p.property({type:String})],e.prototype,"url",void 0);return e=c.__decorate([f.subclass("esri.tasks.QueryTask")],e)})},"esri/rest/utils":function(){define("exports ../config ../kernel ../core/lang ../core/urlUtils ../support/apiKeyUtils".split(" "),function(a,b,c,e,d,n){function u(t,r,p){const m={};for(const f in t)if("declaredClass"!==f){var g=
t[f];if(null!=g&&"function"!==typeof g)if(Array.isArray(g)){m[f]=[];for(let h=0;h<g.length;h++)m[f][h]=u(g[h])}else"object"===typeof g?g.toJSON?(g=g.toJSON(p&&p[f]),m[f]=r?g:JSON.stringify(g)):m[f]=r?g:JSON.stringify(g):m[f]=g}return m}a.asValidOptions=function(t,r){return r?{...r,query:{...(t??{}),...r.query}}:{query:t}};a.encode=u;a.getToken=function(t,r){return t?n.supportsApiKey(t)&&(r||b.apiKey)?r||b.apiKey:c.id?.findCredential(t)?.token:null};a.parseUrl=function(t){return"string"===typeof t?
d.urlToObject(t):e.clone(t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeForCount":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,c,e){a.executeForCount=async function(d,n,u){d=b.parseUrl(d);return c.executeQueryForCount(d,e.from(n),{...u}).then(t=>t.data.count)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/query":function(){define("exports ../../../request ../../../core/maybe ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),
function(a,b,c,e,d,n,u,t,r){function p(h,q){if(q&&"extent"===h.type)return`${h.xmin},${h.ymin},${h.xmax},${h.ymax}`;if(q&&"point"===h.type)return`${h.x},${h.y}`;h=h.toJSON();delete h.spatialReference;return JSON.stringify(h)}function m(h,q){const k=h.geometry,l=h.toJSON();delete l.compactGeometryEnabled;delete l.defaultSpatialReferenceEnabled;let v,w,x;c.isSome(k)&&(w=k.spatialReference,x=k.spatialReference.wkid||JSON.stringify(k.spatialReference),l.geometryType=d.getJsonType(k),l.geometry=p(k,h.compactGeometryEnabled),
l.inSR=x);l.groupByFieldsForStatistics&&(l.groupByFieldsForStatistics=l.groupByFieldsForStatistics.join(","));l.objectIds&&(l.objectIds=l.objectIds.join(","));l.orderByFields&&(l.orderByFields=l.orderByFields.join(","));!l.outFields||!l.returnDistinctValues&&(q?.returnCountOnly||q?.returnExtentOnly||q?.returnIdsOnly)?delete l.outFields:l.outFields.includes("*")?l.outFields="*":l.outFields=l.outFields.join(",");l.outSR?(l.outSR=l.outSR.wkid||JSON.stringify(l.outSR),v=h.outSpatialReference):k&&(l.returnGeometry||
l.returnCentroid)&&(l.outSR=l.inSR,v=w);l.returnGeometry&&delete l.returnGeometry;l.outStatistics&&(l.outStatistics=JSON.stringify(l.outStatistics));l.fullText&&(l.fullText=JSON.stringify(l.fullText));l.pixelSize&&(l.pixelSize=JSON.stringify(l.pixelSize));l.quantizationParameters&&(h.defaultSpatialReferenceEnabled&&c.isSome(w)&&c.isSome(h.quantizationParameters)&&c.isSome(h.quantizationParameters.extent)&&w.equals(h.quantizationParameters.extent.spatialReference)&&delete l.quantizationParameters.extent.spatialReference,
l.quantizationParameters=JSON.stringify(l.quantizationParameters));l.parameterValues&&(l.parameterValues=JSON.stringify(l.parameterValues));l.rangeValues&&(l.rangeValues=JSON.stringify(l.rangeValues));l.dynamicDataSource&&(l.layer=JSON.stringify({source:l.dynamicDataSource}),delete l.dynamicDataSource);if(l.timeExtent){const {start:z,end:A}=l.timeExtent;if(null!=z||null!=A)l.time=z===A?z:`${null==z?"null":z},${null==A?"null":A}`;delete l.timeExtent}h.defaultSpatialReferenceEnabled&&c.isSome(w)&&c.isSome(v)&&
w.equals(v)&&(l.defaultSR=l.inSR,delete l.inSR,delete l.outSR);return l}function g(h,q,k){return f(h,q,"pbf",k)}function f(h,q,k,l={},v={}){const w="string"===typeof h?e.urlToObject(h):h;h=q.geometry?[q.geometry]:[];l.responseType="pbf"===k?"array-buffer":"json";return n.normalizeCentralMeridian(h,null,l).then(x=>{x=x&&x[0];c.isSome(x)&&(q=q.clone(),q.geometry=x);x=u.mapParameters({...w.query,f:k,...v,...m(q,v)});return b(e.join(w.path,"query"),{...l,query:{...x,...l.query}})})}a.encodeGeometry=p;
a.executeQuery=async function(h,q,k,l){h=c.isSome(q.timeExtent)&&q.timeExtent.isEmpty?{data:{features:[]}}:await f(h,q,"json",l);r.applyFeatureSetZUnitScaling(q,k,h.data);return h};a.executeQueryForCount=function(h,q,k){return c.isSome(q.timeExtent)&&q.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):f(h,q,"json",k,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=function(h,q,k){return c.isSome(q.timeExtent)&&q.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):f(h,
q,"json",k,{returnExtentOnly:!0,returnCountOnly:!0}).then(l=>{const v=l.data;if(v.hasOwnProperty("extent"))return l;if(v.features)throw Error("Layer does not support extent calculation.");if(v.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return l})};a.executeQueryForIds=function(h,q,k){return c.isSome(q.timeExtent)&&q.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):f(h,q,"json",k,{returnIdsOnly:!0})};a.executeQueryPBF=async function(h,q,k,l){if(c.isSome(q.timeExtent)&&
q.timeExtent.isEmpty)return{data:k.createFeatureResult()};h=await g(h,q,l);h.data=t.parsePBFFeatureQuery(h.data,k);return h};a.executeQueryPBFBuffer=g;a.queryToQueryStringParameters=m;a.runQuery=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/Error ../../core/Logger ../../core/maybe ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometryService/cut ../../rest/geometryService/simplify".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){function f(x){const z=[];let A=0,B=0;for(let D=0;D<x.length;D++){const y=x[D];let C=null;for(let F=0;F<y.length;F++)C=y[F],z.push(C),0===F?B=A=C[0]:(A=Math.min(A,C[0]),B=Math.max(B,C[0]));C&&z.push([(A+B)/2,0])}return z}function h(x,z){if(!(x instanceof u||x instanceof n))throw w.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new c("straightLineDensify: the input geometry is neither polyline nor polygon");var A=t.getGeometryParts(x);
const B=[];for(const y of A){A=[];B.push(A);A.push([y[0][0],y[0][1]]);for(let C=0;C<y.length-1;C++){const F=y[C][0],G=y[C][1],E=y[C+1][0],P=y[C+1][1];var D=Math.sqrt((E-F)*(E-F)+(P-G)*(P-G));const O=(P-G)/D,K=(E-F)/D,M=D/z;if(1<M){for(let I=1;I<=M-1;I++){const H=I*z;A.push([K*H+F,O*H+G])}D=(D+Math.floor(M-1)*z)/2;A.push([K*D+F,O*D+G])}A.push([E,P])}}return"polygon"===x.type?new n({rings:B,spatialReference:x.spatialReference}):new u({paths:B,spatialReference:x.spatialReference})}function q(x,z,A){z&&
(x=h(x,1E6),x=p.webMercatorToGeographic(x,!0));A&&(x=t.updatePolyGeometry(x,A));return x}function k(x,z,A){if(Array.isArray(x)){var B=x[0];B>z?(A=t.offsetMagnitude(B,z),x[0]=B+-2*A*z):B<A&&(z=t.offsetMagnitude(B,A),x[0]=B+-2*z*A)}else B=x.x,B>z?(A=t.offsetMagnitude(B,z),x=x.clone().offset(-2*A*z,0)):B<A&&(z=t.offsetMagnitude(B,A),x=x.clone().offset(-2*z*A,0));return x}function l(x,z){let A=-1;for(let B=0;B<z.cutIndexes.length;B++){const D=z.cutIndexes[B],y=z.geometries[B],C=t.getGeometryParts(y);
for(let F=0;F<C.length;F++){const G=C[F];G.some(E=>{if(180>E[0])return!0;E=0;for(var P=0;P<G.length;P++){var O=G[P][0];E=O>E?O:E}E=Number(E.toFixed(9));E=-360*t.offsetMagnitude(E,180);for(P=0;P<G.length;P++)O=y.getPoint(F,P),y.setPoint(F,P,O.clone().offset(E,0));return!0})}if(D===A)if("polygon"===x[0].type)for(const F of t.getGeometryParts(y))x[D]=x[D].addRing(F);else{if("polyline"===x[0].type)for(const F of t.getGeometryParts(y))x[D]=x[D].addPath(F)}else A=D,x[D]=y}return x}async function v(x,z,
A){if(!Array.isArray(x))return v([x],z);z&&"string"!==typeof z&&w.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");var B="string"===typeof z?z:z?.url??b.geometryServiceUrl;let D,y,C;let F=0;var G=[];z=[];for(var E of x)if(d.isNone(E))z.push(E);else{if(!P){var P=E.spatialReference;var O=r.getInfo(P);var K=(D=P.isWebMercator)?102100:4326;y=t.cutParams[K].maxX;C=t.cutParams[K].minX;var M=t.cutParams[K].plus180Line;K=t.cutParams[K].minus180Line}if(O)if("mesh"===
E.type)z.push(E);else if("point"===E.type)z.push(k(E.clone(),y,C));else if("multipoint"===E.type){var I=E.clone();I.points=I.points.map(H=>k(H,y,C));z.push(I)}else if("extent"===E.type)I=E.clone()._normalize(!1,!1,O),z.push(I.rings?new n(I):I);else if(E.extent){I=E.extent;const H=2*t.offsetMagnitude(I.xmin,C)*y;let L=0===H?E.clone():t.updatePolyGeometry(E.clone(),H);I.offset(H,0);I.intersects(M)&&I.xmax!==y?(F=I.xmax>F?I.xmax:F,L=q(L,D),G.push(L),z.push("cut")):I.intersects(K)&&I.xmin!==C?(F=2*I.xmax*
y>F?2*I.xmax*y:F,L=q(L,D,360),G.push(L),z.push("cut")):z.push(L)}else z.push(E.clone());else z.push(E)}P=t.offsetMagnitude(F,y);O=-90;M=P;for(E=new u;0<P;)K=-180+360*P,E.addPath([[K,O],[K,-1*O]]),O*=-1,P--;if(0<G.length&&0<M){P=await m.cut(B,G,E,A);P=l(G,P);O=[];G=[];for(M=0;M<z.length;M++)E=z[M],"cut"!==E?G.push(E):(E=P.shift(),K=x[M],d.isSome(K)&&"polygon"===K.type&&K.rings&&1<K.rings.length&&E.rings.length>=K.rings.length?(O.push(E),G.push("simplify")):G.push(D?p.geographicToWebMercator(E):E));
if(!O.length)return G;z=await g.simplify(B,O,A);x=[];for(A=0;A<G.length;A++)B=G[A],"simplify"!==B?x.push(B):x.push(D?p.geographicToWebMercator(z.shift()):z.shift());return x}x=[];for(A=0;A<z.length;A++)B=z[A],"cut"!==B?x.push(B):(B=G.shift(),x.push(!0===D?p.geographicToWebMercator(B):B));return x}const w=e.getLogger("esri.geometry.support.normalizeUtils");a.getDenormalizedExtent=function(x){if(!x)return null;const z=x.extent;if(!z)return null;var A=x.spatialReference&&r.getInfo(x.spatialReference);
if(!A)return z;const [B,D]=A.valid;({width:A}=z);let {xmin:y,xmax:C}=z;[y,C]=[C,y];if("extent"===x.type||0===A||A<=D||A>2*D||y<B||C>D)return z;let F;switch(x.type){case "polygon":if(1<x.rings.length)F=f(x.rings);else return z;break;case "polyline":if(1<x.paths.length)F=f(x.paths);else return z;break;case "multipoint":F=x.points}x=z.clone();for(let G=0;G<F.length;G++){let E=F[G][0];0>E?(E+=D,C=Math.max(E,C)):(E-=D,y=Math.min(E,y))}x.xmin=y;x.xmax=C;return x.width<A?(x.xmin-=D,x.xmax-=D,x):z};a.normalizeCentralMeridian=
v;a.normalizeMapX=function(x,z){if(z=r.getInfo(z)){const [A,B]=z.valid;z=B-A;if(x<A)for(;x<A;)x+=z;if(x>B)for(;x>B;)x-=z}return x};a.straightLineDensify=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(a,b,c,e){function d(n){return e.isPolygon(n)?n.rings:n.paths}b={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,
-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};a.cutParams=b;a.getGeometryParts=d;a.offsetMagnitude=function(n,
u){return Math.ceil((n-u)/(2*u))};a.updatePolyGeometry=function(n,u){const t=d(n);for(const r of t)for(const p of r)p[0]+=u;return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/cut":function(){define(["exports","../../geometry","../../request","../../geometry/support/jsonUtils","../utils"],function(a,b,c,e,d){a.cut=async function(n,u,t,r){n=d.parseUrl(n);const p=u[0].spatialReference;u={...r,query:{...n.query,f:"json",sr:JSON.stringify(p),target:JSON.stringify({geometryType:e.getJsonType(u[0]),
geometries:u}),cutter:JSON.stringify(t)}};u=await c(n.path+"/cut",u);const {cutIndexes:m,geometries:g=[]}=u.data;return{cutIndexes:m,geometries:g.map(f=>{f=e.fromJSON(f);f.spatialReference=p;return f})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/simplify":function(){define(["exports","../../request","../../core/urlUtils","../../geometry/support/jsonUtils","./utils"],function(a,b,c,e,d){a.simplify=async function(n,u,t){const r="string"===typeof n?c.urlToObject(n):
n;n=u[0].spatialReference;const p=e.getJsonType(u[0]);u={...t,query:{...r.query,f:"json",sr:n.wkid??JSON.stringify(n),geometries:JSON.stringify(d.encodeGeometries(u))}};({data:u}=await b(r.path+"/simplify",u));return d.decodeGeometries(u.geometries,p,n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],function(a,b){a.decodeGeometries=function(c,e,d){const n=b.getGeometryType(e);return c.map(u=>
{u=n.fromJSON(u);u.spatialReference=d;return u})};a.encodeGeometries=function(c){return{geometryType:b.getJsonType(c[0]),geometries:c.map(e=>e.toJSON())}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/operations/urlUtils":function(){define(["exports"],function(a){function b(c){const e={};for(const d in c){if("declaredClass"===d)continue;const n=c[d];if(null!=n&&"function"!==typeof n)if(Array.isArray(n)){e[d]=[];for(let u=0;u<n.length;u++)e[d][u]=b(n[u])}else"object"===
typeof n?n.toJSON&&(e[d]=JSON.stringify(n)):e[d]=n}return e}a.mapParameters=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,b){a.parsePBFFeatureQuery=function(c,e){var d=b.parseFeatureQuery(c,e);c=d.queryResult.featureResult;e=d.queryResult.queryGeometry;d=d.queryResult.queryGeometryType;if(c&&c.features&&c.features.length&&c.objectIdFieldName){const n=c.objectIdFieldName;
for(const u of c.features)u.attributes&&(u.objectId=u.attributes[n])}c&&(c.queryGeometry=e,c.queryGeometryType=d);return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),function(a,b,c,e,d,n){function u(y){return y>=A.length?null:A[y]}function t(y,C,F){y=y.asUnsafe();
for(F=C.createPointGeometry(F);y.next();)switch(y.tag()){case 3:var G=y.getUInt32();G=y.pos()+G;let E=0;for(;y.pos()<G;)C.addCoordinatePoint(F,y.getSInt64(),E++);break;default:y.skip()}return F}function r(y,C,F){y=y.asUnsafe();const G=C.createGeometry(F);for(F=2+(F.hasZ?1:0)+(F.hasM?1:0);y.next();)switch(y.tag()){case 2:var E=y.getUInt32();E=y.pos()+E;for(var P=0;y.pos()<E;)C.addLength(G,y.getUInt32(),P++);break;case 3:E=y.getUInt32();E=y.pos()+E;P=0;for(C.allocateCoordinates(G);y.pos()<E;)C.addCoordinate(G,
y.getSInt64(),P),P++,P===F&&(P=0);break;default:y.skip()}return G}function p(y){y=y.asUnsafe();const C=new d;let F="esriGeometryPoint";for(;y.next();)switch(y.tag()){case 2:var G=y.getUInt32();for(G=y.pos()+G;y.pos()<G;)C.lengths.push(y.getUInt32());break;case 3:G=y.getUInt32();for(G=y.pos()+G;y.pos()<G;)C.coords.push(y.getSInt64());break;case 1:F=n.OPTIMIZED_GEOMETRY_TYPES[y.getEnum()];break;default:y.skip()}return{queryGeometry:C,queryGeometryType:F}}function m(y){for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:return y.getString();
case 2:return y.getFloat();case 3:return y.getDouble();case 4:return y.getSInt32();case 5:return y.getUInt32();case 6:return y.getInt64();case 7:return y.getUInt64();case 8:return y.getSInt64();case 9:return y.getBool();default:return y.skip(),null}return null}function g(y){y=y.asUnsafe();const C={type:u(0)};for(;y.next();)switch(y.tag()){case 1:C.name=y.getString();break;case 2:C.type=u(y.getEnum());break;case 3:C.alias=y.getString();break;case 4:var F=y.getEnum();F=F>=B.length?null:B[F];C.sqlType=
F;break;case 5:y.skip();break;case 6:C.defaultValue=y.getString();break;default:y.skip()}return C}function f(y){const C={};for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:C.name=y.getString();break;case 2:C.isSystemMaintained=y.getBool();break;default:y.skip()}return C}function h(y,C,F,G){const E=C.createFeature(F);let P=0;for(;y.next();)switch(y.tag()){case 1:const O=G[P++].name;E.attributes[O]=y.processMessage(m);break;case 2:E.geometry=y.processMessageWithArgs(r,C,F);break;case 4:E.centroid=
y.processMessageWithArgs(t,C,F);break;default:y.skip()}return E}function q(y){const C=[1,1,1,1];for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:C[0]=y.getDouble();break;case 2:C[1]=y.getDouble();break;case 4:C[2]=y.getDouble();break;case 3:C[3]=y.getDouble();break;default:y.skip()}return C}function k(y){const C=[0,0,0,0];for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:C[0]=y.getDouble();break;case 2:C[1]=y.getDouble();break;case 4:C[2]=y.getDouble();break;case 3:C[3]=y.getDouble();break;default:y.skip()}return C}
function l(y){const C={originPosition:0>=D.length?null:D[0]};for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:var F=y.getEnum();C.originPosition=F>=D.length?null:D[F];break;case 2:C.scale=y.processMessage(q);break;case 3:C.translate=y.processMessage(k);break;default:y.skip()}return C}function v(y){const C={};for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:C.shapeAreaFieldName=y.getString();break;case 2:C.shapeLengthFieldName=y.getString();break;case 3:C.units=y.getString();break;default:y.skip()}return C}
function w(y,C){for(C=C.createSpatialReference();y.next();)switch(y.tag()){case 1:C.wkid=y.getUInt32();break;case 5:C.wkt=y.getString();break;case 2:C.latestWkid=y.getUInt32();break;case 3:C.vcsWkid=y.getUInt32();break;case 4:C.latestVcsWkid=y.getUInt32();break;default:y.skip()}return C}function x(y,C){const F=C.createFeatureResult();y=y.asUnsafe();F.geometryType=0>=C.geometryTypes.length?null:C.geometryTypes[0];let G=!1;for(;y.next();)switch(y.tag()){case 1:F.objectIdFieldName=y.getString();break;
case 3:F.globalIdFieldName=y.getString();break;case 4:F.geohashFieldName=y.getString();break;case 5:F.geometryProperties=y.processMessage(v);break;case 7:var E=y.getEnum();F.geometryType=E>=C.geometryTypes.length?null:C.geometryTypes[E];break;case 8:F.spatialReference=y.processMessageWithArgs(w,C);break;case 10:F.hasZ=y.getBool();break;case 11:F.hasM=y.getBool();break;case 12:F.transform=y.processMessage(l);break;case 9:E=y.getBool();F.exceededTransferLimit=E;break;case 13:C.addField(F,y.processMessage(g));
break;case 15:G||(C.prepareFeatures(F),G=!0);C.addFeature(F,y.processMessageWithArgs(h,C,F,F.fields));break;case 2:F.uniqueIdField=y.processMessage(f);break;default:y.skip()}C.finishFeatureResult(F);return F}function z(y,C){const F={};let G=null;for(;y.next();)switch(y.tag()){case 4:G=y.processMessageWithArgs(p);break;case 1:F.featureResult=y.processMessageWithArgs(x,C);break;default:y.skip()}c.isSome(G)&&F.featureResult&&C.addQueryGeometry(F,G);return F}const A="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),
B="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),D=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(y,C){try{const F=new e(new Uint8Array(y),new DataView(y));
for(y={};F.next();)switch(F.tag()){case 2:y.queryResult=F.processMessageWithArgs(z,C);break;default:F.skip()}return y}catch(F){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:F});}};a.parseFieldType=u;a.parseTransform=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/pbf":function(){define(["../chunks/_rollupPluginBabelHelpers","./has","./ObjectPool"],function(a,b,c){var e;(function(u){u[u.varint=0]="varint";u[u.fixed64=1]="fixed64";u[u.delimited=
2]="delimited";u[u.fixed32=5]="fixed32";u[u.unknown=99]="unknown"})(e||(e={}));const d=new TextDecoder("utf-8"),n=b("safari")||b("ios")?6:b("ff")?12:32;b=function(){function u(r,p,m=0,g=r?r.byteLength:0){this._tag=0;this._dataType=e.unknown;this._init(r,p,m,g)}var t=u.prototype;t._init=function(r,p,m,g){this._data=r;this._dataView=p;this._pos=m;this._end=g};t.asUnsafe=function(){return this};t.clone=function(){return new u(this._data,this._dataView,this._pos,this._end)};t.pos=function(){return this._pos};
t.move=function(r){this._pos=r};t.nextTag=function(r){for(;;){if(this._pos===this._end)return!1;const p=this._decodeVarint();this._tag=p>>3;this._dataType=p&7;if(!r||r===this._tag)break;this.skip()}return!0};t.next=function(){if(this._pos===this._end)return!1;const r=this._decodeVarint();this._tag=r>>3;this._dataType=r&7;return!0};t.empty=function(){return this._pos>=this._end};t.tag=function(){return this._tag};t.getInt32=function(){return this._decodeVarint()};t.getInt64=function(){return this._decodeVarint()};
t.getUInt32=function(){let r=4294967295;r=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return r;r=(r|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return r;r=(r|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return r;r=(r|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return r;r=(r|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return r};t.getUInt64=function(){return this._decodeVarint()};t.getSInt32=
function(){const r=this.getUInt32();if(void 0!==r)return r>>>1^-(r&1)|0};t.getSInt64=function(){return this._decodeSVarint()};t.getBool=function(){const r=0!==this._data[this._pos];this._skip(1);return r};t.getEnum=function(){return this._decodeVarint()};t.getFixed64=function(){var r=this._dataView;const p=this._pos;r=r.getUint32(p,!0)+4294967296*r.getUint32(p+4,!0);this._skip(8);return r};t.getSFixed64=function(){var r=this._dataView;const p=this._pos;r=r.getUint32(p,!0)+4294967296*r.getInt32(p+
4,!0);this._skip(8);return r};t.getDouble=function(){const r=this._dataView.getFloat64(this._pos,!0);this._skip(8);return r};t.getFixed32=function(){const r=this._dataView.getUint32(this._pos,!0);this._skip(4);return r};t.getSFixed32=function(){const r=this._dataView.getInt32(this._pos,!0);this._skip(4);return r};t.getFloat=function(){const r=this._dataView.getFloat32(this._pos,!0);this._skip(4);return r};t.getString=function(){const r=this._getLength();var p=this._pos;p=this._toString(this._data,
p,p+r);this._skip(r);return p};t.getBytes=function(){const r=this._getLength();var p=this._pos;p=this._toBytes(this._data,p,p+r);this._skip(r);return p};t.getLength=function(){return this._getLengthUnsafe()};t.processMessageWithArgs=function(r,p,m,g){const f=this.getMessage();r=r(f,p,m,g);f.release();return r};t.processMessage=function(r){const p=this.getMessage();r=r(p);p.release();return r};t.getMessage=function(){const r=this._getLength(),p=u.pool.acquire();p._init(this._data,this._dataView,this._pos,
this._pos+r);this._skip(r);return p};t.release=function(){u.pool.release(this)};t.dataType=function(){return this._dataType};t.skip=function(){switch(this._dataType){case e.varint:this._decodeVarint();break;case e.fixed64:this._skip(8);break;case e.delimited:this._skip(this._getLength());break;case e.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}};t.skipLen=function(r){this._skip(r)};t._skip=function(r){if(this._pos+r>this._end)throw Error("Attempt to skip past the end of buffer!");
this._pos+=r};t._decodeVarint=function(){const r=this._data;let p=this._pos,m=0,g=0;if(10<=this._end-p){if(g=r[p++],m|=g&127,0!==(g&128)&&(g=r[p++],m|=(g&127)<<7,0!==(g&128)&&(g=r[p++],m|=(g&127)<<14,0!==(g&128)&&(g=r[p++],m|=(g&127)<<21,0!==(g&128)&&(g=r[p++],m+=268435456*(g&127),0!==(g&128)&&(g=r[p++],m+=34359738368*(g&127),0!==(g&128)&&(g=r[p++],m+=4398046511104*(g&127),0!==(g&128)&&(g=r[p++],m+=562949953421312*(g&127),0!==(g&128)&&(g=r[p++],m+=72057594037927936*(g&127),0!==(g&128)&&(g=r[p++],
m+=0x7fffffffffffffff*(g&127),0!==(g&128)))))))))))throw Error("Varint too long!");}else{let f=1;for(;p!==this._end;){g=r[p];if(0===(g&128))break;++p;m+=(g&127)*f;f*=128}if(p===this._end)throw Error("Varint overrun!");++p;m+=g*f}this._pos=p;return m};t._decodeSVarint=function(){const r=this._data;let p=this._pos,m=0,g=0;const f=r[p]&1;if(10<=this._end-p){if(g=r[p++],m|=g&127,0!==(g&128)&&(g=r[p++],m|=(g&127)<<7,0!==(g&128)&&(g=r[p++],m|=(g&127)<<14,0!==(g&128)&&(g=r[p++],m|=(g&127)<<21,0!==(g&128)&&
(g=r[p++],m+=268435456*(g&127),0!==(g&128)&&(g=r[p++],m+=34359738368*(g&127),0!==(g&128)&&(g=r[p++],m+=4398046511104*(g&127),0!==(g&128)&&(g=r[p++],m+=562949953421312*(g&127),0!==(g&128)&&(g=r[p++],m+=72057594037927936*(g&127),0!==(g&128)&&(g=r[p++],m+=0x7fffffffffffffff*(g&127),0!==(g&128)))))))))))throw Error("Varint too long!");}else{let h=1;for(;p!==this._end;){g=r[p];if(0===(g&128))break;++p;m+=(g&127)*h;h*=128}if(p===this._end)throw Error("Varint overrun!");++p;m+=g*h}this._pos=p;return f?-(m+
1)/2:m/2};t._getLength=function(){if(this._dataType!==e.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()};t._getLengthUnsafe=function(){return this.getUInt32()};t._toString=function(r,p,m){m=Math.min(this._end,m);if(m-p>n)return r=r.subarray(p,m),d.decode(r);let g="",f="";for(;p<m;++p){const h=r[p];h&128?f+="%"+h.toString(16):(g+=decodeURIComponent(f)+String.fromCharCode(h),f="")}f.length&&(g+=decodeURIComponent(f));return g};t._toBytes=function(r,p,m){m=Math.min(this._end,
m);return new Uint8Array(r.buffer,p,m-p)};return a._createClass(u)}();b.pool=new c(b,void 0,u=>{u._data=null;u._dataView=null});return b})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(e=[],d=[],n=!1){this.lengths=e??[];this.coords=d??[];this.hasIndeterminateRingOrder=n}b.fromRect=function(e){const [d,n,u,t]=e;e=u-d;const r=t-n;return new b([5],[d,n,e,0,0,r,-e,0,0,-r])};var c=b.prototype;c.forEachVertex=
function(e){let d=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const u=this.lengths[n];for(let t=0;t<u;t++)e(this.coords[2*(t+d)],this.coords[2*(t+d)+1]);d+=u}};c.clone=function(e){return e?(e.set(this.coords),new b(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new b(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};a._createClass(b,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},
{key:"size",get:function(){return this.lengths.reduce((e,d)=>e+d)}}]);return b}()})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),function(a,b,c,e,d,n,u){const t=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline",
"esriGeometryPolygon"];let r=function(){function p(g){this._options=g;this.geometryTypes=t;this._vertexDimension=this._coordinatePtr=0}var m=p.prototype;m.createFeatureResult=function(){return new n};m.prepareFeatures=function(g){this._vertexDimension=2;g.hasZ&&this._vertexDimension++;g.hasM&&this._vertexDimension++};m.finishFeatureResult=function(g){if(g&&g.features&&g.hasZ&&this._options.sourceSpatialReference&&g.spatialReference&&!e.equals(g.spatialReference,this._options.sourceSpatialReference)&&
!g.spatialReference.vcsWkid){var f=c.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),h=c.getMetersPerVerticalUnitForSR(g.spatialReference);f/=h;if(1!==f)for(const q of g.features)if(d.hasGeometry(q))for(g=q.geometry.coords,h=2;h<g.length;h+=3)g[h]*=f}};m.addFeature=function(g,f){g.features.push(f)};m.createFeature=function(){return new d.OptimizedFeature};m.createSpatialReference=function(){return{wkid:0}};m.createGeometry=function(){return new u};m.addField=function(g,f){g.fields.push(f)};
m.allocateCoordinates=function(g){g.coords.length=g.lengths.reduce((f,h)=>f+h,0)*this._vertexDimension;this._coordinatePtr=0};m.addCoordinate=function(g,f){g.coords[this._coordinatePtr++]=f};m.addCoordinatePoint=function(g,f){g.coords.push(f)};m.addLength=function(g,f){g.lengths.push(f)};m.addQueryGeometry=function(g,f){g.queryGeometry=f.queryGeometry;g.queryGeometryType=f.queryGeometryType};m.createPointGeometry=function(){return new u};return b._createClass(p)}();a.OPTIMIZED_GEOMETRY_TYPES=t;a.OptimizedFeatureSetParserContext=
r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(a,b,c){let e=function(){function n(u=null,t={},r,p){this.geometry=u;this.attributes=t;this.centroid=r;this.objectId=p;this.geohashY=this.geohashX=this.displayId=0}n.prototype.weakClone=function(){const u=new n(this.geometry,this.attributes,this.centroid,this.objectId);u.displayId=this.displayId;
u.geohashX=this.geohashX;u.geohashY=this.geohashY;return u};return b._createClass(n)}(),d=function(n){function u(){return t.apply(this,arguments)}b._inherits(u,n);var t=b._createSuper(u);return b._createClass(u)}(e);a.OptimizedFeature=e;a.OptimizedFeatureWithGeometry=d;a.hasGeometry=function(n){return!(c.isNone(n.geometry)||!n.geometry.coords||!n.geometry.coords.length)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(a){return function(){function b(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}b.prototype.weakClone=function(){const c=new b;c.objectIdFieldName=this.objectIdFieldName;c.globalIdFieldName=this.globalIdFieldName;c.geohashFieldName=
this.geohashFieldName;c.geometryProperties=this.geometryProperties;c.geometryType=this.geometryType;c.spatialReference=this.spatialReference;c.hasZ=this.hasZ;c.hasM=this.hasM;c.features=this.features;c.fields=this.fields;c.transform=this.transform;c.exceededTransferLimit=this.exceededTransferLimit;c.uniqueIdField=this.uniqueIdField;c.queryGeometry=this.queryGeometry;c.queryGeometryType=this.queryGeometryType;return c};return a._createClass(b)}()})},"esri/rest/query/executeForExtent":function(){define("exports ../../geometry ../utils ./operations/query ../support/Query ../../geometry/Extent".split(" "),
function(a,b,c,e,d,n){a.executeForExtent=async function(u,t,r){u=c.parseUrl(u);return e.executeQueryForExtent(u,d.from(t),{...r}).then(p=>({count:p.data.count,extent:n.fromJSON(p.data.extent)}))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeForIds":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,c,e){a.executeForIds=async function(d,n,u){d=b.parseUrl(d);return c.executeQueryForIds(d,e.from(n),{...u}).then(t=>
t.data.objectIds)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryJSON":function(){define(["exports","../utils","./operations/query","../support/FeatureSet","../support/Query"],function(a,b,c,e,d){async function n(u,t,r){u=b.parseUrl(u);r={...r};t=d.from(t);({data:t}=await c.executeQuery(u,t,t.sourceSpatialReference,r));return t}a.executeQueryJSON=async function(u,t,r){u=await n(u,t,r);return e.fromJSON(u)};a.executeRawQueryJSON=n;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),function(a,b,c,e,d,n){async function u(t,r,p){t=b.parseUrl(t);p={...p};r=n.from(r);({data:r}=await e.executeQueryPBF(t,r,new c.JSONFeatureSetParserContext({sourceSpatialReference:r.sourceSpatialReference,applyTransform:!r.quantizationParameters}),p));return r}a.executeQueryPBF=async function(t,
r,p){t=await u(t,n.from(r),p);return d.fromJSON(t)};a.executeRawQueryPBF=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/maybe","../../../geometry/support/zscale","../../../layers/graphics/featureConversionUtils"],function(a,b,c,e,d){function n(h,q){return q}function u(h,q,k,l){switch(k){case 0:return m(h,q+l,0);case 1:return"lowerLeft"===h.originPosition?
m(h,q+l,1):g(h,q+l,1)}}function t(h,q,k,l){switch(k){case 2:return m(h,q,2);default:return u(h,q,k,l)}}function r(h,q,k,l){switch(k){case 2:return m(h,q,3);default:return u(h,q,k,l)}}function p(h,q,k,l){switch(k){case 3:return m(h,q,3);default:return t(h,q,k,l)}}function m({translate:h,scale:q},k,l){return h[l]+k*q[l]}function g({translate:h,scale:q},k,l){return h[l]-k*q[l]}let f=function(){function h(k){this._options=k;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline",
"esriGeometryPolygon"];this._previousCoordinate=[0,0];this._transform=null;this._applyTransform=n;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;this._attributesConstructor=function(){return b._createClass(function(){})}()}var q=h.prototype;q.createFeatureResult=function(){return{fields:[],features:[]}};q.finishFeatureResult=function(k){this._options.applyTransform&&(k.transform=null);this._attributesConstructor=
function(){return b._createClass(function(){})}();this._coordinateBuffer=null;this._lengths.length=0;if(k.hasZ){var l=e.getGeometryZScaler(k.geometryType,this._options.sourceSpatialReference,k.spatialReference);if(!c.isNone(l))for(const v of k.features)l(v.geometry)}};q.createSpatialReference=function(){return{}};q.addField=function(k,l){k=k.fields;c.assertIsSome(k);k.push(l);const v=k.map(w=>w.name);this._attributesConstructor=function(){for(const w of v)this[w]=null}};q.addFeature=function(k,l){k.features.push(l)};
q.prepareFeatures=function(k){this._transform=k.transform;this._options.applyTransform&&k.transform&&(this._applyTransform=this._deriveApplyTransform(k));this._vertexDimension=2;k.hasZ&&this._vertexDimension++;k.hasM&&this._vertexDimension++;switch(k.geometryType){case "esriGeometryPoint":this.addCoordinate=(l,v,w)=>this.addCoordinatePoint(l,v,w);this.createGeometry=l=>this.createPointGeometry(l);break;case "esriGeometryPolygon":this.addCoordinate=(l,v,w)=>this._addCoordinatePolygon(l,v,w);this.createGeometry=
l=>this._createPolygonGeometry(l);break;case "esriGeometryPolyline":this.addCoordinate=(l,v,w)=>this._addCoordinatePolyline(l,v,w);this.createGeometry=l=>this._createPolylineGeometry(l);break;case "esriGeometryMultipoint":this.addCoordinate=(l,v,w)=>this._addCoordinateMultipoint(l,v,w),this.createGeometry=l=>this._createMultipointGeometry(l)}};q.createFeature=function(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;this._coordinateBuffer=
null;this._coordinateBufferPtr=0;return{attributes:new this._attributesConstructor}};q.allocateCoordinates=function(){};q.addLength=function(k,l,v){0===this._lengths.length&&(this._toAddInCurrentPath=l);this._lengths.push(l)};q.addQueryGeometry=function(k,l){const {queryGeometry:v,queryGeometryType:w}=l;l=d.unquantizeOptimizedGeometry(v.clone(),v,!1,!1,this._transform);l=d.convertToGeometry(l,w,!1,!1);k.queryGeometryType=w;k.queryGeometry={...l}};q.createPointGeometry=function(k){const l={x:0,y:0,
spatialReference:k.spatialReference};k.hasZ&&(l.z=0);k.hasM&&(l.m=0);return l};q.addCoordinatePoint=function(k,l,v){const w=c.unwrapOrThrow(this._transform,"transform");l=this._applyTransform(w,l,v,0);switch(v){case 0:k.x=l;break;case 1:k.y=l;break;case 2:"z"in k?k.z=l:k.m=l;break;case 3:k.m=l}};q._transformPathLikeValue=function(k,l){let v=0;1>=l&&(v=this._previousCoordinate[l],this._previousCoordinate[l]+=k);const w=c.unwrapOrThrow(this._transform,"transform");return this._applyTransform(w,k,l,
v)};q._addCoordinatePolyline=function(k,l,v){this._dehydratedAddPointsCoordinate(k.paths,l,v)};q._addCoordinatePolygon=function(k,l,v){this._dehydratedAddPointsCoordinate(k.rings,l,v)};q._addCoordinateMultipoint=function(k,l,v){0===v&&k.points.push([]);l=this._transformPathLikeValue(l,v);k.points[k.points.length-1].push(l)};q._createPolygonGeometry=function(k){return{rings:[[]],spatialReference:k.spatialReference,hasZ:!!k.hasZ,hasM:!!k.hasM}};q._createPolylineGeometry=function(k){return{paths:[[]],
spatialReference:k.spatialReference,hasZ:!!k.hasZ,hasM:!!k.hasM}};q._createMultipointGeometry=function(k){return{points:[],spatialReference:k.spatialReference,hasZ:!!k.hasZ,hasM:!!k.hasM}};q._dehydratedAddPointsCoordinate=function(k,l,v){0===v&&0===this._toAddInCurrentPath--&&(k.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);l=this._transformPathLikeValue(l,v);k=k[k.length-1];0===v&&(this._coordinateBufferPtr=
0,this._coordinateBuffer=Array(this._vertexDimension),k.push(this._coordinateBuffer));this._coordinateBuffer[this._coordinateBufferPtr++]=l};q._deriveApplyTransform=function(k){const {hasZ:l,hasM:v}=k;return l&&v?p:l?t:v?r:u};return b._createClass(h)}();a.JSONFeatureSetParserContext=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(a,b,c,e,d,n,u,t,r,p){function m(fa,ba){return fa?ba?4:3:ba?3:2}function g(fa,ba,ka,X){if(fa){if(ka)return ba&&X?T:xa;if(ba&&X)return N}else if(ba&&X)return xa;return pa}function f({scale:fa,translate:ba},ka){return Math.round((ka-ba[0])/fa[0])}function h({scale:fa,translate:ba},ka){return Math.round((ba[1]-ka)/fa[1])}function q({scale:fa,translate:ba},ka,X){return ka*fa[X]+ba[X]}function k(fa){fa=fa.coords;return{x:fa[0],y:fa[1]}}function l(fa,ba){fa.coords[0]=ba.x;fa.coords[1]=ba.y;return fa}
function v(fa){fa=fa.coords;return{x:fa[0],y:fa[1],z:fa[2]}}function w(fa,ba){fa.coords[0]=ba.x;fa.coords[1]=ba.y;fa.coords[2]=ba.z;return fa}function x(fa){fa=fa.coords;return{x:fa[0],y:fa[1],m:fa[2]}}function z(fa,ba){fa.coords[0]=ba.x;fa.coords[1]=ba.y;fa.coords[2]=ba.m;return fa}function A(fa){fa=fa.coords;return{x:fa[0],y:fa[1],z:fa[2],m:fa[3]}}function B(fa,ba){fa.coords[0]=ba.x;fa.coords[1]=ba.y;fa.coords[2]=ba.z;fa.coords[3]=ba.m;return fa}function D(fa,ba){return fa&&ba?B:fa?w:ba?z:l}function y(fa,
ba,ka,X,Q){ka=D(ka,X);for(const {geometry:ca,attributes:ja}of ba)ba=e.isSome(ca)?ka(new p,ca):null,fa.push(new t.OptimizedFeature(ba,ja,null,Q?ja[Q]:void 0));return fa}function C(fa,ba,ka,X){for(const {geometry:Q,attributes:ca}of ba)fa.push({attributes:ca,geometry:e.isSome(Q)?F(Q,ka,X):null});return fa}function F(fa,ba,ka){if(e.isNone(fa))return null;const X=m(ba,ka),Q=[];for(let ca=0;ca<fa.coords.length;ca+=X){const ja=[];for(let ua=0;ua<X;ua++)ja.push(fa.coords[ca+ua]);Q.push(ja)}return ba?ka?{points:Q,
hasZ:ba,hasM:ka}:{points:Q,hasZ:ba}:ka?{points:Q,hasM:ka}:{points:Q}}function G(fa,ba,ka,X,Q){ka=m(ka,X);for(const {geometry:ca,attributes:ja}of ba)ba=e.isSome(ca)?E(new p,ca,ka):null,fa.push(new t.OptimizedFeature(ba,ja,null,Q?ja[Q]:void 0));return fa}function E(fa,ba,ka=m(ba.hasZ,ba.hasM)){fa.lengths[0]=ba.points.length;const X=fa.coords;let Q=0;for(const ca of ba.points)for(ba=0;ba<ka;ba++)X[Q++]=ca[ba];return fa}function P(fa,ba,ka){if(!fa)return null;const X=m(ba,ka),{coords:Q,lengths:ca}=fa;
fa=[];let ja=0;for(const ua of ca){const da=[];for(let ra=0;ra<ua;ra++){const wa=[];for(let Ia=0;Ia<X;Ia++)wa.push(Q[ja++]);da.push(wa)}fa.push(da)}return ba?ka?{paths:fa,hasZ:ba,hasM:ka}:{paths:fa,hasZ:ba}:ka?{paths:fa,hasM:ka}:{paths:fa}}function O(fa,ba,ka,X,Q){ka=m(ka,X);for(const {geometry:ca,attributes:ja}of ba)ba=e.isSome(ca)?K(new p,ca,ka):null,fa.push(new t.OptimizedFeature(ba,ja,null,Q?ja[Q]:void 0));return fa}function K(fa,ba,ka=m(ba.hasZ,ba.hasM)){const {lengths:X,coords:Q}=fa;let ca=
0;for(const ja of ba.paths){for(const ua of ja)for(ba=0;ba<ka;ba++)Q[ca++]=ua[ba];X.push(ja.length)}return fa}function M(fa,ba,ka){if(!fa)return null;const X=m(ba,ka),{coords:Q,lengths:ca}=fa;fa=[];let ja=0;for(const ua of ca){const da=[];for(let ra=0;ra<ua;ra++){const wa=[];for(let Ia=0;Ia<X;Ia++)wa.push(Q[ja++]);da.push(wa)}fa.push(da)}return ba?ka?{rings:fa,hasZ:ba,hasM:ka}:{rings:fa,hasZ:ba}:ka?{rings:fa,hasM:ka}:{rings:fa}}function I(fa,ba,ka,X,Q){for(const {geometry:ca,centroid:ja,attributes:ua}of ba){ba=
e.isSome(ca)?H(new p,ca,ka,X):null;const da=Q?ua[Q]:void 0;e.isSome(ja)?fa.push(new t.OptimizedFeature(ba,ua,l(new p,ja),da)):fa.push(new t.OptimizedFeature(ba,ua,null,da))}return fa}function H(fa,ba,ka=ba.hasZ,X=ba.hasM){L(fa,ba.rings,ka,X);return fa}function L(fa,ba,ka,X){ka=m(ka,X);const {lengths:Q,coords:ca}=fa;X=0;ia(fa);for(const ja of ba){for(const ua of ja)for(ba=0;ba<ka;ba++)ca[X++]=ua[ba];Q.push(ja.length)}return fa}function aa(fa,ba,ka,X,Q,ca){Y(fa);if(!ka){for(const ja of ba)fa.push(new t.OptimizedFeature(null,
ja.attributes,null,ca?ja.attributes[ca]:void 0));return fa}switch(ka){case "esriGeometryPoint":return y(fa,ba,X,Q,ca);case "esriGeometryMultipoint":return G(fa,ba,X,Q,ca);case "esriGeometryPolyline":return O(fa,ba,X,Q,ca);case "esriGeometryPolygon":return I(fa,ba,X,Q,ca);default:Z.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ka}'`)),Y(fa)}return fa}function R(fa,ba,ka,X){fa=fa&&("coords"in fa?fa:fa.geometry);if(e.isNone(fa))return null;switch(ba){case "esriGeometryPoint":return ba=
k,ka&&X?ba=A:ka?ba=v:X&&(ba=x),ba(fa);case "esriGeometryMultipoint":return F(fa,ka,X);case "esriGeometryPolyline":return P(fa,ka,X);case "esriGeometryPolygon":return M(fa,ka,X);default:return Z.error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${ba}'`)),null}}function S(fa,ba,ka,X,Q){Y(fa);if(e.isNone(ka)){for(const ja of ba)fa.push({attributes:ja.attributes});return fa}switch(ka){case "esriGeometryPoint":ka=k;X&&Q?ka=A:X?ka=v:Q&&(ka=x);for(var ca of ba){const {geometry:ja,
attributes:ua}=ca;X=e.isSome(ja)?ka(ja):null;fa.push({attributes:ua,geometry:X})}break;case "esriGeometryMultipoint":return C(fa,ba,X,Q);case "esriGeometryPolyline":for(const {geometry:ja,attributes:ua}of ba)fa.push({attributes:ua,geometry:e.isSome(ja)?P(ja,X,Q):null});break;case "esriGeometryPolygon":for(const {geometry:ja,attributes:ua,centroid:da}of ba)ca=e.isSome(ja)?M(ja,X,Q):null,e.isSome(da)?(ba=k(da),fa.push({attributes:ua,centroid:ba,geometry:ca})):fa.push({attributes:ua,geometry:ca});break;
default:Z.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ka}'`))}return fa}function V(fa,ba,ka,X,Q,ca,ja=ka,ua=X){ia(fa);if(e.isNone(ba)||!ba.coords.length)return null;Q=U[Q];const {coords:da,lengths:ra}=ba;ba=m(ka,X);const wa=m(ka&&ja,X&&ua);ka=g(ka,X,ja,ua);if(!ra.length)return ka(fa.coords,da,0,0,f(ca,da[0]),h(ca,da[1])),ia(fa,ba,0),fa;let Ia,Oa=0,ma,ta=0;for(const Ga of ra){if(Ga<Q)continue;let Aa=0;ma=ta;ua=X=f(ca,da[Oa]);Ia=ja=h(ca,da[Oa+1]);ka(fa.coords,
da,ma,Oa,ua,Ia);Aa++;Oa+=ba;ma+=wa;for(let Na=1;Na<Ga;Na++,Oa+=ba)if(ua=f(ca,da[Oa]),Ia=h(ca,da[Oa+1]),ua!==X||Ia!==ja)ka(fa.coords,da,ma,Oa,ua-X,Ia-ja),ma+=wa,Aa++,X=ua,ja=Ia;Aa>=Q&&(fa.lengths.push(Aa),ta=ma)}Y(fa.coords,ta);return fa.coords.length?fa:null}function ea(fa,ba,ka,X,Q,ca,ja){let ua=X,da=0;for(let wa=ca+ka;wa<ja;wa+=ka){var ra=ba[wa];const Ia=ba[wa+1],Oa=ba[ja],ma=ba[ja+1];let ta=ba[ca],Ga=ba[ca+1],Aa=Oa-ta,Na=ma-Ga;if(0!==Aa||0!==Na){const Va=((ra-ta)*Aa+(Ia-Ga)*Na)/(Aa*Aa+Na*Na);1<
Va?(ta=Oa,Ga=ma):0<Va&&(ta+=Aa*Va,Ga+=Na*Va)}Aa=ra-ta;Na=Ia-Ga;ra=Aa*Aa+Na*Na;ra>ua&&(da=wa,ua=ra)}ua>X&&(da-ca>ka&&ea(fa,ba,ka,X,Q,ca,da),Q(fa,ba,fa.length,da,ba[da],ba[da+1]),ja-da>ka&&ea(fa,ba,ka,X,Q,da,ja))}function ha(fa,ba,ka,X,Q){const {coords:ca,lengths:ja}=ba;ka=m(ka,X);if(!ca.length)return fa!==ba&&ia(fa),fa;e.assertIsSome(Q);const {originPosition:ua,scale:da,translate:ra}=Q;Q=Fa;Q.originPosition=ua;X=Q.scale;X[0]=da[0]??1;X[1]=-(da[1]??1);X[2]=da[2]??1;X[3]=da[3]??1;var wa=Q.translate;
wa[0]=ra[0]??0;wa[1]=ra[1]??0;wa[2]=ra[2]??0;wa[3]=ra[3]??0;if(!ja.length){for(X=0;X<ka;++X)fa.coords[X]=q(Q,ca[X],X);fa!==ba&&ia(fa,ka,0);return fa}wa=0;for(let Oa=0;Oa<ja.length;Oa++){const ma=ja[Oa];fa.lengths[Oa]=ma;for(var Ia=0;Ia<ka;++Ia)fa.coords[wa+Ia]=q(Q,ca[wa+Ia],Ia);Ia=fa.coords[wa];let ta=fa.coords[wa+1];wa+=ka;for(let Ga=1;Ga<ma;Ga++,wa+=ka){Ia+=ca[wa]*X[0];ta+=ca[wa+1]*X[1];fa.coords[wa]=Ia;fa.coords[wa+1]=ta;for(let Aa=2;Aa<ka;++Aa)fa.coords[wa+Aa]=q(Q,ca[wa+Aa],Aa)}}fa!==ba&&ia(fa,
ca.length,ja.length);return fa}function la(fa,ba,ka,X){let Q=0,ca=fa[X*ba],ja=fa[X*(ba+1)];for(let ua=1;ua<ka;ua++){const da=ca+fa[X*(ba+ua)],ra=ja+fa[X*(ba+ua)+1],wa=(da-ca)*(ra+ja);ca=da;ja=ra;Q+=wa}return.5*Q}function ia(fa,ba=0,ka=0){Y(fa.lengths,ka);Y(fa.coords,ba)}function Y(fa,ba=0){fa.length!==ba&&(fa.length=ba)}const Z=c.getLogger("esri.layers.graphics.featureConversionUtils"),U={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},pa=(fa,ba,ka,X,Q,ca)=>
{fa[ka]=Q;fa[ka+1]=ca},xa=(fa,ba,ka,X,Q,ca)=>{fa[ka]=Q;fa[ka+1]=ca;fa[ka+2]=ba[X+2]},N=(fa,ba,ka,X,Q,ca)=>{fa[ka]=Q;fa[ka+1]=ca;fa[ka+2]=ba[X+3]},T=(fa,ba,ka,X,Q,ca)=>{fa[ka]=Q;fa[ka+1]=ca;fa[ka+2]=ba[X+2];fa[ka+3]=ba[X+3]},qa=[],Ca=[],Fa={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};a.convertFromFeature=function(fa,ba,ka,X,Q){qa[0]=fa;[fa]=aa(Ca,qa,ba,ka,X,Q);Y(qa);Y(Ca);return fa};a.convertFromFeatureSet=function(fa,ba){const ka=new r,{hasM:X,hasZ:Q,features:ca,objectIdFieldName:ja,
spatialReference:ua,geometryType:da,exceededTransferLimit:ra,transform:wa,fields:Ia}=fa;Ia&&(ka.fields=Ia);ka.geometryType=da??null;ka.objectIdFieldName=ja??ba??null;ka.spatialReference=ua??null;if(!ka.objectIdFieldName)return Z.error(new b("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),ka;ca&&aa(ka.features,ca,da,Q,X,ka.objectIdFieldName);ra&&(ka.exceededTransferLimit=ra);X&&(ka.hasM=X);Q&&(ka.hasZ=Q);wa&&(ka.transform=wa);return ka};a.convertFromFeatures=aa;a.convertFromGeometry=
function(fa,ba,ka){if(e.isNone(fa))return null;const X=new p;"hasZ"in fa&&null==ba&&(ba=fa.hasZ);"hasM"in fa&&null==ka&&(ka=fa.hasM);if(u.isPoint(fa))return D(null!=ba?ba:null!=fa.z,null!=ka?ka:null!=fa.m)(X,fa);if(u.isPolygon(fa))return H(X,fa,ba,ka);if(u.isPolyline(fa))return K(X,fa,m(ba,ka));if(u.isMultipoint(fa))return E(X,fa,m(ba,ka));Z.error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${fa}'`))};a.convertFromGraphics=function(fa,ba,ka,X,Q,ca){const ja=
fa.length;switch(ka){case "esriGeometryPoint":y(fa,ba,X,Q,ca);break;case "esriGeometryMultipoint":G(fa,ba,X,Q,ca);break;case "esriGeometryPolyline":O(fa,ba,X,Q,ca);break;case "esriGeometryPolygon":I(fa,ba,X,Q,ca);break;default:Z.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ka}'`))}for(X=0;X<ba.length;X++)fa[X+ja].geometryType=ka,fa[X+ja].insertAfter=ba[X].insertAfter,fa[X+ja].groupId=ba[X].groupId;return fa};a.convertFromMultipoint=E;a.convertFromMultipointFeatures=
G;a.convertFromNestedArray=L;a.convertFromPoint=function(fa,ba,ka=D(null!=ba.z,null!=ba.m)){return ka(fa,ba)};a.convertFromPointFeatures=y;a.convertFromPolygon=H;a.convertFromPolyline=K;a.convertFromPolylineFeatures=O;a.convertToFeature=function(fa,ba,ka,X){Ca[0]=fa;S(qa,Ca,ba,ka,X);fa=qa[0];Y(qa);Y(Ca);return fa};a.convertToFeatureSet=function(fa){const {objectIdFieldName:ba,spatialReference:ka,transform:X,fields:Q,hasM:ca,hasZ:ja,features:ua,geometryType:da,exceededTransferLimit:ra,uniqueIdField:wa,
queryGeometry:Ia,queryGeometryType:Oa}=fa;fa=S([],ua,da,ja,ca);const ma=R(Ia,Oa,!1,!1);fa={features:fa,fields:Q,geometryType:da,objectIdFieldName:ba,spatialReference:ka,uniqueIdField:wa,queryGeometry:ma};X&&(fa.transform=X);ra&&(fa.exceededTransferLimit=ra);ca&&(fa.hasM=ca);ja&&(fa.hasZ=ja);return fa};a.convertToFeatures=S;a.convertToGeometry=R;a.convertToMultipoint=F;a.convertToMultipointFeatures=C;a.convertToPoint=function(fa,ba,ka){return fa?ba?ka?A(fa):v(fa):ka?x(fa):k(fa):null};a.convertToPolygon=
M;a.convertToPolyline=P;a.deltaDecodeGeometry=function(fa,ba){if(e.isNone(fa))return null;const ka=fa.clone(),X=fa.coords;fa=fa.lengths;let Q=0;for(let ua=0;ua<fa.length;ua++){const da=fa[ua];var ca=X[ba*Q],ja=X[ba*Q+1];for(let ra=1;ra<da;ra++)ca+=X[ba*(Q+ra)],ja+=X[ba*(Q+ra)+1],ka.coords[ba*(Q+ra)]=ca,ka.coords[ba*(Q+ra)+1]=ja;Q+=da}return ka};a.deltaEncodeGeometry=function(fa,ba){const ka=fa.clone(),X=fa.coords;fa=fa.lengths;let Q=0;for(let ja=0;ja<fa.length;ja++){const ua=fa[ja];let da=X[ba*Q];
var ca=X[ba*Q+1];for(let ra=1;ra<ua;ra++){const wa=X[ba*(Q+ra)],Ia=X[ba*(Q+ra)+1];ca=Ia-ca;ka.coords[ba*(Q+ra)]=wa-da;ka.coords[ba*(Q+ra)+1]=ca;da=wa;ca=Ia}Q+=ua}return ka};a.generalizeOptimizedGeometry=function(fa,ba,ka,X,Q,ca,ja=ka,ua=X){ia(fa);if(!ba||!ba.coords.length)return null;Q=U[Q];const {coords:da,lengths:ra}=ba;ba=m(ka,X);const wa=m(ka&&ja,X&&ua);ka=g(ka,X,ja,ua);if(!ra.length)return ka(fa.coords,da,0,0,da[0],da[1]),ia(fa,ba,0),fa;X=0;ca*=ca;for(const Ia of ra){if(Ia<Q){X+=Ia*ba;continue}ja=
fa.coords.length/wa;ua=X;const Oa=X+(Ia-1)*ba;ka(fa.coords,da,fa.coords.length,ua,da[ua],da[ua+1]);ea(fa.coords,da,ba,ca,ka,ua,Oa);ka(fa.coords,da,fa.coords.length,Oa,da[Oa],da[Oa+1]);ua=fa.coords.length/wa-ja;ua>=Q?fa.lengths.push(ua):Y(fa.coords,ja*wa);X+=Ia*ba}return fa.coords.length?fa:null};a.getBoundsOptimizedGeometry=function(fa,ba,ka,X){if(e.isNone(ba)||!ba.coords||!ba.coords.length)return null;ka=m(ka,X);let Q=X=Number.POSITIVE_INFINITY,ca=Number.NEGATIVE_INFINITY,ja=Number.NEGATIVE_INFINITY;
if(ba&&ba.coords){ba=ba.coords;for(let ua=0;ua<ba.length;ua+=ka){const da=ba[ua],ra=ba[ua+1];X=Math.min(X,da);ca=Math.max(ca,da);Q=Math.min(Q,ra);ja=Math.max(ja,ra)}}d.is(fa)?d.fromRectValues(fa,X,Q,ca,ja):n.fromValues(X,Q,ca,ja,fa);return fa};a.getQuantizedArea=function(fa,ba){const {coords:ka,lengths:X}=fa;let Q=fa=0;for(let ca=0;ca<X.length;ca++){const ja=X[ca];Q+=la(ka,fa,ja,ba);fa+=ja}return Math.abs(Q)};a.getQuantizedBoundsOptimizedGeometry=function(fa,ba,ka,X){ka=m(ka,X);const {lengths:Q,coords:ca}=
ba;X=ba=Number.POSITIVE_INFINITY;let ja=Number.NEGATIVE_INFINITY,ua=Number.NEGATIVE_INFINITY,da=0;for(const ra of Q){let wa=ca[da],Ia=ca[da+1];ba=Math.min(wa,ba);X=Math.min(Ia,X);ja=Math.max(wa,ja);ua=Math.max(Ia,ua);da+=ka;for(let Oa=1;Oa<ra;Oa++,da+=ka){const ma=ca[da],ta=ca[da+1];wa+=ma;Ia+=ta;0>ma&&(ba=Math.min(ba,wa));0<ma&&(ja=Math.max(ja,wa));0>ta?X=Math.min(X,Ia):0<ta&&(ua=Math.max(ua,Ia))}}fa[0]=ba;fa[1]=X;fa[2]=ja;fa[3]=ua;return fa};a.getSignedQuantizedRingArea=la;a.quantizeOptimizedFeatureSet=
function(fa,ba){const {geometryType:ka,features:X,hasM:Q,hasZ:ca}=ba;if(!fa)return ba;for(let ja=0;ja<X.length;ja++){const ua=X[ja],da=ua.weakClone();da.geometry=new p;V(da.geometry,ua.geometry,Q,ca,ka,fa);ua.centroid&&(da.centroid=new p,V(da.centroid,ua.centroid,Q,ca,"esriGeometryPoint",fa));X[ja]=da}ba.transform=fa;return ba};a.quantizeOptimizedGeometry=V;a.quantizeX=f;a.quantizeY=h;a.removeCollinearVectices=function(fa,ba,ka,X,Q){if(!ba||!ba.coords||!ba.coords.length)return null;ka=U[ka];const {coords:ca,
lengths:ja}=ba;ba=g(X,Q,X,Q);X=m(X,Q);let ua=Q=0,da=0,ra=0;for(const Oa of ja){ua=ra;ba(fa.coords,ca,ua,Q,ca[Q],ca[Q+1]);Q+=X;var wa=ca[Q];let ma=ca[Q+1],ta=wa,Ga=ma;var Ia=ma/wa;ua+=X;ba(fa.coords,ca,ua,Q,ta,Ga);Q+=X;for(let Aa=2;Aa<Oa;Aa++){wa=ca[Q];ma=ca[Q+1];const Na=ma/wa,Va=Ia===Na||!isFinite(Ia)&&!isFinite(Na);Ia=Va&&isFinite(Na)?0<=Ia&&0<=Na||0>=Ia&&0>=Na:0<=Ga&&0<=ma||0>=Ga&&0>=ma;Va&&Ia?(ta+=wa,Ga+=ma):(ta=wa,Ga=ma,ua+=X);ba(fa.coords,ca,ua,Q,ta,Ga);Q+=X;Ia=Na}ua+=X;wa=(ua-ra)/X;wa>=ka&&
(fa.lengths[da]=wa,ra=ua,da++)}fa.coords.length>ra&&(fa.coords.length=ra);fa.lengths.length>da&&(fa.lengths.length=da);return fa.coords.length&&fa.lengths.length?fa:null};a.removeZMValues=function(fa,ba,ka,X,Q,ca){ia(fa);fa.lengths.push(...ba.lengths);if(ka===Q&&X===ca)for(var ja=0;ja<ba.coords.length;ja++)fa.coords.push(ba.coords[ja]);else for(ja=m(ka,X),ka=g(ka,X,Q,ca),ba=ba.coords,X=0;X<ba.length;X+=ja)ka(fa.coords,ba,fa.coords.length,X,ba[X],ba[X+1]);return fa};a.unquantizeOptimizedFeatureSet=
function(fa){const {transform:ba,features:ka,hasM:X,hasZ:Q}=fa;if(!ba)return fa;for(const ca of ka)e.isSome(ca.geometry)&&ha(ca.geometry,ca.geometry,X,Q,ba),e.isSome(ca.centroid)&&ha(ca.centroid,ca.centroid,X,Q,ba);fa.transform=null;return fa};a.unquantizeOptimizedGeometry=ha;a.unquantizeValue=q;a.unquantizeX=function(fa,ba){return q(fa,ba,0)};a.unquantizeY=function(fa,ba){return q(fa,-ba,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/View":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Map ../TimeExtent ../core/Accessor ../core/asyncUtils ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/HandleOwner ../core/handleUtils ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/AnalysesCollection ../support/GraphicsCollection ../time/TimeReference ./BasemapView ./LayerViewManager ./Magnifier ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F,G,E,P,O,K,M,I,H,L,aa,R,S){var V;d=V=function(ea){function ha(ia){var Y=la.call(this,ia);Y._userSpatialReference=null;Y._cursor=null;Y.allLayerViews=new t({getCollections:()=>[Y.basemapView?.baseLayerViews,Y.groundView?.layerViews,Y.layerViews,Y.basemapView?.referenceLayerViews],getChildrenFunction:Z=>Z.layerViews});Y.groundView=null;Y.basemapView=null;Y.fatalError=null;Y.graphics=new P.GraphicsCollection;Y.analyses=new E.AnalysesCollection;
Y.typeSpecificPreconditionsReady=!0;Y.layerViews=new u;Y.magnifier=new I;Y.padding={left:0,top:0,right:0,bottom:0};Y.ready=!1;Y.spatialReferenceWarningDelay=1E3;Y.supportsGround=!0;Y.timeExtent=null;Y.timeReference=new O;Y.type=null;Y.scale=null;Y.updating=!1;Y.initialExtentRequired=!0;Y.input=new L;Y.navigation=new R;Y.layerViewManager=null;Y.analysisViewManager=null;Y.isHeightModelInfoRequired=!1;Y.width=null;Y.height=null;Y.resizing=!1;Y.suspended=!1;Y.viewEvents=new aa.ViewEvents(a._assertThisInitialized(Y));
Y.persistableViewModels=new u;Y._isValid=!1;Y._readyCycleForced=!1;Y._currentSpatialReference=null;Y.handles.add(v.watch(()=>Y.preconditionsReady,Z=>{Z?(Y._currentSpatialReference=Y.spatialReference,V.views.add(a._assertThisInitialized(Y))):(Y._currentSpatialReference=null,V.views.remove(a._assertThisInitialized(Y)));Y.notifyChange("spatialReference");!Z&&Y.ready?(Y.toolViewManager?.detach(),q.isSome(Y.analysisViewManager)&&Y.analysisViewManager.detach(),Y.layerViewManager?.clear(),Y._teardown()):
Z&&!Y.ready&&(Y._startup(),q.isSome(Y.analysisViewManager)&&Y.analysisViewManager.attach(),Y.toolViewManager.attach())},v.sync));return Y}a._inherits(ha,ea);var la=a._createSuper(ha);ea=ha.prototype;ea.initialize=function(){this.addResolvingPromise(this.validate().then(()=>{this._isValid=!0;return v.whenOnce(()=>this.ready)}));this.basemapView=new K.BasemapView({view:this});this.layerViewManager=new M({view:this,layerViewImporter:{importLayerView:ia=>this.importLayerView(ia),hasLayerViewModule:ia=>
this.hasLayerViewModule(ia)},supportsGround:this.supportsGround});this.toolViewManager=new H({view:this});this._setupSpatialReferenceLogger();this.handles.add([v.watch(()=>this.initialExtentRequired,ia=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:ia},{sync:!0,initial:!0}),v.watch(()=>this.ready,ia=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=ia,this.defaultsFromMap.userSpatialReference=ia?this.spatialReference:this._userSpatialReference)},{sync:!0}),v.watch(()=>
this._userSpatialReference,ia=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=ia)},{sync:!0,initial:!0})])};ea._setupSpatialReferenceLogger=function(){let ia=null;this.handles.add([v.watch(()=>this.defaultsFromMap?.ready,Y=>{const Z=0<this.map?.allLayers.length;Y&&!this.spatialReference&&Z?q.isSome(ia)||(Y=g.makeHandle(()=>ia=q.abortMaybe(ia)),ia=n.createTask(async U=>{try{await l.after(this.spatialReferenceWarningDelay,null,U)}catch{return}finally{ia=null}h.getLogger(this.declaredClass).warn("#spatialReference",
"no spatial reference could be derived from the currently added map layers")}),this.handles.add(Y,"spatial-reference-logger-task")):this.handles.remove("spatial-reference-logger-task")},{sync:!0})])};ea.destroy=function(){if(!this.destroyed){this.viewEvents.destroy();this.allLayerViews.destroy();this.navigation&&(this.navigation.destroy(),this._set("navigation",null));this.graphics=q.destroyMaybe(this.graphics);this.analyses=q.destroyMaybe(this.analyses);this.handles.remove("defaultsFromMap");this.defaultsFromMap.destroy();
this._set("defaultsFromMap",null);q.destroyMaybe(this.analysisViewManager);this.toolViewManager=q.destroyMaybe(this.toolViewManager);this.layerViewManager=q.destroyMaybe(this.layerViewManager);this.basemapView=q.destroyMaybe(this.basemapView);this.invalidate();this._emitter.clear();this.handles.removeAll();var ia=this.map;this.map=null;ia?.destroy()}};ea._startup=function(){this._set("ready",!0)};ea._teardown=function(){this._set("ready",!1)};ea.whenReady=function(){return Promise.resolve(this)};
ea.toMap=function(){h.getLogger(this.declaredClass).error("#toMap()","Not implemented on this instance of View");return null};ea._spatialReferenceChanged=function(ia){};ea.whenLayerView=function(ia){return this.layerViewManager?.whenLayerView(ia)??Promise.reject()};ea.getDefaultSpatialReference=function(){return this.defaultsFromMap?.spatialReference};ea.getDefaultHeightModelInfo=function(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??
null};ea.importLayerView=function(ia){throw new r("importLayerView() not implemented");};ea.hasLayerViewModule=function(ia){return!1};ea.validate=async function(){};ea.invalidate=function(){this._isValid=!1};ea.getSpatialReferenceSupport=function(){return{constraints:null}};ea._validateSpatialReference=function(ia){return q.isSome(this.getSpatialReferenceSupport({spatialReference:ia}))};ea.when=function(ia,Y){this.isResolved()&&!this.ready&&h.getLogger(this.declaredClass).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() \x3d\x3e view.ready).then(...) instead.");
return a._get(a._getPrototypeOf(ha.prototype),"when",this).call(this,ia,Y)};ea.forceReadyCycle=function(){this.ready&&(v.when(()=>!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)};ea.addAndActivateTool=function(ia){this.toolViewManager.tools.add(ia);this.activeTool=ia};ea.tryFatalErrorRecovery=function(){this.fatalError=null};a._createClass(ha,[{key:"activeTool",get:function(){return this.toolViewManager?.activeTool},set:function(ia){this.toolViewManager&&
(this.toolViewManager.activeTool=ia)}},{key:"animation",get:function(){return this._get("animation")},set:function(ia){this._set("animation",ia)}},{key:"center",get:function(){return null}},{key:"_defaultsFromMapSettings",get:function(){return{}}},{key:"defaultsFromMap",get:function(){return new S.DefaultsFromMap({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:ia=>this.getSpatialReferenceSupport(ia),...this._defaultsFromMapSettings})}},{key:"extent",
get:function(){return this._get("extent")},set:function(ia){this._set("extent",ia)}},{key:"heightModelInfo",get:function(){return this.getDefaultHeightModelInfo()}},{key:"interacting",get:function(){return this.navigating}},{key:"navigating",get:function(){return!1}},{key:"preconditionsReady",get:function(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||f.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||
!this._currentSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}},{key:"resolution",get:function(){return 0}},{key:"map",set:function(ia){const Y=this._get("map");ia!==Y&&(ia?.destroyed&&(h.getLogger(this.declaredClass).warn("#map","The provided map is already destroyed",{map:ia}),ia=null),f.isLoadable(ia)&&ia.load().catch(()=>{}),this.constructed&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",ia))}},{key:"spatialReference",get:function(){let ia=
this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;ia&&this.defaultsFromMap?.required?.heightModelInfo&&(ia=ia.clone(),ia.vcsWkid=this.defaultsFromMap.vcsWkid,ia.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);return ia},set:function(ia){const Y=!G.equals(ia,this._get("spatialReference"));this._set("_userSpatialReference",ia);Y&&(this._set("spatialReference",ia),this._spatialReferenceChanged(ia))}},{key:"stationary",get:function(){return!this.animation&&
!this.navigating&&!this.resizing}},{key:"tools",get:function(){return this.toolViewManager?.tools}},{key:"initialExtent",get:function(){return this.defaultsFromMap?.extent}},{key:"cursor",get:function(){const ia=this.toolViewManager?this.toolViewManager.cursor:null;return q.isSome(ia)?ia:this._cursor||"default"},set:function(ia){this._cursor=ia;this.notifyChange("cursor")}},{key:"size",get:function(){return[this.width,this.height]}}]);return ha}(m.HandleOwnerMixin(p.EventedMixin(k.EsriPromiseMixin(d))));
d.views=new u;b.__decorate([w.property()],d.prototype,"_userSpatialReference",void 0);b.__decorate([w.property()],d.prototype,"activeTool",null);b.__decorate([w.property({readOnly:!0})],d.prototype,"allLayerViews",void 0);b.__decorate([w.property()],d.prototype,"groundView",void 0);b.__decorate([w.property()],d.prototype,"animation",null);b.__decorate([w.property()],d.prototype,"basemapView",void 0);b.__decorate([w.property()],d.prototype,"center",null);b.__decorate([w.property({readOnly:!0})],d.prototype,
"_defaultsFromMapSettings",null);b.__decorate([w.property()],d.prototype,"defaultsFromMap",null);b.__decorate([w.property()],d.prototype,"fatalError",void 0);b.__decorate([w.property({type:y})],d.prototype,"extent",null);b.__decorate([w.property(D.owningCollectionProperty(P.GraphicsCollection,"graphics"))],d.prototype,"graphics",void 0);b.__decorate([w.property(D.owningCollectionProperty(E.AnalysesCollection,"analyses"))],d.prototype,"analyses",void 0);b.__decorate([w.property({readOnly:!0,type:C})],
d.prototype,"heightModelInfo",null);b.__decorate([w.property({readOnly:!0})],d.prototype,"interacting",null);b.__decorate([w.property({readOnly:!0})],d.prototype,"navigating",null);b.__decorate([w.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _currentSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],d.prototype,"preconditionsReady",null);b.__decorate([w.property({readOnly:!0})],d.prototype,"typeSpecificPreconditionsReady",
void 0);b.__decorate([w.property({type:u,readOnly:!0})],d.prototype,"layerViews",void 0);b.__decorate([w.property()],d.prototype,"resolution",null);b.__decorate([w.property({type:I})],d.prototype,"magnifier",void 0);b.__decorate([w.property({value:null,type:c})],d.prototype,"map",null);b.__decorate([w.property()],d.prototype,"padding",void 0);b.__decorate([w.property({readOnly:!0})],d.prototype,"ready",void 0);b.__decorate([w.property({type:F})],d.prototype,"spatialReference",null);b.__decorate([w.property()],
d.prototype,"spatialReferenceWarningDelay",void 0);b.__decorate([w.property()],d.prototype,"stationary",null);b.__decorate([w.property({readOnly:!0})],d.prototype,"supportsGround",void 0);b.__decorate([w.property({type:e})],d.prototype,"timeExtent",void 0);b.__decorate([w.property({type:O,nonNullable:!0})],d.prototype,"timeReference",void 0);b.__decorate([w.property()],d.prototype,"tools",null);b.__decorate([w.property()],d.prototype,"toolViewManager",void 0);b.__decorate([w.property({readOnly:!0})],
d.prototype,"type",void 0);b.__decorate([w.property({type:Number})],d.prototype,"scale",void 0);b.__decorate([w.property({readOnly:!0})],d.prototype,"updating",void 0);b.__decorate([w.property({readOnly:!0})],d.prototype,"initialExtentRequired",void 0);b.__decorate([w.property({readOnly:!0})],d.prototype,"initialExtent",null);b.__decorate([w.property()],d.prototype,"cursor",null);b.__decorate([w.property({readOnly:!0})],d.prototype,"input",void 0);b.__decorate([w.property({type:R,nonNullable:!0})],
d.prototype,"navigation",void 0);b.__decorate([w.property()],d.prototype,"layerViewManager",void 0);b.__decorate([w.property()],d.prototype,"analysisViewManager",void 0);b.__decorate([w.property()],d.prototype,"width",void 0);b.__decorate([w.property()],d.prototype,"height",void 0);b.__decorate([w.property({readOnly:!0})],d.prototype,"resizing",void 0);b.__decorate([w.property({value:null,readOnly:!0})],d.prototype,"size",null);b.__decorate([w.property({readOnly:!0})],d.prototype,"suspended",void 0);
b.__decorate([w.property({readOnly:!0})],d.prototype,"viewEvents",void 0);b.__decorate([w.property({readOnly:!0})],d.prototype,"persistableViewModels",void 0);b.__decorate([w.property()],d.prototype,"_isValid",void 0);b.__decorate([w.property()],d.prototype,"_readyCycleForced",void 0);b.__decorate([w.property()],d.prototype,"_currentSpatialReference",void 0);return d=V=b.__decorate([B.subclass("esri.views.View")],d)})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../Collection ../collectionUtils ../HandleOwner ../has ../Logger ../maybe ../accessorSupport/decorators/property ../accessorSupport/ensureType ../arrayUtils ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){a.OwningCollection=function(h){function q(l){var v=k.call(this,l);v.handles.add([v.on("before-add",w=>{r.isNone(w.item)&&w.preventDefault()}),v.on("after-add",w=>v._own(w.item)),v.on("after-remove",w=>v._release(w.item))]);return v}b._inherits(q,h);var k=b._createSuper(q);h=q.prototype;h._ownAll=function(){for(const l of this.items)this._own(l)};h._releaseAll=function(){for(const l of this.items)this._release(l)};h._createNewInstance=function(l){return this.itemType?
new (e.ofType(this.itemType.Type))(l):new e(l)};b._createClass(q,[{key:"owner",get:function(){return this._get("owner")},set:function(l){l!==this._get("owner")&&(this._releaseAll(),this._set("owner",l),this._ownAll())}}]);return q}(n.HandleOwnerMixin(e));c.__decorate([p.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=c.__decorate([f.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(h,q){return{type:h,cast:d.castForReferenceSetter,
set(k){k=d.referenceSetter(k,this._get(q),h);k.owner=this;this._set(q,k)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/Error ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,c,e,d,n,u,t,r,p,m){a.AnalysesCollection=
function(g){function f(q){var k=h.call(this,q);k.handles.add(k.on("before-add",l=>{d.isNone(l.item)||l.item.parent!==k.owner||(e.getLogger(k.declaredClass).warn("Analysis inside the collection must be unique. Not adding this element again."),l.preventDefault())}));return k}b._inherits(f,g);var h=b._createSuper(f);g=f.prototype;g._own=function(q){q.parent=this.owner};g._release=function(q){q.parent=null};return b._createClass(f)}(m.OwningCollection);a.AnalysesCollection=c.__decorate([p.subclass("esri.support.AnalysesCollection")],
a.AnalysesCollection);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/Error ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g){a.GraphicsCollection=function(f){function h(){return q.apply(this,
arguments)}b._inherits(h,f);var q=b._createSuper(h);f=h.prototype;f._own=function(k){k.layer&&"remove"in k.layer&&k.layer!==this.owner&&k.layer.remove(k);k.layer=this.owner};f._release=function(k){k.layer===this.owner&&(k.layer=null)};return b._createClass(h)}(g.OwningCollection);c.__decorate([p.shared({Type:e,ensureType:n.ensureType(e)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=c.__decorate([m.subclass("esri.support.GraphicsCollection")],a.GraphicsCollection);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/views/BasemapView":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p,m){a.BasemapView=function(g){function f(q){var k=h.call(this,q);k.view=null;k.baseLayerViews=new d;k.referenceLayerViews=
new d;k._loadingHandle=n.watch(()=>k.view?.map?.basemap,l=>{l&&l.load().catch(()=>{})},n.initial);return k}b._inherits(f,g);var h=b._createSuper(f);f.prototype.destroy=function(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)};b._createClass(f,[{key:"suspended",get:function(){return this.view?this.view.suspended:!0}},{key:"updating",get:function(){if(this.view&&this.view.suspended)return!1;const q=this.view?.map?.basemap;return q&&q.loaded?this.baseLayerViews.some(k=>
k.updating)||this.referenceLayerViews.some(k=>k.updating):!1}}]);return f}(e);c.__decorate([u.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);c.__decorate([u.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);c.__decorate([u.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",void 0);c.__decorate([u.property({readOnly:!0})],a.BasemapView.prototype,"suspended",null);c.__decorate([u.property({type:Boolean,readOnly:!0})],a.BasemapView.prototype,
"updating",null);a.BasemapView=c.__decorate([m.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/LayerViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/reactiveUtils ../core/scheduling ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../core/support/WatchUpdatingTracking ../support/collectionUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l){let v=function(){function w(z,A,B){this.layer=z;this.view=A;this.layerViewImporter=B;this._controller=new AbortController;this._deferred=t.createDeferred();this.done=this._started=!1;this.promise=this._deferred.promise;t.onAbort(this._controller.signal,()=>{const D=new e("cancelled:layerview-create","layerview creation cancelled",{layer:z});this._deferred.reject(D)})}var x=w.prototype;x.tryRecycle=function(z){if(!(this.done&&this.layerView&&"tryRecycleWith"in
this.layerView))return null;const A=this.layer.type,B=this._controller.signal;for(let D=0;D<z.length;D++){const y=z[D];if(y.type!==A)continue;const C=this.layerView.tryRecycleWith(y,{signal:B});if(C){z.splice(D,1);this.layer=y;const F=this.layerView,G=F.view;return this.promise=Promise.race([C.then(()=>{t.throwIfAborted(this._controller.signal);y.emit("layerview-destroy",{view:G,layerView:F});G.emit("layerview-destroy",{view:G,layerView:F});y.emit("layerview-create",{view:G,layerView:F});G.emit("layerview-create",
{view:G,layerView:F});return F}),new Promise((E,P)=>t.onAbort(this._controller.signal,()=>P(t.createAbortError())))])}}return null};x.destroy=function(){this._controller.abort();const {layerView:z}=this;if(z){const {layer:A,view:B}=this;A.emit("layerview-destroy",{view:B,layerView:z});B.emit("layerview-destroy",{layer:A,layerView:z})}this.done=!0;this.layerViewImporter=this.view=this.layerView=this.layer=null};x.start=async function(){if(!this._started){this._started=!0;var {_controller:{signal:z},
layer:A,view:B}=this;this._map=B.map;try{await A.load({signal:z});"prefetchResources"in A&&await A.prefetchResources?.({signal:z});let y;if("createLayerView"in A&&null!=A.createLayerView)y=await A.createLayerView(B,{signal:z});else{if(!this.layerViewImporter.hasLayerViewModule(A))throw new e("layer:view-not-supported","No layerview implementation was found");var D=await this.layerViewImporter.importLayerView(A);t.throwIfAborted(z);y="default"in D?new D.default({layer:A,view:B}):new D({layer:A,view:B})}let C;
D=()=>{C=u.removeMaybe(C);y.destroyed||y.destroy();y.layer=null;y.parent=null;y.view=null;this.done=!0};C=t.onAbort(z,D);t.throwIfAborted(z);try{await y.when()}catch(F){throw D(),F;}this._map?.allLayers?.includes(A)?(this.layerView=y,A.emit("layerview-create",{view:B,layerView:y}),B.emit("layerview-create",{layer:A,layerView:y}),this.done=!0,this._deferred.resolve(y)):(D(),this._deferred.reject(new e("view:no-layerview-for-layer","The layer has been removed from the map",{layer:A})))}catch(y){A.emit("layerview-create-error",
{view:B,error:y}),B.emit("layerview-create-error",{layer:A,error:y}),this.done=!0,this._deferred.reject(new e("layerview:create-error","layerview creation failed",{layer:A,error:y}))}}};return a._createClass(w)}();c=function(w){function x(A){var B=z.call(this,A);B._layerLayerViewInfoMap=new Map;B._recyclingInfoMap=new Map;B._watchUpdatingTracking=new k.WatchUpdatingTracking;B.supportsGround=!0;B._preloadLayerViewModules=()=>{const D=B.view.map?.allLayers;if(D)for(const y of D)B.layerViewImporter.hasLayerViewModule(y)&&
B.layerViewImporter.importLayerView(y)};B._reschedule=()=>{u.isNone(B._workPromise)&&(B._workPromise=t.createDeferred(),B._workPromise.promise.catch(()=>{}));B.removeHandles("reschedule");B.addHandles(p.schedule(B._doWork),"reschedule");return B._workPromise.promise};B._doWork=()=>{const D=B.view.map;B._map!==D&&(B.clear(),B._map=D);if(u.isNone(B._workPromise))B.notifyChange("updating");else{B.removeHandles("reschedule");B.removeHandles("collection-change");var y=new Set,C=[],F=B.view.ready,G=O=>
{if(!u.isNone(O))for(const K of O)K&&(y.add(K),(O=B._layerLayerViewInfoMap.get(K))&&F?O.start():O||B._recyclingInfoMap.has(K)||C.push(K),"layers"in K&&K.layers&&G(K.layers))};for(var E of B._rootCollectionNames)G(B.get(E));for(const [O,K]of B._layerLayerViewInfoMap)y.has(O)||(B._layerLayerViewInfoMap.delete(K.layer),(E=K.tryRecycle(C))?(B._recyclingInfoMap.set(K.layer,K),E.then(()=>{B._recyclingInfoMap.delete(K.layer);B._layerLayerViewInfoMap.set(K.layer,K);B._reschedule()}).catch(()=>{B._recyclingInfoMap.delete(K.layer);
K.destroy();B._reschedule()})):K.destroy());for(const [O,K]of B._recyclingInfoMap)y.has(O)||(B._recyclingInfoMap.delete(K.layer),K.destroy());for(const O of C)B._createLayerView(O);B._refreshCollections();var P=[D?.ground?.layers,D?.basemap?.baseLayers,D?.basemap?.referenceLayers,D?.layers].filter(O=>!!O);y.forEach(O=>"layers"in O&&P.push(O.layers));B.addHandles(P.map(O=>B._watchUpdatingTracking.addOnCollectionChange(()=>O,B._reschedule)),"collection-change");B._workPromise.resolve();B._workPromise=
null}};return B}a._inherits(x,w);var z=a._createSuper(x);w=x.prototype;w.initialize=function(){this.own([r.on(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),r.watch(()=>{const A=this.view,B=A?.map;return[B?.basemap,B?.ground,B?.layers,A?.ready]},()=>this._reschedule(),r.syncAndInitial)]);this._preloadLayerViewModules();this._reschedule()};w.destroy=function(){this.clear();l.destroyMap(this._recyclingInfoMap);this._watchUpdatingTracking.destroy();
this._map=null;u.isSome(this._workPromise)&&(this._workPromise.reject(t.createAbortError()),this._workPromise=null)};w.clear=function(){if(!this.destroyed){for(const A of this._layerLayerViewInfoMap.values())A.destroy();this._layerLayerViewInfoMap.clear();this._refreshCollections()}};w.whenLayerView=async function(A){await this._reschedule();if(!this._layerLayerViewInfoMap.has(A)){if(this._recyclingInfoMap.has(A))return this._recyclingInfoMap.get(A).promise;throw new e("view:no-layerview-for-layer",
"No layerview has been found for the layer",{layer:A});}return this._layerLayerViewInfoMap.get(A).promise};w._refreshCollections=function(){for(const [A,B]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(A),this.get(B),this.view);this.notifyChange("updating");this.notifyChange("updatingRemaining")};w._populateLayerViewsOwners=function(A,B,D){if(A&&B){var y=0;for(const C of A)(A=this._layerLayerViewInfoMap.get(C))&&A.layerView&&(A=A.layerView,A.layer=C,A.parent=D,B.getItemAt(y)!==
A&&B.splice(y,0,A),C.layers&&this._populateLayerViewsOwners(C.layers,A.layerViews,A),y+=1);y<B.length&&B.splice(y,B.length)}else B&&B.removeAll()};w._createLayerView=function(A){A.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(A)&&this.layerViewImporter.importLayerView(A);const B=new v(A,this.view,this.layerViewImporter);B.promise.then(()=>this._refreshCollections(),D=>{D&&(t.isAbortError(D)||"cancelled:layerview-create"===D.name)||d.getLogger(this.declaredClass).error(`Failed to create layerview for layer title:'${A.title??
"no title"}', id:'${A.id??"no id"}' of type '${A.type}'.`,{layer:A,error:D});this._refreshCollections()});this._layerLayerViewInfoMap.set(A,B);this.view.ready&&B.start();this.notifyChange("updating");this.notifyChange("updatingRemaining")};a._createClass(x,[{key:"_layersToLayerViews",get:function(){const A=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];this.supportsGround&&
A.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(A)}},{key:"_rootCollectionNames",get:function(){return Array.from(this._layersToLayerViews.keys())}},{key:"updating",get:function(){return u.isSome(this._workPromise)||this._watchUpdatingTracking.updating||n.someMap(this._layerLayerViewInfoMap,A=>!A.done)}},{key:"updatingRemaining",get:function(){let A=0;for(const B of this._layerLayerViewInfoMap.values())B.done||++A;return A}}]);return x}(c);b.__decorate([m.property()],
c.prototype,"_workPromise",void 0);b.__decorate([m.property({readOnly:!0})],c.prototype,"_watchUpdatingTracking",void 0);b.__decorate([m.property({readOnly:!0})],c.prototype,"_layersToLayerViews",null);b.__decorate([m.property({readOnly:!0})],c.prototype,"_rootCollectionNames",null);b.__decorate([m.property()],c.prototype,"layerViewImporter",void 0);b.__decorate([m.property()],c.prototype,"supportsGround",void 0);b.__decorate([m.property({readOnly:!0})],c.prototype,"updating",null);b.__decorate([m.property({readOnly:!0})],
c.prototype,"updatingRemaining",null);b.__decorate([m.property({constructOnly:!0})],c.prototype,"view",void 0);return c=b.__decorate([q.subclass("esri.views.LayerViewManager")],c)})},"esri/views/Magnifier":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,
d,n,u,t,r){c=function(p){function m(f){f=g.call(this,f);f.factor=1.5;f.offset=e.createScreenPoint(0,0);f.position=null;f.size=120;f.maskUrl=null;f.maskEnabled=!0;f.overlayUrl=null;f.overlayEnabled=!0;f.visible=!0;return f}a._inherits(m,p);var g=a._createSuper(m);a._createClass(m,[{key:"version",get:function(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");
this.commitProperty("overlayUrl");this.commitProperty("overlayEnabled");return(this._get("version")||0)+1}}]);return m}(c);b.__decorate([d.property({type:Number})],c.prototype,"factor",void 0);b.__decorate([d.property({nonNullable:!0})],c.prototype,"offset",void 0);b.__decorate([d.property()],c.prototype,"position",void 0);b.__decorate([d.property({type:Number,range:{min:0}})],c.prototype,"size",void 0);b.__decorate([d.property()],c.prototype,"maskUrl",void 0);b.__decorate([d.property()],c.prototype,
"maskEnabled",void 0);b.__decorate([d.property()],c.prototype,"overlayUrl",void 0);b.__decorate([d.property()],c.prototype,"overlayEnabled",void 0);b.__decorate([d.property({readOnly:!0})],c.prototype,"version",null);b.__decorate([d.property({type:Boolean})],c.prototype,"visible",void 0);return c=b.__decorate([r.subclass("esri.views.Magnifier")],c)})},"esri/views/ToolViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/HandleOwner ../core/handleUtils ../core/has ../core/Logger ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./3d/state/ViewStateManager ./3d/support/TextureCollection ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/interfaces ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z){d=function(A){function B(y){var C=D.call(this,y);C._manipulatorState=new z.ToolViewManagerManipulatorState;C.tools=new e;C.cursor=null;C._interacting=!1;C._interactingTimeoutId=null;C._forEachTool=F=>{for(const G of C.tools.items)if(F(G))break};return C}a._inherits(B,A);var D=a._createSuper(B);A=B.prototype;A.initialize=function(){this.handles.add([this.view.on(v.eventTypes,y=>{this._handleInputEvent(y)},l.ViewEventPriorities.TOOL),...w.getToolCollectionHandles(this.tools),
this.tools.on("before-add",({item:y})=>{this._updateToolEditableFlag(y)}),this.tools.on("before-remove",({item:y})=>{this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs);this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])};A.destroy=function(){this.detach();this.handles.removeAll()};A._clearInteractingTimeout=function(){null!=this._interactingTimeoutId&&(clearTimeout(this._interactingTimeoutId),this._interactingTimeoutId=null)};A._startInteractingTimeout=
function(){this._clearInteractingTimeout();this._interactingTimeoutId=setTimeout(()=>this._interacting=!1,q.INTERACTING_TIMEOUT)};A.attach=function(){"3d"===this.view.type?(this._set("textures",new k.TextureCollection(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([p.watch(()=>{const {state:y}=this.view;return"camera"in y&&y.camera},()=>this._forEachManipulator(y=>y.onViewChange())),this.view.elevationProvider?.on("elevation-change",y=>this._forEachManipulator(C=>C.onElevationChange(y))),
n.makeHandle(()=>this._set("textures",r.destroyMaybe(this.textures)))],"attached")):this.handles.add(p.watch(()=>this.view.extent,()=>this._forEachManipulator(y=>y.onViewChange())))};A.detach=function(){r.isSome(this.activeTool)&&(this.activeTool=null);this.tools.removeAll();this.handles.remove("attached");this._clearInteractingTimeout();this._interacting=!1};A._forEachManipulator=function(y){this._forEachTool(C=>{C.manipulators&&C.manipulators.forEach(({manipulator:F})=>y(F,C))})};A._handleInputEvent=
function(y){let C=!1;const F={...y,stopPropagation:()=>{C=!0;y.stopPropagation()}};r.isSome(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(F):this._forEachTool(G=>{!C&&G.visible&&G.handleInputEvent(F)});!C&&"key-down"===y.type&&"Escape"===y.key&&this.activeTool&&(y.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(F,this._manipulatorStateEventArgs);!C&&r.isSome(this.activeTool)&&this.activeTool.handleInputEventAfter(F);this._manipulatorState.handleHoverEvent(F,
this._forEachTool);this._updateCursor();if(this._manipulatorState.isInteracting()||C||r.isSome(this.activeTool)&&this.activeTool.interacting)this._interacting=!0,this._startInteractingTimeout()};A._refreshToolWatchers=function(){this.handles.remove("tools");this._forEachTool(y=>{if(y instanceof c){const C=p.watch(()=>[y.cursor,y.visible,y.editable],()=>{w.areToolManipulatorsEditable(y)||this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs);this._updateCursor()});this.handles.add(C,
"tools")}y.manipulators&&this.handles.add([y.manipulators.on("after-remove",C=>{this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs,!0,C.item.manipulator)}),y.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()})],"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()};A._updateToolEditableFlag=function(y){y.setEditableFlag?.(x.EditableFlag.MANAGER,
r.isNone(this.activeTool)||y===this.activeTool)};A._updateCursor=function(){let y=this._manipulatorState.cursor;r.isNone(y)&&this._forEachTool(C=>r.isSome(C.cursor)&&C.visible?(y=C.cursor,!0):!1);this._get("cursor")!==y&&this._set("cursor",y)};A._removeIncompleteTools=function(y){this.tools.filter(C=>(r.isNone(y)||C!==y)&&!C.created&&C.removeIncompleteOnCancel).forEach(C=>{this.tools.remove(C)})};a._createClass(B,[{key:"_manipulatorStateEventArgs",get:function(){return{forEachTool:this._forEachTool,
activeTool:this.activeTool,setActiveTool:y=>{this.activeTool=y},view:this.view}}},{key:"activeTool",set:function(y){if(r.isSome(y)&&!this.view.ready)t.getLogger(this.declaredClass).error("Cannot set active tool while view is not ready.");else if(y!==this.activeTool){var C=this.activeTool;this._set("activeTool",y);r.isSome(C)&&C.deactivate();r.isSome(y)&&y.activate();this._removeIncompleteTools(y);for(const F of this.tools)this._updateToolEditableFlag(F),y=w.areToolManipulatorsEditable(F),!r.isNone(this.activeTool)&&
y||this._manipulatorState.clearPointers(F,this._manipulatorStateEventArgs,!y);this._updateCursor()}}},{key:"updating",get:function(){return this.updatingHandles.updating||this.tools.some(y=>y.updating)||(this.textures?.updating??!1)}},{key:"interacting",get:function(){return this._interacting}}]);return B}(d.HandleOwner);b.__decorate([m.property({constructOnly:!0,nonNullable:!0})],d.prototype,"view",void 0);b.__decorate([m.property({readOnly:!0,nonNullable:!0})],d.prototype,"textures",void 0);b.__decorate([m.property({value:null})],
d.prototype,"activeTool",null);b.__decorate([m.property({readOnly:!0,type:e})],d.prototype,"tools",void 0);b.__decorate([m.property({readOnly:!0})],d.prototype,"cursor",void 0);b.__decorate([m.property({readOnly:!0})],d.prototype,"updating",null);b.__decorate([m.property()],d.prototype,"_interacting",void 0);b.__decorate([m.property({readOnly:!0})],d.prototype,"interacting",null);return d=b.__decorate([h.subclass("esri.views.ToolViewManager")],d)})},"esri/views/3d/state/ViewStateManager":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Camera ../../../Viewpoint ../../../core/Accessor ../../../core/Logger ../../../core/maybe ../../../core/reactiveUtils ../../../core/scheduling ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../chunks/vec4 ../../../chunks/vec4f64 ../../../geometry/Extent ../../../geometry/Point ../../../geometry/support/webMercatorUtils ../../ViewingMode ../camera/constraintUtils ../camera/intersectionUtils ./ConstraintsManager ./Frustum ./GoToOperation ./controllers/SurfaceCollisionCorrectionController ../support/cameraUtils ../support/PropertiesPool ../support/viewpointUtils ../webgl-engine/lib/Camera ../webgl-engine/lib/RenderFeature ../../support/RenderState".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F,G,E,P,O,K,M,I,H,L){a.ViewStateManager=function(la){function ia(Z){var U=Y.call(this,Z);U._propertiesPool=new K.PropertiesPool({frustum:G.Frustum},b._assertThisInitialized(U));U._cameraSetByUser=!1;U._gotoOperation=null;U.constraintsManager=null;U.ready=!1;U._windowDevicePixelRatio=1;U._devicePixelRatioOverride=null;U._cameraChangeTime=0;U._updatingIgnoreRenderState=!1;U.test={viewStateManager:b._assertThisInitialized(U),contentCameraResetState:new Map,
setDevicePixelRatio:pa=>U._devicePixelRatioOverride=pa,renderState:null,get maximumPixelRatio(){return this.viewStateManager.view.qualitySettings.maximumPixelRatio},set updatingIgnoreRenderState(pa){this.viewStateManager._updatingIgnoreRenderState=pa},get updatingIgnoreRenderState(){return this.viewStateManager._updatingIgnoreRenderState||t.isSome(this.renderState)}};return U}b._inherits(ia,la);var Y=b._createSuper(ia);la=ia.prototype;la.installContentCameraReset=function(Z){this.removeHandles("content-camera-reset");
this.test.contentCameraResetState.clear();if(!this.view.state.fixedContentCamera)return!1;const U=this.zoom,pa=this.view.state.camera.distance**2,xa=v.fromArray(this.view.state.camera.center),N=Z.sticky?this.contentCamera.clone():null;this.addHandles([r.watch(()=>this.contentCamera,()=>{Z.sticky||(this.removeHandles("content-camera-reset"),this.test.contentCameraResetState.clear())}),r.watch(()=>this.zoom,T=>{void 0!==T&&void 0!==U&&(this.test.contentCameraResetState.set("view.zoom",Math.abs(T-U)/
2),2<Math.abs(T-U)?this.contentCamera=null:this.view.state.fixedContentCamera||(this.contentCamera=N))}),r.watch(()=>this.view.state.camera,T=>{T=l.squaredDistance(xa,T.center);this.test.contentCameraResetState.set("camera.center",T/pa);T>pa?this.contentCamera=null:this.view.state.fixedContentCamera||(this.contentCamera=N)})],"content-camera-reset");return!0};la._paddingToArray=function(Z,U,pa){Z?w.set(pa,Z.top||0,Z.right||0,Z.bottom||0,Z.left||0):w.set(pa,0,0,0,0);for(Z=0;4>Z;Z++)pa[Z]=Math.round(pa[Z]*
U)};la.initialize=function(){this._cameraChangeTime=performance.now();this.addHandles([r.on(()=>this.view.state.events,"before-camera-change",Z=>Z&&this._updateElevation(Z)),r.watch(()=>this.view.state?.camera,(Z,U)=>this._cameraChangedHandler(Z,U),r.sync)]);r.when(()=>this.view.state?.camera,Z=>this._updateElevation(Z),{once:!0,sync:!0});this.addHandles([p.addFrameTask({prepare:()=>this._prepareFrame()}),r.watch(()=>this.view.state.cameraController,()=>{this._cameraSetByUser=!0;this.removeHandles("pending-initial-view")}),
r.on(()=>this.view.state.events,"camera-projection-changed",()=>this.notifyChange("scale"))])};la.destroy=function(){this.exit();this._propertiesPool=t.destroyMaybe(this._propertiesPool)};la.init=function(){this.constraintsManager=new F.ConstraintsManager({view:this.view});this._prepareFrame();var Z=this._getInitialProperties();this._cameraSetByUser=!1;this._set("ready",!0);for(const U of Z)this.set(U.name,U.value);this._cameraSetByUser||((Z=this.view.get("map.initialViewProperties.viewpoint")||this.view.initialExtent)&&
this.isCompatible(Z)?this._setInitialView(Z):this.view.state.viewingMode===D.ViewingMode.Local&&this.addHandles(r.when(()=>this.view.basemapTerrain.ready,()=>{this.removeHandles("pending-initial-view");this._setInitialView(this.view.dataExtent)},{once:!0,initial:!0}),"pending-initial-view"))};la.exit=function(){this._cancelGoToOperation();this.ready&&(this._override("padding",this.padding),this._set("ready",!1),this._clearOverride("hasInitialView"),this._cameraSetByUser=!1,this.removeHandles("pending-initial-view"),
this.constraintsManager=t.destroyMaybe(this.constraintsManager))};la.goTo=async function(Z,U){U={animate:!0,...U};t.isSome(this._gotoOperation)&&this._gotoOperation.abort(U.animate);this._gotoOperation=new E.GoToOperation(Z,U,this.view);this.view.resourceController.scheduler.stopFrame();return this._gotoOperation};la.debugSetCameraOnContent=function(){this.setStateCamera(C.cameraOnContentAlongViewDirection(this.view),{applyConstraints:!1})};la.step=function(Z){const U=this.view.state,pa=U?.cameraController;
pa&&(U.updateCamera(xa=>pa.stepController(Z,xa)),pa.steppingFinished&&pa.finishController())};la._cancelGoToOperation=function(){t.isSome(this._gotoOperation)&&(this._gotoOperation.abort(),this._gotoOperation=null)};la._getInitialProperties=function(){const Z=new Set,U=[];for(const {propertyName:pa,overrides:xa}of R){const N=Z.has(pa),T=this._isOverridden(pa);!N&&T&&U.push({name:pa,value:this._get(pa)});this._clearOverride(pa);(N||T)&&xa.forEach(qa=>Z.add(qa))}return U};la._setInitialView=function(Z){if(!t.isNone(Z)&&
!this._cameraSetByUser)if(Z instanceof e)this.setStateCamera(O.externalToInternal(this.view,Z),{applyConstraints:!1});else if(Z instanceof d)if(Z.targetGeometry instanceof z){var U=O.fromExtent(this.view,Z.targetGeometry,0,.5,O.OrientationMode.LOCKED);t.isSome(U)&&this.setStateCamera(O.externalToInternal(this.view,U),{applyConstraints:!0})}else U={applyConstraints:!Z.camera},Z=this._viewpointToCamera(Z),this.setStateCamera(Z,U);else U=O.fromExtent(this.view,Z,0,.5,O.OrientationMode.LOCKED),t.isSome(U)&&
this.setStateCamera(O.externalToInternal(this.view,U),{applyConstraints:!0})};la._updatePropertyBeforeReady=function(Z,U){if(this.ready)return!1;this._override(Z,U);U&&aa.includes(Z)&&this._override("hasInitialView",!0);return!0};la.isCompatible=function(Z){return t.isNone(Z)?!1:Z instanceof d?Z.camera?this.isCompatible(Z.camera):this.isCompatible(Z.targetGeometry):Z instanceof e?this.isCompatible(Z.position):Z.spatialReference&&B.canProject(Z.spatialReference,this.view.spatialReference)};la._getPreservingHeadingTilt=
function(Z=S){this._cameraSetByUser?(Z.heading=this.camera.heading,Z.tilt=this.camera.tilt):(Z.heading=0,Z.tilt=.5);return Z};la._centerPointAtDistanceToCamera=function(Z,U,pa=ea){const {heading:xa,tilt:N}=this._getPreservingHeadingTilt();Z=O.getObserverForPointAtDistance(this.view,xa,N,Z,U,O.OrientationMode.ADJUST);if(t.isNone(Z))return null;pa.copyFrom(this.view.state.camera);pa.eye=Z.eye;pa.center=Z.center;pa.up=Z.up;return pa};la._centerToCamera=function(Z){const U=this.view.pointsOfInterest.centerOnContent;
U.runTask();return this._centerPointAtDistanceToCamera(Z,U.distance)};la._extentToCamera=function(Z){const {heading:U,tilt:pa}=this._getPreservingHeadingTilt();return(Z=O.fromExtent(this.view,Z,U,pa,O.OrientationMode.ADJUST,V))?O.externalToInternal(this.view,Z):null};la._scaleToCamera=function(Z){if(null==Z)return null;var U=this.view.pointsOfInterest.centerOnContent;U.runTask();const pa=U.renderLocation;U=U.location.latitude;if(null==U)return null;Z=O.scaleToDistance(this.view,Z,U);return this._centerPointAtDistanceToCamera(pa,
Z)};la._zoomToCamera=function(Z){return this._scaleToCamera(O.zoomToScale(this.view,Z))};la._viewpointToCamera=function(Z){return O.externalToInternal(this.view,M.toCamera(this.view,Z))};la.setStateCamera=function(Z,U){if(t.isNone(Z)||!this.view.state.stopActiveCameraController())return!1;this._cameraSetByUser=!0;U.doNotCancelGoToOperation||this._cancelGoToOperation();this.view.state.updateCamera(pa=>{U.positionAndOrientationOnly?(pa.eye=Z.eye,pa.center=Z.center,pa.up=Z.up):pa.copyFrom(Z);U.applyConstraints&&
y.applyAll(this.view,pa)});U.applyConstraints||(this.view.state.cameraController=new P.SurfaceCollisionCorrectionController({view:this.view,desiredCamera:Z}));return!0};la._prepareFrame=function(){const {surface:Z,canvas:U}=this.view;if(Z&&U){this._windowDevicePixelRatio=window.devicePixelRatio;var pa=this._pixelRatio,xa=Math.round(Z.clientWidth*pa),N=Math.round(Z.clientHeight*pa);if(0!==xa&&0!==N){if(U.width!==xa||U.height!==N)U.width=xa,U.height=N;if(this.view.state){const T=this.view.state.camera;
if(T.fullWidth!==xa||T.fullHeight!==N||T.pixelRatio!==pa)ea.copyFrom(T),ea.pixelRatio!==pa&&(this._paddingToArray(this.padding,pa,ha),ea.padding=ha),ea.fullWidth=xa,ea.fullHeight=N,ea.pixelRatio=pa,this.view.state.camera=ea;this._updateViewState()}}}};la._updateElevation=function(Z){var U=this.view.basemapTerrain&&this.view.basemapTerrain.spatialReference;const pa=this.view.renderCoordsHelper?.getAltitude(Z.eye)??0;U=U?C.surfaceElevationBelowRenderLocation(this.view,Z.eye):0;Z.relativeElevation=pa-
U};la._updateViewState=function(){t.isSome(this.test.renderState)?this.view.state.mode=this.test.renderState:this.view.animation?this.view.state.mode=L.RenderState.ANIMATING:this.view.interacting?this.view.state.mode=L.RenderState.INTERACTING:(this.view.state.mode===L.RenderState.ANIMATING&&(this._cameraChangeTime=0),300>=performance.now()-this._cameraChangeTime?this.view.state.mode=L.RenderState.INTERACTING:this.view.state.mode=L.RenderState.IDLE);this.view.state.rasterPixelRatio=this._rasterPixelRatio;
this.view.state.contentPixelRatio=Math.min(this._pixelRatio,this.view.qualitySettings.maximumPixelRatio)};la._cameraChangedHandler=function(Z,U){Z&&U&&Z.almostEquals(U)||(this._cameraChangeTime=performance.now(),this._updateViewState())};b._createClass(ia,[{key:"camera",get:function(){const Z=this._get("camera");if(!this.ready)return Z;const U=O.internalToExternal(this.view,this.view.state.camera,V);return U&&Z&&U.equals(Z)?Z:U.clone()},set:function(Z){this._updatePropertyBeforeReady("camera",Z)||
(this.view.elevationProvider?.enableElevationCache(!0),this.setStateCamera(O.externalToInternal(this.view,Z),{applyConstraints:!1})||u.getLogger(this.declaredClass).error("#camera\x3d","Invalid camera",Z),this.view.elevationProvider?.enableElevationCache(!1))}},{key:"contentCamera",get:function(){const Z=this._get("contentCamera");if(!this.ready)return Z;const U=O.internalToExternal(this.view,this.view.state.contentCamera,V);return U&&Z&&U.equals(Z)?Z:U.clone()},set:function(Z){this._updatePropertyBeforeReady("contentCamera",
Z)||(Z=O.externalToInternal(this.view,Z),t.isNone(Z)?this.view.state.contentCamera=null:(this._updateElevation(Z),this.view.state.contentCamera=Z))}},{key:"center",get:function(){return this.ready?this.view.pointsOfInterest.centerOnContent.location:this._get("center")},set:function(Z){this._updatePropertyBeforeReady("center",Z)||(Z?this.isCompatible(Z)?this.setStateCamera(this._centerToCamera(Z),{applyConstraints:!0})?this.view.pointsOfInterest.centerOnContent.runTask():u.getLogger(this.declaredClass).error("#center\x3d",
"Invalid center",Z):u.getLogger(this.declaredClass).error("#center\x3d","Center has an incompatible spatial reference (center: "+(Z.spatialReference?Z.spatialReference.wkid:"none")+", view: "+this.view.spatialReference?.wkid+")",Z):u.getLogger(this.declaredClass).error("#center\x3d","Center may not be null or undefined"))}},{key:"extent",get:function(){if(!this.ready)return this._get("extent");var Z=this.view;Z=O.toExtent(Z,Z.state.camera,Z.pointsOfInterest.centerOnContent.renderLocation);return t.isSome(Z)?
Z:this._get("extent")},set:function(Z){this._updatePropertyBeforeReady("extent",Z)||(Z?this.isCompatible(Z)?this.setStateCamera(this._extentToCamera(Z),{applyConstraints:!0})||u.getLogger(this.declaredClass).error("#extent\x3d","Invalid extent",Z):u.getLogger(this.declaredClass).error("#extent\x3d","Extent has an incompatible spatial reference (extent: "+(Z.spatialReference?Z.spatialReference.wkid:"none")+", view: "+this.view.spatialReference?.wkid+")",Z):u.getLogger(this.declaredClass).error("#extent\x3d",
"Extent may not be null or undefined"))}},{key:"frustum",get:function(){const Z=this._propertiesPool.get("frustum");Z.renderCoordsHelper=this.view.renderCoordsHelper;Z.update(this.view.state.camera);return Z}},{key:"hasInitialView",get:function(){return!!this.view.get("map.initialViewProperties.viewpoint")}},{key:"scale",get:function(){if(this.ready){const Z=this.view.pointsOfInterest.centerOnContent;return O.distanceToScale(this.view,Z.distance,Z.location.latitude)}return this._get("scale")},set:function(Z){this._updatePropertyBeforeReady("scale",
Z)||this.setStateCamera(this._scaleToCamera(Z),{applyConstraints:!0})||u.getLogger(this.declaredClass).error("#scale\x3d","Invalid scale",Z)}},{key:"padding",get:function(){if(!this.ready)return this._get("padding");var Z=this.view.state.camera,U=Z.padding;const pa=Z.pixelRatio;Z=this._get("padding");const xa=Math.round(U[I.PaddingSide.TOP]/pa),N=Math.round(U[I.PaddingSide.RIGHT]/pa),T=Math.round(U[I.PaddingSide.BOTTOM]/pa);U=Math.round(U[I.PaddingSide.LEFT]/pa);return null!=Z&&Z.top===xa&&Z.right===
N&&Z.bottom===T&&Z.left===U?Z:{top:xa,right:N,bottom:T,left:U}},set:function(Z){this._updatePropertyBeforeReady("padding",Z)||(this._paddingToArray(Z,this.view.state.camera.pixelRatio,ha),this.view.state.updateCamera(U=>U.padding=ha))}},{key:"screenCenter",get:function(){const Z=this.padding;return m.createScreenPoint((this.view.width-(Z.left+Z.right))/2+Z.left,(this.view.height-(Z.top+Z.bottom))/2+Z.top)}},{key:"viewpoint",get:function(){return this.ready?M.fromCamera(this.view,this.camera):this._get("viewpoint")},
set:function(Z){if(!this._updatePropertyBeforeReady("viewpoint",Z))if(Z)if(this.isCompatible(Z))this.setStateCamera(this._viewpointToCamera(Z),{applyConstraints:!Z.camera})||u.getLogger(this.declaredClass).error("#viewpoint\x3d","Invalid viewpoint",Z);else{var U=t.isSome(Z.camera)?Z.camera.position:Z.targetGeometry;U=t.isSome(U)&&U.spatialReference;u.getLogger(this.declaredClass).error("#viewpoint\x3d","Viewpoint has an incompatible spatial reference (viewpoint: "+(U?U.wkid:"none")+", view: "+this.view.spatialReference?.wkid+
")",Z)}else u.getLogger(this.declaredClass).error("#viewpoint\x3d","Viewpoint may not be null or undefined")}},{key:"zoom",get:function(){return this.ready?O.scaleToZoom(this.view,this.scale):this._get("zoom")},set:function(Z){this._updatePropertyBeforeReady("zoom",Z)||void 0===Z||this.setStateCamera(this._zoomToCamera(Z),{applyConstraints:!0})||u.getLogger(this.declaredClass).error("#zoom\x3d","Invalid zoom",Z)}},{key:"_pixelRatio",get:function(){return t.isSome(this._devicePixelRatioOverride)?this._devicePixelRatioOverride:
this._usePhysicalPixelRendering?this._windowDevicePixelRatio:Math.min(this._windowDevicePixelRatio,this.view?.qualitySettings.maximumPixelRatio)}},{key:"_rasterPixelRatio",get:function(){return t.isSome(this._devicePixelRatioOverride)?this._devicePixelRatioOverride:this._usePhysicalPixelRenderingAny?this._windowDevicePixelRatio:Math.min(this._windowDevicePixelRatio,this.view.qualitySettings.maximumPixelRatio)}},{key:"_usePhysicalPixelRendering",get:function(){return this.view?._stage?.renderer.isFeatureEnabled(H.RenderFeature.PhysicalPixelRendering)??
!1}},{key:"_usePhysicalPixelRenderingAny",get:function(){const Z=this.view?._stage?.renderer;return Z&&(Z.isFeatureEnabled(H.RenderFeature.PhysicalPixelRendering,L.RenderState.IDLE)||Z.isFeatureEnabled(H.RenderFeature.PhysicalPixelRendering,L.RenderState.INTERACTING)||Z.isFeatureEnabled(H.RenderFeature.PhysicalPixelRendering,L.RenderState.ANIMATING))}}]);return ia}(n);c.__decorate([g.property({type:e,dependsOn:["view.state.camera","ready"]})],a.ViewStateManager.prototype,"camera",null);c.__decorate([g.property({type:e,
dependsOn:["view.state.contentCamera","ready"]})],a.ViewStateManager.prototype,"contentCamera",null);c.__decorate([g.property({type:A})],a.ViewStateManager.prototype,"center",null);c.__decorate([g.property({type:z})],a.ViewStateManager.prototype,"extent",null);c.__decorate([g.property({readOnly:!0})],a.ViewStateManager.prototype,"frustum",null);c.__decorate([g.property({readOnly:!0})],a.ViewStateManager.prototype,"hasInitialView",null);c.__decorate([g.property({readOnly:!0,type:Boolean})],a.ViewStateManager.prototype,
"ready",void 0);c.__decorate([g.property({type:Number})],a.ViewStateManager.prototype,"scale",null);c.__decorate([g.property()],a.ViewStateManager.prototype,"padding",null);c.__decorate([g.property({readOnly:!0})],a.ViewStateManager.prototype,"screenCenter",null);c.__decorate([g.property({constructOnly:!0})],a.ViewStateManager.prototype,"view",void 0);c.__decorate([g.property({type:d})],a.ViewStateManager.prototype,"viewpoint",null);c.__decorate([g.property({type:Number})],a.ViewStateManager.prototype,
"zoom",null);c.__decorate([g.property({readOnly:!0})],a.ViewStateManager.prototype,"_pixelRatio",null);c.__decorate([g.property({readOnly:!0})],a.ViewStateManager.prototype,"_rasterPixelRatio",null);c.__decorate([g.property({readOnly:!0})],a.ViewStateManager.prototype,"_usePhysicalPixelRendering",null);c.__decorate([g.property({readOnly:!0})],a.ViewStateManager.prototype,"_usePhysicalPixelRenderingAny",null);c.__decorate([g.property()],a.ViewStateManager.prototype,"_windowDevicePixelRatio",void 0);
c.__decorate([g.property()],a.ViewStateManager.prototype,"_devicePixelRatioOverride",void 0);a.ViewStateManager=c.__decorate([k.subclass("esri.views.3d.state.ViewStateManager")],a.ViewStateManager);const aa="camera viewpoint extent scale center zoom".split(" "),R=[{propertyName:"camera",overrides:["viewpoint"]},{propertyName:"viewpoint",overrides:["extent"]},{propertyName:"extent",overrides:["center","scale"]},{propertyName:"center",overrides:[]},{propertyName:"scale",overrides:["zoom"]},{propertyName:"zoom",
overrides:[]},{propertyName:"padding",overrides:[]}],S={heading:0,tilt:0},V=new e,ea=new I.Camera,ha=x.create();a.INTERACTING_TIMEOUT=100;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewingMode":function(){define(["exports"],function(a){a.ViewingMode=void 0;(function(b){b[b.Global=1]="Global";b[b.Local=2]="Local"})(a.ViewingMode||(a.ViewingMode={}));a.stringFromViewingMode=function(b){return b===a.ViewingMode.Global?"global":"local"};a.viewingModeFromString=function(b){return"global"===
b?a.ViewingMode.Global:a.ViewingMode.Local};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/camera/constraintUtils":function(){define("exports ./constraintUtils/altitude ./constraintUtils/common ./constraintUtils/ConstraintTypes ./constraintUtils/distance ./constraintUtils/InteractionType ./constraintUtils/surfaceCollision ./constraintUtils/tilt ./constraintUtils/TiltMode ../../animation/easing".split(" "),function(a,b,c,e,d,n,u,t,r,p){const m=[{type:e.ConstraintTypes.TILT,
error:function(f,h,q){return t.getTiltConstraintError(f,h,q)*h.distance},apply:t.applyTiltConstraint},{type:e.ConstraintTypes.ALTITUDE,error:b.getAltitudeConstraintError,apply:b.applyAltitudeConstraint},{type:e.ConstraintTypes.DISTANCE,error:d.getDistanceConstraintError,apply:d.applyDistanceConstraint}],g={selection:e.ConstraintTypes.ALL,interactionType:n.InteractionType.NONE,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:r.TiltMode.TUMBLE};a.applyAll=function(f,
h,q=g,k=h){k!==h&&k.copyFrom(h);k.computeUp(f.state.viewingMode);h=!1;for(let v=0;5>v;v++){let w=0;for(var l of m)if(c.hasConstraintType(q.selection,l.type)){const x=Math.abs(l.error(f,k,q));l.apply(f,k,q)&&(h=!0,w+=x)}if(0===w)break}l=c.hasConstraintType(q.selection,e.ConstraintTypes.COLLISION);a:switch(q.interactionType){case n.InteractionType.PAN:q=u.Mode.EYE_AND_CENTER;break a;case n.InteractionType.ASCEND:q=f.state.isGlobal?u.Mode.EYE_AND_CENTER_SCALE:u.Mode.EYE_AND_CENTER;break a;default:q=
u.Mode.EYE}l&&u.applySurfaceCollisionConstraint(f,k,q)&&(h=!0);h&&k.computeUp(f.state.viewingMode);return h};a.pixelDistanceToInteractionFactor=function(f){return p.inOutCubic(Math.min(1,f/150))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/camera/constraintUtils/altitude":function(){define("exports ../../../../core/mathUtils ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/support/ray ./common ./ConstraintTypes ./InteractionType ../../support/intersectionUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p){function m(l,v,w=u.defaultConstraintOptions){var x=l.state.constraints.altitude;x=l.state.isGlobal&&x?w.interactionType===r.InteractionType.TUMBLE&&u.hasConstraintType(w.selection,t.ConstraintTypes.TILT)?!1:!0:!1;if(!x||!l.state.constraints.altitude)return 0;var z=l.state.constraints.altitude;x=g;x.min=z.min;x.max=z.max;z=w.interactionType;if(z!==r.InteractionType.NONE){var {min:A,max:B}=x,{interactionStartCamera:D,interactionFactor:y}=w;if(D){w=z===r.InteractionType.TUMBLE||
z===r.InteractionType.ZOOM;z=m(l,D);var C=0===z?0:l.renderCoordsHelper.getAltitude(D.eye);x.min=A;x.max=B;u.adjustRangeForInteraction(z,C,w,y,.05*C,x)}}l=l.renderCoordsHelper.getAltitude(v.eye);l=b.clamp(l,x.min,x.max)-l;return 1E-6>=Math.abs(l)?0:l}const g={min:0,max:0},f=d.create(),h=d.create(),q=d.create(),k=d.create();a.applyAltitudeConstraint=function(l,v,w=u.defaultConstraintOptions){var x=m(l,v,w);if(0===x)return!1;const z=l.renderCoordsHelper,A=z.getAltitude(v.eye)+x;var B=u.interactionDirectionTowardsConstraintMinimization;
w=w.interactionDirection;x=Math.sign(x);l.renderCoordsHelper.worldUpAtPosition(v.eye,h);e.scale(h,h,x);B=B.call(u,v,w,h,f);l=e.copy(q,v.viewForward);B=z.intersectInfiniteManifold(n.wrap(v.eye,B),A,k);v.eye=c.isSome(B)?B:z.setAltitude(k,A,v.eye);v.center=p.closestPointOnRay(k,v.eye,l,v.center);return!0};a.getAltitudeConstraintError=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../chunks/vec3 ../../chunks/vec3f64 ./vectorStacks".split(" "),
function(a,b,c,e,d,n){function u(g){return g?t(d.clone(g.origin),d.clone(g.direction)):t(d.create(),d.create())}function t(g,f){return{origin:g,direction:f}}function r(g,f,h=u()){e.copy(h.origin,g);e.copy(h.direction,f);return h}function p(g,f){g=e.cross(n.sv3d.get(),e.normalize(n.sv3d.get(),g.direction),e.subtract(n.sv3d.get(),f,g.origin));return e.dot(g,g)}const m=new c.ObjectStack(()=>u());a.closestPoint=function(g,f,h){f=e.dot(g.direction,e.subtract(h,f,g.origin));e.add(h,g.origin,e.scale(h,g.direction,
f));return h};a.copy=function(g,f=u()){return r(g.origin,g.direction,f)};a.create=u;a.distance=function(g,f){return Math.sqrt(p(g,f))};a.distance2=p;a.equals=function(g,f){return b.equals(g.origin,f.origin)&&b.equals(g.direction,f.direction)};a.fromPoints=function(g,f,h=u()){e.copy(h.origin,g);e.subtract(h.direction,f,g);return h};a.fromValues=r;a.wrap=function(g,f){const h=m.get();h.origin=g;h.direction=f;return h};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObjectStack":function(){define(["exports",
"../chunks/_rollupPluginBabelHelpers","./nextTick"],function(a,b,c){let e=function(){function d(u){this._allocator=u;this._items=[];this._itemsPtr=0;this._grow()}var n=d.prototype;n.get=function(){0===this._itemsPtr&&c.nextTick(()=>this._reset());this._itemsPtr===this._items.length&&this._grow();return this._items[this._itemsPtr++]};n._reset=function(){this._items.length=Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3072),this._items.length);this._itemsPtr=0};n._grow=function(){for(let u=
0;u<Math.max(8,Math.min(this._items.length,1024));u++)this._items.push(this._allocator())};return b._createClass(d)}();a.ObjectStack=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports","../../core/VectorStack"],function(a,b){const c=b.VectorStack.createVec2f64(),e=b.VectorStack.createVec3f64(),d=b.VectorStack.createVec4f64(),n=b.VectorStack.createMat3f64(),u=b.VectorStack.createMat4f64();b=b.VectorStack.createQuatf64();
a.sm3d=n;a.sm4d=u;a.sq4d=b;a.sv2d=c;a.sv3d=e;a.sv4d=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./byteSizeEstimations ./nextTick ../chunks/mat3f64 ../chunks/mat4f64 ../chunks/quatf64 ../chunks/vec2f64 ../chunks/vec3f64 ../chunks/vec4f64".split(" "),function(a,b,c,e,d,n,u,t,r,p){let m=function(){function f(q,k,l){this._itemByteSize=q;this._itemCreate=k;this._buffers=[];this._items=[];this._itemsPtr=
0;this._itemsPerBuffer=Math.ceil(l/this._itemByteSize)}var h=f.prototype;h.get=function(){0===this._itemsPtr&&e.nextTick(()=>this._reset());const q=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=q;){const k=new ArrayBuffer(this._itemsPerBuffer*this._itemByteSize);for(let l=0;l<this._itemsPerBuffer;++l)this._items.push(this._itemCreate(k,l*this._itemByteSize));this._buffers.push(k)}return this._items[this._itemsPtr++]};h._reset=function(){const q=2*(Math.floor(this._itemsPtr/
this._itemsPerBuffer)+1);for(;this._buffers.length>q;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0};f.createVec2f64=function(q=g){return new f(16,t.createView,q)};f.createVec3f64=function(q=g){return new f(24,r.createView,q)};f.createVec4f64=function(q=g){return new f(32,p.createView,q)};f.createMat3f64=function(q=g){return new f(72,d.createView,q)};f.createMat4f64=function(q=g){return new f(128,n.createView,q)};f.createQuatf64=function(q=g){return new f(32,
u.createView,q)};b._createClass(f,[{key:"test",get:function(){return{size:this._buffers.length*this._itemsPerBuffer*this._itemByteSize}}}]);return f}();const g=4*c.ByteSizeUnit.KILOBYTES;a.VectorStack=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(a){function b(d){return 32+d.length}function c(d){if(!d)return 0;if(Array.isArray(d)){var n=d.length;if(0===n||"number"===typeof d[0])d=32+8*n;else{var u=32;for(let t=
0;t<n;t++)u+=e(d[t]);d=u}return d}u=32;for(n in d)d.hasOwnProperty(n)&&(u+=e(d[n]));return u}function e(d){switch(typeof d){case "object":return c(d);case "string":return b(d);case "number":return 16;case "boolean":return 4;default:return 8}}a.ByteSizeUnit=void 0;(function(d){d[d.KILOBYTES=1024]="KILOBYTES";d[d.MEGABYTES=1048576]="MEGABYTES";d[d.GIGABYTES=1073741824]="GIGABYTES"})(a.ByteSizeUnit||(a.ByteSizeUnit={}));a.estimateAttributesObjectSize=function(d){if(!d)return 0;let n=32;for(const u in d)if(d.hasOwnProperty(u)){const t=
d[u];switch(typeof t){case "string":n+=b(t);break;case "number":n+=16;break;case "boolean":n+=4}}return n};a.estimateFixedArraySize=function(d,n){return 32+d.length*n};a.estimateNestedObjectSize=c;a.estimateNumberByteSize=function(d){return 16};a.estimateStringByteSize=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat3f64":function(){define(["exports"],function(a){function b(){return[1,0,0,0,1,0,0,0,1]}function c(u){return[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8]]}
function e(u,t,r,p,m,g,f,h,q){return[u,t,r,p,m,g,f,h,q]}function d(u,t){return new Float64Array(u,t,9)}const n=Object.freeze(Object.defineProperty({__proto__:null,clone:c,create:b,createView:d,fromValues:e},Symbol.toStringTag,{value:"Module"}));a.clone=c;a.create=b;a.createView=d;a.fromValues=e;a.mat3f64=n})},"esri/chunks/mat4f64":function(){define(["exports"],function(a){function b(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function c(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],
t[11],t[12],t[13],t[14],t[15]]}function e(t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B){return[t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B]}function d(t,r){return new Float64Array(t,r,16)}const n=b(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:n,clone:c,create:b,createView:d,fromValues:e},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=n;a.clone=c;a.create=b;a.createView=d;a.fromValues=e;a.mat4f64=u})},"esri/chunks/quatf64":function(){define(["exports"],function(a){function b(){return[0,0,0,1]}function c(t){return[t[0],
t[1],t[2],t[3]]}function e(t,r,p,m){return[t,r,p,m]}function d(t,r){return new Float64Array(t,r,4)}const n=b(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:n,clone:c,create:b,createView:d,fromValues:e},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=n;a.clone=c;a.create=b;a.createView=d;a.fromValues=e;a.quatf64=u})},"esri/chunks/vec2f64":function(){define(["exports"],function(a){function b(){return[0,0]}function c(k){return[k[0],k[1]]}function e(k,l){return[k,l]}function d(k){const l=
[0,0],v=Math.min(2,k.length);for(let w=0;w<v;++w)l[w]=k[w];return l}function n(k,l){return new Float64Array(k,l,2)}function u(){return[0,0]}function t(){return[1,1]}function r(){return[1,0]}function p(){return[0,1]}const m=[0,0],g=[1,1],f=[1,0],h=[0,1],q=Object.freeze(Object.defineProperty({__proto__:null,ONES:g,UNIT_X:f,UNIT_Y:h,ZEROS:m,clone:c,create:b,createView:n,fromArray:d,fromValues:e,ones:t,unitX:r,unitY:p,zeros:u},Symbol.toStringTag,{value:"Module"}));a.ONES=g;a.UNIT_X=f;a.UNIT_Y=h;a.ZEROS=
m;a.clone=c;a.create=b;a.createView=n;a.fromArray=d;a.fromValues=e;a.ones=t;a.unitX=r;a.unitY=p;a.vec2f64=q;a.zeros=u})},"esri/views/3d/camera/constraintUtils/common":function(){define(["exports","../../../../chunks/vec3","./ConstraintTypes","./InteractionType","./TiltMode"],function(a,b,c,e,d){c={selection:c.ConstraintTypes.NONE,interactionType:e.InteractionType.NONE,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:d.TiltMode.TUMBLE};a.adjustRangeForInteraction=
function(n,u,t,r,p,m){0!==n&&(t?(m.min=Math.min(m.min,u),m.max=Math.max(m.max,u)):null!=r?(m.min-=Math.max(0,(u-m.min)*(1-r)),m.max+=Math.max(0,(u-m.max)*(1-r))):p&&(m.min-=Math.max(0,u-m.min-p),m.max+=Math.max(0,u-m.max-p)))};a.defaultConstraintOptions=c;a.hasConstraintType=function(n,u){return 0!==(n&u)};a.interactionDirectionTowardsConstraintMinimization=function(n,u,t,r){u=u||n.viewForward;b.copy(r,u);b.scale(r,r,Math.sign(b.dot(u,t)));return r};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/3d/camera/constraintUtils/ConstraintTypes":function(){define(["exports"],function(a){a.ConstraintTypes=void 0;var b=a.ConstraintTypes||(a.ConstraintTypes={});b[b.NONE=0]="NONE";b[b.TILT=1]="TILT";b[b.ALTITUDE=2]="ALTITUDE";b[b.DISTANCE=4]="DISTANCE";b[b.COLLISION=8]="COLLISION";b[b.ALL=15]="ALL";b[b.ALL_EXCEPT_COLLISION=7]="ALL_EXCEPT_COLLISION";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/camera/constraintUtils/InteractionType":function(){define(["exports"],
function(a){a.InteractionType=void 0;var b=a.InteractionType||(a.InteractionType={});b[b.NONE=0]="NONE";b[b.ZOOM=1]="ZOOM";b[b.TUMBLE=2]="TUMBLE";b[b.LOOK_AROUND=3]="LOOK_AROUND";b[b.PAN=4]="PAN";b[b.ASCEND=5]="ASCEND";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/camera/constraintUtils/TiltMode":function(){define(["exports"],function(a){a.TiltMode=void 0;var b=a.TiltMode||(a.TiltMode={});b[b.TUMBLE=0]="TUMBLE";b[b.LOOK_AROUND=1]="LOOK_AROUND";Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/intersectionUtils":function(){define(["exports","../../../chunks/vec2f64","../../../chunks/vec3","../../../chunks/vec3f64","../../../geometry/support/plane"],function(a,b,c,e,d){function n(r,p,m,g){const f=t;r?(m&&g&&(f.len=c.distance(p,m)),c.copy(f.dir,r)):g?(f.len=c.distance(p,m),c.subtract(f.dir,m,p),c.scale(f.dir,f.dir,1/f.len)):(c.subtract(f.dir,m,p),c.normalize(f.dir,f.dir));return f}function u(r,p,m,g){g.clip[0]=0;g.clip[1]=m?g.len:
Number.MAX_VALUE;for(m=0;m<r.length;m++){{var f=r[m],h=p;var q=g;const k=c.dot(d.normal(f),q.dir);f=-d.signedDistance(f,h);0>f&&0<=k?q=!1:-1E-6<k&&1E-6>k?q=0<f:!(0>f||0>k)||0>f&&0>k?(f/=k,0<k?f<q.clip[1]&&(q.clip[1]=f):f>q.clip[0]&&(q.clip[0]=f),q=q.clip[0]<=q.clip[1]):q=!0}if(!q)return!1}return!0}const t={dir:e.create(),len:0,clip:b.create()};a.closestPointOnRay=function(r,p,m,g){g=c.dot(m,c.subtract(r,g,p));return c.add(r,p,c.scale(r,m,g))};a.frustumLineSegment=function(r,p,m,g){g=n(g,p,m,!0);return u(r,
p,m,g)};a.frustumPoint=function(r,p){for(let m=0;6>m;m++)if(0<d.signedDistance(r[m],p))return!1;return!0};a.frustumRay=function(r,p,m,g){m=n(g,p,m,!1);return u(r,p,null,m)};a.frustumSphere=function(r,p,m){const g=p[0],f=p[1];p=p[2];return r[0][0]*g+r[0][1]*f+r[0][2]*p+r[0][3]>m||r[1][0]*g+r[1][1]*f+r[1][2]*p+r[1][3]>m||r[2][0]*g+r[2][1]*f+r[2][2]*p+r[2][3]>m||r[3][0]*g+r[3][1]*f+r[3][2]*p+r[3][3]>m||r[4][0]*g+r[4][1]*f+r[4][2]*p+r[4][3]>m||r[5][0]*g+r[5][1]*f+r[5][2]*p+r[5][3]>m?!1:!0};a.planeSphere=
function(r,p,m){return r[0]*p[0]+r[1]*p[1]+r[2]*p[2]+r[3]<m};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/plane":function(){define("exports ../../core/mathUtils ../../core/maybe ../../chunks/vec3 ../../chunks/vec3f64 ../../chunks/sphere ./vector ./vectorStacks ../../views/3d/support/mathUtils".split(" "),function(a,b,c,e,d,n,u,t,r){function p(G=D){return[G[0],G[1],G[2],G[3]]}function m(G,E){return g(E[0],E[1],E[2],E[3],G)}function g(G,E,P,O,K=p()){K[0]=G;
K[1]=E;K[2]=P;K[3]=O;return K}function f(G,E,P){var O=E[0]*E[0]+E[1]*E[1]+E[2]*E[2];O=1E-5<Math.abs(O-1)&&1E-12<O?1/Math.sqrt(O):1;P[0]=E[0]*O;P[1]=E[1]*O;P[2]=E[2]*O;P[3]=-(P[0]*G[0]+P[1]*G[1]+P[2]*G[2]);return P}function h(G,E,P,O=p()){var K=P[0]-E[0],M=P[1]-E[1],I=P[2]-E[2];P=G[0]-E[0];const H=G[1]-E[1],L=G[2]-E[2];E=M*L-I*H;I=I*P-K*L;K=K*H-M*P;M=E*E+I*I+K*K;M=1E-5<Math.abs(M-1)&&1E-12<M?1/Math.sqrt(M):1;O[0]=E*M;O[1]=I*M;O[2]=K*M;O[3]=-(O[0]*G[0]+O[1]*G[1]+O[2]*G[2]);return O}function q(G,E,P,
O,K){const M=G.length/3;if(3>M)return!1;e.set(w,G[3*P],G[3*P+1],G[3*P+2]);let I=O;for(var H=!1;I<M-1&&!H;)H=3*I,e.set(x,G[H],G[H+1],G[H+2]),I++,H=!e.exactEquals(w,x);if(!H)return!1;I=Math.max(I,K);for(H=!1;I<M&&!H;)H=3*I,e.set(z,G[H],G[H+1],G[H+2]),I++,e.subtract(A,w,x),e.normalize(A,A),e.subtract(B,x,z),e.normalize(B,B),H=!e.exactEquals(w,z)&&!e.exactEquals(x,z)&&.99619469809>Math.abs(e.dot(A,B));if(!H)return 0===P&&1===O&&2===K?!1:q(G,E,0,1,2);h(w,x,z,E);return!0}function k(G,E,P){G=e.scale(t.sv3d.get(),
G,e.dot(G,E));e.subtract(P,E,G);return P}function l(G,E){return e.dot(G,E)+G[3]}function v(G,E,P,O,K){const M=e.dot(G,P);if(0===M)return!1;G=-(e.dot(G,E)+G[3])/M;O&y.CLAMP&&(G=b.clamp(G,0,1));if(!(O&y.INFINITE_MIN)&&0>G||!(O&y.INFINITE_MAX)&&1<G)return!1;e.add(K,E,e.scale(K,P,G));return!0}const w=d.create(),x=d.create(),z=d.create(),A=d.create(),B=d.create(),D=[0,0,1,0];var y;(function(G){G[G.NONE=0]="NONE";G[G.CLAMP=1]="CLAMP";G[G.INFINITE_MIN=4]="INFINITE_MIN";G[G.INFINITE_MAX=8]="INFINITE_MAX"})(y||
(y={}));const C=y.INFINITE_MIN|y.INFINITE_MAX,F=y.INFINITE_MAX;a.UP=D;a.clip=function(G,E){const P=e.dot(G,E.ray.direction);G=-l(G,E.ray.origin);if(0>G&&0<=P)return!1;if(-1E-6<P&&1E-6>P)return 0<G;if((0>G||0>P)&&!(0>G&&0>P))return!0;G/=P;0<P?G<E.c1&&(E.c1=G):G>E.c0&&(E.c0=G);return E.c0<=E.c1};a.clipInfinite=function(G,E){const P=e.dot(G,E.ray.direction);G=-l(G,E.ray.origin);if(-1E-6<P&&1E-6>P)return 0<G;G/=P;0<P?G<E.c1&&(E.c1=G):G>E.c0&&(E.c0=G);return E.c0<=E.c1};a.copy=m;a.create=p;a.distance=
function(G,E){return Math.abs(l(G,E))};a.fromManyPoints=function(G,E){return q(G,E,0,1,2)};a.fromManyPointsSampleAt=q;a.fromNormalAndOffset=function(G,E,P){e.copy(P,G);P[3]=E;return P};a.fromPoints=h;a.fromPositionAndNormal=f;a.fromValues=g;a.fromVectorsAndPoint=function(G,E,P,O){e.cross(z,E,G);return f(P,z,O)};a.intersectLine=function(G,E,P,O){P=e.subtract(t.sv3d.get(),P,E);return v(G,E,P,C,O)};a.intersectLineSegment=function(G,E,P){return v(G,E.origin,E.vector,y.NONE,P)};a.intersectLineSegmentClamp=
function(G,E,P){return v(G,E.origin,E.vector,y.CLAMP,P)};a.intersectRay=function(G,E,P){return c.isSome(E)?v(G,E.origin,E.direction,F,P):!1};a.isPointInside=function(G,E){return 0<=l(G,E)};a.isPointOutside=function(G,E){return 0>l(G,E)};a.isSphereFullyInside=function(G,E){return 0<=l(G,n.getCenter(E))-E[3]};a.isSphereFullyOutside=function(G,E){return 0>l(G,n.getCenter(E))+E[3]};a.negate=function(G,E){E[0]=-G[0];E[1]=-G[1];E[2]=-G[2];E[3]=-G[3];return E};a.normal=function(G){return G};a.projectPoint=
function(G,E,P){const O=e.scale(t.sv3d.get(),G,-G[3]);E=e.subtract(t.sv3d.get(),E,O);G=k(G,E,t.sv3d.get());e.add(P,G,O);return P};a.projectPointLocal=function(G,E,P,O){var K=t.sv3d.get(),M=t.sv3d.get();r.tangentFrame(G,K,M);E=e.subtract(t.sv3d.get(),P,E);K=u.projectPointSignedLength(K,E);M=u.projectPointSignedLength(M,E);G=u.projectPointSignedLength(G,E);return e.set(O,K,M,G)};a.projectVector=k;a.setOffsetFromPoint=function(G,E,P){E!==G&&m(G,E);G[3]=-e.dot(G,P);return G};a.signedDistance=l;a.wrap=
function(G=D[0],E=D[1],P=D[2],O=D[3]){return g(G,E,P,O,t.sv4d.get())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ../core/maybe ./mat4 ./vec3 ./vec3f64 ./vec4 ./vec4f64 ../geometry/support/Axis ../geometry/support/ray ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g,f,h){function q(){return p.create()}function k(ea,ha=q()){return r.copy(ha,
ea)}function l(ea,ha){return p.fromValues(ea[0],ea[1],ea[2],ha)}function v(ea){return ea}function w(ea){ea[0]=ea[1]=ea[2]=ea[3]=0}function x(ea,ha){ea[0]=ea[1]=ea[2]=0;ea[3]=ha;return ea}function z(ea){return ea[3]}function A(ea){return ea}function B(ea,ha,la,ia){return p.fromValues(ea,ha,la,ia)}function D(ea,ha,la){ea!==la&&u.copy(la,ea);la[3]=ea[3]+ha;return la}function y(ea,ha,la){c.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported");return ea===la?la:k(ea,
la)}function C(ea,ha,la){if(d.isNone(ha))return!1;const {origin:ia,direction:Y}=ha;var Z=R;Z[0]=ia[0]-ea[0];Z[1]=ia[1]-ea[1];Z[2]=ia[2]-ea[2];ha=Y[0]*Y[0]+Y[1]*Y[1]+Y[2]*Y[2];if(0===ha)return!1;const U=2*(Y[0]*Z[0]+Y[1]*Z[1]+Y[2]*Z[2]);ea=U*U-4*ha*(Z[0]*Z[0]+Z[1]*Z[1]+Z[2]*Z[2]-ea[3]*ea[3]);if(0>ea)return!1;Z=Math.sqrt(ea);ea=(-U-Z)/(2*ha);ha=(-U+Z)/(2*ha);if(0>ea||ha<ea&&0<ha)ea=ha;if(0>ea)return!1;la&&(la[0]=ia[0]+Y[0]*ea,la[1]=ia[1]+Y[1]*ea,la[2]=ia[2]+Y[2]*ea);return!0}function F(ea,ha){return C(ea,
ha,null)}function G(ea,ha,la){if(C(ea,ha,la))return la;ea=E(ea,ha,h.sv3d.get());u.add(la,ha.origin,u.scale(h.sv3d.get(),ha.direction,u.distance(ha.origin,ea)/u.length(ha.direction)));return la}function E(ea,ha,la){const ia=h.sv3d.get(),Y=h.sm4d.get();u.cross(ia,ha.origin,ha.direction);const Z=ea[3];u.cross(la,ia,ha.origin);u.scale(la,la,1/u.length(la)*Z);ea=M(ea,ha.origin);ha=f.angle(ha.origin,la);n.fromRotation(Y,ha+ea,ia);u.transformMat4(la,la,Y);return la}function P(ea,ha,la){if(C(ea,ha,la))return la;
g.closestPoint(ha,ea,la);return O(ea,la,la)}function O(ea,ha,la){ha=u.subtract(h.sv3d.get(),ha,ea);ha=u.scale(h.sv3d.get(),ha,ea[3]/u.length(ha));return u.add(la,ha,ea)}function K(ea,ha){ha=u.subtract(h.sv3d.get(),ha,ea);ha=u.squaredLength(ha);return Math.sqrt(Math.abs(ha-ea[3]*ea[3]))}function M(ea,ha){ha=u.subtract(h.sv3d.get(),ha,ea);ha=u.length(ha);ea=ea[3];return e.acosClamped(ea/(ea+Math.abs(ea-ha)))}function I(ea,ha,la,ia){ea=u.subtract(S,ha,ea);switch(la){case m.Axis.X:return la=e.cartesianToSpherical(ea,
S)[2],u.set(ia,-Math.sin(la),Math.cos(la),0);case m.Axis.Y:return ea=e.cartesianToSpherical(ea,S),la=ea[1],ea=ea[2],ha=Math.sin(la),u.set(ia,-ha*Math.cos(ea),-ha*Math.sin(ea),Math.cos(la));case m.Axis.Z:return u.normalize(ia,ea)}}function H(ea,ha){ha=u.subtract(V,ha,ea);return u.length(ha)-ea[3]}function L(ea,ha,la,ia){const Y=H(ea,ha);ea=I(ea,ha,m.Axis.Z,V);la=u.scale(V,ea,la-Y);return u.add(ia,ha,la)}function aa(ea,ha){ha=u.squaredDistance(ea,ha);ea=ea[3];return ha<=ea*ea}const R=t.create(),S=t.create(),
V=t.create();b=q();t=Object.freeze(Object.defineProperty({__proto__:null,altitudeAt:H,angleToSilhouette:M,axisAt:I,clear:w,closestPoint:P,closestPointOnSilhouette:E,containsPoint:aa,copy:k,create:q,distanceToSilhouette:K,elevate:D,fromCenterAndRadius:l,fromRadius:x,fromValues:B,getCenter:A,getRadius:z,intersectRay:C,intersectRayClosestSilhouette:G,intersectsRay:F,projectPoint:O,setAltitudeAt:L,setExtent:y,tmpSphere:b,wrap:v},Symbol.toStringTag,{value:"Module"}));a.altitudeAt=H;a.angleToSilhouette=
M;a.axisAt=I;a.clear=w;a.closestPoint=P;a.closestPointOnSilhouette=E;a.containsPoint=aa;a.copy=k;a.create=q;a.distanceToSilhouette=K;a.elevate=D;a.fromCenterAndRadius=l;a.fromRadius=x;a.fromValues=B;a.getCenter=A;a.getRadius=z;a.intersectRay=C;a.intersectRayClosestSilhouette=G;a.intersectsRay=F;a.projectPoint=O;a.setAltitudeAt=L;a.setExtent=y;a.sphere=t;a.tmpSphere=b;a.wrap=v})},"esri/geometry/support/Axis":function(){define(["exports"],function(a){a.Axis=void 0;var b=a.Axis||(a.Axis={});b[b.X=0]=
"X";b[b.Y=1]="Y";b[b.Z=2]="Z";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vector":function(){define(["exports","../../core/mathUtils","../../chunks/vec3","../../chunks/vec3f64"],function(a,b,c,e){const d=e.create(),n=e.create();a.angle=function(u,t){u=c.dot(u,t)/(c.length(u)*c.length(t));return-b.acosClamped(u)};a.angleAroundAxis=function(u,t,r){c.normalize(d,u);c.normalize(n,t);u=c.dot(d,n);u=b.acosClamped(u);t=c.cross(d,d,n);return 0>c.dot(t,r)?2*Math.PI-
u:u};a.projectPoint=function(u,t,r){t=c.dot(u,t)/c.dot(u,u);return c.scale(r,u,t)};a.projectPointSignedLength=function(u,t){return c.dot(u,t)/c.length(u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils","../../../chunks/vec3","../../../chunks/vec3f64"],function(a,b,c,e){const d=e.create(),n=e.create(),u=e.create(),t=e.create(),r=e.create();a.angle=function(p,m,g){p=c.normalize(t,p);m=c.normalize(r,
m);const f=b.acosClamped(c.dot(p,m));return g&&(p=c.cross(u,p,m),0>c.dot(p,g))?-f:f};a.bilerp=function(p,m,g,f,h,q){p+=(m-p)*h;return p+(g+(f-g)*h-p)*q};a.cosCapped=function(p,m){return p>m?Math.cos(m):Math.cos(p)};a.fovx2fovy=function(p,m,g){return 2*Math.atan(g*Math.tan(.5*p)/m)};a.fovy2fovx=function(p,m,g){return 2*Math.atan(m*Math.tan(.5*p)/g)};a.makeOrthonormal=function(p,m,g){g=g||p;const f=c.dot(p,m);c.set(g,p[0]-f*m[0],p[1]-f*m[1],p[2]-f*m[2]);c.normalize(g,g)};a.makePiecewiseLinearFunction=
function(p){const m=p.length;return g=>{if(g<=p[0][0])return p[0][1];if(g>=p[m-1][0])return p[m-1][1];let f=1;for(;g>p[f][0];)f++;const h=p[f][0];g=(h-g)/(h-p[f-1][0]);return g*p[f-1][1]+(1-g)*p[f][1]}};a.maxScale=function(p){return Math.sqrt(Math.max(p[0]*p[0]+p[4]*p[4]+p[8]*p[8],p[1]*p[1]+p[5]*p[5]+p[9]*p[9],p[2]*p[2]+p[6]*p[6]+p[10]*p[10]))};a.moduloPositive=function(p,m){return(p%m+m)%m};a.planeFromPoints=function(p,m,g,f){c.subtract(d,m,p);c.subtract(n,g,p);c.cross(f,d,n);c.normalize(f,f);f[3]=
-c.dot(p,f)};a.scaleFromMatrix=function(p,m){c.set(p,Math.sqrt(m[0]*m[0]+m[4]*m[4]+m[8]*m[8]),Math.sqrt(m[1]*m[1]+m[5]*m[5]+m[9]*m[9]),Math.sqrt(m[2]*m[2]+m[6]*m[6]+m[10]*m[10]));return p};a.slerp=function(p,m,g,f=e.create()){const h=c.length(p);var q=c.length(m),k=c.dot(p,m)/(h*q);if(.9999999999999999>k){k=Math.acos(k);const l=((1-g)*h+g*q)/Math.sin(k);q=l/q*Math.sin(g*k);c.scale(t,p,l/h*Math.sin((1-g)*k));c.scale(r,m,q);return c.add(f,t,r)}return c.lerp(f,p,m,g)};a.slerpTangent=function(p,m,g,f=
e.create(),h=e.create()){const q=c.length(p),k=c.length(m);var l=c.dot(p,m)/(q*k);if(.9999999999999999>l){l=Math.acos(l);const v=Math.sin(l),w=Math.sin(g*l),x=Math.sin((1-g)*l),z=(1-g)*q+g*k,A=z/v,B=A/k*w;c.scale(t,p,A/q*x);c.scale(r,m,B);c.add(f,t,r);c.scale(t,p,1/q*(-Math.cos((1-g)*l)*l*z+x*(-q+k)));c.scale(r,m,1/k*(Math.cos(g*l)*l*z+w*(-q+k)));c.add(h,t,r);c.scale(h,h,1/v);return h}c.lerp(f,p,m,g);c.subtract(h,m,p);c.normalize(h,h);return h};a.tangentFrame=function(p,m,g){Math.abs(p[0])>Math.abs(p[1])?
c.set(m,0,1,0):c.set(m,1,0,0);c.cross(g,p,m);c.normalize(m,m);c.cross(m,g,p);c.normalize(g,g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/camera/constraintUtils/distance":function(){define("exports ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/support/ray ../../../../chunks/sphere ./common ./InteractionType".split(" "),function(a,b,c,e,d,n,u,t){function r(l,v,w=u.defaultConstraintOptions){if(!l.state.isLocal)return 0;
var x=l.state.constraints.distance;if(!l.pointsOfInterest.surfaceOrigin.renderLocation||Infinity===x)return 0;m.min=0;m.max=x;x=m;var z=w.interactionType;if(z!==t.InteractionType.NONE){var {min:A,max:B}=x,{interactionStartCamera:D,interactionFactor:y}=w;if(D){w=z===t.InteractionType.ZOOM||z===t.InteractionType.PAN;z=r(l,D);var C=0===z?0:p(l,D);x.min=A;x.max=B;u.adjustRangeForInteraction(z,C,w,y,.05*C,x)}}l=p(l,v);l=m.max-l;return-1E-6<=l?0:l}function p(l,v){l=l.pointsOfInterest.surfaceOrigin;return l.renderLocation?
c.distance(v.eye,l.renderLocation):0}const m={min:0,max:0},g=e.create(),f=e.create(),h=e.create(),q=e.create(),k=e.create();a.applyDistanceConstraint=function(l,v,w=u.defaultConstraintOptions){var x=r(l,v,w);if(0===x)return!1;var z=l.pointsOfInterest.surfaceOrigin;if(!z.renderLocation)return!1;x=p(l,v)+x;const A=c.copy(g,v.eye);w=u.interactionDirectionTowardsConstraintMinimization(v,w.interactionDirection,c.direction(q,v.eye,z.renderLocation),h);if(!n.intersectRay(n.fromCenterAndRadius(z.renderLocation,
x),d.wrap(v.eye,w),k))return!1;v.eye=k;z=c.subtract(f,v.eye,A);v.center=c.add(k,v.center,z);z=l.renderCoordsHelper.getAltitude(v.center);l=l.renderCoordsHelper.intersectInfiniteManifold(v.ray,z,k);b.isSome(l)&&(v.center=l);return!0};a.getDistanceConstraintError=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/camera/constraintUtils/surfaceCollision":function(){define(["exports","../../../../chunks/vec3","../../../../chunks/vec3f64","../intersectionUtils"],function(a,
b,c,e){a.Mode=void 0;(function(u){u[u.EYE=0]="EYE";u[u.EYE_AND_CENTER=1]="EYE_AND_CENTER";u[u.EYE_AND_CENTER_SCALE=2]="EYE_AND_CENTER_SCALE"})(a.Mode||(a.Mode={}));const d=c.create(),n=c.create();a.applySurfaceCollisionConstraint=function(u,t,r=a.Mode.EYE){var p=u.state.constraints;if(!p.collision.enabled)return!1;var m=e.surfaceElevationBelowRenderLocation(u,t.eye);const g=u.renderCoordsHelper.getAltitude(t.eye);p=m+p.collision.elevationMargin;if(g>=p)return!1;m=b.length(t.eye);b.subtract(d,t.center,
t.eye);t.eye=u.renderCoordsHelper.setAltitude(n,p,t.eye);r===a.Mode.EYE_AND_CENTER?t.center=b.add(d,t.eye,d):r===a.Mode.EYE_AND_CENTER_SCALE&&(t.center=b.scale(d,t.center,(m-g+p)/m));return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/camera/intersectionUtils":function(){define("exports ../../../core/maybe ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/ellipsoidUtils ../../../geometry/support/aaBoundingRect ../webgl-engine/lib/Intersector".split(" "),
function(a,b,c,e,d,n,u){function t(q,k){return q.elevationProvider?b.unwrapOr(q.elevationProvider.getElevation(k[0],k[1],k[2],q.renderCoordsHelper.spatialReference,"ground"),0):0}function r(q,k,l){if(!q.state.isGlobal||!q.stateManager.constraintsManager)return!1;const v=t(q,k);({far:q}=q.stateManager.constraintsManager.nearFarHeuristic.compute(k,l,q.renderDataExtent,v,h));q*=q;return c.squaredDistance(k,l)>q}const p={},m=e.create(),g=e.create(),f=e.create(),h={near:0,far:0};a.cameraOnContentAlongViewDirection=
function(q,k,l,v){const w=q.state.camera.clone();k&&l&&v&&(w.eye=k,w.center=l,w.up=v);k=w.ray;l=p[q.viewingMode];l||(l=u.newIntersector(q.state.viewingMode),l.options.backfacesTerrain=!q.state.isGlobal,l.options.invisibleTerrain=!0,p[q.viewingMode]=l);({isGlobal:v}=q.state);q.sceneIntersectionHelper.intersectRay(k,l,g)&&!r(q,k.origin,g)?k=!0:!q.renderCoordsHelper.intersectManifold(k,0,g)||r(q,k.origin,g)?v?(l=d.getReferenceEllipsoid(q.spatialReference).radius,l=c.dot(k.origin,k.origin)-l*l,c.scale(g,
k.direction,(0<l?Math.sqrt(l)/3:1)/c.length(k.direction)),c.add(g,g,k.origin),k=!0):k=!1:k=!0;k||c.copy(g,w.center);l=q.state.constraints;v=l.minimumPoiDistance;c.squaredDistance(w.eye,g)<v&&(k=l.collision.enabled,c.copy(f,w.viewForward),c.scale(f,f,v),k?w.eye=c.subtract(m,g,f):c.add(g,w.eye,f),q=q.renderCoordsHelper,v=q.getAltitude(w.eye),l=l.collision.elevationMargin,k&&v<l&&(c.subtract(f,g,w.eye),w.eye=q.setAltitude(m,l,w.eye),c.add(g,w.eye,f)));w.center=g;return w};a.eyeWithinExtent=function(q,
k,l,v){return b.isSome(q.renderCoordsHelper.fromRenderCoords(k.eye,m,v))&&n.containsPoint(l,m)};a.surfaceElevationBelowRenderLocation=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Intersector":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f64 ../../../../geometry/support/ray ../../../ViewingMode ./IntersectorInterfaces ./IntersectorTarget ./intersectorUtils ./verticalOffsetUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){let k=function(){function A(D){this.options=new g.IntersectorOptions;this._results=new l;this.transform=new q.IntersectorTransform;this.tolerance=1E-5;this.verticalOffset=null;this._ray=p.create();this._rayEnd=u.create();this._rayBeginTransformed=u.create();this._rayEndTransformed=u.create();this.viewingMode=null==D?m.ViewingMode.Global:D}var B=A.prototype;B.reset=function(D,y,C){this.resetWithRay(p.fromPoints(D,y,this._ray),C)};B.resetWithRay=function(D,y){this.camera=
y;D!==this._ray&&p.copy(D,this._ray);0!==this.options.verticalOffset?this.viewingMode===m.ViewingMode.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null;n.add(this._rayEnd,this._ray.origin,this._ray.direction);this._results.init(this._ray)};B.intersect=function(D=null,y,C,F,G){this.point=y;this.filterPredicate=F;this.tolerance=null==C?1E-5:C;y=q.getVerticalOffsetObject3D(this.verticalOffset);if(c.isSome(D)&&0<D.length){const E=
G?P=>{G(P)&&this.intersectObject(P)}:P=>{this.intersectObject(P)};for(const P of D)D=P.getSpatialQueryAccelerator&&P.getSpatialQueryAccelerator(),c.isSome(D)?(c.isSome(y)?D.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,E,y):D.forEachAlongRay(this._ray.origin,this._ray.direction,E),this.options.selectionMode&&this.options.hud&&D.forEachDegenerateObject(E)):P.objects.forAll(O=>E(O))}this.sortResults()};B.intersectObject=function(D){const y=D.geometries;if(y){var C=D.transformation,
F=q.getVerticalOffsetObject3D(this.verticalOffset);for(const G of y){if(!G.visible)continue;const {material:E,id:P}=G;this.transform.setAndInvalidateLazyTransforms(C,G.shaderTransformation);n.transformMat4(this._rayBeginTransformed,this.rayBegin,this.transform.inverse);n.transformMat4(this._rayEndTransformed,this.rayEnd,this.transform.inverse);const O=this.transform.transform;c.isSome(F)&&(F.objectTransform=this.transform);E.intersect(G,this.transform.transform,this,this._rayBeginTransformed,this._rayEndTransformed,
(K,M,I,H,L,aa)=>{if(0<=K&&(!c.isSome(this.filterPredicate)||this.filterPredicate(this._ray.origin,this._rayEnd,K))){var R=H?this._results.hud:this._results,S=H?V=>{const ea=new f.HudTarget(D,P,I,aa);V.set(g.IntersectorType.HUD,ea,K,M,d.IDENTITY,L)}:V=>V.set(g.IntersectorType.OBJECT,{object:D,geometryId:P,triangleNr:I},K,M,O,L);(null==R.min.drapedLayerOrder||L>=R.min.drapedLayerOrder)&&(null==R.min.dist||K<R.min.dist)&&S(R.min);this.options.store!==g.StoreResults.MIN&&(null==R.max.drapedLayerOrder||
L<R.max.drapedLayerOrder)&&(null==R.max.dist||K>R.max.dist)&&S(R.max);this.options.store===g.StoreResults.ALL&&(H?(H=new w(this._ray),S(H),this._results.hud.all.push(H)):(H=new v(this._ray),S(H),this._results.all.push(H)))}})}}};B.sortResults=function(D=this._results.all){D.sort((y,C)=>y.dist!==C.dist?c.unwrapOr(y.dist,0)-c.unwrapOr(C.dist,0):y.drapedLayerOrder!==C.drapedLayerOrder?c.unwrapOr(y.drapedLayerOrder,Number.MAX_VALUE)-c.unwrapOr(C.drapedLayerOrder,Number.MAX_VALUE):c.unwrapOr(C.drapedLayerGraphicOrder,
Number.MIN_VALUE)-c.unwrapOr(y.drapedLayerGraphicOrder,Number.MIN_VALUE))};b._createClass(A,[{key:"results",get:function(){return this._results}},{key:"ray",get:function(){return this._ray}},{key:"rayBegin",get:function(){return this._ray.origin}},{key:"rayEnd",get:function(){return this._rayEnd}}]);return A}(),l=function(){function A(){this.min=new v(p.create());this.max=new v(p.create());this.hud={min:new w(p.create()),max:new w(p.create()),all:[]};this.ground=new v(p.create());this.all=[]}A.prototype.init=
function(B){this.min.init(B);this.max.init(B);this.ground.init(B);this.all.length=0;this.hud.min.init(B);this.hud.max.init(B);this.hud.all.length=0};return b._createClass(A)}(),v=function(){function A(D){this.intersector=g.IntersectorType.OBJECT;this.normal=u.create();this.transformation=d.create();this._ray=p.create();this.init(D)}var B=A.prototype;B.getIntersectionPoint=function(D){if(!h.isValidIntersectorResult(this))return!1;n.scale(x,this.ray.direction,this.dist);n.add(D,this.ray.origin,x);return!0};
B.getTransformedNormal=function(D){n.copy(z,this.normal);z[3]=0;t.transformMat4(z,z,this.transformation);n.copy(D,z);return n.normalize(D,D)};B.init=function(D){this.drapedLayerGraphicOrder=this.drapedLayerOrder=this.target=this.dist=null;this.intersector=g.IntersectorType.OBJECT;p.copy(D,this._ray)};B.set=function(D,y,C,F,G,E,P){this.intersector=D;this.dist=C;n.copy(this.normal,c.unwrapOr(F,u.UNIT_Z));e.copy(this.transformation,c.unwrapOr(G,d.IDENTITY));this.target=y;this.drapedLayerOrder=E;this.drapedLayerGraphicOrder=
P};B.copy=function(D){p.copy(D.ray,this._ray);this.intersector=D.intersector;this.dist=D.dist;this.target=D.target;this.drapedLayerOrder=D.drapedLayerOrder;this.drapedLayerGraphicOrder=D.drapedLayerGraphicOrder;n.copy(this.normal,D.normal);e.copy(this.transformation,D.transformation)};b._createClass(A,[{key:"ray",get:function(){return this._ray}},{key:"distanceInRenderSpace",get:function(){return c.isSome(this.dist)?(n.scale(x,this.ray.direction,this.dist),n.length(x)):null}}]);return A}(),w=function(A){function B(){var y=
D.apply(this,arguments);y.intersector=g.IntersectorType.HUD;return y}b._inherits(B,A);var D=b._createSuper(B);return b._createClass(B)}(v);const x=u.create(),z=r.create();a.DEFAULT_TOLERANCE=1E-5;a.newIntersector=function(A){return new k(A)};a.newIntersectorResult=function(A){return new v(A)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/IntersectorInterfaces":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(a,
b){a.IntersectorType=void 0;(function(c){c[c.OBJECT=0]="OBJECT";c[c.HUD=1]="HUD";c[c.TERRAIN=2]="TERRAIN";c[c.OVERLAY=3]="OVERLAY";c[c.I3S=4]="I3S";c[c.PCL=5]="PCL";c[c.LOD=6]="LOD";c[c.VOXEL=7]="VOXEL"})(a.IntersectorType||(a.IntersectorType={}));b=b._createClass(function(){this.verticalOffset=0;this.selectionMode=!1;this.selectOpaqueTerrainOnly=this.hud=!0;this.invisibleTerrain=!1;this.backfacesTerrain=!0;this.isFiltered=!1;this.filteredLayerUids=[];this.store=a.StoreResults.ALL});a.StoreResults=
void 0;(function(c){c[c.MIN=0]="MIN";c[c.MINMAX=1]="MINMAX";c[c.ALL=2]="ALL"})(a.StoreResults||(a.StoreResults={}));a.IntersectorOptions=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/IntersectorTarget":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/maybe","../../../../chunks/vec3f64"],function(a,b,c,e){let d=b._createClass(function(p,m,g){this.object=p;this.geometryId=m;this.triangleNr=g}),n=function(p){function m(f,
h,q,k){f=g.call(this,f,h,q);f.center=c.isSome(k)?e.clone(k):null;return f}b._inherits(m,p);var g=b._createSuper(m);return b._createClass(m)}(d),u=function(p){function m(){return g.apply(this,arguments)}b._inherits(m,p);var g=b._createSuper(m);return b._createClass(m)}(n),t=b._createClass(function(p){this.layerUid=p}),r=function(p){function m(f,h){f=g.call(this,f);f.graphicUid=h;return f}b._inherits(m,p);var g=b._createSuper(m);return b._createClass(m)}(t);a.Graphic3DTarget=r;a.HudTarget=n;a.LayerTarget=
t;a.ObjectTarget=d;a.ValidHudTarget=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/intersectorUtils":function(){define("exports ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/boundedPlane ./IntersectorInterfaces".split(" "),function(a,b,c,e,d,n){function u(r){return b.isSome(r)&&b.isSome(r.dist)}const t=e.create();a.isHudIntersectorResult=function(r){return u(r)&&r.intersector===n.IntersectorType.HUD&&
!!r.target&&"center"in r.target&&b.isSome(r.target.center)};a.isObjectIntersectorResult=function(r){return u(r)&&r.intersector===n.IntersectorType.OBJECT&&!!r.target};a.isValidIntersectorResult=u;a.sliceFilterPredicate=function(r){return(p,m,g)=>{c.lerp(t,p,m,g);return!d.extrusionContainsPoint(r,t)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/boundedPlane":function(){define("exports ./_rollupPluginBabelHelpers ../core/has ../core/Logger ../core/mathUtils ../core/ObjectStack ./mat4 ./mat4f64 ./vec3 ./vec3f64 ../geometry/support/Axis ../geometry/support/lineSegment ../geometry/support/plane ../geometry/support/ray ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k){function l(ba=pa){return{plane:f.create(ba.plane),origin:p.clone(ba.origin),basis1:p.clone(ba.basis1),basis2:p.clone(ba.basis2)}}function v(ba,ka,X){const Q=qa.get();Q.origin=ba;Q.basis1=ka;Q.basis2=X;Q.plane=f.wrap(0,0,0,0);A(Q);return Q}function w(ba,ka=l()){return z(ba.origin,ba.basis1,ba.basis2,ka)}function x(ba,ka){r.copy(ka.origin,ba.origin);r.copy(ka.basis1,ba.basis1);r.copy(ka.basis2,ba.basis2);f.copy(ka.plane,ba.plane)}function z(ba,ka,X,Q=l()){r.copy(Q.origin,
ba);r.copy(Q.basis1,ka);r.copy(Q.basis2,X);A(Q);1E-6<Math.abs(r.dot(Q.basis1,Q.basis2)/(r.length(Q.basis1)*r.length(Q.basis2)))&&U.warn("fromValues()","Provided basis vectors are not perpendicular");1E-6<Math.abs(r.dot(Q.basis1,ha(Q)))&&U.warn("fromValues()","Basis vectors and plane normal are not perpendicular");1E-6<Math.abs(-r.dot(ha(Q),Q.origin)-Q.plane[3])&&U.warn("fromValues()","Plane offset is not consistent with plane origin");return Q}function A(ba){f.fromVectorsAndPoint(ba.basis2,ba.basis1,
ba.origin,ba.plane)}function B(ba,ka,X){ba!==X&&w(ba,X);ba=r.scale(k.sv3d.get(),ha(ba),ka);r.add(X.origin,X.origin,ba);X.plane[3]-=ka;return X}function D(ba,ka,X){y(ka,X);B(X,aa(ba,ba.origin),X);return X}function y(ba,ka=l()){const X=(ba[2]-ba[0])/2,Q=(ba[3]-ba[1])/2;r.set(ka.origin,ba[0]+X,ba[1]+Q,0);r.set(ka.basis1,X,0,0);r.set(ka.basis2,0,Q,0);f.fromValues(0,0,1,0,ka.plane);return ka}function C(ba,ka,X){return f.intersectRay(ba.plane,ka,X)?la(ba,X):!1}function F(ba,ka,X){if(C(ba,ka,X))return X;
ba=G(ba,ka,k.sv3d.get());r.add(X,ka.origin,r.scale(k.sv3d.get(),ka.direction,r.distance(ka.origin,ba)/r.length(ka.direction)));return X}function G(ba,ka,X){const Q=xa.get();var ca=xa.get();Z(ba,ka,Q,ca);ca=Number.POSITIVE_INFINITY;for(const ua of Ca){var ja=Y(ba,ua,N.get());const da=k.sv3d.get();f.intersectLineSegment(Q,ja,da)&&(ja=r.direction(k.sv3d.get(),ka.origin,da),ja=Math.abs(d.acosClamped(r.dot(ka.direction,ja))),ja<ca&&(ca=ja,r.copy(X,da)))}return ca===Number.POSITIVE_INFINITY?E(ba,ka,X):
X}function E(ba,ka,X){if(C(ba,ka,X))return X;const Q=xa.get(),ca=xa.get();Z(ba,ka,Q,ca);let ja=Number.POSITIVE_INFINITY;for(const da of Ca){var ua=Y(ba,da,N.get());const ra=k.sv3d.get();f.intersectLineSegmentClamp(Q,ua,ra)&&(ua=h.distance2(ka,ra),f.isPointInside(ca,ra)&&ua<ja&&(ja=ua,r.copy(X,ra)))}K(ba,ka.origin)<ja&&P(ba,ka.origin,X);return X}function P(ba,ka,X){var Q=f.projectPoint(ba.plane,ka,k.sv3d.get());ka=g.projectPointClamp(ia(ba,ba.basis1),Q,-1,1,k.sv3d.get());Q=g.projectPointClamp(ia(ba,
ba.basis2),Q,-1,1,k.sv3d.get());r.subtract(X,r.add(k.sv3d.get(),ka,Q),ba.origin);return X}function O(ba,ka,X){const {origin:Q,basis1:ca,basis2:ja}=ba,ua=r.subtract(k.sv3d.get(),ka,Q);ka=q.projectPointSignedLength(ca,ua);const da=q.projectPointSignedLength(ja,ua);ba=q.projectPointSignedLength(ha(ba),ua);return r.set(X,ka,da,ba)}function K(ba,ka){ka=O(ba,ka,k.sv3d.get());const {basis1:X,basis2:Q}=ba;ba=r.length(X);var ca=r.length(Q);ba=Math.max(Math.abs(ka[0])-ba,0);ca=Math.max(Math.abs(ka[1])-ca,0);
ka=ka[2];return ba*ba+ca*ca+ka*ka}function M(ba,ka){return Math.sqrt(K(ba,ka))}function I(ba,ka){let X=Number.NEGATIVE_INFINITY;for(const ca of Ca){var Q=Y(ba,ca,N.get());Q=g.distance2(Q,ka);Q>X&&(X=Q)}return Math.sqrt(X)}function H(ba,ka){return f.isPointInside(ba.plane,ka)&&la(ba,ka)}function L(ba,ka,X,Q){switch(X){case m.Axis.X:r.copy(Q,ba.basis1);r.normalize(Q,Q);break;case m.Axis.Y:r.copy(Q,ba.basis2);r.normalize(Q,Q);break;case m.Axis.Z:r.copy(Q,ha(ba))}return Q}function aa(ba,ka){const X=-ba.plane[3];
return q.projectPointSignedLength(ha(ba),ka)-X}function R(ba,ka,X,Q){const ca=aa(ba,ka);ba=r.scale(T,ha(ba),X-ca);r.add(Q,ka,ba);return Q}function S(ba,ka){return r.exactEquals(ba.basis1,ka.basis1)&&r.exactEquals(ba.basis2,ka.basis2)&&r.exactEquals(ba.origin,ka.origin)}function V(ba,ka,X){ba!==X&&w(ba,X);u.invert(Fa,ka);u.transpose(Fa,Fa);r.transformMat4(X.basis1,ba.basis1,Fa);r.transformMat4(X.basis2,ba.basis2,Fa);r.transformMat4(f.normal(X.plane),f.normal(ba.plane),Fa);r.transformMat4(X.origin,
ba.origin,ka);f.setOffsetFromPoint(X.plane,X.plane,X.origin);return X}function ea(ba,ka,X,Q){ba!==Q&&w(ba,Q);u.fromRotation(fa,ka,X);r.transformMat4(Q.basis1,ba.basis1,fa);r.transformMat4(Q.basis2,ba.basis2,fa);A(Q);return Q}function ha(ba){return f.normal(ba.plane)}function la(ba,ka){const X=r.subtract(k.sv3d.get(),ka,ba.origin);ka=r.squaredLength(ba.basis1);const Q=r.squaredLength(ba.basis2),ca=r.dot(ba.basis1,X);ba=r.dot(ba.basis2,X);return 0>-ca-ka&&0>ca-ka&&0>-ba-Q&&0>ba-Q}function ia(ba,ka){const X=
N.get();r.copy(X.origin,ba.origin);r.copy(X.vector,ka);return X}function Y(ba,ka,X){const {basis1:Q,basis2:ca,origin:ja}=ba;ba=r.scale(k.sv3d.get(),Q,ka.origin[0]);const ua=r.scale(k.sv3d.get(),ca,ka.origin[1]);r.add(X.origin,ba,ua);r.add(X.origin,X.origin,ja);ba=r.scale(k.sv3d.get(),Q,ka.direction[0]);ka=r.scale(k.sv3d.get(),ca,ka.direction[1]);r.scale(X.vector,r.add(ba,ba,ka),2);return X}function Z(ba,ka,X,Q){ba=ha(ba);f.fromVectorsAndPoint(ba,ka.direction,ka.origin,X);f.fromVectorsAndPoint(f.normal(X),
ba,ka.origin,Q)}const U=e.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");b=b._createClass(function(){this.plane=f.create();this.origin=p.create();this.basis1=p.create();this.basis2=p.create()});const pa={plane:f.create(),origin:p.fromValues(0,0,0),basis1:p.fromValues(1,0,0),basis2:p.fromValues(0,1,0)},xa=new n.ObjectStack(f.create),N=new n.ObjectStack(g.create),T=p.create(),qa=new n.ObjectStack(()=>l()),Ca=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,
1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],Fa=t.create(),fa=t.create();n=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:b,UP:pa,altitudeAt:aa,axisAt:L,closestPoint:E,closestPointOnSilhouette:G,copy:w,copyWithoutVerify:x,create:l,distance:M,distance2:K,distanceToSilhouette:I,elevate:B,equals:S,extrusionContainsPoint:H,fromAABoundingRect:y,fromValues:z,intersectRay:C,intersectRayClosestSilhouette:F,normal:ha,projectPoint:P,projectPointLocal:O,rotate:ea,setAltitudeAt:R,
setExtent:D,transform:V,updateUnboundedPlane:A,wrap:v},Symbol.toStringTag,{value:"Module"}));a.BoundedPlaneClass=b;a.UP=pa;a.altitudeAt=aa;a.axisAt=L;a.boundedPlane=n;a.closestPoint=E;a.closestPointOnSilhouette=G;a.copy=w;a.copyWithoutVerify=x;a.create=l;a.distance=M;a.distance2=K;a.distanceToSilhouette=I;a.elevate=B;a.equals=S;a.extrusionContainsPoint=H;a.fromAABoundingRect=y;a.fromValues=z;a.intersectRay=C;a.intersectRayClosestSilhouette=F;a.normal=ha;a.projectPoint=P;a.projectPointLocal=O;a.rotate=
ea;a.setAltitudeAt=R;a.setExtent=D;a.transform=V;a.updateUnboundedPlane=A;a.wrap=v})},"esri/geometry/support/lineSegment":function(){define("exports ../../core/mathUtils ../../core/ObjectStack ../../chunks/vec3 ../../chunks/vec3f64 ./vectorStacks".split(" "),function(a,b,c,e,d,n){function u(q){return q?{origin:d.clone(q.origin),vector:d.clone(q.vector)}:{origin:d.create(),vector:d.create()}}function t(q,k){const l=h.get();l.origin=q;l.vector=k;return l}function r(q,k,l=u()){e.copy(l.origin,q);e.copy(l.vector,
k);return l}function p(q,k){k=e.subtract(n.sv3d.get(),k,q.origin);var l=e.dot(q.vector,k);const v=e.dot(q.vector,q.vector);l=b.clamp(l/v,0,1);q=e.subtract(n.sv3d.get(),e.scale(n.sv3d.get(),q.vector,l),k);return e.dot(q,q)}function m(q,k,l,v,w){const {vector:x,origin:z}=q;k=e.subtract(n.sv3d.get(),k,z);k=e.dot(x,k)/e.squaredLength(x);e.scale(w,x,b.clamp(k,l,v));return e.add(w,w,q.origin)}function g(q,k,l,v){const w=q.origin;var x=e.add(n.sv3d.get(),w,q.vector);q=k.origin;var z=e.add(n.sv3d.get(),q,
k.vector),A=n.sv3d.get();k=n.sv3d.get();A[0]=w[0]-q[0];A[1]=w[1]-q[1];A[2]=w[2]-q[2];k[0]=z[0]-q[0];k[1]=z[1]-q[1];k[2]=z[2]-q[2];if(1E-6>Math.abs(k[0])&&1E-6>Math.abs(k[1])&&1E-6>Math.abs(k[2]))return!1;z=n.sv3d.get();z[0]=x[0]-w[0];z[1]=x[1]-w[1];z[2]=x[2]-w[2];if(1E-6>Math.abs(z[0])&&1E-6>Math.abs(z[1])&&1E-6>Math.abs(z[2]))return!1;x=A[0]*k[0]+A[1]*k[1]+A[2]*k[2];var B=k[0]*z[0]+k[1]*z[1]+k[2]*z[2];const D=k[0]*k[0]+k[1]*k[1]+k[2]*k[2],y=(z[0]*z[0]+z[1]*z[1]+z[2]*z[2])*D-B*B;if(1E-6>Math.abs(y))return!1;
A=(x*B-(A[0]*z[0]+A[1]*z[1]+A[2]*z[2])*D)/y;x=(x+B*A)/D;l&&(A=b.clamp(A,0,1),x=b.clamp(x,0,1));l=n.sv3d.get();B=n.sv3d.get();l[0]=w[0]+A*z[0];l[1]=w[1]+A*z[1];l[2]=w[2]+A*z[2];B[0]=q[0]+x*k[0];B[1]=q[1]+x*k[1];B[2]=q[2]+x*k[2];v.tA=A;v.tB=x;v.pA=l;v.pB=B;v.distance2=e.squaredDistance(l,B);return!0}const f={tA:0,tB:0,pA:d.create(),pB:d.create(),distance2:0},h=new c.ObjectStack(()=>u());a.closestLineSegmentDistance2=function(q,k){return g(q,k,!0,f)?f.distance2:null};a.closestLineSegmentPoint=function(q,
k,l){return g(q,k,!0,f)?(e.copy(l,f.pA),!0):!1};a.closestRayDistance2=function(q,k){if(g(q,t(k.origin,k.direction),!1,f)){const {tA:l,pB:v,distance2:w}=f;if(0<=l&&1>=l)return w;if(0>l)return e.squaredDistance(q.origin,v);if(1<l)return e.squaredDistance(e.add(n.sv3d.get(),q.origin,q.vector),v)}return null};a.copy=function(q,k=u()){return r(q.origin,q.vector,k)};a.create=u;a.distance=function(q,k){return Math.sqrt(p(q,k))};a.distance2=p;a.fromPoints=function(q,k,l=u()){e.copy(l.origin,q);e.subtract(l.vector,
k,q);return l};a.fromValues=r;a.pointAt=function(q,k,l){return e.add(l,q.origin,e.scale(l,q.vector,k))};a.projectPoint=function(q,k,l){return m(q,k,0,1,l)};a.projectPointClamp=m;a.wrap=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/verticalOffsetUtils":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/mat3 ../../../../chunks/mat3f64 ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/quat ../../../../chunks/quatf64 ../../../../chunks/vec3 ../../../../chunks/vec3f32 ../../../../chunks/vec3f64 ../../../../chunks/sphere".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){let h=function(){function C(){this._transform=u.create();this._transformInverse=new q({value:this._transform},n.invert,u.create);this._transformInverseTranspose=new q(this._transformInverse,n.transpose,u.create);this._transformTranspose=new q({value:this._transform},n.transpose,u.create);this._transformInverseRotation=new q({value:this._transform},e.normalFromMat4Legacy,d.create)}var F=C.prototype;F._invalidateLazyTransforms=function(){this._transformInverse.invalidate();
this._transformInverseTranspose.invalidate();this._transformTranspose.invalidate();this._transformInverseRotation.invalidate()};F.setTransformMatrix=function(G){n.copy(this._transform,G)};F.multiplyTransform=function(G){n.multiply(this._transform,this._transform,G)};F.set=function(G){n.copy(this._transform,G);this._invalidateLazyTransforms()};F.setAndInvalidateLazyTransforms=function(G,E){this.setTransformMatrix(G);this.multiplyTransform(E);this._invalidateLazyTransforms()};b._createClass(C,[{key:"transform",
get:function(){return this._transform}},{key:"inverse",get:function(){return this._transformInverse.value}},{key:"inverseTranspose",get:function(){return this._transformInverseTranspose.value}},{key:"inverseRotation",get:function(){return this._transformInverseRotation.value}},{key:"transpose",get:function(){return this._transformTranspose.value}}]);return C}(),q=function(){function C(F,G,E){this._original=F;this._update=G;this._dirty=!0;this._transform=E()}C.prototype.invalidate=function(){this._dirty=
!0};b._createClass(C,[{key:"value",get:function(){this._dirty&&(this._update(this._transform,this._original.value),this._dirty=!1);return this._transform}}]);return C}(),k=function(){function C(G=0){this.offset=G;this.tmpVertex=g.create()}var F=C.prototype;F.applyToVertex=function(G,E,P){const O=G+this.localOrigin[0],K=E+this.localOrigin[1],M=P+this.localOrigin[2],I=this.offset/Math.sqrt(O*O+K*K+M*M);this.tmpVertex[0]=G+O*I;this.tmpVertex[1]=E+K*I;this.tmpVertex[2]=P+M*I;return this.tmpVertex};F.applyToAabb=
function(G){for(var E=0;3>E;++E)l[E]=G[0+E]+this.localOrigin[E],v[E]=G[3+E]+this.localOrigin[E],w[E]=l[E];E=this.applyToVertex(l[0],l[1],l[2]);for(var P=0;3>P;++P)G[P]=E[P],G[P+3]=E[P];E=K=>{K=this.applyToVertex(K[0],K[1],K[2]);for(let M=0;3>M;++M)G[M]=Math.min(G[M],K[M]),G[M+3]=Math.max(G[M+3],K[M])};for(P=1;8>P;++P){for(var O=0;3>O;++O)w[O]=0===(P&1<<O)?l[O]:v[O];E(w)}P=0;for(O=0;3>O;++O)0>l[O]*v[O]&&(P|=1<<O);if(0!==P&&7!==P)for(O=0;8>O;++O)if(0===(P&O)){for(let K=0;3>K;++K)w[K]=P[K]?0:0!==(O&
1<<K)?l[K]:v[K];E(w)}for(E=0;3>E;++E)G[E]-=this.localOrigin[E],G[E+3]-=this.localOrigin[E];return G};return b._createClass(C)}();const l=g.create(),v=g.create(),w=g.create();let x=function(){function C(G=0){this.componentLocalOriginLength=0;this._tmpVertex=g.create();this._mbs=f.create();this._obb={center:g.create(),halfSize:m.create(),quaternion:null};this._offset=this._totalOffset=0;this._resetOffset(G)}var F=C.prototype;F._resetOffset=function(G){this._totalOffset=this._offset=G};F.applyToVertex=
function(G,E,P){const O=P+this.componentLocalOriginLength,K=this._totalOffset/Math.sqrt(G*G+E*E+O*O);this._tmpVertex[0]=G+G*K;this._tmpVertex[1]=E+E*K;this._tmpVertex[2]=P+O*K;return this._tmpVertex};F.applyToAabb=function(G){const E=G[0],P=G[1],O=G[2]+this.componentLocalOriginLength,K=G[3],M=G[4],I=G[5]+this.componentLocalOriginLength;var H=0>E*K?0:Math.min(Math.abs(E),Math.abs(K)),L=0>P*M?0:Math.min(Math.abs(P),Math.abs(M)),aa=0>O*I?0:Math.min(Math.abs(O),Math.abs(I));H=Math.sqrt(H*H+L*L+aa*aa);
if(H<this._totalOffset)return G[0]-=0>E?this._totalOffset:0,G[1]-=0>P?this._totalOffset:0,G[2]-=0>O?this._totalOffset:0,G[3]+=0<K?this._totalOffset:0,G[4]+=0<M?this._totalOffset:0,G[5]+=0<I?this._totalOffset:0,G;L=Math.max(Math.abs(E),Math.abs(K));aa=Math.max(Math.abs(P),Math.abs(M));const R=Math.max(Math.abs(O),Math.abs(I));L=this._totalOffset/Math.sqrt(L*L+aa*aa+R*R);H=this._totalOffset/H;G[0]+=E*(0<E?L:H);G[1]+=P*(0<P?L:H);G[2]+=O*(0<O?L:H);G[3]+=K*(0>K?L:H);G[4]+=M*(0>M?L:H);G[5]+=I*(0>I?L:H);
return G};F.applyToMbs=function(G){const E=Math.sqrt(G[0]*G[0]+G[1]*G[1]+G[2]*G[2]),P=this._totalOffset/E;this._mbs[0]=G[0]+G[0]*P;this._mbs[1]=G[1]+G[1]*P;this._mbs[2]=G[2]+G[2]*P;this._mbs[3]=G[3]+G[3]*this._totalOffset/E;return this._mbs};F.applyToObb=function(G){var E=G.center;const P=this._totalOffset/Math.sqrt(E[0]*E[0]+E[1]*E[1]+E[2]*E[2]);this._obb.center[0]=E[0]+E[0]*P;this._obb.center[1]=E[1]+E[1]*P;this._obb.center[2]=E[2]+E[2]*P;p.transformQuat(this._obb.halfSize,G.halfSize,G.quaternion);
p.add(this._obb.halfSize,this._obb.halfSize,G.center);E=this._totalOffset/Math.sqrt(this._obb.halfSize[0]*this._obb.halfSize[0]+this._obb.halfSize[1]*this._obb.halfSize[1]+this._obb.halfSize[2]*this._obb.halfSize[2]);this._obb.halfSize[0]+=this._obb.halfSize[0]*E;this._obb.halfSize[1]+=this._obb.halfSize[1]*E;this._obb.halfSize[2]+=this._obb.halfSize[2]*E;p.subtract(this._obb.halfSize,this._obb.halfSize,G.center);t.conjugate(y,G.quaternion);p.transformQuat(this._obb.halfSize,this._obb.halfSize,y);
this._obb.halfSize[0]*=0>this._obb.halfSize[0]?-1:1;this._obb.halfSize[1]*=0>this._obb.halfSize[1]?-1:1;this._obb.halfSize[2]*=0>this._obb.halfSize[2]?-1:1;this._obb.quaternion=G.quaternion;return this._obb};b._createClass(C,[{key:"offset",get:function(){return this._offset},set:function(G){this._resetOffset(G)}},{key:"componentOffset",set:function(G){this._totalOffset=this._offset+G}},{key:"localOrigin",set:function(G){this.componentLocalOriginLength=Math.sqrt(G[0]*G[0]+G[1]*G[1]+G[2]*G[2])}}]);
return C}(),z=function(){function C(G=0){this.offset=G;this.sphere=f.create();this.tmpVertex=g.create()}var F=C.prototype;F.applyToVertex=function(G,E,P){const O=this.objectTransform.transform;let K=O[0]*G+O[4]*E+O[8]*P+O[12],M=O[1]*G+O[5]*E+O[9]*P+O[13];G=O[2]*G+O[6]*E+O[10]*P+O[14];E=this.offset/Math.sqrt(K*K+M*M+G*G);K+=K*E;M+=M*E;G+=G*E;E=this.objectTransform.inverse;this.tmpVertex[0]=E[0]*K+E[4]*M+E[8]*G+E[12];this.tmpVertex[1]=E[1]*K+E[5]*M+E[9]*G+E[13];this.tmpVertex[2]=E[2]*K+E[6]*M+E[10]*
G+E[14];return this.tmpVertex};F.applyToMinMax=function(G,E){const P=this.offset/Math.sqrt(G[0]*G[0]+G[1]*G[1]+G[2]*G[2]);G[0]+=G[0]*P;G[1]+=G[1]*P;G[2]+=G[2]*P;G=this.offset/Math.sqrt(E[0]*E[0]+E[1]*E[1]+E[2]*E[2]);E[0]+=E[0]*G;E[1]+=E[1]*G;E[2]+=E[2]*G};F.applyToAabb=function(G){var E=this.offset/Math.sqrt(G[0]*G[0]+G[1]*G[1]+G[2]*G[2]);G[0]+=G[0]*E;G[1]+=G[1]*E;G[2]+=G[2]*E;E=this.offset/Math.sqrt(G[3]*G[3]+G[4]*G[4]+G[5]*G[5]);G[3]+=G[3]*E;G[4]+=G[4]*E;G[5]+=G[5]*E;return G};F.applyToBoundingSphere=
function(G){const E=Math.sqrt(G[0]*G[0]+G[1]*G[1]+G[2]*G[2]),P=this.offset/E;this.sphere[0]=G[0]+G[0]*P;this.sphere[1]=G[1]+G[1]*P;this.sphere[2]=G[2]+G[2]*P;this.sphere[3]=G[3]+G[3]*this.offset/E;return this.sphere};return b._createClass(C)}();const A=new z,B=new x,D=new k,y=r.create();a.I3SVerticalOffsetGlobalViewingMode=x;a.IntersectorTransform=h;a.Object3DVerticalOffsetGlobalViewingMode=z;a.TERRAIN_ID="terrain";a.TerrainVerticalOffsetGlobalViewingMode=k;a.getVerticalOffsetI3S=function(C){return c.isSome(C)?
(B.offset=C,B):null};a.getVerticalOffsetObject3D=function(C){return c.isSome(C)?(A.offset=C,A):null};a.getVerticalOffsetTerrain=function(C){return c.isSome(C)?(D.offset=C,D):null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat3":function(){define(["exports","./common"],function(a,b){function c(I,H){I[0]=H[0];I[1]=H[1];I[2]=H[2];I[3]=H[4];I[4]=H[5];I[5]=H[6];I[6]=H[8];I[7]=H[9];I[8]=H[10];return I}function e(I,H){I[0]=H[0];I[1]=H[1];I[2]=H[2];I[3]=H[3];I[4]=H[4];I[5]=
H[5];I[6]=H[6];I[7]=H[7];I[8]=H[8];return I}function d(I,H,L,aa,R,S,V,ea,ha,la){I[0]=H;I[1]=L;I[2]=aa;I[3]=R;I[4]=S;I[5]=V;I[6]=ea;I[7]=ha;I[8]=la;return I}function n(I){I[0]=1;I[1]=0;I[2]=0;I[3]=0;I[4]=1;I[5]=0;I[6]=0;I[7]=0;I[8]=1;return I}function u(I,H){if(I===H){const L=H[1],aa=H[2],R=H[5];I[1]=H[3];I[2]=H[6];I[3]=L;I[5]=H[7];I[6]=aa;I[7]=R}else I[0]=H[0],I[1]=H[3],I[2]=H[6],I[3]=H[1],I[4]=H[4],I[5]=H[7],I[6]=H[2],I[7]=H[5],I[8]=H[8];return I}function t(I,H){const L=H[0],aa=H[1],R=H[2],S=H[3],
V=H[4],ea=H[5],ha=H[6],la=H[7];H=H[8];const ia=H*V-ea*la,Y=-H*S+ea*ha,Z=la*S-V*ha;let U=L*ia+aa*Y+R*Z;if(!U)return null;U=1/U;I[0]=ia*U;I[1]=(-H*aa+R*la)*U;I[2]=(ea*aa-R*V)*U;I[3]=Y*U;I[4]=(H*L-R*ha)*U;I[5]=(-ea*L+R*S)*U;I[6]=Z*U;I[7]=(-la*L+aa*ha)*U;I[8]=(V*L-aa*S)*U;return I}function r(I,H){const L=H[0],aa=H[1],R=H[2],S=H[3],V=H[4],ea=H[5],ha=H[6],la=H[7];H=H[8];I[0]=V*H-ea*la;I[1]=R*la-aa*H;I[2]=aa*ea-R*V;I[3]=ea*ha-S*H;I[4]=L*H-R*ha;I[5]=R*S-L*ea;I[6]=S*la-V*ha;I[7]=aa*ha-L*la;I[8]=L*V-aa*S;return I}
function p(I){const H=I[3],L=I[4],aa=I[5],R=I[6],S=I[7],V=I[8];return I[0]*(V*L-aa*S)+I[1]*(-V*H+aa*R)+I[2]*(S*H-L*R)}function m(I,H,L){const aa=H[0],R=H[1],S=H[2],V=H[3],ea=H[4],ha=H[5],la=H[6],ia=H[7];H=H[8];const Y=L[0],Z=L[1],U=L[2],pa=L[3],xa=L[4],N=L[5],T=L[6],qa=L[7];L=L[8];I[0]=Y*aa+Z*V+U*la;I[1]=Y*R+Z*ea+U*ia;I[2]=Y*S+Z*ha+U*H;I[3]=pa*aa+xa*V+N*la;I[4]=pa*R+xa*ea+N*ia;I[5]=pa*S+xa*ha+N*H;I[6]=T*aa+qa*V+L*la;I[7]=T*R+qa*ea+L*ia;I[8]=T*S+qa*ha+L*H;return I}function g(I,H,L){const aa=H[0],R=
H[1],S=H[2],V=H[3],ea=H[4],ha=H[5],la=H[6],ia=H[7];H=H[8];const Y=L[0];L=L[1];I[0]=aa;I[1]=R;I[2]=S;I[3]=V;I[4]=ea;I[5]=ha;I[6]=Y*aa+L*V+la;I[7]=Y*R+L*ea+ia;I[8]=Y*S+L*ha+H;return I}function f(I,H,L){const aa=H[0],R=H[1],S=H[2],V=H[3],ea=H[4],ha=H[5],la=H[6],ia=H[7];H=H[8];const Y=Math.sin(L);L=Math.cos(L);I[0]=L*aa+Y*V;I[1]=L*R+Y*ea;I[2]=L*S+Y*ha;I[3]=L*V-Y*aa;I[4]=L*ea-Y*R;I[5]=L*ha-Y*S;I[6]=la;I[7]=ia;I[8]=H;return I}function h(I,H,L){const aa=L[0],R=L[1];L=L[2];I[0]=aa*H[0];I[1]=aa*H[1];I[2]=
aa*H[2];I[3]=R*H[3];I[4]=R*H[4];I[5]=R*H[5];I[6]=L*H[6];I[7]=L*H[7];I[8]=L*H[8];return I}function q(I,H,L){const aa=L[0];L=L[1];I[0]=aa*H[0];I[1]=aa*H[1];I[2]=aa*H[2];I[3]=L*H[3];I[4]=L*H[4];I[5]=L*H[5];return I}function k(I,H){I[0]=1;I[1]=0;I[2]=0;I[3]=0;I[4]=1;I[5]=0;I[6]=H[0];I[7]=H[1];I[8]=1;return I}function l(I,H){const L=Math.sin(H);H=Math.cos(H);I[0]=H;I[1]=L;I[2]=0;I[3]=-L;I[4]=H;I[5]=0;I[6]=0;I[7]=0;I[8]=1;return I}function v(I,H){I[0]=H[0];I[1]=0;I[2]=0;I[3]=0;I[4]=H[1];I[5]=0;I[6]=0;I[7]=
0;I[8]=1;return I}function w(I,H){I[0]=H[0];I[1]=H[1];I[2]=0;I[3]=H[2];I[4]=H[3];I[5]=0;I[6]=H[4];I[7]=H[5];I[8]=1;return I}function x(I,H){var L=H[0],aa=H[1],R=H[2];H=H[3];var S=L+L,V=aa+aa;const ea=R+R;L*=S;const ha=aa*S;aa*=V;const la=R*S,ia=R*V;R*=ea;S*=H;V*=H;H*=ea;I[0]=1-aa-R;I[3]=ha-H;I[6]=la+V;I[1]=ha+H;I[4]=1-L-R;I[7]=ia-S;I[2]=la-V;I[5]=ia+S;I[8]=1-L-aa;return I}function z(I,H){const L=H[0],aa=H[1],R=H[2],S=H[4],V=H[5],ea=H[6],ha=H[8],la=H[9];H=H[10];const ia=H*V-ea*la,Y=-H*S+ea*ha,Z=la*
S-V*ha;var U=L*ia+aa*Y+R*Z;if(!U)return null;U=1/U;I[0]=ia*U;I[1]=(-H*aa+R*la)*U;I[2]=(ea*aa-R*V)*U;I[3]=Y*U;I[4]=(H*L-R*ha)*U;I[5]=(-ea*L+R*S)*U;I[6]=Z*U;I[7]=(-la*L+aa*ha)*U;I[8]=(V*L-aa*S)*U;return I}function A(I,H){const L=H[0],aa=H[1],R=H[2],S=H[3],V=H[4],ea=H[5],ha=H[6],la=H[7];var ia=H[8],Y=H[9],Z=H[10],U=H[11];const pa=H[12],xa=H[13],N=H[14];H=H[15];const T=L*ea-aa*V,qa=L*ha-R*V,Ca=L*la-S*V,Fa=aa*ha-R*ea,fa=aa*la-S*ea,ba=R*la-S*ha,ka=ia*xa-Y*pa,X=ia*N-Z*pa;ia=ia*H-U*pa;const Q=Y*N-Z*xa;Y=
Y*H-U*xa;Z=Z*H-U*N;U=T*Z-qa*Y+Ca*Q+Fa*ia-fa*X+ba*ka;if(!U)return null;U=1/U;I[0]=(ea*Z-ha*Y+la*Q)*U;I[1]=(ha*ia-V*Z-la*X)*U;I[2]=(V*Y-ea*ia+la*ka)*U;I[3]=(R*Y-aa*Z-S*Q)*U;I[4]=(L*Z-R*ia+S*X)*U;I[5]=(aa*ia-L*Y-S*ka)*U;I[6]=(xa*ba-N*fa+H*Fa)*U;I[7]=(N*Ca-pa*ba-H*qa)*U;I[8]=(pa*fa-xa*Ca+H*T)*U;return I}function B(I,H,L){I[0]=2/H;I[1]=0;I[2]=0;I[3]=0;I[4]=-2/L;I[5]=0;I[6]=-1;I[7]=1;I[8]=1;return I}function D(I){return"mat3("+I[0]+", "+I[1]+", "+I[2]+", "+I[3]+", "+I[4]+", "+I[5]+", "+I[6]+", "+I[7]+", "+
I[8]+")"}function y(I){return Math.sqrt(I[0]**2+I[1]**2+I[2]**2+I[3]**2+I[4]**2+I[5]**2+I[6]**2+I[7]**2+I[8]**2)}function C(I,H,L){I[0]=H[0]+L[0];I[1]=H[1]+L[1];I[2]=H[2]+L[2];I[3]=H[3]+L[3];I[4]=H[4]+L[4];I[5]=H[5]+L[5];I[6]=H[6]+L[6];I[7]=H[7]+L[7];I[8]=H[8]+L[8];return I}function F(I,H,L){I[0]=H[0]-L[0];I[1]=H[1]-L[1];I[2]=H[2]-L[2];I[3]=H[3]-L[3];I[4]=H[4]-L[4];I[5]=H[5]-L[5];I[6]=H[6]-L[6];I[7]=H[7]-L[7];I[8]=H[8]-L[8];return I}function G(I,H,L){I[0]=H[0]*L;I[1]=H[1]*L;I[2]=H[2]*L;I[3]=H[3]*
L;I[4]=H[4]*L;I[5]=H[5]*L;I[6]=H[6]*L;I[7]=H[7]*L;I[8]=H[8]*L;return I}function E(I,H,L,aa){I[0]=H[0]+L[0]*aa;I[1]=H[1]+L[1]*aa;I[2]=H[2]+L[2]*aa;I[3]=H[3]+L[3]*aa;I[4]=H[4]+L[4]*aa;I[5]=H[5]+L[5]*aa;I[6]=H[6]+L[6]*aa;I[7]=H[7]+L[7]*aa;I[8]=H[8]+L[8]*aa;return I}function P(I,H){return I[0]===H[0]&&I[1]===H[1]&&I[2]===H[2]&&I[3]===H[3]&&I[4]===H[4]&&I[5]===H[5]&&I[6]===H[6]&&I[7]===H[7]&&I[8]===H[8]}function O(I,H){const L=I[0],aa=I[1],R=I[2],S=I[3],V=I[4],ea=I[5],ha=I[6],la=I[7];I=I[8];const ia=H[0],
Y=H[1],Z=H[2],U=H[3],pa=H[4],xa=H[5],N=H[6],T=H[7];H=H[8];const qa=b.getEpsilon();return Math.abs(L-ia)<=qa*Math.max(1,Math.abs(L),Math.abs(ia))&&Math.abs(aa-Y)<=qa*Math.max(1,Math.abs(aa),Math.abs(Y))&&Math.abs(R-Z)<=qa*Math.max(1,Math.abs(R),Math.abs(Z))&&Math.abs(S-U)<=qa*Math.max(1,Math.abs(S),Math.abs(U))&&Math.abs(V-pa)<=qa*Math.max(1,Math.abs(V),Math.abs(pa))&&Math.abs(ea-xa)<=qa*Math.max(1,Math.abs(ea),Math.abs(xa))&&Math.abs(ha-N)<=qa*Math.max(1,Math.abs(ha),Math.abs(N))&&Math.abs(la-T)<=
qa*Math.max(1,Math.abs(la),Math.abs(T))&&Math.abs(I-H)<=qa*Math.max(1,Math.abs(I),Math.abs(H))}function K(I){const H=b.getEpsilon(),L=I[0],aa=I[1],R=I[2],S=I[3],V=I[4],ea=I[5],ha=I[6],la=I[7];I=I[8];return Math.abs(1-(L*L+S*S+ha*ha))<=H&&Math.abs(1-(aa*aa+V*V+la*la))<=H&&Math.abs(1-(R*R+ea*ea+I*I))<=H}const M=Object.freeze(Object.defineProperty({__proto__:null,add:C,adjoint:r,copy:e,determinant:p,equals:O,exactEquals:P,frob:y,fromMat2d:w,fromMat4:c,fromQuat:x,fromRotation:l,fromScaling:v,fromTranslation:k,
identity:n,invert:t,isOrthoNormal:K,mul:m,multiply:m,multiplyScalar:G,multiplyScalarAndAdd:E,normalFromMat4:A,normalFromMat4Legacy:z,projection:B,rotate:f,scale:h,scaleByVec2:q,set:d,str:D,sub:F,subtract:F,translate:g,transpose:u},Symbol.toStringTag,{value:"Module"}));a.add=C;a.adjoint=r;a.copy=e;a.determinant=p;a.equals=O;a.exactEquals=P;a.frob=y;a.fromMat2d=w;a.fromMat4=c;a.fromQuat=x;a.fromRotation=l;a.fromScaling=v;a.fromTranslation=k;a.identity=n;a.invert=t;a.isOrthoNormal=K;a.mat3=M;a.mul=m;
a.multiply=m;a.multiplyScalar=G;a.multiplyScalarAndAdd=E;a.normalFromMat4=A;a.normalFromMat4Legacy=z;a.projection=B;a.rotate=f;a.scale=h;a.scaleByVec2=q;a.set=d;a.str=D;a.sub=F;a.subtract=F;a.translate=g;a.transpose=u})},"esri/chunks/quat":function(){define("exports ./mat3f64 ./quatf64 ./vec3f64 ./common ./vec3 ./vec4".split(" "),function(a,b,c,e,d,n,u){function t(ha){ha[0]=0;ha[1]=0;ha[2]=0;ha[3]=1;return ha}function r(ha,la,ia){ia*=.5;const Y=Math.sin(ia);ha[0]=Y*la[0];ha[1]=Y*la[1];ha[2]=Y*la[2];
ha[3]=Math.cos(ia);return ha}function p(ha,la){const ia=2*Math.acos(la[3]),Y=Math.sin(ia/2);Y>d.getEpsilon()?(ha[0]=la[0]/Y,ha[1]=la[1]/Y,ha[2]=la[2]/Y):(ha[0]=1,ha[1]=0,ha[2]=0);return ia}function m(ha,la,ia){const Y=la[0],Z=la[1],U=la[2];la=la[3];const pa=ia[0],xa=ia[1],N=ia[2];ia=ia[3];ha[0]=Y*ia+la*pa+Z*N-U*xa;ha[1]=Z*ia+la*xa+U*pa-Y*N;ha[2]=U*ia+la*N+Y*xa-Z*pa;ha[3]=la*ia-Y*pa-Z*xa-U*N;return ha}function g(ha,la,ia){ia*=.5;const Y=la[0],Z=la[1],U=la[2];la=la[3];const pa=Math.sin(ia);ia=Math.cos(ia);
ha[0]=Y*ia+la*pa;ha[1]=Z*ia+U*pa;ha[2]=U*ia-Z*pa;ha[3]=la*ia-Y*pa;return ha}function f(ha,la,ia){ia*=.5;const Y=la[0],Z=la[1],U=la[2];la=la[3];const pa=Math.sin(ia);ia=Math.cos(ia);ha[0]=Y*ia-U*pa;ha[1]=Z*ia+la*pa;ha[2]=U*ia+Y*pa;ha[3]=la*ia-Z*pa;return ha}function h(ha,la,ia){ia*=.5;const Y=la[0],Z=la[1],U=la[2];la=la[3];const pa=Math.sin(ia);ia=Math.cos(ia);ha[0]=Y*ia+Z*pa;ha[1]=Z*ia-Y*pa;ha[2]=U*ia+la*pa;ha[3]=la*ia-U*pa;return ha}function q(ha,la){const ia=la[0],Y=la[1];la=la[2];ha[0]=ia;ha[1]=
Y;ha[2]=la;ha[3]=Math.sqrt(Math.abs(1-ia*ia-Y*Y-la*la));return ha}function k(ha,la,ia,Y){const Z=la[0],U=la[1],pa=la[2];la=la[3];let xa=ia[0],N=ia[1],T=ia[2];ia=ia[3];let qa;let Ca;var Fa=Z*xa+U*N+pa*T+la*ia;0>Fa&&(Fa=-Fa,xa=-xa,N=-N,T=-T,ia=-ia);1-Fa>d.getEpsilon()?(qa=Math.acos(Fa),Ca=Math.sin(qa),Fa=Math.sin((1-Y)*qa)/Ca,Y=Math.sin(Y*qa)/Ca):Fa=1-Y;ha[0]=Fa*Z+Y*xa;ha[1]=Fa*U+Y*N;ha[2]=Fa*pa+Y*T;ha[3]=Fa*la+Y*ia;return ha}function l(ha){var la=d.RANDOM,ia=la();const Y=la();la=la();const Z=Math.sqrt(1-
ia);ia=Math.sqrt(ia);ha[0]=Z*Math.sin(2*Math.PI*Y);ha[1]=Z*Math.cos(2*Math.PI*Y);ha[2]=ia*Math.sin(2*Math.PI*la);ha[3]=ia*Math.cos(2*Math.PI*la);return ha}function v(ha,la){const ia=la[0],Y=la[1],Z=la[2];la=la[3];var U=ia*ia+Y*Y+Z*Z+la*la;U=U?1/U:0;ha[0]=-ia*U;ha[1]=-Y*U;ha[2]=-Z*U;ha[3]=la*U;return ha}function w(ha,la){ha[0]=-la[0];ha[1]=-la[1];ha[2]=-la[2];ha[3]=la[3];return ha}function x(ha,la){var ia=la[0]+la[4]+la[8];if(0<ia)ia=Math.sqrt(ia+1),ha[3]=.5*ia,ia=.5/ia,ha[0]=(la[5]-la[7])*ia,ha[1]=
(la[6]-la[2])*ia,ha[2]=(la[1]-la[3])*ia;else{let Y=0;la[4]>la[0]&&(Y=1);la[8]>la[3*Y+Y]&&(Y=2);const Z=(Y+1)%3,U=(Y+2)%3;ia=Math.sqrt(la[3*Y+Y]-la[3*Z+Z]-la[3*U+U]+1);ha[Y]=.5*ia;ia=.5/ia;ha[3]=(la[3*Z+U]-la[3*U+Z])*ia;ha[Z]=(la[3*Z+Y]+la[3*Y+Z])*ia;ha[U]=(la[3*U+Y]+la[3*Y+U])*ia}return ha}function z(ha,la,ia,Y){var Z=.5*Math.PI/180;la*=Z;ia*=Z;Y*=Z;Z=Math.sin(la);la=Math.cos(la);const U=Math.sin(ia);ia=Math.cos(ia);const pa=Math.sin(Y);Y=Math.cos(Y);ha[0]=Z*ia*Y-la*U*pa;ha[1]=la*U*Y+Z*ia*pa;ha[2]=
la*ia*pa-Z*U*Y;ha[3]=la*ia*Y+Z*U*pa;return ha}function A(ha){return"quat("+ha[0]+", "+ha[1]+", "+ha[2]+", "+ha[3]+")"}function B(ha,la,ia){const Y=n.dot(la,ia);if(-.999999>Y)return n.cross(L,aa,la),1E-6>n.len(L)&&n.cross(L,R,la),n.normalize(L,L),r(ha,L,Math.PI),ha;if(.999999<Y)return ha[0]=0,ha[1]=0,ha[2]=0,ha[3]=1,ha;n.cross(L,la,ia);ha[0]=L[0];ha[1]=L[1];ha[2]=L[2];ha[3]=1+Y;return I(ha,ha)}function D(ha,la,ia,Y,Z,U){k(S,la,Z,U);k(V,ia,Y,U);k(ha,S,V,2*U*(1-U));return ha}function y(ha,la,ia,Y){const Z=
ea;Z[0]=ia[0];Z[3]=ia[1];Z[6]=ia[2];Z[1]=Y[0];Z[4]=Y[1];Z[7]=Y[2];Z[2]=-la[0];Z[5]=-la[1];Z[8]=-la[2];return I(ha,x(ha,Z))}const C=u.copy,F=u.set,G=u.add,E=u.scale,P=u.dot,O=u.lerp,K=u.length,M=u.squaredLength,I=u.normalize,H=u.exactEquals;u=u.equals;const L=e.create(),aa=e.fromValues(1,0,0),R=e.fromValues(0,1,0),S=c.create(),V=c.create(),ea=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:G,calculateW:q,conjugate:w,copy:C,dot:P,equals:u,exactEquals:H,fromEuler:z,fromMat3:x,getAxisAngle:p,
identity:t,invert:v,len:K,length:K,lerp:O,mul:m,multiply:m,normalize:I,random:l,rotateX:g,rotateY:f,rotateZ:h,rotationTo:B,scale:E,set:F,setAxes:y,setAxisAngle:r,slerp:k,sqlerp:D,sqrLen:M,squaredLength:M,str:A},Symbol.toStringTag,{value:"Module"}));a.add=G;a.calculateW=q;a.conjugate=w;a.copy=C;a.dot=P;a.equals=u;a.exactEquals=H;a.fromEuler=z;a.fromMat3=x;a.getAxisAngle=p;a.identity=t;a.invert=v;a.len=K;a.length=K;a.lerp=O;a.mul=m;a.multiply=m;a.normalize=I;a.quat=b;a.random=l;a.rotateX=g;a.rotateY=
f;a.rotateZ=h;a.rotationTo=B;a.scale=E;a.set=F;a.setAxes=y;a.setAxisAngle=r;a.slerp=k;a.sqlerp=D;a.sqrLen=M;a.squaredLength=M;a.str=A})},"esri/chunks/vec3f32":function(){define(["exports"],function(a){function b(){return new Float32Array(3)}function c(l){const v=new Float32Array(3);v[0]=l[0];v[1]=l[1];v[2]=l[2];return v}function e(l,v,w){const x=new Float32Array(3);x[0]=l;x[1]=v;x[2]=w;return x}function d(l,v){return new Float32Array(l,v,3)}function n(){return b()}function u(){return e(1,1,1)}function t(){return e(1,
0,0)}function r(){return e(0,1,0)}function p(){return e(0,0,1)}const m=b(),g=u(),f=t(),h=r(),q=p(),k=Object.freeze(Object.defineProperty({__proto__:null,ONES:g,UNIT_X:f,UNIT_Y:h,UNIT_Z:q,ZEROS:m,clone:c,create:b,createView:d,fromValues:e,ones:u,unitX:t,unitY:r,unitZ:p,zeros:n},Symbol.toStringTag,{value:"Module"}));a.ONES=g;a.UNIT_X=f;a.UNIT_Y=h;a.UNIT_Z=q;a.ZEROS=m;a.clone=c;a.create=b;a.createView=d;a.fromValues=e;a.ones=u;a.unitX=t;a.unitY=r;a.unitZ=p;a.vec3f32=k;a.zeros=n})},"esri/views/3d/camera/constraintUtils/tilt":function(){define("exports ../../../../core/compilerUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/ellipsoidUtils ../../../../chunks/sphere ./common ./ConstraintTypes ./InteractionType ./TiltMode ../../state/utils/viewUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){function k(F,G,E=m.defaultConstraintOptions,P=!0){C.eyeCenterDistance=0;C.requiresTwoSteps=!1;const O=l(F,G,E,void 0,C);if(0===O)return!1;d.fromRotation(z,-O,G.viewRight);switch(E.tiltMode){case h.TiltMode.LOOK_AROUND:u.transformMat4(x,G.viewForward,z);u.scale(x,x,C.eyeCenterDistance);G.center=u.add(A,G.eye,x);break;case h.TiltMode.TUMBLE:u.subtract(x,G.center,G.eye);u.transformMat4(x,x,z);G.eye=u.subtract(A,G.center,x);break;default:b.neverReached(E.tiltMode)}G.up=
u.transformMat4(A,G.up,z);return C.requiresTwoSteps&&P?k(F,G,E,!1):!0}function l(F,G,E=m.defaultConstraintOptions,P=m.defaultConstraintOptions,O){if(!F.state.constraints.tilt)return 0;var K=F.state.constraints.tilt(G.distance,D);if(E.interactionType!==f.InteractionType.NONE){var {interactionStartCamera:M,interactionFactor:I}=E;if(M){var {min:H,max:L}=K,aa=l(F,M,m.defaultConstraintOptions,E),R=0===aa?0:q.viewAngle(F.renderCoordsHelper,M.center,M.eye);K.min=H;K.max=L;E.interactionType===f.InteractionType.TUMBLE?
(m.hasConstraintType(E.selection,g.ConstraintTypes.ALTITUDE)&&w(F,M,K),m.adjustRangeForInteraction(aa,R,!0,I,B,K)):m.adjustRangeForInteraction(aa,R,!1,I,B,K)}}P.interactionType===f.InteractionType.TUMBLE&&m.hasConstraintType(P.selection,g.ConstraintTypes.ALTITUDE)&&w(F,P.interactionStartCamera,K);if(E.tiltMode===h.TiltMode.LOOK_AROUND||P.tiltMode===h.TiltMode.LOOK_AROUND){a:{O&&(O.requiresTwoSteps=!1);switch(F.viewingMode){case "global":E=y;aa=F.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude;
P=aa+r.getReferenceEllipsoid(F.spatialReference).radius;aa=F.renderCoordsHelper.intersectManifold(G.ray,aa,A);E.eyeCenterDistance=G.distance;E.centerIsOnSurface=!1;e.isSome(aa)?(E.eyeCenterDistance=u.distance(G.eye,aa),E.tiltAtCenter=q.viewAngle(F.renderCoordsHelper,aa,G.eye),E.centerIsOnSurface=!0):F.state.isLocal?E.tiltAtCenter=q.viewAngle(F.renderCoordsHelper,G.center,G.eye):(p.closestPointOnSilhouette(p.fromRadius(p.tmpSphere,P),G.ray,A),E.eyeCenterDistance=u.distance(G.eye,A),E.tiltAtCenter=
c.acosClamped(-u.dot(G.viewForward,u.normalize(A,A))));E.radius=P;E.eyeRadius=u.length(G.eye);E.constraints=F.state.constraints;G=c.clamp(E.tiltAtCenter,K.min,K.max);if(1E-9<Math.abs(E.tiltAtCenter-G)){if(E.centerIsOnSurface){{const {constraints:S,eyeCenterDistance:V,tiltAtCenter:ea}=E;G=ea;F=S.clampTilt(V,ea);K=v(E,F);if(S.clampTilt(K,ea)!==F)for(K=0;10>K&&1E-9<Math.abs(F-G);)P=(G+F)/2,aa=v(E,P),aa=S.clampTilt(aa,P),1E-9<Math.abs(aa-P)?G=P:F=P,K++;G=F}K=G;F=c.asinClamped(E.radius/E.eyeRadius*Math.sin(E.tiltAtCenter));
K=c.asinClamped(E.radius/E.eyeRadius*Math.sin(K));F=E.eyeRadius>E.radius?F-K:K-F}else G=E.constraints.clampTilt(E.eyeCenterDistance,E.tiltAtCenter),O&&G<Math.PI/2&&(O.requiresTwoSteps=!0,G=Math.PI/2-1E-5),F=E.tiltAtCenter-Math.PI/2-(G-Math.PI/2);O&&(O.eyeCenterDistance=v(E,G));O=F}else O=0;break a;case "local":P=q.viewAngle(F.renderCoordsHelper,G.center,G.eye);E=c.clamp(P,K.min,K.max);K=P-E;1E-9<Math.abs(K)?(O&&(P=F.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,F=F.renderCoordsHelper.getAltitude(G.eye)-
P,E=Math.cos(E),O.eyeCenterDistance=1E-4<Math.abs(E)?F/E:G.distance),O=K):O=0;break a}O=void 0}return O}O=q.viewAngle(F.renderCoordsHelper,G.center,G.eye);E=c.clamp(O,K.min,K.max);O-=E;O=1E-9<Math.abs(O)?O:0;return O}function v(F,G){if(!F.centerIsOnSurface)return F.eyeCenterDistance;G=Math.PI-c.clamp(G,0,Math.PI);const E=c.asinClamped(F.radius/F.eyeRadius*Math.sin(G)),P=Math.sin(Math.PI-G-E)/Math.sin(G);return F.eyeRadius<F.radius&&1<P?Math.sin(Math.PI-G-(Math.PI-E))/Math.sin(G)*F.eyeRadius:P*F.eyeRadius}
function w(F,G,E){var P=F.state.constraints;if(!F.state.isLocal&&P.altitude&&G){var O=u.squaredLength(G.center),K=Math.sqrt(O);G=G.distance;var M=r.getReferenceEllipsoid(F.spatialReference).radius;F=P.altitude.min+M;P=P.altitude.max+M;F=(F*F-G*G-O)/(-2*K*G);E.min=Math.max(E.min,Math.min(Math.PI-c.acosClamped((P*P-G*G-O)/(-2*K*G)),E.max));E.max=Math.min(E.max,Math.PI-c.acosClamped(F))}}const x=t.create(),z=n.create(),A=t.create(),B=c.deg2rad(5),D={min:0,max:0},y={constraints:null,radius:0,eyeRadius:0,
centerIsOnSurface:!0,eyeCenterDistance:0,tiltAtCenter:0},C={eyeCenterDistance:0,requiresTwoSteps:!1};a.applyTiltConstraint=k;a.getTiltConstraintError=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/state/utils/viewUtils":function(){define(["exports","../../../../core/mathUtils","../../../../chunks/vec3","../../../../chunks/vec3f64"],function(a,b,c,e){const d=e.create(),n=e.create();a.viewAngle=function(u,t,r){u.worldUpAtPosition(t,d);c.subtract(n,r,t);u=c.length(n);
return 0===u?0:b.acosClamped(c.dot(n,d)/u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/animation/easing":function(){define(["exports"],function(a){function b(R){return R}function c(R){const S=2*(R-Math.sqrt((R-1)*R)),V=S/2/R;return ea=>ea<V?R*ea*ea:S*ea-S+1}function e(R,S){return(V,ea)=>V<S?S*R(V/S,ea):1-R((1-V)/(1-S),ea)*(1-S)}const d=R=>R*R,n=R=>1-d(1-R),u=R=>.5>R?d(2*R)/2:(1-d(1-2*(R-.5))+1)/2,t=R=>R*R*R,r=R=>1-t(1-R),p=R=>.5>R?t(2*R)/2:(1-t(1-2*(R-.5))+1)/2,m=
R=>R*R*R*R,g=R=>1-m(1-R),f=R=>.5>R?m(2*R)/2:(1-m(1-2*(R-.5))+1)/2,h=R=>R*R*R*R*R,q=R=>1-h(1-R),k=R=>.5>R?h(2*R)/2:(1-h(1-2*(R-.5))+1)/2,l=R=>-Math.cos(R*Math.PI/2)+1,v=R=>1-l(1-R),w=R=>.5>R?l(2*R)/2:(1-l(1-2*(R-.5))+1)/2,x=R=>2**(10*(R-1)),z=R=>1-2**(10*(1-R-1)),A=R=>.5>R?2**(10*(2*R-1))/2:(1-2**(10*(1-2*(R-.5)-1))+1)/2,B=R=>-(Math.sqrt(1-R*R)-1),D=R=>1-B(1-R),y=R=>.5>R?B(2*R)/2:(1-B(1-2*(R-.5))+1)/2,C=e(c(1),1),F=e(c(1),0),G=e(c(1),.5),E=e(c(2),1),P=e(c(2),0),O=e(c(2),.5),K=e(c(3),1),M=e(c(3),0),
I=e(c(3),.5),H=e(c(4),1),L=e(c(4),0),aa=e(c(4),.5);a.EasingFunctions={linear:b,"in-quad":d,"out-quad":n,"in-out-quad":u,"in-coast-quad":C,"out-coast-quad":F,"in-out-coast-quad":G,"in-cubic":t,"out-cubic":r,"in-out-cubic":p,"in-coast-cubic":E,"out-coast-cubic":P,"in-out-coast-cubic":O,"in-quart":m,"out-quart":g,"in-out-quart":f,"in-coast-quart":K,"out-coast-quart":M,"in-out-coast-quart":I,"in-quint":h,"out-quint":q,"in-out-quint":k,"in-coast-quint":H,"out-coast-quint":L,"in-out-coast-quint":aa,"in-sine":l,
"out-sine":v,"in-out-sine":w,"in-expo":x,"out-expo":z,"in-out-expo":A,"in-circ":B,"out-circ":D,"in-out-circ":y};a.inCirc=B;a.inCoastCubic=E;a.inCoastQuad=C;a.inCoastQuart=K;a.inCoastQuint=H;a.inCubic=t;a.inExpo=x;a.inOutCirc=y;a.inOutCoastCubic=O;a.inOutCoastQuad=G;a.inOutCoastQuart=I;a.inOutCoastQuint=aa;a.inOutCubic=p;a.inOutExpo=A;a.inOutQuad=u;a.inOutQuart=f;a.inOutQuint=k;a.inOutSine=w;a.inQuad=d;a.inQuart=m;a.inQuint=h;a.inSine=l;a.linear=b;a.outCirc=D;a.outCoastCubic=P;a.outCoastQuad=F;a.outCoastQuart=
M;a.outCoastQuint=L;a.outCubic=r;a.outExpo=z;a.outQuad=n;a.outQuart=g;a.outQuint=q;a.outSine=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/state/ConstraintsManager":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/mathUtils ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../ViewingMode ../camera/constraintUtils ../camera/intersectionUtils ../camera/constraintUtils/ConstraintTypes ../camera/constraintUtils/InteractionType ../camera/constraintUtils/TiltMode ./NearFarHeuristic ./SurfaceCollisionConstraint".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x){a.ConstraintsManager=function(z){function A(D){var y=B.call(this,D);y.nearFarHeuristic=w.createNearFarHeuristic(D.view.state.viewingMode,D.view.basemapTerrain,D.view.renderCoordsHelper.spatialReference);return y}b._inherits(A,z);var B=b._createSuper(A);z=A.prototype;z.initialize=function(){this.addHandles([u.watch(()=>[this.view.constraints?.clipDistance?.near,this.view.constraints?.clipDistance?.far],()=>this._clipDistanceNearFarChanged()),u.watch(()=>
this.view.constraints?.clipDistance?.mode,()=>this._updateNearFar()),this.view.state.events.on("before-camera-change",D=>this._updateCameraNearFar(D)),u.watch(()=>this.view.renderDataExtent,()=>this._updateNearFar(),u.sync),u.watch(()=>[this.view.constraints?.altitude?.min,this.view.constraints?.altitude?.max],()=>this._updateAltitude(),u.sync),u.watch(()=>this.view.constraints?.tilt?.max,()=>this._updateTiltMax(),u.sync),u.watch(()=>this.view.constraints?.tilt?.mode,()=>this._updateTilt(),u.sync),
u.watch(()=>this.view.state?.camera,()=>this._updateTiltAutoMax(),u.sync),u.watch(()=>[this.view.map?.ground?.navigationConstraint?.type,this.view.state?.constraints?.collision?.enabled],()=>this._updateCollision(),u.sync)]);this.view.state.isLocal&&this.addHandles(u.watch(()=>this.view.renderDataExtent,D=>this._updateLocalSurfaceDistance(D),u.initial));this._updateNearFar();this.view.state.viewingMode!==f.ViewingMode.Local&&this._updateAltitude();this._updateTilt();this._updateCollision();this._set("surfaceCollisionConstraint",
new x.SurfaceCollisionConstraint({view:this.view}))};z.destroy=function(){this.surfaceCollisionConstraint&&(this.surfaceCollisionConstraint.destroy(),this._set("surfaceCollisionConstraint",null))};z._clipDistanceNearFarChanged=function(){const D=this.view.constraints?.clipDistance;D&&"auto"!==D.mode&&this.view.state.updateCamera(y=>this._updateCameraNearFarManual(y,D))};z._updateNearFar=function(){this.view.state.updateCamera(D=>this._updateCameraNearFar(D))};z._updateCameraNearFar=function(D){const y=
this.view.constraints&&this.view.constraints.clipDistance;"manual"===(y?y.mode:"auto")?this._updateCameraNearFarManual(D,y):this._updateCameraNearFarAuto(D,y)};z._updateCameraNearFarAuto=function(D,y){this.nearFarHeuristic.compute(D.eye,D.center,this.view.renderDataExtent,q.surfaceElevationBelowRenderLocation(this.view,D.eye),D);y&&y.autoUpdate(D.near,D.far)};z._updateCameraNearFarManual=function(D,y){y&&(D.near=y.near,D.far=y.far)};z._updateCollision=function(){var D=this.view.map?.ground?.navigationConstraint?.type;
D=D?"stay-above"===D:!0;const y=this.view.state.constraints.collision;D!==y.enabled&&((y.enabled=D)&&this._reapplyConstraints(k.ConstraintTypes.COLLISION),(D=this.view.constraints&&this.view.constraints.tilt)&&"auto"!==D.mode||this._updateTiltAuto())};z._updateAltitude=function(){const D=this.view.constraints&&this.view.constraints.altitude;this.view.state.constraints.altitude=D&&this.view.state.viewingMode!==f.ViewingMode.Local?{min:D.min,max:D.max}:null;this._reapplyConstraints()};z._updateTiltMax=
function(){const D=this.view.constraints&&this.view.constraints.tilt;D&&"auto"!==D.mode&&(this._updateTiltManual(D),this._reapplyConstraints())};z._updateTilt=function(){const D=this.view.constraints&&this.view.constraints.tilt;"manual"===(D?D.mode:"auto")?this._updateTiltManual(D):this._updateTiltAuto();this._reapplyConstraints()};z._updateTiltManual=function(D){const y=this.view.state.constraints;y.tilt=y.createConstantMaxTilt(d.deg2rad(D.max))};z._updateTiltAuto=function(){const D=this.view.state.constraints;
D.tilt=D.createDefaultTilt();this._updateTiltAutoMax()};z._updateTiltAutoMax=function(){const D=this.view.constraints&&this.view.constraints.tilt;if(D&&"auto"===D.mode){var y=this.view.state.constraints;y.tilt&&(y=y.tilt(this.view.state.camera.distance).max,D.autoUpdate(d.rad2deg(y)))}};z._updateLocalSurfaceDistance=function(D){if(!n.isNone(D)){var y=Math.max(D.width,D.height);0>=y||(null!=D.zmax&&null!=D.zmin&&(y=Math.max(y,D.zmax-D.zmin)),D=this.view.state,y=3*y/Math.atan(D.camera.fov/2),y!==D.constraints.distance&&
(D.constraints.distance=y))}};z._reapplyConstraints=function(D=k.ConstraintTypes.ALL){this.view.state.updateCamera(y=>h.applyAll(this.view,y,{selection:D,interactionType:l.InteractionType.NONE,interactionFactor:null,interactionStartCamera:null,interactionDirection:null,tiltMode:v.TiltMode.TUMBLE}))};return b._createClass(A)}(e);c.__decorate([t.property({constructOnly:!0})],a.ConstraintsManager.prototype,"view",void 0);c.__decorate([t.property({readOnly:!0})],a.ConstraintsManager.prototype,"surfaceCollisionConstraint",
void 0);a.ConstraintsManager=c.__decorate([g.subclass("esri.views.3d.state.ConstraintsManager")],a.ConstraintsManager);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/state/NearFarHeuristic":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/mathUtils ../../../core/maybe ../../../core/unitUtils ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/ellipsoidUtils ../../../geometry/Extent ../../ViewingMode ../environment/atmosphereUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){function g(l,v,w,x){w=2/w;l/v>w?(x.far=l,x.near=x.far/v):(x.near=w,x.far=x.near*v);return x}let f=function(){function l(v,w){this._elevationProvider=v;this._referenceEllipsoid=t.getReferenceEllipsoid(w);this._unitInMeters=d.getMetersPerUnitForSR(w,this._referenceEllipsoid.metersPerDegree)}l.prototype.compute=function(v,w,x,z,A){A||(A={near:0,far:0});var B=v[2]*this._unitInMeters,D=B;z=B-z;var y=this._elevationProvider?.visibleElevationBounds;y&&(B=0<=z?D-this._unitInMeters*
y.min:this._unitInMeters*y.max-D);x=e.isSome(x)?x:new r({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0});D=Math.max(x.xmax-x.xmin,x.ymax-x.ymin,4*Math.max(x.xmax-x.xmin,x.ymax-x.ymin));n.subtract(k,w,v);q[0]=0<k[0]?x.xmax:x.xmin;q[1]=0<k[1]?x.ymax:x.ymin;q[2]=0<k[2]?D/2:-D/2;n.subtract(q,q,v);n.normalize(k,k);v=1.1*n.dot(q,k)*this._unitInMeters;w=Math.sqrt(B*(B+2*this._referenceEllipsoid.radius));x=Math.max(x.xmax-x.xmin,x.ymax-x.ymin);y=1E-4*x*this._unitInMeters;B=c.clamp((B-y)/(.001*x*this._unitInMeters-
y),0,1);B=Math.min(c.lerp(w,v,B**3),w)*Math.max(Math.log(Math.abs(z)),1);return g(Math.min(B,Math.max(34064E4,D))/this._unitInMeters,2E4,this._unitInMeters,A)};return b._createClass(l)}(),h=function(){function l(v){this._referenceEllipsoid=t.getReferenceEllipsoid(v)}l.prototype.compute=function(v,w,x,z,A){A||(A={near:0,far:0});v=n.length(v);w=v-this._referenceEllipsoid.radius;w=Math.max(Math.abs(w-z),Math.abs(w));z=1.2*c.lerp(Math.sqrt(w*(w+2*(this._referenceEllipsoid.radius+Math.min(0,z)))),v+this._referenceEllipsoid.radius,
m.computeInnerAltitudeFade(w));v=c.clamp(2E4-(Math.log(w)-7.983)/9.011*19E3,1E3,2E4);return g(z,v,1,A)};return b._createClass(l)}();const q=u.create(),k=u.create();a.createNearFarHeuristic=function(l,v,w){return l===p.ViewingMode.Global?new h(w):new f(v,w)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/environment/atmosphereUtils":function(){define(["exports","../../../core/mathUtils"],function(a,b){a.atmosphereHeight=1E5;a.computeInnerAltitudeFade=function(c){return b.clamp((c-
1E5)/9E5,0,1)};a.innerAtmosphereDepth=1E4;a.rayLeighScaleHeight=.085;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/state/SurfaceCollisionConstraint":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../camera/intersectionUtils ../camera/constraintUtils/surfaceCollision".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g){a.SurfaceCollisionConstraint=function(f){function h(k){return q.call(this,k)}b._inherits(h,f);var q=b._createSuper(h);f=h.prototype;f.initialize=function(){this.addHandles(this.view.basemapTerrain.on("elevation-change",k=>this._handleElevationChangeEvent(k)))};f._handleElevationChangeEvent=function(k){if(!this.view.state.cameraController){var l=this.view.state.camera;d.isSome(k.spatialReference)&&m.eyeWithinExtent(this.view,l,k.extent,k.spatialReference)&&this._applyToCurrentCamera()}};
f._applyToCurrentCamera=function(){this.view.state.updateCamera(k=>g.applySurfaceCollisionConstraint(this.view,k,g.Mode.EYE_AND_CENTER))};return b._createClass(h)}(e);c.__decorate([n.property({constructOnly:!0})],a.SurfaceCollisionConstraint.prototype,"view",void 0);a.SurfaceCollisionConstraint=c.__decorate([p.subclass("esri.views.3d.state.ElevationCollisionConstraint")],a.SurfaceCollisionConstraint);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/state/Frustum":function(){define(["exports",
"../../../chunks/_rollupPluginBabelHelpers","../../../chunks/vec3","../../../chunks/vec3f64","../../../geometry/support/frustum"],function(a,b,c,e,d){function n(t,r,p){t.origin=r;t.endpoint=p;c.direction(t.direction,r,p)}let u=function(){function t(p){this.renderCoordsHelper=p;this.frustum=d.create();this._points=d.createPoints();this.lines=Array(12);this._origin=e.create();this._direction=e.create();this._altitude=null;for(p=0;12>p;p++)this.lines[p]={origin:null,direction:e.create(),endpoint:null}}
var r=t.prototype;r.update=function(p){d.fromMatrix(p.viewMatrix,p.projectionMatrix,this.frustum,this._points);c.copy(this._origin,p.eye);c.copy(this._direction,p.viewForward);this._altitude=this.renderCoordsHelper.getAltitude(this._origin);this._updateLines()};r.updatePoints=function(p){for(let m=0;m<this._points.length;m++)c.copy(this._points[m],p[m]);d.computePlanes(this.frustum,this._points);this._updateLines()};r.intersectsSphere=function(p){return d.intersectsSphere(this.frustum,p)};r.intersectsRay=
function(p){return d.intersectsRay(this.frustum,p)};r.intersectsLineSegment=function(p,m){return d.intersectsLineSegment(this.frustum,p,m)};r.intersectsPoint=function(p){return d.intersectsPoint(this.frustum,p)};r._updateLines=function(){const p=this._points;for(let m=0;4>m;m++){const g=m+4;n(this.lines[m],p[m],p[g]);n(this.lines[m+4],p[m],3===m?p[0]:p[m+1]);n(this.lines[m+8],p[g],3===m?p[4]:p[g+1])}};b._createClass(t,[{key:"planes",get:function(){return this.frustum}},{key:"points",get:function(){return this._points}},
{key:"mutablePoints",get:function(){return this._points}},{key:"direction",get:function(){return this._direction}},{key:"altitude",get:function(){return this._altitude}}]);return t}();u.planePointIndices=d.planePointIndices;u.nearFarLineIndices=[[d.PointIndex.NEAR_BOTTOM_LEFT,d.PointIndex.FAR_BOTTOM_LEFT],[d.PointIndex.NEAR_BOTTOM_RIGHT,d.PointIndex.FAR_BOTTOM_RIGHT],[d.PointIndex.NEAR_TOP_RIGHT,d.PointIndex.FAR_TOP_RIGHT],[d.PointIndex.NEAR_TOP_LEFT,d.PointIndex.FAR_TOP_LEFT]];a.Frustum=u;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/frustum":function(){define("exports ../../core/ObjectStack ../../chunks/mat4 ../../chunks/vec3 ../../chunks/vec3f64 ../../chunks/vec4 ../../chunks/vec4f64 ./clipRay ./plane ./vectorStacks".split(" "),function(a,b,c,e,d,n,u,t,r,p){function m(){return[d.create(),d.create(),d.create(),d.create(),d.create(),d.create(),d.create(),d.create()]}function g(v,w){r.fromPoints(w[a.PointIndex.FAR_BOTTOM_LEFT],w[a.PointIndex.NEAR_BOTTOM_LEFT],w[a.PointIndex.NEAR_TOP_LEFT],
v[a.PlaneIndex.LEFT]);r.fromPoints(w[a.PointIndex.NEAR_BOTTOM_RIGHT],w[a.PointIndex.FAR_BOTTOM_RIGHT],w[a.PointIndex.FAR_TOP_RIGHT],v[a.PlaneIndex.RIGHT]);r.fromPoints(w[a.PointIndex.FAR_BOTTOM_LEFT],w[a.PointIndex.FAR_BOTTOM_RIGHT],w[a.PointIndex.NEAR_BOTTOM_RIGHT],v[a.PlaneIndex.BOTTOM]);r.fromPoints(w[a.PointIndex.NEAR_TOP_LEFT],w[a.PointIndex.NEAR_TOP_RIGHT],w[a.PointIndex.FAR_TOP_RIGHT],v[a.PlaneIndex.TOP]);r.fromPoints(w[a.PointIndex.NEAR_BOTTOM_LEFT],w[a.PointIndex.NEAR_BOTTOM_RIGHT],w[a.PointIndex.NEAR_TOP_RIGHT],
v[a.PlaneIndex.NEAR]);r.fromPoints(w[a.PointIndex.FAR_BOTTOM_RIGHT],w[a.PointIndex.FAR_BOTTOM_LEFT],w[a.PointIndex.FAR_TOP_LEFT],v[a.PlaneIndex.FAR])}function f(v,w){for(let x=0;x<a.NumPlanes.NUM;x++)if(!r.clip(v[x],w))return!1;return!0}a.PlaneIndex=void 0;(function(v){v[v.LEFT=0]="LEFT";v[v.RIGHT=1]="RIGHT";v[v.BOTTOM=2]="BOTTOM";v[v.TOP=3]="TOP";v[v.NEAR=4]="NEAR";v[v.FAR=5]="FAR"})(a.PlaneIndex||(a.PlaneIndex={}));a.PointIndex=void 0;(function(v){v[v.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT";v[v.NEAR_BOTTOM_RIGHT=
1]="NEAR_BOTTOM_RIGHT";v[v.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT";v[v.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT";v[v.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT";v[v.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT";v[v.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT";v[v.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"})(a.PointIndex||(a.PointIndex={}));const h={bottom:[a.PointIndex.FAR_BOTTOM_RIGHT,a.PointIndex.NEAR_BOTTOM_RIGHT,a.PointIndex.NEAR_BOTTOM_LEFT,a.PointIndex.FAR_BOTTOM_LEFT],near:[a.PointIndex.NEAR_BOTTOM_LEFT,a.PointIndex.NEAR_BOTTOM_RIGHT,a.PointIndex.NEAR_TOP_RIGHT,
a.PointIndex.NEAR_TOP_LEFT],far:[a.PointIndex.FAR_BOTTOM_RIGHT,a.PointIndex.FAR_BOTTOM_LEFT,a.PointIndex.FAR_TOP_LEFT,a.PointIndex.FAR_TOP_RIGHT],right:[a.PointIndex.NEAR_BOTTOM_RIGHT,a.PointIndex.FAR_BOTTOM_RIGHT,a.PointIndex.FAR_TOP_RIGHT,a.PointIndex.NEAR_TOP_RIGHT],left:[a.PointIndex.FAR_BOTTOM_LEFT,a.PointIndex.NEAR_BOTTOM_LEFT,a.PointIndex.NEAR_TOP_LEFT,a.PointIndex.FAR_TOP_LEFT],top:[a.PointIndex.FAR_TOP_LEFT,a.PointIndex.NEAR_TOP_LEFT,a.PointIndex.NEAR_TOP_RIGHT,a.PointIndex.FAR_TOP_RIGHT]};
a.NumPlanes=void 0;(function(v){v[v.NUM=6]="NUM"})(a.NumPlanes||(a.NumPlanes={}));a.NumPoints=void 0;(function(v){v[v.NUM=8]="NUM"})(a.NumPoints||(a.NumPoints={}));const q=[u.fromValues(-1,-1,-1,1),u.fromValues(1,-1,-1,1),u.fromValues(1,1,-1,1),u.fromValues(-1,1,-1,1),u.fromValues(-1,-1,1,1),u.fromValues(1,-1,1,1),u.fromValues(1,1,1,1),u.fromValues(-1,1,1,1)],k=new b.ObjectStack(t.create),l=m();a.computePlanes=g;a.copy=function(v,w){for(let x=0;x<a.NumPlanes.NUM;x++)r.copy(v[x],w[x])};a.create=function(v){return v?
[r.create(v[0]),r.create(v[1]),r.create(v[2]),r.create(v[3]),r.create(v[4]),r.create(v[5])]:[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]};a.createPoints=m;a.fromMatrix=function(v,w,x,z=l){v=c.multiply(p.sm4d.get(),w,v);c.invert(v,v);for(w=0;w<a.NumPoints.NUM;++w){const A=n.transformMat4(p.sv4d.get(),q[w],v);e.set(z[w],A[0]/A[3],A[1]/A[3],A[2]/A[3])}g(x,z)};a.intersectClipRay=function(v,w){for(let x=0;x<a.NumPlanes.NUM;x++)if(!r.clipInfinite(v[x],w))return!1;return!0};a.intersectsLineSegment=
function(v,w,x){return f(v,t.fromLineSegmentAndDirection(w,x,k.get()))};a.intersectsPoint=function(v,w){for(let x=0;x<a.NumPlanes.NUM;x++)if(0<r.signedDistance(v[x],w))return!1;return!0};a.intersectsRay=function(v,w){return f(v,t.fromRay(w,k.get()))};a.intersectsSphere=function(v,w){for(let x=0;x<a.NumPlanes.NUM;x++){const z=v[x];if(z[0]*w[0]+z[1]*w[1]+z[2]*w[2]+z[3]>=w[3])return!1}return!0};a.planePointIndices=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/clipRay":function(){define(["exports",
"../../core/ObjectStack","../../chunks/vec3","./ray"],function(a,b,c,e){function d(r){return r?{ray:e.create(r.ray),c0:r.c0,c1:r.c1}:{ray:e.create(),c0:0,c1:Number.MAX_VALUE}}function n(r,p,m,g=d()){e.copy(r,g.ray);g.c0=p;g.c1=m;return g}function u(r,p,m){return c.add(m,r.ray.origin,c.scale(m,r.ray.direction,p))}const t=new b.ObjectStack(()=>d());a.copy=function(r,p=d()){return n(r.ray,r.c0,r.c1,p)};a.create=d;a.fromLineSegmentAndDirection=function(r,p,m=d()){const g=c.length(r.vector);e.fromValues(r.origin,
p,m.ray);m.c0=0;m.c1=g;return m};a.fromRay=function(r,p=d()){e.copy(r,p.ray);p.c0=0;p.c1=Number.MAX_VALUE;return p};a.fromValues=n;a.getAt=u;a.getEnd=function(r,p){return u(r,r.c1,p)};a.getStart=function(r,p){return u(r,r.c0,p)};a.wrap=function(r,p,m){const g=t.get();g.ray=r;g.c0=p;g.c1=m;return g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/state/GoToOperation":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../Camera ../../../Viewpoint ../../../core/Error ../../../core/maybe ../../../core/promiseUtils ../../../core/reactiveUtils ../camera/constraintUtils ../camera/constraintUtils/surfaceCollision ./controllers/CameraController ./controllers/PointToPointAnimationController ./controllers/SurfaceCollisionCorrectionController ../support/cameraUtils ../support/viewpointUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){let k=function(){function l(w,x,z){this.target=w;this.options=x;this.view=z;this.state="pending";this._animationController=null;this._promise=new Promise((A,B)=>{this._resolveCallback=A;this._rejectCallback=B;A=new AbortController;if(n.isSome(this.options.signal))u.onAbort(this.options.signal,()=>{this.abort()});this._abortController=A;this.waitForReady()})}var v=l.prototype;v.then=function(w,x){return this._promise.then(w,x)};v.catch=function(w){return this._promise.catch(w)};
v.resolve=function(w){if("finished"!==this.state)return this.state="finished",this._resolveCallback(w)};v.reject=function(w){if("finished"!==this.state)return this.state="finished",this._rejectCallback(w)};v.abort=function(w=!1){this._abortController.abort();switch(this.state){case "wait-for-animation-finish":!w&&n.isSome(this._animationController)&&this.view.state.cameraController===this._animationController&&this._animationController.active&&this._animationController.stopController()}this.reject(u.createAbortError())};
v.waitForReady=async function(){this.state="wait-for-ready";if(!this.view.ready)try{await t.whenOnce(()=>this.view.ready,this._abortController.signal)}catch(w){return this.reject(w)}this.createViewPoint()};v.createViewPoint=function(){"finished"!==this.state&&(this.state="wait-for-viewpoint",this._animationController=this.options.animate?this._getAnimationController():null,q.create(this.view,this.target,this._abortController.signal).then(w=>{"finished"!==this.state&&(w=w?this._getCameraFromViewpoint(w):
null,n.isNone(w)||(this.options.animate?n.isNone(this._animationController)||this.startAnimation(w,this._animationController):(this.view.stateManager.setStateCamera(w.camera,{applyConstraints:!w.isFullySpecified,positionAndOrientationOnly:!0,doNotCancelGoToOperation:!0}),this.resolve())))},w=>{this.reject(w)}))};v._getCameraFromViewpoint=function(w){const x=!!(this.target instanceof e&&this.target.camera||this.target instanceof c);var z=w.camera;if(n.isNone(z))return null;if(!this.view.stateManager.isCompatible(z))return w=
(w=z.position)&&w.spatialReference,this.reject(new d("GotoAnimation:incompatible-spatialreference",`Resulting camera has an incompatible spatial reference (camera: ${w?w.wkid:"none"}, view: ${this.view.spatialReference?.wkid})`,{camera:z})),null;z=h.externalToInternal(this.view,z);return n.isNone(z)?(this.reject(new d("GotoAnimation:invalid-camera","Resulting camera is invalid")),null):{viewpoint:w,camera:z,isFullySpecified:x}};v.startAnimation=function(w,x){this.state="wait-for-animation-finish";
const z=x.viewAnimation;if(n.isNone(z))this.reject(new d("GotoAnimation:missing-animation","Unreachable code in view.stateManager"));else{z.update(w.viewpoint,"running");if(!x.active||n.isNone(x.viewAnimation)||x.viewAnimation.target!==w.viewpoint||this.view.state.cameraController!==x)return this.abort();if(w.isFullySpecified){var A=new f.SurfaceCollisionCorrectionController({view:this.view,desiredCamera:w.camera});p.applySurfaceCollisionConstraint(this.view,w.camera,p.Mode.EYE_AND_CENTER)}else r.applyAll(this.view,
w.camera);x.begin(w.camera,this.options);var B=D=>{if(!n.isNone(this.view.state))switch(x.state){case m.State.Finished:switch(this.state){case "pending":case "wait-for-ready":case "wait-for-viewpoint":case "wait-for-animation-finish":this.resolve()}break;case m.State.Ready:case m.State.Rejected:case m.State.Running:case m.State.Stopped:switch(this.state){case "pending":case "wait-for-ready":case "wait-for-viewpoint":case "wait-for-animation-finish":this.reject(D)}}};z.when(()=>{const D=this.view.state.cameraController;
A&&(D&&D.active?D instanceof g.PointToPointAnimationController&&n.isSome(D.viewAnimation)&&D.viewAnimation.target===w.viewpoint&&(this.view.state.cameraController=A):n.isSome(x.viewAnimation)&&x.viewAnimation.target===w.viewpoint&&"finished"===x.state&&(this.view.state.cameraController=A))},D=>B(D));x.asyncResult={resolve:()=>B(),reject:D=>B(D)}}};v._getAnimationController=function(){let w=null;var x=null;x=this.view.state.cameraController;x instanceof g.PointToPointAnimationController&&(x.updateStateFromViewAnimation(),
x.active&&(w=x,x=w.viewAnimation));return null!=w||(w=new g.PointToPointAnimationController({view:this.view,mode:"animation"}),x=w.viewAnimation,this.view.state.switchCameraController(w))?w:(n.isSome(x)&&x.stop(),this.reject(new d("GotoAnimation:goto-cannot-interrupt","Cannot start an animation while interacting")),null)};return b._createClass(l)}();a.GoToOperation=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/state/controllers/CameraController":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r){a.State=void 0;(function(p){p.Ready="ready";p.Rejected="rejected";p.Running="running";p.Stopped="stopped";p.Finished="finished"})(a.State||(a.State={}));a.CameraController=function(p){function m(f){f=g.call(this,f);f.state=a.State.Ready;return f}b._inherits(m,p);var g=b._createSuper(m);p=m.prototype;p.stopController=function(){return this.canStop?(this.state=a.State.Stopped,!0):!1};p.finishController=function(){this.state=a.State.Finished};b._createClass(m,[{key:"active",
get:function(){return this.state===a.State.Running}},{key:"isInteractive",get:function(){return!1}},{key:"canStop",get:function(){return!1}},{key:"steppingFinished",get:function(){return!1}}]);return m}(e);c.__decorate([d.property({constructOnly:!0})],a.CameraController.prototype,"view",void 0);c.__decorate([d.property({readOnly:!0})],a.CameraController.prototype,"active",null);c.__decorate([d.property()],a.CameraController.prototype,"state",void 0);c.__decorate([d.property({readOnly:!0})],a.CameraController.prototype,
"isInteractive",null);a.CameraController=c.__decorate([r.subclass("esri.views.3d.state.controllers.CameraController")],a.CameraController);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/state/controllers/PointToPointAnimationController":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/decorators/subclass ../../../../chunks/vec3f64 ../../../ViewAnimation ../../animation/pointToPoint/Animation ./AnimationController ../../webgl-engine/lib/Camera ../../webgl-engine/lib/Intersector ../../../animation/easing".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){a.PointToPointAnimationController=function(v){function w(z){z=x.call(this,z);z.mode="interaction";z._hasTarget=!1;return z}b._inherits(w,v);var x=b._createSuper(w);v=w.prototype;v.initialize=function(){this.animation=new m.Animation(this.view.state.viewingMode);this.viewAnimation="interaction"===this.mode?null:new p};v.begin=function(z,A){this._hasTarget=!0;A=this.animationSettings(A);k.copyFrom(this.view.state.camera);const B=h.newIntersector(this.view.state.viewingMode);
this.intersectionHelper.intersectRay(k.ray,B,l)&&(k.center=l);this.animation.update(k,z,A);this.animation.finished&&this.finish()};v.finish=function(){this.animation.currentTime=this.animation.time;b._get(b._getPrototypeOf(w.prototype),"finish",this).call(this)};v.stepController=function(z,A){this._hasTarget&&this.animation.step(z,A)};v.onControllerEnd=function(z){this._hasTarget&&(this.animation.cameraAt(this.animation.currentTime/this.animation.time,z),this.animation.currentTime=this.animation.time);
b._get(b._getPrototypeOf(w.prototype),"onControllerEnd",this).call(this,z)};v.animationSettings=function(z={}){return{apex:{maximumDistance:this.view.state.constraints.clampAltitude(Infinity)/6,ascensionFactor:void 0,descensionFactor:void 0},...z,easing:"string"===typeof z.easing?q.EasingFunctions[z.easing]:z.easing}};b._createClass(w,[{key:"intersectionHelper",get:function(){return this.view.sceneIntersectionHelper}},{key:"isInteractive",get:function(){return"interaction"===this.mode}},{key:"steppingFinished",
get:function(){return this._hasTarget&&this.animation.finished}}]);return w}(g.AnimationController);c.__decorate([e.property({constructOnly:!0})],a.PointToPointAnimationController.prototype,"mode",void 0);c.__decorate([e.property({readOnly:!0})],a.PointToPointAnimationController.prototype,"isInteractive",null);a.PointToPointAnimationController=c.__decorate([t.subclass("esri.views.3d.state.controllers.PointToPointAnimationController")],a.PointToPointAnimationController);const k=new f.Camera,l=r.create();
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewAnimation":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,n,u,t,r,p){e=function(m){function g(h){h=f.call(this,h);h.state="running";h.target=null;h._dfd=null;
return h}a._inherits(g,m);var f=a._createSuper(g);m=g.prototype;m.initialize=function(){this.addResolvingPromise(new Promise((h,q)=>this._dfd={resolve:h,reject:q}))};m.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd?.reject(new c("ViewAnimation stopped")))};m.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd?.resolve())};m.update=function(h,q){q||(q=d.isPromiseLike(h)?"waiting-for-target":
"running");this._set("target",h);this._set("state",q)};a._createClass(g,[{key:"done",get:function(){return"finished"===this.state||"stopped"===this.state}}]);return g}(e.EsriPromise);b.__decorate([n.property({readOnly:!0})],e.prototype,"done",null);b.__decorate([n.property({readOnly:!0,type:String})],e.prototype,"state",void 0);b.__decorate([n.property()],e.prototype,"target",void 0);e=b.__decorate([p.subclass("esri.views.ViewAnimation")],e);(e||(e={})).State={RUNNING:"running",STOPPED:"stopped",
FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return e})},"esri/views/3d/animation/pointToPoint/Animation":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/time ../../../../chunks/vec3 ../../../../chunks/vec3f64 ./Camera ../../webgl-engine/lib/Camera ../../../animation/pointToPoint/Animation".split(" "),function(a,b,c,e,d,n,u,t){const r=d.create();d=function(){function p(g){this.currentTime=c.Milliseconds(0);this._animation=new t.Animation(()=>
new n(g));this._current=new n(g)}var m=p.prototype;m.update=function(g,f,h){const q=this._animation.definition.source,k=this._animation.definition.target,l=e.subtract(r,f.center,g.center),v=e.length(l);1E-5<=v?(l[0]/=v,l[1]/=v,l[2]/=v):(l[0]=0,l[1]=1,l[0]=0);e.copy(q.lookAtDirection,l);e.copy(k.lookAtDirection,l);q.copyFromRenderCamera(g);k.copyFromRenderCamera(f);this._current.copyFrom(q);this._animation.update(q,k,h);this.currentTime=c.Milliseconds(0);g.almostEquals(f)&&(this.currentTime=this._animation.time)};
m.cameraAt=function(g,f){this._animation.cameraAt(g,this._current);f=f||new u.Camera;this._current.copyToRenderCamera(f);return f};m.step=function(g,f){this.finished||(this.currentTime=c.Milliseconds(this.currentTime+c.millisecondsFromSeconds(g)),this.currentTime>=this.time&&(this.currentTime=this.time));return this.cameraAt(this.currentTime/this.time,f)};b._createClass(p,[{key:"finished",get:function(){return this.currentTime>=this._animation.time}},{key:"time",get:function(){return this._animation.time}}]);
return p}();a.Animation=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/animation/pointToPoint/Camera":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/mathUtils ../../../../chunks/mat3 ../../../../chunks/mat3f64 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../ViewingMode ../../support/mathUtils".split(" "),function(a,b,c,e,d,n,u,t){const r=n.create(),p=n.create(),m=n.create(),g=n.create(),f=n.create(),h=n.create();var q=
n.fromValues(0,0,1),k=n.fromValues(0,1,0),l=n.fromValues(1,0,0);const v=e.create();return function(){function w(z=u.ViewingMode.Global){this.viewingMode=z;this.center=n.create();this.distance=this.yaw=this.pitch=0;this.lookAtDirection=n.clone(k)}var x=w.prototype;x.pixelsPerPanAtZoom=function(z){return this.size/2/(this._zoomToPanScale*z)};x.zoomAtPixelsPerPan=function(z){return this.size/2/(this._zoomToPanScale*z)};x.pixelsPerRotateAtZoom=function(){return this.size/2/Math.max(Math.cos(Math.abs(this.pitch)),
.5)};x.compareTo=function(z,A){A||(A={pan:0,rotate:0,sourceZoom:0,targetZoom:0});if(this.viewingMode===u.ViewingMode.Global){var B=d.length(this.center);const D=d.length(z.center);B=(B+D)/2;A.pan=t.angle(this.center,z.center)*B}else A.pan=d.distance(this.center,z.center);B=Math.abs(z.yaw-this.yaw);B>=Math.PI&&(B=2*Math.PI-B);A.rotate=Math.max(B,Math.abs(z.pitch-this.pitch));A.sourceZoom=this.distance;A.targetZoom=z.distance;return A};x.interpolate=function(z,A,B){this.viewingMode===u.ViewingMode.Global?
t.slerp(z.center,A.center,B.pan,this.center):d.lerp(this.center,z.center,A.center,B.pan);this.distance=isFinite(A.distance)?b.lerp(z.distance,A.distance,B.zoom):z.distance;this.pitch=b.lerp(z.pitch,A.pitch,B.rotate);z=z.yaw;A=A.yaw;Math.abs(A-z)>=Math.PI&&(z+=2*(z<A?1:-1)*Math.PI);this.yaw=b.lerp(z,A,B.rotate)};x.copyFrom=function(z){d.copy(this.center,z.center);this.pitch=z.pitch;this.yaw=z.yaw;this.distance=z.distance;d.copy(this.lookAtDirection,z.lookAtDirection);this.size=z.size;this.copyFromCommon(z);
this.viewingMode=z.viewingMode};x.copyFromRenderCamera=function(z){const A=this._lookAtOrientation(z.center,v);d.copy(this.center,z.center);d.subtract(g,z.center,z.eye);d.transformMat3(g,g,A);d.transformMat3(f,z.up,A);this.distance=d.length(g);0!==this.distance&&(g[0]/=this.distance,g[1]/=this.distance,g[2]/=this.distance);this.pitch=this._eyeUpToPitch(g);this.yaw=this._eyeUpToYaw(g,f);this.size=Math.sqrt(z.width*z.width+z.height*z.height);this.copyFromCommon(z)};x.copyFromCommon=function(z){this.fov=
z.fov;this._zoomToPanScale=Math.atan(.5*this.fov)};x.copyToRenderCamera=function(z){const A=this._lookAtOrientation(this.center,v);c.transpose(A,A);this._axisAngleVec3(l,this.pitch-Math.PI/2,k,g);this._axisAngleVec3(q,this.yaw,g);this._axisAngleVec3(l,this.pitch-Math.PI/2,q,f);this._axisAngleVec3(q,this.yaw,f);d.scale(g,g,this.distance);d.transformMat3(g,g,A);d.transformMat3(f,f,A);z.center=this.center;z.eye=d.subtract(g,this.center,g);z.up=f};x._axisAngleVec3=function(z,A,B,D=B){const y=Math.cos(A);
A=Math.sin(A);d.scale(r,B,y);d.cross(p,z,B);d.scale(p,p,A);d.scale(m,z,(1-y)*d.dot(z,B));return d.add(D,d.add(D,r,p),m)};x._lookAtOrientation=function(z,A=e.create()){this._upAtLookAt(z,m);d.cross(r,this.lookAtDirection,m);d.normalize(r,r);0===r[0]&&0===r[1]&&0===r[2]&&d.copy(r,l);d.cross(p,m,r);d.normalize(p,p);A[0]=r[0];A[1]=p[0];A[2]=m[0];A[3]=r[1];A[4]=p[1];A[5]=m[1];A[6]=r[2];A[7]=p[2];A[8]=m[2];return A};x._upAtLookAt=function(z,A){return this.viewingMode===u.ViewingMode.Local?d.copy(A,q):d.normalize(A,
z)};x._eyeUpToPitch=function(z){return Math.PI-t.angle(q,z)};x._eyeUpToYaw=function(z,A){.5>Math.abs(A[2])?(d.copy(h,A),0<z[2]&&d.scale(h,h,-1)):d.copy(h,z);d.cross(p,h,q);d.normalize(p,p);return t.angle(l,p,q)};return a._createClass(w)}()})},"esri/views/3d/webgl-engine/lib/Camera":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Logger ../../../../core/mathUtils ../../../../core/screenUtils ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/decorators/subclass ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec2 ../../../../chunks/vec2f64 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f64 ../../../../geometry/support/frustum ../../../../geometry/support/ray ../../../../geometry/support/vector ../../../ViewingMode ./fov".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y){var C;a.Camera=C=function(K){function M(H={}){H=I.call(this,H);H._center=v.create();H._up=v.create();H._viewUp=v.create();H._viewForward=v.create();H._viewRight=v.create();H._ray=A.create();H._viewport=x.fromValues(0,0,1,1);H._padding=x.fromValues(0,0,0,0);H._fov=55/180*Math.PI;H._nearFar=k.fromValues(1,1E3);H._viewDirty=!0;H._viewMatrix=h.create();H._viewProjectionDirty=!0;H._viewProjectionMatrix=h.create();H._viewInverseTransposeMatrixDirty=
!0;H._viewInverseTransposeMatrix=h.create();H._frustumDirty=!0;H._frustum=z.create();H._fullViewport=x.create();H._pixelRatio=1;H.relativeElevation=0;return H}b._inherits(M,K);var I=b._createSuper(M);K=M.prototype;K.depthNDCToWorld=function(H){return 2*this.near*this.far/(this.far+this.near-(2*H-1)*(this.far-this.near))};K.copyFrom=function(H){l.copy(this._ray.origin,H.eye);this.center=H.center;this.up=H.up;w.copy(this._viewport,H.viewport);this.notifyChange("_viewport");w.copy(this._padding,H.padding);
this.notifyChange("_padding");q.copy(this._nearFar,H.nearFar);this.notifyChange("_nearFar");this._fov=H.fov;this.relativeElevation=H.relativeElevation;this._viewDirty=H._viewDirty;this._viewDirty||(f.copy(this._viewMatrix,H.viewMatrix),l.copy(this._viewRight,H.viewRight),l.copy(this._viewUp,H.viewUp),l.copy(this._viewForward,H.viewForward));this._viewProjectionDirty=!0;this._frustumDirty=H._frustumDirty;this._frustumDirty||(z.copy(this._frustum,H.frustum),this._frustumDirty=!1);H._viewInverseTransposeMatrixDirty?
this._viewInverseTransposeMatrixDirty=!0:(f.copy(this._viewInverseTransposeMatrix,H.viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1);w.copy(this._fullViewport,H.fullViewport);this.pixelRatio=H.pixelRatio;return this};K.copyViewFrom=function(H){this.eye=H.eye;this.center=H.center;this.up=H.up};K.clone=function(){return(new C).copyFrom(this)};K.equals=function(H){return l.exactEquals(this.eye,H.eye)&&l.exactEquals(this.center,H.center)&&l.exactEquals(this.up,H.up)&&w.exactEquals(this._viewport,
H.viewport)&&w.exactEquals(this._padding,H.padding)&&q.exactEquals(this.nearFar,H.nearFar)&&this._fov===H.fov&&this.pixelRatio===H.pixelRatio&&this.relativeElevation===H.relativeElevation};K.almostEquals=function(H){if(.001<=Math.abs(H.fov-this._fov)||.5<=w.squaredDistance(H.padding,this._padding)||.5<=w.squaredDistance(this.screenViewport,H.screenViewport))return!1;l.sub(E,H.eye,H.center);l.sub(P,this.eye,this.center);const L=l.dot(E,P),aa=l.sqrLen(E),R=l.sqrLen(P);return L*L>=(1-1E-10)*aa*R&&l.sqrDist(H.eye,
this.eye)<2.5E-7*Math.max(aa,R)};K.computeRenderPixelSizeAt=function(H){return this.computeRenderPixelSizeAtDist(this._viewDirectionDistance(H))};K.computeRenderPixelSizeAtDist=function(H){return H*this.perRenderPixelRatio};K.computeScreenPixelSizeAt=function(H){return this.computeScreenPixelSizeAtDist(this._viewDirectionDistance(H))};K._viewDirectionDistance=function(H){return Math.abs(B.projectPointSignedLength(this.viewForward,l.subtract(E,H,this.eye)))};K.computeScreenPixelSizeAtDist=function(H){return H*
this.perScreenPixelRatio};K.computeDistanceFromRadius=function(H,L){return H/Math.tan(Math.min(this.fovX,this.fovY)/(2*(L||1)))};K.getScreenCenter=function(H=u.createScreenPointArray()){H[0]=(this.padding[a.PaddingSide.LEFT]+this.width/2)/this.pixelRatio;H[1]=(this.padding[a.PaddingSide.TOP]+this.height/2)/this.pixelRatio;return H};K.getRenderCenter=function(H,L=.5,aa=.5){H[0]=this.padding[a.PaddingSide.LEFT]+this.width*L;H[1]=this.padding[a.PaddingSide.BOTTOM]+this.height*aa;H[2]=.5;return H};K.setGLViewport=
function(H){const L=this.viewport,aa=this.padding;H.setViewport(L[0]-aa[3],L[1]-aa[2],L[2]+aa[1]+aa[3],L[3]+aa[0]+aa[2])};K.applyProjection=function(H,L){H!==F&&l.copy(F,H);F[3]=1;w.transformMat4(F,F,this.projectionMatrix);H=Math.abs(F[3]);l.scale(F,F,1/H);const aa=this.fullViewport;L[0]=n.lerp(0,aa[0]+aa[2],.5+.5*F[0]);L[1]=n.lerp(0,aa[1]+aa[3],.5+.5*F[1]);L[2]=.5*(F[2]+1);L[3]=H};K.unapplyProjection=function(H,L){const aa=this.fullViewport;F[0]=(H[0]/(aa[0]+aa[2])*2-1)*H[3];F[1]=(H[1]/(aa[1]+aa[3])*
2-1)*H[3];F[2]=(2*H[2]-1)*H[3];F[3]=H[3];null!=this.inverseProjectionMatrix&&(w.transformMat4(F,F,this.inverseProjectionMatrix),L[0]=F[0],L[1]=F[1],L[2]=F[2])};K.projectToScreen=function(H,L){this.projectToRenderScreen(H,O);this.renderToScreen(O,L);return L};K.projectToRenderScreen=function(H,L){F[0]=H[0];F[1]=H[1];F[2]=H[2];F[3]=1;w.transformMat4(F,F,this.viewProjectionMatrix);if(0===F[3])return null;l.scale(F,F,1/Math.abs(F[3]));H=this.fullViewport;"x"in L?(L.x=n.lerp(0,H[0]+H[2],.5+.5*F[0]),L.y=
n.lerp(0,H[1]+H[3],.5+.5*F[1])):(L[0]=n.lerp(0,H[0]+H[2],.5+.5*F[0]),L[1]=n.lerp(0,H[1]+H[3],.5+.5*F[1]),2<L.length&&(L[2]=.5*(F[2]+1)));return L};K.unprojectFromScreen=function(H,L){return this.unprojectFromRenderScreen(this.screenToRender(H,O),L)};K.unprojectFromRenderScreen=function(H,L){f.multiply(G,this.projectionMatrix,this.viewMatrix);if(!f.invert(G,G))return null;const aa=this.fullViewport;F[0]=2*(H[0]-aa[0])/aa[2]-1;F[1]=2*(H[1]-aa[1])/aa[3]-1;F[2]=2*H[2]-1;F[3]=1;w.transformMat4(F,F,G);
if(0===F[3])return null;L[0]=F[0]/F[3];L[1]=F[1]/F[3];L[2]=F[2]/F[3];return L};K.constrainWindowSize=function(H,L,aa,R){H*=this.pixelRatio;L*=this.pixelRatio;return[Math.max(H-aa/2,0),Math.max(this.fullHeight-L-R/2,0),aa- -Math.min(H-aa/2,0)- -Math.min(this.fullWidth-H-aa/2,0),R- -Math.min(this.fullHeight-L-R/2,0)- -Math.min(L-R/2,0)]};K.computeUp=function(H){H===D.ViewingMode.Global?this._computeUpGlobal():this._computeUpLocal()};K.screenToRender=function(H,L){const aa=this.fullHeight-H[1]*this.pixelRatio;
L[0]=H[0]*this.pixelRatio;L[1]=aa;return L};K.renderToScreen=function(H,L){const aa=(this.fullHeight-H[1])/this.pixelRatio;L[0]=H[0]/this.pixelRatio;L[1]=aa};K._computeUpGlobal=function(){l.subtract(E,this.center,this.eye);const H=l.length(this.center);1>H?(l.set(this._up,0,0,1),this._markViewDirty(),this.notifyChange("_up")):Math.abs(l.dot(E,this.center))>.9999*l.length(E)*H||(l.cross(this._up,E,this.center),l.cross(this._up,this._up,E),l.normalize(this._up,this._up),this.notifyChange("_up"),this._markViewDirty())};
K._computeUpLocal=function(){l.direction(E,this.eye,this.center);.9999>=Math.abs(E[2])&&(l.scale(E,E,E[2]),l.set(this._up,-E[0],-E[1],1-E[2]),l.normalize(this._up,this._up),this.notifyChange("_up"),this._markViewDirty())};K._compareAndSetView=function(H,L,aa=""){"number"===typeof H[0]&&isFinite(H[0])&&"number"===typeof H[1]&&isFinite(H[1])&&"number"===typeof H[2]&&isFinite(H[2])?l.exactEquals(H,L)||(l.copy(L,H),this._markViewDirty(),aa.length&&this.notifyChange(aa)):d.getLogger("esri.views.3d.webgl-engine.lib.Camera").warn("Camera vector contains invalid number, ignoring value")};
K._markViewDirty=function(){this._viewProjectionDirty=this._frustumDirty=this._viewDirty=!0};K._recomputeFrustum=function(){this._frustumDirty&&(z.fromMatrix(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)};K._ensureViewClean=function(){this._viewDirty&&(f.lookAt(this._viewMatrix,this.eye,this.center,this.up),l.set(this._viewForward,-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10]),l.set(this._viewUp,this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9]),
l.set(this._viewRight,this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8]),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)};b._createClass(M,[{key:"pixelRatio",get:function(){return this._pixelRatio},set:function(H){this._pixelRatio=0<H?H:1}},{key:"eye",get:function(){return this._ray.origin},set:function(H){this._compareAndSetView(H,this._ray.origin)}},{key:"center",get:function(){return this._center},set:function(H){this._compareAndSetView(H,this._center,"_center")}},{key:"ray",
get:function(){l.subtract(this._ray.direction,this.center,this.eye);return this._ray}},{key:"up",get:function(){return this._up},set:function(H){this._compareAndSetView(H,this._up,"_up")}},{key:"viewMatrix",get:function(){this._ensureViewClean();return this._viewMatrix},set:function(H){f.copy(this._viewMatrix,H);this._viewDirty=!1;this._frustumDirty=this._viewProjectionDirty=this._viewInverseTransposeMatrixDirty=!0}},{key:"viewForward",get:function(){this._ensureViewClean();return this._viewForward}},
{key:"viewUp",get:function(){this._ensureViewClean();return this._viewUp}},{key:"viewRight",get:function(){this._ensureViewClean();return this._viewRight}},{key:"nearFar",get:function(){return this._nearFar}},{key:"near",get:function(){return this._nearFar[0]},set:function(H){this._nearFar[0]!==H&&(this._nearFar[0]=H,this._frustumDirty=this._viewProjectionDirty=!0,this.notifyChange("_nearFar"))}},{key:"far",get:function(){return this._nearFar[1]},set:function(H){this._nearFar[1]!==H&&(this._nearFar[1]=
H,this._frustumDirty=this._viewProjectionDirty=!0,this.notifyChange("_nearFar"))}},{key:"viewport",get:function(){return this._viewport},set:function(H){this.x=H[0];this.y=H[1];this.width=H[2];this.height=H[3]}},{key:"screenViewport",get:function(){if(1===this.pixelRatio)return this._viewport;const H=w.scale(x.create(),this._viewport,1/this.pixelRatio),L=this._get("screenViewport");return L&&w.equals(H,L)?L:H}},{key:"x",get:function(){return this._viewport[0]},set:function(H){H+=this._padding[a.PaddingSide.LEFT];
this._viewport[0]!==H&&(this._viewport[0]=H,this._frustumDirty=this._viewProjectionDirty=!0,this.notifyChange("_viewport"))}},{key:"y",get:function(){return this._viewport[1]},set:function(H){H+=this._padding[a.PaddingSide.BOTTOM];this._viewport[1]!==H&&(this._viewport[1]=H,this._frustumDirty=this._viewProjectionDirty=!0,this.notifyChange("_viewport"))}},{key:"width",get:function(){return this._viewport[2]},set:function(H){this._viewport[2]!==H&&(this._viewport[2]=H,this._frustumDirty=this._viewProjectionDirty=
!0,this.notifyChange("_viewport"))}},{key:"height",get:function(){return this._viewport[3]},set:function(H){this._viewport[3]!==H&&(this._viewport[3]=H,this._frustumDirty=this._viewProjectionDirty=!0,this.notifyChange("_viewport"))}},{key:"fullWidth",get:function(){return this._viewport[2]+this._padding[a.PaddingSide.RIGHT]+this._padding[a.PaddingSide.LEFT]},set:function(H){this.width=H-(this._padding[a.PaddingSide.RIGHT]+this._padding[a.PaddingSide.LEFT])}},{key:"fullHeight",get:function(){return this._viewport[3]+
this._padding[a.PaddingSide.TOP]+this._padding[a.PaddingSide.BOTTOM]},set:function(H){this.height=H-(this._padding[a.PaddingSide.TOP]+this._padding[a.PaddingSide.BOTTOM])}},{key:"fullViewport",get:function(){this._fullViewport[0]=this._viewport[0]-this._padding[a.PaddingSide.LEFT];this._fullViewport[1]=this._viewport[1]-this._padding[a.PaddingSide.BOTTOM];this._fullViewport[2]=this.fullWidth;this._fullViewport[3]=this.fullHeight;return this._fullViewport}},{key:"_aspect",get:function(){return this.width/
this.height}},{key:"padding",get:function(){return this._padding},set:function(H){w.exactEquals(this._padding,H)||(this._viewport[0]+=H[a.PaddingSide.LEFT]-this._padding[a.PaddingSide.LEFT],this._viewport[1]+=H[a.PaddingSide.BOTTOM]-this._padding[a.PaddingSide.BOTTOM],this._viewport[2]-=H[a.PaddingSide.RIGHT]+H[a.PaddingSide.LEFT]-(this._padding[a.PaddingSide.RIGHT]+this._padding[a.PaddingSide.LEFT]),this._viewport[3]-=H[a.PaddingSide.TOP]+H[a.PaddingSide.BOTTOM]-(this._padding[a.PaddingSide.TOP]+
this._padding[a.PaddingSide.BOTTOM]),w.copy(this._padding,H),this._frustumDirty=this._viewProjectionDirty=!0,this.notifyChange("_padding"),this.notifyChange("_viewport"))}},{key:"viewProjectionMatrix",get:function(){this._viewProjectionDirty&&(f.multiply(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1);return this._viewProjectionMatrix}},{key:"projectionMatrix",get:function(){var H=this.width,L=this.height;const aa=this.near*Math.tan(this.fovY/2),R=aa*
this._aspect;H=f.frustum(h.create(),-R*(1+2*this._padding[a.PaddingSide.LEFT]/H),R*(1+2*this._padding[a.PaddingSide.RIGHT]/H),-aa*(1+2*this._padding[a.PaddingSide.BOTTOM]/L),aa*(1+2*this._padding[a.PaddingSide.TOP]/L),this.near,this.far);return(L=this._get("projectionMatrix"))&&f.equals(L,H)?L:H}},{key:"inverseProjectionMatrix",get:function(){return f.invert(h.create(),this.projectionMatrix)||this._get("inverseProjectionMatrix")||h.create()}},{key:"fov",get:function(){return this._fov},set:function(H){this._fov=
H;this._frustumDirty=this._viewProjectionDirty=!0}},{key:"fovX",get:function(){return y.fovd2fovx(this._fov,this.width,this.height)},set:function(H){this._fov=y.fovx2fovd(H,this.width,this.height);this._frustumDirty=this._viewProjectionDirty=!0}},{key:"fovY",get:function(){return y.fovd2fovy(this._fov,this.width,this.height)},set:function(H){this._fov=y.fovy2fovd(H,this.width,this.height);this._frustumDirty=this._viewProjectionDirty=!0}},{key:"distance",get:function(){return l.distance(this.center,
this.eye)}},{key:"frustum",get:function(){this._recomputeFrustum();return this._frustum}},{key:"viewInverseTransposeMatrix",get:function(){if(this._viewInverseTransposeMatrixDirty||this._viewDirty)f.invert(this._viewInverseTransposeMatrix,this.viewMatrix),f.transpose(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1;return this._viewInverseTransposeMatrix}},{key:"perRenderPixelRatio",get:function(){return Math.tan(this.fovX/2)/(this.width/
2)}},{key:"perScreenPixelRatio",get:function(){return this.perRenderPixelRatio*this.pixelRatio}},{key:"aboveGround",get:function(){return null!=this.relativeElevation&&0<=this.relativeElevation}}]);return M}(e);c.__decorate([t.property()],a.Camera.prototype,"_center",void 0);c.__decorate([t.property()],a.Camera.prototype,"_up",void 0);c.__decorate([t.property()],a.Camera.prototype,"_viewport",void 0);c.__decorate([t.property()],a.Camera.prototype,"_padding",void 0);c.__decorate([t.property()],a.Camera.prototype,
"_fov",void 0);c.__decorate([t.property()],a.Camera.prototype,"_nearFar",void 0);c.__decorate([t.property()],a.Camera.prototype,"_pixelRatio",void 0);c.__decorate([t.property()],a.Camera.prototype,"pixelRatio",null);c.__decorate([t.property()],a.Camera.prototype,"eye",null);c.__decorate([t.property()],a.Camera.prototype,"center",null);c.__decorate([t.property()],a.Camera.prototype,"up",null);c.__decorate([t.property({readOnly:!0})],a.Camera.prototype,"nearFar",null);c.__decorate([t.property()],a.Camera.prototype,
"near",null);c.__decorate([t.property()],a.Camera.prototype,"far",null);c.__decorate([t.property()],a.Camera.prototype,"viewport",null);c.__decorate([t.property({readOnly:!0})],a.Camera.prototype,"screenViewport",null);c.__decorate([t.property()],a.Camera.prototype,"x",null);c.__decorate([t.property()],a.Camera.prototype,"y",null);c.__decorate([t.property()],a.Camera.prototype,"width",null);c.__decorate([t.property()],a.Camera.prototype,"height",null);c.__decorate([t.property()],a.Camera.prototype,
"fullWidth",null);c.__decorate([t.property()],a.Camera.prototype,"fullHeight",null);c.__decorate([t.property({readOnly:!0})],a.Camera.prototype,"_aspect",null);c.__decorate([t.property()],a.Camera.prototype,"padding",null);c.__decorate([t.property({readOnly:!0})],a.Camera.prototype,"projectionMatrix",null);c.__decorate([t.property({readOnly:!0})],a.Camera.prototype,"inverseProjectionMatrix",null);c.__decorate([t.property()],a.Camera.prototype,"fov",null);c.__decorate([t.property()],a.Camera.prototype,
"fovX",null);c.__decorate([t.property()],a.Camera.prototype,"fovY",null);a.Camera=C=c.__decorate([g.subclass("esri.views.3d.webgl-engine.lib.Camera")],a.Camera);const F=x.create(),G=h.create(),E=v.create(),P=v.create(),O=u.createRenderScreenPointArray3();a.PaddingSide=void 0;(function(K){K[K.TOP=0]="TOP";K[K.RIGHT=1]="RIGHT";K[K.BOTTOM=2]="BOTTOM";K[K.LEFT=3]="LEFT"})(a.PaddingSide||(a.PaddingSide={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec2":function(){define(["exports",
"./common"],function(a,b){function c(R,S){R[0]=S[0];R[1]=S[1];return R}function e(R,S,V){R[0]=S;R[1]=V;return R}function d(R,S,V){R[0]=S[0]+V[0];R[1]=S[1]+V[1];return R}function n(R,S,V){R[0]=S[0]-V[0];R[1]=S[1]-V[1];return R}function u(R,S,V){R[0]=S[0]*V[0];R[1]=S[1]*V[1];return R}function t(R,S,V){R[0]=S[0]/V[0];R[1]=S[1]/V[1];return R}function r(R,S){R[0]=Math.ceil(S[0]);R[1]=Math.ceil(S[1]);return R}function p(R,S){R[0]=Math.floor(S[0]);R[1]=Math.floor(S[1]);return R}function m(R,S,V){R[0]=Math.min(S[0],
V[0]);R[1]=Math.min(S[1],V[1]);return R}function g(R,S,V){R[0]=Math.max(S[0],V[0]);R[1]=Math.max(S[1],V[1]);return R}function f(R,S){R[0]=Math.round(S[0]);R[1]=Math.round(S[1]);return R}function h(R,S,V){R[0]=S[0]*V;R[1]=S[1]*V;return R}function q(R,S,V,ea){R[0]=S[0]+V[0]*ea;R[1]=S[1]+V[1]*ea;return R}function k(R,S){const V=S[0]-R[0];R=S[1]-R[1];return Math.sqrt(V*V+R*R)}function l(R,S){const V=S[0]-R[0];R=S[1]-R[1];return V*V+R*R}function v(R){const S=R[0];R=R[1];return Math.sqrt(S*S+R*R)}function w(R){const S=
R[0];R=R[1];return S*S+R*R}function x(R,S){R[0]=-S[0];R[1]=-S[1];return R}function z(R,S){R[0]=1/S[0];R[1]=1/S[1];return R}function A(R,S){var V=S[0];const ea=S[1];V=V*V+ea*ea;0<V&&(V=1/Math.sqrt(V),R[0]=S[0]*V,R[1]=S[1]*V);return R}function B(R,S){return R[0]*S[0]+R[1]*S[1]}function D(R,S,V){S=S[0]*V[1]-S[1]*V[0];R[0]=R[1]=0;R[2]=S;return R}function y(R,S,V,ea){const ha=S[0];S=S[1];R[0]=ha+ea*(V[0]-ha);R[1]=S+ea*(V[1]-S);return R}function C(R,S){S=S||1;const V=2*b.RANDOM()*Math.PI;R[0]=Math.cos(V)*
S;R[1]=Math.sin(V)*S;return R}function F(R,S,V){const ea=S[0];S=S[1];R[0]=V[0]*ea+V[2]*S;R[1]=V[1]*ea+V[3]*S;return R}function G(R,S,V){const ea=S[0];S=S[1];R[0]=V[0]*ea+V[2]*S+V[4];R[1]=V[1]*ea+V[3]*S+V[5];return R}function E(R,S,V){const ea=S[0];S=S[1];R[0]=V[0]*ea+V[3]*S+V[6];R[1]=V[1]*ea+V[4]*S+V[7];return R}function P(R,S,V){const ea=S[0];S=S[1];R[0]=V[0]*ea+V[4]*S+V[12];R[1]=V[1]*ea+V[5]*S+V[13];return R}function O(R,S,V,ea){const ha=S[0]-V[0];S=S[1]-V[1];const la=Math.sin(ea);ea=Math.cos(ea);
R[0]=ha*ea-S*la+V[0];R[1]=ha*la+S*ea+V[1];return R}function K(R,S){var V=R[0];R=R[1];const ea=S[0];S=S[1];let ha=V*V+R*R;0<ha&&(ha=1/Math.sqrt(ha));let la=ea*ea+S*S;0<la&&(la=1/Math.sqrt(la));V=(V*ea+R*S)*ha*la;return 1<V?0:-1>V?Math.PI:Math.acos(V)}function M(R){return"vec2("+R[0]+", "+R[1]+")"}function I(R,S){return R[0]===S[0]&&R[1]===S[1]}function H(R,S){const V=R[0];R=R[1];const ea=S[0];S=S[1];const ha=b.getEpsilon();return Math.abs(V-ea)<=ha*Math.max(1,Math.abs(V),Math.abs(ea))&&Math.abs(R-
S)<=ha*Math.max(1,Math.abs(R),Math.abs(S))}function L(R,S,V,ea,ha){let la=S[0]-V[0];V=S[1]-V[1];ha=(ea[0]*la+ea[1]*V)*(ha-1);la=ea[0]*ha;V=ea[1]*ha;R[0]=S[0]+la;R[1]=S[1]+V;return R}const aa=Object.freeze(Object.defineProperty({__proto__:null,add:d,angle:K,ceil:r,copy:c,cross:D,dist:k,distance:k,div:t,divide:t,dot:B,equals:H,exactEquals:I,floor:p,inverse:z,len:v,length:v,lerp:y,max:g,min:m,mul:u,multiply:u,negate:x,normalize:A,projectAndScale:L,random:C,rotate:O,round:f,scale:h,scaleAndAdd:q,set:e,
sqrDist:l,sqrLen:w,squaredDistance:l,squaredLength:w,str:M,sub:n,subtract:n,transformMat2:F,transformMat2d:G,transformMat3:E,transformMat4:P},Symbol.toStringTag,{value:"Module"}));a.add=d;a.angle=K;a.ceil=r;a.copy=c;a.cross=D;a.dist=k;a.distance=k;a.div=t;a.divide=t;a.dot=B;a.equals=H;a.exactEquals=I;a.floor=p;a.inverse=z;a.len=v;a.length=v;a.lerp=y;a.max=g;a.min=m;a.mul=u;a.multiply=u;a.negate=x;a.normalize=A;a.projectAndScale=L;a.random=C;a.rotate=O;a.round=f;a.scale=h;a.scaleAndAdd=q;a.set=e;a.sqrDist=
l;a.sqrLen=w;a.squaredDistance=l;a.squaredLength=w;a.str=M;a.sub=n;a.subtract=n;a.transformMat2=F;a.transformMat2d=G;a.transformMat3=E;a.transformMat4=P;a.vec2=aa})},"esri/views/3d/webgl-engine/lib/fov":function(){define(["exports"],function(a){a.fovd2fovx=function(b,c,e){return 2*Math.atan(c*Math.tan(.5*b)/Math.sqrt(c*c+e*e))};a.fovd2fovy=function(b,c,e){return 2*Math.atan(e*Math.tan(.5*b)/Math.sqrt(c*c+e*e))};a.fovx2fovd=function(b,c,e){return 2*Math.atan(Math.sqrt(c*c+e*e)*Math.tan(.5*b)/c)};a.fovy2fovd=
function(b,c,e){return 2*Math.atan(Math.sqrt(c*c+e*e)*Math.tan(.5*b)/e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/animation/pointToPoint/Animation":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/time ../easing ./Definition ./Settings ./apex/Path".split(" "),function(a,b,c,e,d,n,u){const t={zoom:0,pan:0,rotate:0};let r=function(){function p(g){this._createCamera=g;this._time=c.Milliseconds(0);this.definition=new d.Definition(g);
this.path=new u.Path}var m=p.prototype;m.update=function(g,f,h){this.definition.update(g,f,h);this.path.update(this.definition,h);this._time=this._applyTimeSettings(c.millisecondsFromSeconds(isFinite(this.path.time)?this.path.time:c.Seconds(0)),h);this._easing=h.easing??(1E3<=this._time?e.inOutCoastQuad:e.outExpo)};m.cameraAt=function(g,f){f=f||this._createCamera();g=Math.min(Math.max(0,g),1);g=this._normalizedEasing(g);g=this.path.interpolateComponentsAt(g,t);f.interpolate(this.definition.source,
this.definition.target,g);return f};m._normalizedEasing=function(g){const f=this._easing(0,this._time),h=this._easing(1,this._time);return(this._easing(g,this._time)-f)/(h-f)};m._applyTimeSettings=function(g,f){const h=null!=f.speedFactor?f.speedFactor:1;null!=f.duration?g=f.duration:null!=f.speedFactor&&(g=c.Milliseconds(g/h));return c.Milliseconds(Math.min(Math.max(null!=f.minDuration?f.minDuration:n.defaultSettings.minDuration/h,g),null!=f.maxDuration?f.maxDuration:n.defaultSettings.maxDuration/
h))};b._createClass(p,[{key:"time",get:function(){return this._time}}]);return p}();a.Animation=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/animation/pointToPoint/Definition":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","./Settings"],function(a,b,c){let e=function(){function d(u){this._createCamera=u;this.compared={sourceZoom:0,targetZoom:0,pan:0,rotate:0};this.settings={desiredScreenFlow:c.defaultSettings.desiredScreenFlow};this.source=
u();this.target=u()}var n=d.prototype;n.clone=function(){const u=new d(this._createCamera);u.copyFrom(this);return u};n.copyFrom=function(u){this.update(u.source,u.target,u.settings)};n.update=function(u,t,r){this.source!==u&&this.source.copyFrom(u);this.target!==t&&this.target.copyFrom(t);this.compared=this.source.compareTo(this.target,this.compared);this.settings.desiredScreenFlow=null!=r.desiredScreenFlow?r.desiredScreenFlow:c.defaultSettings.desiredScreenFlow;this.desiredPixelFlow=this.settings.desiredScreenFlow*
this.target.size;this.halfWindowSize=this.target.size/2};n.halfWindowPanAtZoom=function(u){u=this.target.pixelsPerPanAtZoom(u);return this.halfWindowSize/u};b._createClass(d,[{key:"hasZoom",get:function(){return 1E-5<Math.abs(this.compared.sourceZoom-this.compared.targetZoom)}},{key:"hasPan",get:function(){return 1E-9<this.compared.pan}},{key:"hasRotate",get:function(){return 1E-9<this.compared.rotate}}]);return d}();a.Definition=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/animation/pointToPoint/Settings":function(){define(["exports",
"../../../core/time"],function(a,b){b={desiredScreenFlow:2,minDuration:b.Milliseconds(500),maxDuration:b.Milliseconds(8E3)};a.defaultSettings=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/animation/pointToPoint/apex/Path":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../easing ../Path ../Segment ./planning".split(" "),function(a,b,c,e,d,n){e=function(u){function t(p,m){var g=r.call(this);g._preallocSegments=[new d.Segment,new d.Segment,
new d.Segment];g._ascensionSegment=null;g._descensionSegment=null;g.update(p,m);return g}b._inherits(t,u);var r=b._createSuper(t);u=t.prototype;u.update=function(p,m){if(p){this.definition?this.definition.copyFrom(p):this.definition=p.clone();var g=null;m&&m.apex&&(g=n.optimalDistance(p,m.apex));this.segments.length=0;this._descensionSegment=this._ascensionSegment=null;null==g?this._updateWithoutApex():this._updateWithApex(g,m?.apex)}};u.segmentInterpolateComponentsAt=function(p,m,g){g=p.interpolateComponentsAt(m,
g);p===this._ascensionSegment?g.zoom=c.outQuad(g.zoom):p===this._descensionSegment&&(g.zoom=c.inQuad(g.zoom));return g};u._updateWithApex=function(p,m){const [g,f,h]=this._preallocSegments,q=m?.ascensionFactor??.5;m=Math.min(1-q,null!=m?.ascensionFactor&&null!=m.descensionFactor?m.descensionFactor:.5);const k=1-q-m;g.definition?g.definition.copyFrom(this.definition):g.definition=this.definition.clone();g.definition.compared.targetZoom=p;g.definition.compared.pan=this.definition.compared.pan*q;g.definition.compared.rotate=
this.definition.compared.rotate*q;g.update();this._ascensionSegment=g;this.segments.push(g);0<k&&(f.definition?f.definition.copyFrom(this.definition):f.definition=this.definition.clone(),f.definition.copyFrom(this.definition),f.definition.compared.sourceZoom=p,f.definition.compared.targetZoom=p,f.definition.compared.pan=this.definition.compared.pan*k,f.definition.compared.rotate=this.definition.compared.rotate*k,f.update(),this.segments.push(f));h.definition?h.definition.copyFrom(this.definition):
h.definition=this.definition.clone();h.definition.compared.sourceZoom=p;h.definition.compared.pan=this.definition.compared.pan*m;h.definition.compared.rotate=this.definition.compared.rotate*m;h.update();this._descensionSegment=h;this.segments.push(h)};u._updateWithoutApex=function(){const [p]=this._preallocSegments;p.update(this.definition);this.segments.push(p)};return b._createClass(t)}(e.Path);a.Path=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/animation/pointToPoint/Path":function(){define(["exports",
"../../../chunks/_rollupPluginBabelHelpers","../../../core/time"],function(a,b,c){let e=function(){function d(){this.segments=[]}var n=d.prototype;n.interpolateComponentsAt=function(u,t){u=Math.min(Math.max(u,0),1);u*=this.time;let r=0,p=0;const m=this.definition;for(let g=0;g<this.segments.length;g++){const f=this.segments[g],h=f.definition;if(u<=f.time||g===this.segments.length-1)return t=this.segmentInterpolateComponentsAt(f,0===f.time?0:u/f.time,t),m.hasPan&&!isNaN(t.pan)&&isFinite(m.compared.pan)?
t.pan=(r+h.compared.pan*t.pan)/m.compared.pan:t.pan=1,m.hasRotate&&!isNaN(t.rotate)&&isFinite(m.compared.rotate)?t.rotate=(p+h.compared.rotate*t.rotate)/m.compared.rotate:t.rotate=1,m.hasZoom&&!isNaN(t.zoom)&&isFinite(h.compared.targetZoom)?(u=this.segments[0].definition.compared.sourceZoom,t.zoom=(t.zoom*(h.compared.targetZoom-h.compared.sourceZoom)+h.compared.sourceZoom-u)/(this.segments[this.segments.length-1].definition.compared.targetZoom-u)):t.zoom=1,t;u-=f.time;r+=h.compared.pan;p+=h.compared.rotate}};
n.segmentInterpolateComponentsAt=function(u,t,r){return u.interpolateComponentsAt(t,r)};b._createClass(d,[{key:"time",get:function(){return this.segments.reduce((u,t)=>c.Seconds(u+t.time),c.Seconds(0))}}]);return d}();a.Path=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/animation/pointToPoint/Segment":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/time"],function(a,b,c){let e=function(){function d(u){u&&this.update(u)}var n=
d.prototype;n.update=function(u){u&&(this.definition?this.definition.copyFrom(u):this.definition=u.clone());this._updatePrecomputedVariables();this._updatePixelFlow()};n._updatePrecomputedVariables=function(){var u=this.definition;const t=u.compared,r=t.sourceZoom,p=t.targetZoom;this._zoomSign=r>p?1:-1;this._panPixelsAtSource=t.pan*u.source.pixelsPerPanAtZoom(r);u=(u.source.pixelsPerRotateAtZoom(r)+u.target.pixelsPerRotateAtZoom(p))/2;this._rotatePixels=t.rotate*u};n._updatePixelFlow=function(){var u=
this.definition.compared.sourceZoom,t=this.definition.compared.targetZoom;const {hasZoom:r,hasPan:p,hasRotate:m}=this.definition;var g=0,f=0;r&&(p&&(g=(t/u-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),m&&(f=Math.log(u/t)/Math.LN2*this._zoomSign*this.definition.halfWindowSize/this._rotatePixels));this._rotatePixelFlow=this._panPixelFlow=this._zoomPixelFlow=0;u=this.definition.desiredPixelFlow;r&&p&&m?(t=g+f+g*f,this._zoomPixelFlow=g*f/t*u,this._panPixelFlow=
f/t*u,this._rotatePixelFlow=g/t*u):r&&p?(f=1+g,this._zoomPixelFlow=g/f*u,this._panPixelFlow=1/f*u):r&&m?(g=1+f,this._zoomPixelFlow=f/g*u,this._rotatePixelFlow=1/g*u):p&&m?(g=this._panPixelsAtSource/this._rotatePixels,f=1+g,this._panPixelFlow=g/f*u,this._rotatePixelFlow=1/f*u):p?this._panPixelFlow=u:r?this._zoomPixelFlow=u:m&&(this._rotatePixelFlow=u);this._time=m?this.rotateTime:r?this.zoomTime:p?this.panTime:c.Seconds(0)};n._interpolateComponentsZoom=function(u){if(0===u||1===u)return u;if(this.definition.hasZoom){const t=
this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom;return(t*(t/r)**-u-t)/(r-t)}return u};n._interpolateComponentsPan=function(u){if(0===u||1===u)return u;if(this.definition.hasPan&&this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*this._panPixelFlow*(2**(t*u*this._time)-1)/(t*Math.LN2)}return u};n._interpolateComponentsRotate=function(u){return u};n.interpolateComponentsAt=function(u,t){u=
Math.min(Math.max(u,0),1);const r=this._interpolateComponentsZoom(u),p=this._interpolateComponentsPan(u);u=this._interpolateComponentsRotate(u);t?(t.zoom=r,t.pan=p,t.rotate=u):t={zoom:r,pan:p,rotate:u};return t};b._createClass(d,[{key:"time",get:function(){return this._time}},{key:"rotateTime",get:function(){return this.definition.hasRotate?c.Seconds(this._rotatePixels/this._rotatePixelFlow):c.Seconds(0)}},{key:"zoomTime",get:function(){return this.definition.hasZoom?c.Seconds(Math.log(this.definition.compared.sourceZoom/
this.definition.compared.targetZoom)/Math.LN2*this._zoomSign*this.definition.halfWindowSize/this._zoomPixelFlow):c.Seconds(0)}},{key:"panTime",get:function(){if(this.definition.hasPan){if(this.definition.hasZoom){const u=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2;return c.Seconds(Math.log(this._zoomPixelFlow/this._panPixelFlow*this._panPixelsAtSource*u+1)/(u*this._zoomPixelFlow))}return c.Seconds(this._panPixelsAtSource/this._panPixelFlow)}return c.Seconds(0)}}]);return d}();a.Segment=
e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/animation/pointToPoint/apex/planning":function(){define(["exports","./functions"],function(a,b){function c(e,d){const n=Math.max(e.compared.sourceZoom,e.compared.targetZoom);e=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return e<n?null!=d.maximumDistance?n+(d.maximumDistance-n)/2:1.5*n:d.maximumDistance?Math.min(d.maximumDistance,e):e}a.optimalDistance=function(e,d){let n=c(e,d);const u={ascensionFactor:null!=
d.ascensionFactor?d.ascensionFactor:.5,descensionFactor:null!=d.descensionFactor?d.descensionFactor:.5};var t=0===u.ascensionFactor,r=0===u.descensionFactor;const p=t?b.tAscensionZoomOnly:b.tAscensionZoomPan,m=t?b.dtAscensionZoomOnly:b.dtAscensionZoomPan,g=t?b.ddtAscensionZoomOnly:b.ddtAscensionZoomPan,f=r?b.tDescensionZoomOnly:b.tDescensionZoomPan,h=r?b.dtDescensionZoomOnly:b.dtDescensionZoomPan,q=r?b.ddtDescensionZoomOnly:b.ddtDescensionZoomPan;t=A=>p(e,A,u)+b.tPanion(e,A,u)+f(e,A,u);r=A=>m(e,A,
u)+b.dtPanion(e,A,u)+h(e,A,u);const k=A=>g(e,A,u)+b.ddtPanion(e,A,u)+q(e,A,u);let l=t(n);const v=b.tBaseLine(e),w=d.maximumIterations||20,x=null!=d.maximumDistance?d.maximumDistance:Infinity;for(d=0;d<w;d++){var z=(r(n)+1E-6)/k(n);if(isNaN(z)||n>=x&&0>z){if(!isFinite(x))return null;n=x;l=t(n);break}n-=z;if(n<e.compared.sourceZoom||n<e.compared.targetZoom)return null;z=t(n);if(.005>=Math.abs(z-l)/l)break;l=z}return l>.7*v||n<e.compared.sourceZoom||n<e.compared.targetZoom?null:n};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/views/animation/pointToPoint/apex/functions":function(){define(["exports"],function(a){a.ddtAscensionZoomOnly=function(b,c){return-b.halfWindowSize/(c*c*b.desiredPixelFlow*Math.LN2)};a.ddtAscensionZoomPan=function(b,c,e){const d=c-b.compared.sourceZoom,n=1/d,u=1/c,t=Math.log(b.compared.sourceZoom*u);e=(e.ascensionFactor*Math.LN2*b.compared.pan+b.halfWindowPanAtZoom(d))/b.halfWindowPanAtZoom(1);return b.halfWindowSize*n*(-2*n*u*e+2*n*t+2*u-2*t*e/(d*d)-
e/(c*c))/(b.desiredPixelFlow*Math.LN2)};a.ddtDescensionZoomOnly=function(b,c){return-b.halfWindowSize/(c*c*b.desiredPixelFlow*Math.LN2)};a.ddtDescensionZoomPan=function(b,c,e){const d=c-b.compared.targetZoom,n=1/d,u=1/c,t=Math.log(c/b.compared.targetZoom);e=(b.halfWindowPanAtZoom(c)+e.descensionFactor*Math.LN2*b.compared.pan-b.halfWindowPanAtZoom(b.compared.targetZoom))/b.halfWindowPanAtZoom(1);return b.halfWindowSize*n*(-2*n*u*e-2*n*t+2*u+2*t*e/(d*d)-e/(c*c))/(b.desiredPixelFlow*Math.LN2)};a.ddtPanion=
function(b,c,e){return-2*b.compared.pan*b.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(b.desiredPixelFlow*b.halfWindowPanAtZoom(c*c*c))};a.dtAscensionZoomOnly=function(b,c){return b.halfWindowSize/(c*b.desiredPixelFlow*Math.LN2)};a.dtAscensionZoomPan=function(b,c,e){const d=1/c,n=Math.log(b.compared.sourceZoom*d),u=1/b.desiredPixelFlow,t=1/Math.LN2;c-=b.compared.sourceZoom;const r=1/c;e=(e.ascensionFactor*Math.LN2*b.compared.pan+b.halfWindowPanAtZoom(c))/b.halfWindowPanAtZoom(1);return b.halfWindowSize*
d*u*t*r*e-b.halfWindowSize*n*u*t*r+b.halfWindowSize*n*u*t*e/(c*c)};a.dtDescensionZoomOnly=function(b,c){return b.halfWindowSize/(c*b.desiredPixelFlow*Math.LN2)};a.dtDescensionZoomPan=function(b,c,e){const d=Math.log(c/b.compared.targetZoom),n=1/b.desiredPixelFlow,u=1/Math.LN2,t=-c+b.compared.targetZoom,r=1/t;e=(-b.halfWindowPanAtZoom(c)-e.descensionFactor*Math.LN2*b.compared.pan+b.halfWindowPanAtZoom(b.compared.targetZoom))/b.halfWindowPanAtZoom(1);return-b.halfWindowSize*d*n*u*r+b.halfWindowSize*
d*n*u*e/(t*t)+b.halfWindowSize*n*u*r*e/c};a.dtPanion=function(b,c,e){return b.compared.pan*b.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(b.desiredPixelFlow*b.halfWindowPanAtZoom(c*c))};a.tAscensionZoomOnly=function(b,c){return-b.halfWindowSize*Math.log(b.compared.sourceZoom/c)/(b.desiredPixelFlow*Math.LN2)};a.tAscensionZoomPan=function(b,c,e){const d=b.halfWindowPanAtZoom(c-b.compared.sourceZoom);return-b.halfWindowSize*(e.ascensionFactor*Math.LN2*b.compared.pan+d)*Math.log(b.compared.sourceZoom/
c)/(b.desiredPixelFlow*Math.LN2*d)};a.tBaseLine=function(b){const c=Math.LN2*b.compared.pan,e=b.halfWindowPanAtZoom(b.compared.sourceZoom-b.compared.targetZoom),d=b.halfWindowSize*Math.log(b.compared.sourceZoom/b.compared.targetZoom)/(b.desiredPixelFlow*Math.LN2*e);return b.compared.sourceZoom<=b.compared.targetZoom?d*(c-e):d*(c+e)};a.tDescensionZoomOnly=function(b,c){return b.halfWindowSize*Math.log(c/b.compared.targetZoom)/(b.desiredPixelFlow*Math.LN2)};a.tDescensionZoomPan=function(b,c,e){return b.halfWindowSize*
(-b.halfWindowPanAtZoom(c)-e.descensionFactor*Math.LN2*b.compared.pan+b.halfWindowPanAtZoom(b.compared.targetZoom))*Math.log(c/b.compared.targetZoom)/(b.desiredPixelFlow*Math.LN2*b.halfWindowPanAtZoom(-c+b.compared.targetZoom))};a.tPanion=function(b,c,e){return-b.compared.pan*b.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(b.desiredPixelFlow*b.halfWindowPanAtZoom(c))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/state/controllers/AnimationController":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/maybe ../../../../core/promiseUtils ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/Error ../../../../core/accessorSupport/decorators/subclass ../../../ViewAnimation ./CameraController".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){a.AnimationController=function(h){function q(){var l=k.apply(this,arguments);l._asyncResult=null;return l}b._inherits(q,h);var k=b._createSuper(q);h=q.prototype;h.onControllerStart=function(){this.state=f.State.Running;e.isSome(this.viewAnimation)&&this.viewAnimation.when(()=>this.updateStateFromViewAnimation(),()=>this.updateStateFromViewAnimation())};h.updateStateFromViewAnimation=function(){!e.isSome(this.viewAnimation)||this.state!==f.State.Ready&&this.state!==
f.State.Running||(this.viewAnimation.state===g.State.FINISHED?this.finish():this.viewAnimation.state===g.State.STOPPED&&(this.state=f.State.Stopped))};h.onControllerEnd=function(){e.isSome(this.viewAnimation)&&!this.viewAnimation.done&&(this.state===f.State.Finished?this.viewAnimation.finish():this.state===f.State.Stopped&&this.viewAnimation.stop());this._asyncResult&&(this.state===f.State.Finished?this._asyncResult.resolve():this._asyncResult.reject(d.createAbortError()))};h.finish=function(){this.finishController()};
b._createClass(q,[{key:"canStop",get:function(){return!0}},{key:"asyncResult",get:function(){return this._asyncResult},set:function(l){this._asyncResult&&(this._asyncResult.reject(d.createAbortError()),this._asyncResult=null);this.state===f.State.Finished||this.state===f.State.Stopped?(e.assertIsSome(l),this.state===f.State.Finished?l.resolve():l.reject(d.createAbortError())):this._asyncResult=l}}]);return q}(f.CameraController);a.AnimationController=c.__decorate([m.subclass("esri.views.3d.state.controllers.AnimationController")],
a.AnimationController);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/state/controllers/SurfaceCollisionCorrectionController":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Handles ../../../../core/maybe ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/decorators/subclass ../../camera/intersectionUtils ../../camera/constraintUtils/surfaceCollision ./CameraController".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f){a.SurfaceCollisionCorrectionController=function(h){function q(l){l=k.call(this,l);l._handles=new e;return l}b._inherits(q,h);var k=b._createSuper(q);h=q.prototype;h.onControllerStart=function(){this.state=f.State.Running;this._handles.add(this.view.basemapTerrain.on("elevation-change",l=>this._handleElevationChangeEvent(l)));this._applyCorrection()};h.onControllerEnd=function(){this._handles.removeAll()};h.stepController=function(){};h._handleElevationChangeEvent=
function(l){d.isSome(l.spatialReference)&&!m.eyeWithinExtent(this.view,this.desiredCamera,l.extent,l.spatialReference)||this._applyCorrection()};h._applyCorrection=function(){this.view.state.updateCamera(l=>{l.copyViewFrom(this.desiredCamera);g.applySurfaceCollisionConstraint(this.view,l,g.Mode.EYE_AND_CENTER)||this.constraintEnabled||(this.state=f.State.Stopped)})};b._createClass(q,[{key:"desiredCamera",set:function(l){this._set("desiredCamera",l.clone())}},{key:"canStop",get:function(){return!0}},
{key:"constraintEnabled",get:function(){return this.view.state.constraints.collision.enabled}}]);return q}(f.CameraController);c.__decorate([n.property({constructOnly:!0})],a.SurfaceCollisionCorrectionController.prototype,"desiredCamera",null);a.SurfaceCollisionCorrectionController=c.__decorate([p.subclass("esri.views.3d.state.controllers.SurfaceCollisionCorrectionController")],a.SurfaceCollisionCorrectionController);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/cameraUtils":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../Camera ../../../core/Cyclical ../../../core/Logger ../../../core/mathUtils ../../../core/maybe ../../../core/promiseUtils ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/ellipsoidUtils ../../../geometry/Point ../../../geometry/projection ../../../geometry/SpatialReference ../../ViewingMode ../camera/intersectionUtils ../../../chunks/cameraUtilsPlanar ../../../chunks/cameraUtilsSpherical ./earthUtils ./ElevationProvider ../../support/spatialReferenceSupport".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z){function A(ia){return"global"===ia.viewingMode?v.cameraUtilsSpherical:l.cameraUtilsPlanar}function B(ia,Y,Z){const U=ia.state.camera,pa=U.width/2/U.pixelRatio;ia.renderCoordsHelper.viewingMode===q.ViewingMode.Global&&null!=Z&&(Y*=Math.cos(n.deg2rad(Z)));Y/=ia.renderCoordsHelper.unitInMeters;return pa/(96*39.37/Y)/Math.tan(U.fovX/2)}function D(ia,Y,Z){const U=ia.state.camera;Y=96*39.37/(U.width/2/U.pixelRatio/(Y*Math.tan(U.fovX/2)));ia.renderCoordsHelper.viewingMode===
q.ViewingMode.Global&&null!=Z&&(Y/=Math.cos(n.deg2rad(Z)));return Y*ia.renderCoordsHelper.unitInMeters}function y(ia,Y,Z,U,pa,xa){if(H(xa)){const N=new la(xa.signal);O(ia,U.heading,U.tilt,Y,Z,pa,N);N.resolver.promise.then(T=>{T=I(ia,T,U.fov);if(u.isNone(T))xa.resolver.reject();else return xa.resolver.resolve(T)},T=>xa.resolver.reject(T))}else return Y=O(ia,U.heading,U.tilt,Y,Z,pa),I(ia,Y,U.fov,xa)}function C(ia,Y,Z,U,pa){return A(ia).directionToHeadingTilt(Y,Z,U,pa)}function F(ia,Y){return!!(ia.basemapTerrain&&
ia.renderCoordsHelper.fromRenderCoords(Y,S,ia.spatialReference)&&ia.elevationProvider&&u.unwrapOr(x.getElevationAtPoint(ia.elevationProvider,S),0)>(S.z??0)-1)}async function G(ia,Y,Z){if(!ia.renderCoordsHelper.fromRenderCoords(Y,S,ia.spatialReference)||!ia.elevationProvider)return!1;Y=S.z??0;ia=await ia.elevationProvider.queryElevation(S.x,S.y,Y,S.spatialReference,"ground",Z);return u.unwrapOr(ia,0)>Y-1}async function E(ia,Y,Z){const U=p.create();Y?Y instanceof g?(f.projectPointToVector(Y,U,ia.renderSpatialReference),
null==Y.z&&null!=ia.basemapTerrain&&null!=ia.elevationProvider&&(Y=await ia.elevationProvider.queryElevation(Y.x,Y.y,Y.z??0,Y.spatialReference,"ground",Z),u.isSome(Y)&&ia.renderCoordsHelper.setAltitude(U,Y))):r.copy(U,Y):r.copy(U,ia.state.camera.center);return U}function P(ia,Y){const Z=p.create();Y&&Y instanceof g?(f.projectPointToVector(Y,Z,ia.renderSpatialReference),null==Y.z&&null!=ia.basemapTerrain&&null!=ia.elevationProvider&&(Y=x.getElevationAtPoint(ia.elevationProvider,Y),u.isSome(Y)&&ia.renderCoordsHelper.setAltitude(Z,
Y))):Y?r.copy(Z,Y):r.copy(Z,ia.state.camera.center);return Z}function O(ia,Y,Z,U,pa,xa,N){const T=U&&U instanceof g?U:null;if(H(N))return E(ia,U,N.signal).then(qa=>{K(ia,Y,Z,T,qa,pa,xa,N)},qa=>N.resolver.reject(qa)),null;U=P(ia,U);return K(ia,Y,Z,T,U,pa,xa,N)}function K(ia,Y,Z,U,pa,xa,N,T){if(u.isNone(U)&&(U=f.projectVectorToPoint(pa,ia.renderSpatialReference,ia.spatialReference||h.WGS84),u.isNone(U)))return null;xa=Math.max(xa,ia.state.constraints.minimumPoiDistance);var qa=M(ia,Y,Z,pa,xa,N);const Ca=
A(ia).eyeForCenterWithHeadingTilt,Fa=Ca(pa,xa,qa.heading,qa.tilt);if(N===a.OrientationMode.ADJUST&&"global"===ia.viewingMode&&0<Z){const fa=()=>{var ba=xa;var ka=xa;var X=A(ia).eyeTiltToLookAtTilt(Z,pa,ka);ia.state.constraints.tilt&&(ka=ia.state.constraints.tilt(ka),X=Math.min(X,.5*Math.PI),X=ka.min*(1-.7)+.7*X);ba=A(ia).lookAtTiltToEyeTilt(X,pa,ba);N=1>Z-ba?a.OrientationMode.LOCKED:a.OrientationMode.ADJUST;return K(ia,Y,ba,U,pa,xa,N,T)};qa=ia.map.ground.navigationConstraint;if(!qa||"stay-above"===
qa.type){if(F(ia,Fa.eye))return fa();if(H(T))return G(ia,Fa.eye,T.signal).then(ba=>{if(ba)return fa();T.resolver.resolve({eye:Fa.eye,up:Fa.up,center:p.clone(pa),heading:Fa.heading,tilt:Fa.tilt});return null}),null}}qa=!T||H(T)?{center:p.create(),eye:p.create(),up:p.create(),tilt:0,heading:0}:T;qa.eye=Fa.eye;qa.up=Fa.up;qa.center=p.clone(pa);qa.heading=Fa.heading;qa.tilt=Fa.tilt;H(T)&&T.resolver.resolve(qa);return qa}function M(ia,Y,Z,U,pa,xa){var N=0;if(xa=xa===a.OrientationMode.ADJUST)if(N=ia.pointsOfInterest.centerOnSurfaceFrequent.distance,
8<Math.log(pa/N)/Math.LN2)xa=!0;else{var T=ia.renderSpatialReference,qa=ia.spatialReference||h.WGS84;xa=f.projectVectorToPoint(U,T,qa);T=f.projectVectorToPoint(ia.pointsOfInterest.centerOnSurfaceFrequent.renderLocation,T,qa);u.isNone(xa)||u.isNone(T)?xa=!1:(N*=Math.tan(.5*ia.state.camera.fov),xa=5<T.distance(xa)/N)}xa?(Y=0,Z=A(ia).eyeTiltToLookAtTilt(Z,U,pa),ia.state.constraints.tilt?(xa=ia.state.constraints.tilt(pa),xa.max=Math.min(xa.max,.5*Math.PI),N=Math.min(Z,xa.min*(1-.7)+.7*xa.max)):N=Z):N=
A(ia).eyeTiltToLookAtTilt(Z,U,pa);Z=N=ia.state.constraints.clampTilt(pa,N);Z=A(ia).lookAtTiltToEyeTilt(Z,U,pa);return{heading:Y,tilt:Z}}function I(ia,Y,Z,U){if(u.isNone(Y))return null;ia=f.projectVectorToPoint(Y.eye,ia.renderSpatialReference,ia.spatialReference||h.WGS84);return u.isNone(ia)?null:u.isSome(U)?(U.position=ia,U.heading=Y.heading,U.tilt=Y.tilt,U.fov=Z,U):new c(ia,Y.heading,Y.tilt,Z)}function H(ia){return ia&&"resolver"in ia}const L=d.getLogger("esri.views.3d.support.cameraUtils"),aa=p.create(),
R={heading:0,tilt:0},S=new g,V=new e.Cyclical(-2.0037508342788905E7,2.0037508342788905E7),ea=new e.Cyclical(-180,180);a.OrientationMode=void 0;(function(ia){ia[ia.LOCKED=0]="LOCKED";ia[ia.ADJUST=1]="ADJUST"})(a.OrientationMode||(a.OrientationMode={}));const ha=p.create();let la=b._createClass(function(ia){this.signal=ia;this.resolver=t.createResolver()});a.AsyncContext=la;a.computeScale=function(ia,Y){f.projectVectorToVector(Y.center,ia.renderSpatialReference,aa,h.WGS84);return D(ia,Y.distance,aa[1])};
a.directionToHeadingTilt=C;a.distanceToScale=D;a.externalToInternal=function(ia,Y){if(u.isNone(Y))return null;var Z=ia.renderSpatialReference;const U=A(ia).headingTiltToDirectionUp,pa=p.create();if(!f.projectPointToVector(Y.position,pa,Z))return null;Z=U(pa,Y.heading,Y.tilt);r.scale(Z.direction,Z.direction,ia.state.camera.distance);r.add(Z.direction,Z.direction,pa);ia=k.cameraOnContentAlongViewDirection(ia,pa,Z.direction,Z.up);ia.fov=n.deg2rad(Y.fov);return ia};a.fromCenterDistance=y;a.fromCenterScale=
function(ia,Y,Z,U,pa,xa){Z=B(ia,Z,Y.latitude);return y(ia,Y,Z,U,pa,xa)};a.fromExtent=function(ia,Y,Z,U,pa,xa=null){if(ia.state.isGlobal){if(!z.isSpatialReferenceSupported(Y.spatialReference,q.ViewingMode.Global))return H(xa)&&xa.resolver.reject(),null;var N=new g(Y.xmin,Y.ymin,Y.spatialReference);const Fa=new g(Y.xmax,Y.ymax,Y.spatialReference),fa=Y.spatialReference.isGeographic?ea:V;var T=new g({x:fa.center(N.x,Fa.x),y:(Fa.y+N.y)/2,z:null!=Y.zmax&&null!=Y.zmin?(Y.zmax+Y.zmin)/2:void 0,spatialReference:Y.spatialReference});
const ba=m.getReferenceEllipsoid(Y.spatialReference);var qa=w.getGreatCircleSpanAt(T,N,Fa);var Ca=qa.lon;qa=qa.lat;fa.diff(N.x,Fa.x)>fa.range/2&&(Ca+=ba.halfCircumference);Ca=Math.min(Ca,ba.halfCircumference);qa=Math.min(qa,ba.halfCircumference)}else T=u.unwrapOr(ia.renderSpatialReference,Y.spatialReference),T.equals(Y.spatialReference)||(Y=f.project(Y,T)),Ca=Y.xmax-Y.xmin,qa=Y.ymax-Y.ymin,T=new g({x:Y.xmin+.5*Ca,y:Y.ymin+.5*qa,z:null!=Y.zmax&&null!=Y.zmin?(Y.zmax+Y.zmin)/2:void 0,spatialReference:T});
N=ia.state.camera;Y=Math.max(1/Math.tan(N.fovX/2)*Ca*.5,1/Math.tan(N.fovY/2)*qa*.5,1/Math.tan(N.fov/2)*(null!=Y.zmax&&null!=Y.zmin?Y.zmax-Y.zmin:0)*.5)/1;if(H(xa))Ca=new la(xa.signal),O(ia,Z,U,T,Y,pa,Ca),Ca.resolver.promise.then(Fa=>{Fa=I(ia,Fa,ia.camera.fov);if(u.isNone(Fa))xa.resolver.reject();else return xa.resolver.resolve(Fa)},Fa=>xa.resolver.reject(Fa));else return Z=O(ia,Z,U,T,Y,pa),I(ia,Z,ia.camera.fov,xa)};a.getObserverForPointAtDistance=O;a.headingTiltToDirectionUp=function(ia,Y,Z,U,pa){return A(ia).headingTiltToDirectionUp(Y,
Z,U,pa)};a.internalToExternal=function(ia,Y,Z){const U=ia.renderSpatialReference,pa=C(ia,Y.eye,Y.viewForward,Y.up,R);ia=ia.spatialReference||h.WGS84;f.projectVectorToVector(Y.eye,U,ha,ia)||(ia=h.WGS84,f.projectVectorToVector(Y.eye,U,ha,ia));if(u.isNone(Z))return new c(new g(ha,ia),pa.heading,pa.tilt,n.rad2deg(Y.fov));Z.position.x=ha[0];Z.position.y=ha[1];Z.position.z=ha[2];Z.position.spatialReference=ia;Z.heading=pa.heading;Z.tilt=pa.tilt;Z.fov=n.rad2deg(Y.fov);return Z};a.observerToCamera=I;a.scaleToDistance=
B;a.scaleToZoom=function(ia,Y){if(ia=ia.basemapTerrain?.tilingScheme)return ia.levelAtScale(Y);L.error("#scaleToZoom()","Cannot compute zoom from scale without a tiling scheme")};a.toExtent=function(ia,Y,Z){const U=f.projectVectorToPoint(Z,ia.renderSpatialReference,ia.spatialReference||h.WGS84);if(u.isNone(U))return null;var pa=Math.tan(Y.fovX/2),xa=Math.tan(Y.fovY/2);Y=r.dist(Y.eye,Z);pa*=2*Y;xa*=2*Y;return"global"===ia.viewingMode?v.toExtent(ia,U,pa,xa):l.toExtent(ia,U,pa,xa)};a.zoomToScale=function(ia,
Y){if(ia=ia.basemapTerrain?.tilingScheme)return ia.scaleAtLevel(Y);L.error("#zoomToScale()","Cannot compute scale from zoom without a tiling scheme")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/cameraUtilsPlanar":function(){define("exports ../core/mathUtils ./mat4 ./mat4f64 ./vec3 ./vec3f64 ../geometry/Extent ../geometry/projection ../views/3d/support/cameraUtilsInternal".split(" "),function(a,b,c,e,d,n,u,t,r){function p(z,A,B,D=r.createDirectionUp()){const {direction:y,
up:C}=D;c.fromZRotation(v,-b.deg2rad(A));c.rotateX(v,v,b.deg2rad(B));d.transformMat4(y,l,v);d.scale(y,y,-1);d.transformMat4(C,k,v);return D}function m(z,A,B,D){return r.directionToHeadingTilt(A,B,D,l,k)}function g(z,A,B,D){const y=p(z,B,D),C=n.create();d.scale(C,y.direction,-A);d.add(C,C,z);return{up:y.up,eye:C,heading:B,tilt:D}}function f(z){return b.rad2deg(z)}function h(z){return b.deg2rad(z)}function q(z,A,B,D,y){const C=z.renderSpatialReference;z=z.map&&z.spatialReference||A.spatialReference;
t.projectPointToVector(A,w,C);t.projectPointToVector(A,x,C);w[0]-=B/2;x[0]+=B/2;w[1]-=D/2;x[1]+=D/2;t.projectVectorToVector(w,C,w,z);t.projectVectorToVector(x,C,x,z);y?(y.xmin=w[0],y.ymin=w[1],y.xmax=x[0],y.ymax=x[1],y.spatialReference=z):y=new u(w[0],w[1],x[0],x[1],z);return y}const k=n.fromValues(0,1,0),l=n.fromValues(0,0,1),v=e.create(),w=n.create(),x=n.create();e=Object.freeze(Object.defineProperty({__proto__:null,directionToHeadingTilt:m,eyeForCenterWithHeadingTilt:g,eyeTiltToLookAtTilt:h,headingTiltToDirectionUp:p,
lookAtTiltToEyeTilt:f,toExtent:q},Symbol.toStringTag,{value:"Module"}));a.cameraUtilsPlanar=e;a.directionToHeadingTilt=m;a.eyeForCenterWithHeadingTilt=g;a.eyeTiltToLookAtTilt=h;a.headingTiltToDirectionUp=p;a.lookAtTiltToEyeTilt=f;a.toExtent=q})},"esri/views/3d/support/cameraUtilsInternal":function(){define(["exports","../../../core/mathUtils","../../../chunks/vec3","../../../chunks/vec3f64"],function(a,b,c,e){const d=e.create(),n=e.create();a.createDirectionUp=function(){return{direction:e.create(),
up:e.create()}};a.directionToHeadingTilt=function(u,t,r,p,m){let g=c.normalize(d,u),f=c.dot(g,p);const h=0<f;f=Math.abs(f);.99<f&&(f=Math.abs(c.dot(t,p)),.99>f?(c.copy(g,t),h&&c.scale(g,g,-1)):g=null);t=0;g&&(c.scale(n,p,c.dot(p,g)),c.subtract(g,g,n),t=c.dot(g,m)/(c.length(g)*c.length(m)),c.cross(n,g,m),t=(0<c.dot(n,p)?1:-1)*b.rad2deg(b.acosClamped(t)));u=b.rad2deg(b.acosClamped(-c.dot(p,u)/c.length(u)));if(!r)return{heading:t,tilt:u};r.heading=t;r.tilt=u;return r};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/chunks/cameraUtilsSpherical":function(){define("exports ../core/Cyclical ../core/mathUtils ./mat4 ./mat4f64 ./vec3 ./vec3f64 ../geometry/ellipsoidUtils ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils ../views/3d/support/cameraUtilsInternal ../views/3d/support/earthUtils".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g,f){function h(G,E,P,O=g.createDirectionUp()){n.cross(C,G,A);0===n.dot(C,C)&&n.cross(C,G,B);e.fromRotation(y,-c.deg2rad(E),
G);e.rotate(y,y,-c.deg2rad(P),C);const {up:K,direction:M}=O;n.cross(K,C,G);n.normalize(K,K);n.transformMat4(K,K,y);n.normalize(M,G);n.negate(M,M);n.transformMat4(M,M,y);return O}function q(G,E,P,O){const K=C,M=F;n.normalize(K,G);n.cross(F,K,A);0===n.dot(F,F)&&n.cross(F,K,B);n.cross(M,F,K);return g.directionToHeadingTilt(E,P,O,K,M)}function k(G,E,P,O){const K={eye:u.create(),up:null,tilt:O,heading:P},M=C;M[0]=G[0];M[1]=G[2];M[2]=-G[1];P=c.deg2rad(P);var I=c.deg2rad(O);O=Math.sin(P);P=Math.cos(P);var H=
Math.sin(I),L=Math.cos(I);const aa=n.length(M);if(1E-8>Math.abs(I))I=E+aa;else{var R=aa/H,S=c.asinClamped(E/R);I=R*Math.sin(Math.PI-I-S)}L*=E;R=E*E*H*H;S=P*P*R;const V=I-L,ea=V*V;var ha=S*(S+ea-M[1]*M[1]);if(0>ha)return n.scale(K.eye,M,I/aa),K.tilt=0,v(K,G);var la=Math.sqrt(ha);const ia=M[1]*V;ha=S+ea;la=0<P?-la+ia:la+ia;if(1E-8>Math.abs(ha))return 1E-8>aa?(K.eye[0]=0,K.eye[1]=0,K.eye[2]=E):n.scale(K.eye,M,I/aa),K.tilt=0,l(K.eye),v(K,G);K.eye[1]=la/ha;E*=H;la=K.eye[1]*K.eye[1];H=1-la;ha=Math.sqrt(H);
R=S*la+O*O*R-2*P*E*K.eye[1]*ha*V+H*ea;if(1E-8>Math.abs(R))return n.scale(K.eye,M,I/aa),K.tilt=0,l(K.eye),v(K,G);K.eye[0]=(H*(I*M[0]-L*M[0])-E*ha*(M[0]*K.eye[1]*P+M[2]*O))/R;K.eye[2]=(H*(I*M[2]-L*M[2])-E*ha*(M[2]*K.eye[1]*P-M[0]*O))/R;n.scale(K.eye,K.eye,I);l(K.eye);return v(K,G)}function l(G){const E=G[1];G[1]=-G[2];G[2]=E}function v(G,E){E=h(E,G.heading,G.tilt);G.up=E.up;return G}function w(G,E,P){E=n.length(E);P=c.asinClamped(P/(Math.sqrt(P*P+E*E-2*P*E*Math.cos(Math.PI-G))/Math.sin(G)));return c.rad2deg(G-
P)}function x(G,E,P){G=c.deg2rad(G);E=n.length(E);return c.asinClamped(P/(E/Math.sin(G)))+G}function z(G,E,P,O,K){function M(aa){const R=Math.PI/2;aa=b.cyclical2PI.normalize(aa,-R);aa>R&&(aa=Math.PI-aa);return aa}var I=E.latitude;var H=t.getReferenceEllipsoid(G.spatialReference).radius;E=E.longitude;var L=f.getLonDeltaForDistance(I,P,H)/2;P=E-L;E+=L;I=c.deg2rad(I);I=(1+Math.sin(I))/(1-Math.sin(I));L=(I+1)*Math.tan(O/H/2);I=1.5*Math.PI-2*Math.atan(.5*(L+Math.sqrt(4*I+L*L)));O=I+O/H;I=M(I);O=M(O);O<
I&&(H=O,O=I,I=H);I=Math.max(c.rad2deg(I),-90);O=Math.min(c.rad2deg(O),90);E=D.monotonic(P,E);180<E-P&&(H=(E-P-180)/2,P+=H,E-=H);H=G.spatialReference&&G.spatialReference.isGeographic?G.spatialReference:p.WGS84;K?(K.xmin=P,K.ymin=I,K.xmax=E,K.ymax=O,K.spatialReference=H):K=new r(P,I,E,O,H);G.spatialReference&&G.spatialReference.isWebMercator&&m.geographicToWebMercator(K,!1,K);return K}const A=u.fromValues(0,0,1),B=n.normalize(u.create(),u.fromValues(1,1,1)),D=new b.Cyclical(-180,180),y=d.create(),C=
u.create(),F=u.create();d=Object.freeze(Object.defineProperty({__proto__:null,directionToHeadingTilt:q,eyeForCenterWithHeadingTilt:k,eyeTiltToLookAtTilt:x,headingTiltToDirectionUp:h,lookAtTiltToEyeTilt:w,toExtent:z},Symbol.toStringTag,{value:"Module"}));a.cameraUtilsSpherical=d;a.directionToHeadingTilt=q;a.eyeForCenterWithHeadingTilt=k;a.eyeTiltToLookAtTilt=x;a.headingTiltToDirectionUp=h;a.lookAtTiltToEyeTilt=w;a.toExtent=z})},"esri/views/3d/support/earthUtils":function(){define(["exports","../../../core/mathUtils",
"../../../core/maybe","../../../geometry/ellipsoidUtils","../../../geometry/Point"],function(a,b,c,e,d){function n(r,p,m){if(c.isNone(p.longitude)||c.isNone(p.latitude)||c.isNone(m.longitude)||c.isNone(m.latitude))throw Error("Invalid points: no lon/lat");return u(r,p.longitude,p.latitude,m.longitude,m.latitude)}function u(r,p,m,g,f){m=b.deg2rad(m);f=b.deg2rad(f);p=b.deg2rad(p);const h=b.deg2rad(g);g=Math.sin((m-f)/2);p=Math.sin((p-h)/2);m=2*b.asinClamped(Math.sqrt(g*g+Math.cos(m)*Math.cos(f)*p*p));
return Math.round(m*r*1E4)/1E4}function t(r,p){r/=15;p||(r=Math.round(r));return r}a.getGreatCircleDistance=u;a.getGreatCircleDistanceFromPoints=n;a.getGreatCircleSpanAt=function(r,p,m){const g=p.spatialReference,f=e.getReferenceEllipsoid(g),h=new d(p.x,r.y,g),q=new d(m.x,r.y,g);p=new d(r.x,p.y,g);r=new d(r.x,m.y,g);return{lon:n(f.radius,h,q),lat:n(f.radius,p,r)}};a.getLonDeltaForDistance=function(r,p,m){p/=m;r=b.deg2rad(r);p=Math.sin(p/2);r=Math.cos(r);r=2*b.asinClamped(Math.sqrt(p*p/(r*r)));return b.rad2deg(r)};
a.longitudeToTimezone=t;a.positionToTimezoneInfo=function(r,p){r=r?.[0];if(null==r)return null;p||(p={hours:0,minutes:0,seconds:0});p.hours=t(r,!0);r=p.hours%1;p.hours-=r;p.minutes=60*r;r=p.minutes%1;p.minutes-=r;p.seconds=Math.round(60*r);return p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/ElevationProvider":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/maybe","../../../layers/graphics/dehydratedFeatureUtils"],
function(a,b,c,e){function d(n){return"array"in n}b=b._createClass(function(n,u=null,t=0){this.array=n;this.spatialReference=u;this.offset=t});a.SamplePosition=b;a.getElevationAtPoint=function(n,u,t="ground"){if(e.isDehydratedPoint(u))return n.getElevation(u.x,u.y,u.z||0,u.spatialReference,t);if(d(u)){let r=u.offset;return n.getElevation(u.array[r++],u.array[r++],u.array[r]||0,c.unwrapOr(u.spatialReference,n.spatialReference),t)}return n.getElevation(u[0],u[1],u[2]||0,n.spatialReference,t)};a.isSamplePosition=
d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/dehydratedFeatureUtils":function(){define(["exports"],function(a){a.isDehydratedPoint=function(b){return"point"===b.type};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/spatialReferenceSupport":function(){define(["exports","../../geometry/support/SupportedGCSWkids","../ViewingMode"],function(a,b,c){a.isSpatialReferenceSupported=function(e,d){return null==e?!1:null==d?!0:d===
c.ViewingMode.Local?e.isGeographic?e.isWGS84||e.wkid===b.SupportedGCSWkids.CGCS2000:!0:e.isWebMercator||e.isWGS84||e.wkid===b.SupportedGCSWkids.CGCS2000||e.wkid===b.SupportedGCSWkids.GCSMARS2000||e.wkid===b.SupportedGCSWkids.GCSMARS2000_SPHERE||e.wkid===b.SupportedGCSWkids.GCSMOON2000};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/viewpointUtils":function(){define("exports ../../../Camera ../../../geometry ../../../Graphic ../../../Viewpoint ../../../core/asyncUtils ../../../core/has ../../../core/Cyclical ../../../core/Error ../../../core/maybe ../../../core/promiseUtils ../../../chunks/mat3 ../../../chunks/mat3f64 ../../../chunks/mat4f64 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/projection ../../../geometry/support/aaBoundingBox ../../../geometry/support/aaBoundingRect ../../../geometry/support/frustum ../../../geometry/support/scaleUtils ../../../geometry/support/webMercatorUtils ../camera/intersectionUtils ./cameraUtils ./ElevationProvider ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/Extent ../../../geometry/Geometry".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F,G,E){function P(X){return 360-t.cyclicalDegrees.normalize(X)}function O(X){return t.cyclicalDegrees.normalize(360-X)}function K(X){p.isSome(X)&&X.resolver&&X.resolver.reject();return null}function M(X,Q,ca,ja=null){if(!Q)return K(ja);var ua=X.spatialReference||F.WGS84;if(p.isSome(Q.camera)){X=A.project(Q.camera.position,ua);if(p.isNone(X))return K(ja);Q=Q.camera.clone();Q.position=X;X=Q;p.isSome(ja)&&ja.resolver&&ja.resolver.resolve(X);
return X}if(p.isNone(Q.targetGeometry))return K(ja);var da=Q.get("targetGeometry.spatialReference");if(da&&!A.canProject(da,ua))return K(ja);ua=D.internalToExternal(X,X.state.camera);da=D.OrientationMode.ADJUST;null!=Q.rotation&&(ua.heading=P(Q.rotation),da=D.OrientationMode.LOCKED);null!=ca&&(ua.tilt=ca);if("point"===Q.targetGeometry.type){const ra=Q.targetGeometry;ca=Q.targetGeometry.clone();Q=null!=Q.scale?D.scaleToDistance(X,Q.scale,ra.latitude):X.state.camera.distance;return D.fromCenterDistance(X,
ca,Q,ua,da,ja)}return(Q=Q.targetGeometry.extent)?D.fromExtent(X,Q,ua.heading,ua.tilt,da,ja):K(ja)}function I(X,Q){return null==Q.scale&&null!=Q.zoom?D.zoomToScale(X,Q.zoom):Q.scale}function H(X,Q){let ca=!1;null!=Q.heading?(X.heading=Q.heading,ca=!0):null!=Q.rotation&&(X.heading=P(Q.rotation),ca=!0);null!=Q.tilt&&(X.tilt=Q.tilt,ca=!0);null!=Q.fov&&(X.fov=Q.fov);return ca}function L(X,Q,ca,ja){const ua=X.spatialReference||F.WGS84;Q=p.isSome(Q)?Q:D.externalToInternal(X,ca);if(p.isNone(Q))return ja;
ja.targetGeometry=l.projectVectorToPoint(Q.center,X.renderSpatialReference,ua);ja.scale=D.computeScale(X,Q);ja.rotation=O(ca.heading);ja.camera=ca;return ja}function aa(X,Q,ca){var ja=()=>new r("viewpointutils:invalid-geometry","The target is missing a valid geometry");if(!Q)throw ja();if(!A.canProject(Q.spatialReference,X.spatialReference))throw new r("viewpointutils:incompatible-spatialreference",`Spatial reference (${Q.spatialReference?Q.spatialReference.wkid:"unknown"}) is incompatible with the view (${X.spatialReference?.wkid})`,
{geometry:Q});const ua=[];if(!Q.hasZ&&X.basemapTerrain){switch(Q.type){case "point":var da=Q;break;case "multipoint":case "polyline":da=Q.extent?.center;break;case "mesh":da=Q.origin;break;case "extent":da=Q.center;break;case "polygon":da=Q.centroid}da&&p.isSome(X.basemapTerrain.spatialReference)&&A.canProject(da,X.basemapTerrain.spatialReference)&&X.elevationProvider?U[2]=p.unwrapOr(y.getElevationAtPoint(X.elevationProvider,da),0):U[2]=0}(0,ka[Q.type])(Q,ra=>{ua.push(ra[0],ra[1],ra[2])},U);da=ua.length/
3;if(0===da)throw ja();ja=Array(ua.length);if(l.projectBuffer(ua,Q.spatialReference,0,ja,X.spatialReference,0,da))for(Q.hasZ&&(ca.hasZ=!0),X=0;X<ja.length;X+=3)Q.hasZ?(U[0]=ja[X],U[1]=ja[X+1],U[2]=ja[X+2]):(U[0]=ja[X],U[1]=ja[X+1]),v.expandWithVec3(ca.boundingBox,U)}async function R(X,Q,ca,ja){const ua=await n.result(X.whenViewForGraphic(Q));if(!1!==ua.ok&&!p.isNone(ua.value)&&"whenGraphicBounds"in ua.value)if(ca=await n.result(ua.value.whenGraphicBounds(Q,{minDemResolution:ca})),!1===ca.ok)aa(X,
Q.geometry,ja);else{var {screenSpaceObjects:da,boundingBox:ra}=ca.value;v.expandWithAABB(ja.boundingBox,ra);da&&da.forEach(wa=>{ja.screenSpaceObjects.push(wa)});isFinite(ra[2])&&(ja.hasZ=!0)}else aa(X,Q.geometry,ja)}async function S(X,Q,ca,ja){if(Array.isArray(Q)&&2===Q.length){const ua=Q[0],da=Q[1];if("number"===typeof ua&&"number"===typeof da){ba.x=ua;ba.y=da;ba.z=void 0;ba.spatialReference=X.spatialReference?.isGeographic?X.spatialReference:F.WGS84;aa(X,ba,ja);return}}Q&&"function"===typeof Q.map?
await m.eachAlways(Q.map(ua=>S(X,ua,ca,ja))):Q instanceof E?aa(X,Q,ja):Q instanceof e&&await R(X,Q,ca,ja)}async function V(X,Q,ca,ja,ua){if(p.isSome(Q.camera))return ea(X,Q.camera,ua);ua.scale=Q.scale;ua.rotation=Q.rotation;ua.targetGeometry=p.isSome(Q.targetGeometry)?Q.targetGeometry.clone():null;ua.camera=null;null!=ca.heading?ua.rotation=O(ca.heading):null!=ca.rotation&&(ua.rotation=ca.rotation);Q=I(X,ca);null!=Q&&(ua.scale=Q);ja=new D.AsyncContext(ja);M(X,ua,ca.tilt,ja);ua.camera=await ja.resolver.promise;
return ua}function ea(X,Q,ca){const ja=A.project(Q.position,X.spatialReference);if(p.isNone(ja))return null;Q=Q.clone();Q.fov=X.camera.fov;Q.position=ja;return L(X,null,Q,ca)}async function ha(X,Q,ca,ja,ua,da){if(p.isNone(ca))throw new r("createfromcenter","invalid point");da.targetGeometry=ca.clone();var ra=B.cameraOnContentAlongViewDirection(X);if(Q.position)return ca=da.targetGeometry,Q=Q.position,ua=X.renderSpatialReference,l.projectPointToVector(Q,Ca,ua),l.projectPointToVector(ca,Fa,ua),da.targetGeometry=
new C(ca),ja.position=new C(Q),q.subtract(qa,Fa,Ca),D.directionToHeadingTilt(X,Ca,qa,ra.up,ja),da.scale=D.distanceToScale(X,q.distance(Ca,Fa),da.targetGeometry.latitude),da.rotation=O(ja.heading),da.camera=ja,da;if(Q.zoomFactor){var wa=ra.distance/Q.zoomFactor;const Ia=q.scale(U,ra.viewForward,-wa);ra.eye=q.add(U,ra.center,Ia);da.scale=D.distanceToScale(X,wa,ca.latitude)}D.internalToExternal(X,ra,ja);wa=H(ja,Q)?D.OrientationMode.LOCKED:D.OrientationMode.ADJUST;Q.zoomFactor||(Q=I(X,Q),null==Q?(l.projectPointToVector(ca,
U,X.renderSpatialReference),x.intersectsPoint(ra.frustum,U)?da.scale=D.distanceToScale(X,q.distance(ra.eye,U),ca.latitude):da.scale=D.computeScale(X,ra)):da.scale=Q,ra=new D.AsyncContext(ua),D.fromCenterScale(X,da.targetGeometry,da.scale,ja,wa,ra),da.camera=await ra.resolver.promise);return da}async function la(X,Q,ca,ja,ua){var da=B.cameraOnContentAlongViewDirection(X);da=l.projectVectorToPoint(da.center,X.renderSpatialReference,X.spatialReference);return ha(X,Q,da,ca,ja,ua)}async function ia(X,
Q,ca,ja,ua,da){da.targetGeometry=ca.clone();const ra=B.cameraOnContentAlongViewDirection(X);D.internalToExternal(X,ra,ja);Q=H(ja,Q)?D.OrientationMode.LOCKED:D.OrientationMode.ADJUST;ua=new D.AsyncContext(ua);D.fromExtent(X,ca,ja.heading,ja.tilt,Q,ua);da.camera=await ua.resolver.promise;return da}async function Y(X,Q,ca,ja,ua,da,ra,wa){wa.targetGeometry=ca.clone();const Ia=B.cameraOnContentAlongViewDirection(X);var Oa=0;null!=ca.z?Oa=ca.z:X.basemapTerrain&&X.elevationProvider&&(Oa=p.unwrap(y.getElevationAtPoint(X.elevationProvider,
ca)));q.set(U,ca.x,ca.y,Oa);l.computeTranslationToOriginAndRotation(X.spatialReference,U,pa,X.renderSpatialReference);g.fromMat4(xa,pa);g.transpose(xa,xa);v.empty(N);ca=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]];for(var ma=0;ma<ca.length;ma++){const ta=ca[ma];let Ga=ja[ta[2]];isFinite(Ga)||(Ga=Oa);q.set(U,ja[ta[0]],ja[ta[1]],Ga);l.projectVectorToVector(U,X.spatialReference,U,X.renderSpatialReference);v.expandWithVec3(N,q.transformMat3(U,U,xa))}ja=v.width(N);Oa=v.height(N);ca=
v.depth(N);ma=1/Math.tan(Ia.fovY/2);ua=Math.max(.5*Math.sqrt(ja*ja+ca*ca)*Math.max(ma,1/Math.tan(Ia.fovX/2))+.5*Oa,.5*Oa*ma+.5*Math.max(ja,ca))/ua;D.internalToExternal(X,Ia,da);Q=H(da,Q)?D.OrientationMode.LOCKED:D.OrientationMode.ADJUST;wa.scale=D.distanceToScale(X,ua,wa.targetGeometry.latitude);ra=new D.AsyncContext(ra);D.fromCenterScale(X,wa.targetGeometry,wa.scale,da,Q,ra);wa.camera=await ra.resolver.promise;return wa}function Z(X){X&&p.isSome(X.camera)&&(X.rotation=O(X.camera.heading));return X}
const U=k.create(),pa=h.create(),xa=f.create(),N=v.create(),T=w.create(),qa=k.create(),Ca=k.create(),Fa=k.create(),fa={heading:0,tilt:0},ba=new C,ka={point(X,Q,ca){ca[0]=X.x;ca[1]=X.y;null!=X.z&&(ca[2]=X.z);Q(ca)},polygon(X,Q,ca){const ja=X.hasZ;for(let ua=0;ua<X.rings.length;ua++){const da=X.rings[ua];for(let ra=0;ra<da.length;ra++)ca[0]=da[ra][0],ca[1]=da[ra][1],ja&&(ca[2]=da[ra][2]),Q(ca)}},polyline(X,Q,ca){const ja=X.hasZ;for(let ua=0;ua<X.paths.length;ua++){const da=X.paths[ua];for(let ra=0;ra<
da.length;ra++)ca[0]=da[ra][0],ca[1]=da[ra][1],ja&&(ca[2]=da[ra][2]),Q(ca)}},multipoint(X,Q,ca){const ja=X.points;X=X.hasZ;for(let ua=0;ua<ja.length;ua++)ca[0]=ja[ua][0],ca[1]=ja[ua][1],X&&(ca[2]=ja[ua][2]),Q(ca)},extent(X,Q,ca){null!=X.zmin&&null!=X.zmax?(Q(q.set(ca,X.xmin,X.ymin,X.zmin)),Q(q.set(ca,X.xmax,X.ymin,X.zmin)),Q(q.set(ca,X.xmin,X.ymax,X.zmin)),Q(q.set(ca,X.xmax,X.ymax,X.zmin)),Q(q.set(ca,X.xmin,X.ymin,X.zmax)),Q(q.set(ca,X.xmax,X.ymin,X.zmax)),Q(q.set(ca,X.xmin,X.ymax,X.zmax)),Q(q.set(ca,
X.xmax,X.ymax,X.zmax))):(Q(q.set(ca,X.xmin,X.ymin,ca[2])),Q(q.set(ca,X.xmax,X.ymin,ca[2])),Q(q.set(ca,X.xmin,X.ymax,ca[2])),Q(q.set(ca,X.xmax,X.ymax,ca[2])))},mesh(X,Q,ca){if(X=X.vertexAttributes&&X.vertexAttributes.position)for(let ja=0;ja<X.length;ja+=3)Q(q.set(ca,X[ja],X[ja+1],X[ja+2]))}};a.create=async function(X,Q,ca){if(Q&&X.spatialReference){var ja={target:void 0};if("declaredClass"in Q||Array.isArray(Q))ja.target=Q;else{for(var ua in Q)ja[ua]=Q[ua];Q.center&&!ja.target&&(ja.target=Q.center)}Q=
ja}else Q=null;if(!Q)throw new r("viewpointutils-create:no-target","Missing target for creating viewpoint");ja=new b({fov:X.camera.fov});ua=new d({camera:ja});if(Q.target instanceof d)return X=await V(X,Q.target,Q,ca,ua),Z(X);if(Q.target instanceof b)return Z(ea(X,Q.target,ua));var da=null!=Q.scale||null!=Q.zoom;if(Q.target instanceof G){var ra=Q.target.xmin===Q.target.xmax||Q.target.ymin===Q.target.ymax;return da||ra?Z(await ha(X,Q,Q.target.center,ja,ca,ua)):Z(await ia(X,Q,Q.target,ja,ca,ua))}ra=
{boundingBox:v.empty(),hasZ:!1,screenSpaceObjects:[]};var wa=da?(wa=I(X,Q))?z.getResolutionInMetersForScale(wa):void 0:void 0;await S(X,Q.target,wa,ra);if(isFinite(ra.boundingBox[0])){v.center(ra.boundingBox,U);ba.x=U[0];ba.y=U[1];ba.z=U[2];ba.spatialReference=X.spatialReference;isFinite(ba.z)&&ra.hasZ?wa=v.isPoint(ra.boundingBox):(ba.z=void 0,wa=w.isPoint(v.toRect(ra.boundingBox,T)));if(da||wa)return Z(await ha(X,Q,ba,ja,ca,ua));da=ra.screenSpaceObjects;if(da.length){wa=Number.NEGATIVE_INFINITY;
for(let Ia=0;Ia<da.length;Ia++){const Oa=da[Ia].screenSpaceBoundingRect;wa=Math.max(wa,Math.abs(Oa[0]),Math.abs(Oa[1]),Math.abs(Oa[2]),Math.abs(Oa[3]))}da=.66-wa/Math.min(X.width,X.height)*2}else da=.66;return Z(await Y(X,Q,ba,ra.boundingBox,da,ja,ca,ua))}return Q.position?(ca=B.cameraOnContentAlongViewDirection(X),q.copy(qa,ca.viewForward),D.directionToHeadingTilt(X,ca.eye,qa,ca.up,fa),ja.position=new C(Q.position),ja.heading=null!=Q.heading?Q.heading:fa.heading,ja.tilt=null!=Q.tilt?Q.tilt:fa.tilt,
X=L(X,null,ja,ua),Z(X)):Z(await la(X,Q,ja,ca,ua))};a.fromCamera=function(X,Q,ca=null){p.isNone(ca)&&(ca=new d);return L(X,null,Q.clone(),ca)};a.headingToRotation=O;a.rotationToHeading=P;a.toCamera=M;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/scaleUtils":function(){define(["exports","../../core/unitUtils"],function(a,b){function c(e,d){d=b.getMetersPerUnitForSR(d);return e/(d*b.inchesPerMeter*96)}a.getExtentForScale=function(e,d){const n=e.extent;e=e.width-
(e.padding?e.padding.left+e.padding.right:0);d=c(d,n.spatialReference);return n.clone().expand(d*e/n.width)};a.getResolutionForScale=c;a.getResolutionInMetersForScale=function(e){return e/(96*b.inchesPerMeter)};a.getScale=function(e,d){d=d||e.extent;e=e.width;const n=b.getMetersPerUnitForSR(d&&d.spatialReference);return d&&e?d.width/e*n*b.inchesPerMeter*96:0};a.getScaleForResolution=function(e,d){d=b.getMetersPerUnitForSR(d);return e*d*b.inchesPerMeter*96};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/3d/support/PropertiesPool":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/ReentrantObjectPool","../../../core/accessorSupport/watch"],function(a,b,c,e){let d=function(){function n(t,r){this._owner=r;this._properties={};this._afterDispatchHandle=null;for(const p in t)r=new c.ReentrantObjectPool(t[p],void 0,void 0,2,2),this._properties[p]={pool:r,acquired:[]};this._afterDispatchHandle=e.afterDispatch(()=>this._release())}var u=
n.prototype;u.destroy=function(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const r=this._properties[t];for(const p of r.acquired)e.isValueInUse(p)||r.pool.release(p);r.pool.destroy();r.pool=null;r.acquired=null}this._owner=this._properties=null};u.get=function(t){const r=this._owner._get(t);t=this._properties[t];let p=t.pool.acquire();for(t.acquired.push(p);p===r;)t.acquired.push(p),p=t.pool.acquire();return p};
u._release=function(){for(const t in this._properties){const r=this._properties[t];let p=0;for(const m of r.acquired)e.isValueInUse(m)?r.acquired[p++]=m:r.pool.release(m);r.acquired.length=p}};return b._createClass(n)}();a.PropertiesPool=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/RenderFeature":function(){define(["exports","../../../../core/has","../../../../core/NestedMap","../../../support/RenderState"],function(a,b,c,e){a.RenderFeature=void 0;
(function(d){d[d.Antialiasing=0]="Antialiasing";d[d.HighQualityTransparency=1]="HighQualityTransparency";d[d.HighQualityVoxel=2]="HighQualityVoxel";d[d.RealisticAtmosphere=3]="RealisticAtmosphere";d[d.SSAO=4]="SSAO";d[d.WaterReflection=5]="WaterReflection";d[d.ShadowMapUpdate=6]="ShadowMapUpdate";d[d.PhysicalPixelRendering=7]="PhysicalPixelRendering"})(a.RenderFeature||(a.RenderFeature={}));b.add("enable-feature:high-quality-idle",!0);a.setupFeatureDefaults=function(d=b("enable-feature:high-quality-idle")){const n=
new c.NestedMap;d&&(n.set(e.RenderState.INTERACTING,a.RenderFeature.Antialiasing,!0),n.set(e.RenderState.IDLE,a.RenderFeature.Antialiasing,!0),n.set(e.RenderState.INTERACTING,a.RenderFeature.HighQualityTransparency,!0),n.set(e.RenderState.IDLE,a.RenderFeature.HighQualityTransparency,!0),n.set(e.RenderState.INTERACTING,a.RenderFeature.RealisticAtmosphere,!0),n.set(e.RenderState.IDLE,a.RenderFeature.RealisticAtmosphere,!0),n.set(e.RenderState.IDLE,a.RenderFeature.SSAO,!0),n.set(e.RenderState.IDLE,a.RenderFeature.WaterReflection,
!0),n.set(e.RenderState.IDLE,a.RenderFeature.PhysicalPixelRendering,!0));n.set(e.RenderState.ANIMATING,a.RenderFeature.ShadowMapUpdate,!0);n.set(e.RenderState.INTERACTING,a.RenderFeature.ShadowMapUpdate,!0);n.set(e.RenderState.IDLE,a.RenderFeature.ShadowMapUpdate,!0);n.set(e.RenderState.IDLE,a.RenderFeature.HighQualityVoxel,!0);return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/NestedMap":function(){define(["exports","../chunks/_rollupPluginBabelHelpers"],function(a,
b){let c=function(){function e(){this._outer=new Map}var d=e.prototype;d.clear=function(){this._outer.clear()};d.get=function(n,u){return this._outer.get(n)?.get(u)};d.set=function(n,u,t){const r=this._outer.get(n);r?r.set(u,t):this._outer.set(n,new Map([[u,t]]))};d.delete=function(n,u){const t=this._outer.get(n);t&&(t.delete(u),0===t.size&&this._outer.delete(n))};d.forEach=function(n){this._outer.forEach((u,t)=>n(u,t))};b._createClass(e,[{key:"empty",get:function(){return 0===this._outer.size}}]);
return e}();a.NestedMap=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/RenderState":function(){define(["exports"],function(a){a.RenderState=void 0;var b=a.RenderState||(a.RenderState={});b[b.ANIMATING=0]="ANIMATING";b[b.INTERACTING=1]="INTERACTING";b[b.IDLE=2]="IDLE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/TextureCollection":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../support/Scheduler".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m){a.TextureCollection=function(g){function f(q,k){var l=h.call(this,{});l._stage=q;l._textureRequests=new Map;l._frameTask=k?.registerTask(m.TaskPriority.TEXTURE_UNLOAD)??m.ImmediateTask;return l}b._inherits(f,g);var h=b._createSuper(f);g=f.prototype;g.normalizeCtorArgs=function(){return{}};g.destroy=function(){b._get(b._getPrototypeOf(f.prototype),"destroy",this).call(this);this._frameTask?.remove();this._textureRequests?.forEach(q=>this._releaseTextureRequest(q));this._textureRequests?.clear()};
g.fromData=function(q,k,l){const v=this.makeUid(q);q=this._textureRequests.get(v);q||(k=k(),q={referenceCount:0,texture:k,textureAsync:null,abortController:null,onRemove:l},this._stage&&(this._stage.add(k),this._stage.loadImmediate(k)),this._textureRequests.set(v,q));q.referenceCount++;return{uid:v,texture:q.texture,release:()=>this._release(v)}};g._release=function(q){const k=this._textureRequests.get(q);k?(1>k.referenceCount&&console.warn("TextureCollection: reference count is \x3c 1 for "+q),k.referenceCount--,
1>k.referenceCount&&this._frameTask.schedule(()=>this._releaseNow(q))):console.warn(`TextureCollection: texture doesn't exist: '${q}'`)};g._releaseNow=function(q){if(this._textureRequests){var k=this._textureRequests.get(q);!k||0<k.referenceCount||(this._releaseTextureRequest(k),this._textureRequests.delete(q))}};g._releaseTextureRequest=function(q){if(q.onRemove)q.onRemove();q.texture?this._stage?.remove(q.texture):q.abortController&&(q.abortController.abort(),q.abortController=null)};g.makeUid=
function(q,k=null){return d.isSome(k)?`${q}.${k}px`:q};b._createClass(f,[{key:"updating",get:function(){return this._frameTask.updating}},{key:"test",get:function(){return{textureRequests:this._textureRequests}}}]);return f}(e);c.__decorate([n.property()],a.TextureCollection.prototype,"_frameTask",void 0);c.__decorate([n.property()],a.TextureCollection.prototype,"updating",null);a.TextureCollection=c.__decorate([p.subclass("esri.views.3d.support.TextureCollection")],a.TextureCollection);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/views/support/Scheduler":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Handles ../../core/has ../../core/Logger ../../core/maybe ../../core/PerformanceSampler ../../core/PooledArray ../../core/promiseUtils ../../core/reactiveUtils ../../core/time ../../core/accessorSupport/tracking/ObservableValue ../../layers/support/PromiseQueue ./debugFlags ./RenderState".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){function k(C){return l.has(C)?
l.get(C):"number"===typeof C?C:1}a.Task=void 0;(function(C){C[C.YIELD=1]="YIELD"})(a.Task||(a.Task={}));a.TaskPriority=void 0;(function(C){C.RESOURCE_CONTROLLER_IMMEDIATE="immediate";C.RESOURCE_CONTROLLER="schedule";C.SLIDE="slide";C.STREAM_DATA_LOADER="stream loader";C.ELEVATION_QUERY="elevation query";C.TERRAIN_SURFACE="terrain";C.SURFACE_GEOMETRY_UPDATES="surface geometry updates";C.LOD_RENDERER="LoD renderer";C.GRAPHICS_CORE="Graphics3D";C.I3S_CONTROLLER="I3S";C.POINT_CLOUD_LAYER="point cloud";
C.FEATURE_TILE_FETCHER="feature fetcher";C.OVERLAY="overlay";C.STAGE="stage";C.GRAPHICS_DECONFLICTOR="graphics deconflictor";C.FILTER_VISIBILITY="Graphics3D filter visibility";C.SCALE_VISIBILITY="Graphics3D scale visibility";C.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";C.POINT_OF_INTEREST_FREQUENT="POI frequent";C.POINT_OF_INTEREST_INFREQUENT="POI infrequent";C.LABELER="labeler";C.FEATURE_QUERY_ENGINE="feature query";C.FEATURE_TILE_TREE="feature tile tree";C.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";
C.ELEVATION_ALIGNMENT="elevation alignment";C.TEXT_TEXTURE_ATLAS="text texture atlas";C.TEXTURE_UNLOAD="texture unload";C.LINE_OF_SIGHT_TOOL="line of sight tool";C.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";C.ELEVATION_PROFILE="elevation profile";C.SNAPPING="snapping";C.SHADOW_ACCUMULATOR="shadow accumulator";C.CLOUDS_GENERATOR="clouds generator";C[C.TEST_PRIO=1]="TEST_PRIO"})(a.TaskPriority||(a.TaskPriority={}));const l=new Map([[a.TaskPriority.RESOURCE_CONTROLLER_IMMEDIATE,
0],[a.TaskPriority.RESOURCE_CONTROLLER,4],[a.TaskPriority.SLIDE,0],[a.TaskPriority.STREAM_DATA_LOADER,0],[a.TaskPriority.ELEVATION_QUERY,0],[a.TaskPriority.TERRAIN_SURFACE,1],[a.TaskPriority.SURFACE_GEOMETRY_UPDATES,1],[a.TaskPriority.LOD_RENDERER,2],[a.TaskPriority.GRAPHICS_CORE,2],[a.TaskPriority.I3S_CONTROLLER,2],[a.TaskPriority.POINT_CLOUD_LAYER,2],[a.TaskPriority.FEATURE_TILE_FETCHER,2],[a.TaskPriority.OVERLAY,4],[a.TaskPriority.STAGE,4],[a.TaskPriority.GRAPHICS_DECONFLICTOR,4],[a.TaskPriority.FILTER_VISIBILITY,
4],[a.TaskPriority.SCALE_VISIBILITY,4],[a.TaskPriority.FRUSTUM_VISIBILITY,4],[a.TaskPriority.CLOUDS_GENERATOR,4],[a.TaskPriority.POINT_OF_INTEREST_FREQUENT,6],[a.TaskPriority.POINT_OF_INTEREST_INFREQUENT,30],[a.TaskPriority.LABELER,8],[a.TaskPriority.FEATURE_QUERY_ENGINE,8],[a.TaskPriority.FEATURE_TILE_TREE,16],[a.TaskPriority.FEATURE_TILE_TREE_ACTIVE,0],[a.TaskPriority.ELEVATION_ALIGNMENT,12],[a.TaskPriority.TEXT_TEXTURE_ATLAS,12],[a.TaskPriority.TEXTURE_UNLOAD,12],[a.TaskPriority.LINE_OF_SIGHT_TOOL,
16],[a.TaskPriority.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[a.TaskPriority.SNAPPING,0],[a.TaskPriority.SHADOW_ACCUMULATOR,30]]),v=m.Milliseconds(6.5),w=m.Milliseconds(1),x=m.Milliseconds(30),z=m.Milliseconds(1E3/30),A=m.Milliseconds(100);var B;(function(C){let F=function(){function P(){this._updating=new g.ObservableValue(!0);this._microTaskQueued=!1;this._frameNumber=0;this.performanceInfo={total:new u("total"),tasks:new Map};this._frameTaskTimes=new Map;this._budget=new E;this._state=q.RenderState.INTERACTING;
this._tasks=new t;this._runQueue=new t;this._load=0;this._idleStateCallbacks=new t;this._debug=this._forceTask=this._idleUpdatesStartFired=!1;this._debugHandle=p.watch(()=>h.SCHEDULER_LOG_SLOW_TASKS,M=>this._debug=M,p.initial);for(const M of Object.keys(a.TaskPriority))this.performanceInfo.tasks.set(a.TaskPriority[M],new u(a.TaskPriority[M]));const K=this;this._test={FRAME_SAFETY_BUDGET:v,INTERACTING_BUDGET:z,IDLE_BUDGET:A,get availableBudget(){return K._budget.budget},usedBudget:0,getBudget:()=>
K._budget,setBudget:M=>K._budget=M,updateTask:M=>this._updateTask(M),getState:M=>this._getState(M),getRuntime:M=>this._getRuntime(M),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}var O=P.prototype;O._updatingChanged=function(){this._updating.set(this._tasks.some(K=>K.needsUpdate))};O.destroy=function(){this._tasks.toArray().forEach(K=>K.remove());this._tasks.clear();n.removeMaybe(this._debugHandle);this._microTaskQueued=!1;this._updatingChanged()};
O.taskRunningChanged=function(K){this._updatingChanged();K&&0<this._budget.remaining&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,0<this._budget.remaining&&this._schedule()&&this.frame())}))};O.registerTask=function(K,M){const I=k(K);M=new G(this,K,M,I);this._tasks.push(M);this._updatingChanged();this.performanceInfo.tasks.has(K)||this.performanceInfo.tasks.set(K,new u(K));return M};O.registerIdleStateCallbacks=function(K,
M){const I={idleBegin:K,idleEnd:M};this._idleStateCallbacks.push(I);this.state===q.RenderState.IDLE&&this._idleUpdatesStartFired&&I.idleBegin();const H=this;return{remove:()=>this._removeIdleStateCallbacks(I),set idleBegin(L){H._idleUpdatesStartFired&&(I.idleEnd(),H._state===q.RenderState.IDLE&&L());I.idleBegin=L},set idleEnd(L){I.idleEnd=L}}};O.updateBudget=function(K){this._test.usedBudget=0;++this._frameNumber;let M=v,I=K.frameDuration,H=w;switch(this.state){case q.RenderState.IDLE:M=m.Milliseconds(0);
I=m.Milliseconds(Math.max(A,K.frameDuration));H=x;break;case q.RenderState.INTERACTING:I=m.Milliseconds(Math.max(z,K.frameDuration))}I=m.Milliseconds(I-K.elapsedFrameTime-M);if(this.state!==q.RenderState.IDLE&&I<w&&!this._forceTask)return this._forceTask=!0,!1;I=m.Milliseconds(Math.max(I,H));this._budget.reset(I,this.state);this._updateLoad();return this._schedule()};O.frame=function(){this._microTaskQueued=this._forceTask=!1;switch(this.state){case q.RenderState.IDLE:this._idleUpdatesStartFired||
(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(K=>K.idleBegin()));this._runIdle();break;case q.RenderState.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};O.stopFrame=function(){this._budget.reset(m.Milliseconds(0),this._state);this._budget.madeProgress()};O._removeIdleStateCallbacks=function(K){this._idleUpdatesStartFired&&K.idleEnd();this._idleStateCallbacks.removeUnordered(K)};O.removeTask=function(K){this._tasks.removeUnordered(K);
this._runQueue.removeUnordered(K);this._updatingChanged()};O._updateTask=function(K){this._tasks.forAll(M=>{M.name===K&&M.setPriority(K)})};O._getState=function(K){if(this._runQueue.some(I=>I.name===K))return a.TaskState.SCHEDULED;let M=a.TaskState.IDLE;this._tasks.forAll(I=>{I.name===K&&I.needsUpdate&&(1>=I.schedulePriority?M=a.TaskState.READY:M!==a.TaskState.READY&&(M=a.TaskState.WAITING))});return M};O._getRuntime=function(K){let M=0;this._tasks.forAll(I=>{I.name===K&&(M+=I.runtime)});return M};
O._resetRuntimes=function(){this._tasks.forAll(K=>K.runtime=0)};O._getRunning=function(){const K=new Map;this._tasks.forAll(I=>{I.needsUpdate&&K.set(I.name,(K.get(I.name)||0)+1)});if(0===K.size)return null;let M="";K.forEach((I,H)=>{M=1<I?M+` ${I}x ${H}`:M+` ${H}`});return M};O._runIdle=function(){this._run()};O._runInteracting=function(){this._run()};O._runAnimating=function(){this._run()};O._updateLoad=function(){const K=this._tasks.reduce((M,I)=>I.needsUpdate?++M:M,0);this._load=.9*this._load+
K*(1-.9)};O._schedule=function(){this._runQueue.filterInPlace(K=>{if(K.needsUpdate)return!0;K.schedulePriority=K.basePriority;return!1});for(this._tasks.forAll(K=>{0===K.basePriority&&K.needsUpdate&&!this._runQueue.includes(K)&&K.blockFrame!==this._frameNumber&&this._runQueue.unshift(K)});0===this._runQueue.length;){let K=!1;this._tasks.forAll(M=>{if(M.needsUpdate&&0!==M.schedulePriority&&0!==M.basePriority&&M.blockFrame!==this._frameNumber)switch(K=!0,M.schedulePriority){case 1:M.schedulePriority=
0;this._runQueue.push(M);break;default:--M.schedulePriority}});if(!K)return this._updatingChanged(),!1}this._updatingChanged();return!0};O._run=function(){const K=this._budget.now();this._startFrameTaskTimes();do for(;0<this._runQueue.length;){var M=this._budget.now();const I=this._runQueue.pop();this._budget.resetProgress();try{I.task.runTask(this._budget)===a.Task.YIELD&&(I.blockFrame=this._frameNumber)}catch(H){d.getLogger("esri.views.support.Scheduler").error(`Exception in task "${I.name}"`,H)}!this._budget.hasProgressed&&
I.blockFrame!==this._frameNumber&&I.needsUpdate&&(I.blockFrame=this._frameNumber);I.schedulePriority=I.basePriority;M=this._budget.now()-M;I.runtime+=M;this._frameTaskTimes.set(I.priority,this._frameTaskTimes.get(I.priority)+M);this._debug&&M>2*this._budget.budget&&console.log("Task",I.name,"used",M,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining){this._updatingChanged();this._recordFrameTaskTimes(this._budget.now()-K);return}}while(this._schedule());this._updatingChanged();this._recordFrameTaskTimes(this._budget.now()-
K)};O._startFrameTaskTimes=function(){for(const K of Object.keys(a.TaskPriority))this._frameTaskTimes.set(a.TaskPriority[K],0)};O._recordFrameTaskTimes=function(K){this._frameTaskTimes.forEach((M,I)=>this.performanceInfo.tasks.get(I).record(M));this.performanceInfo.total.record(K)};b._createClass(P,[{key:"updating",get:function(){return this._updating.get()}},{key:"load",get:function(){return this._load}},{key:"state",get:function(){return this._state},set:function(K){this._state!==K&&(this._state=
K,this.state!==q.RenderState.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(M=>M.idleEnd())))}},{key:"test",get:function(){return this._test}}]);return P}();C.Scheduler=F;let G=function(){function P(K,M,I,H){this._scheduler=K;this.name=M;this._basePriority=H;this.runtime=this.blockFrame=0;this._queue=new f.PromiseQueue;this._handles=new c;this.schedulePriority=this._basePriority;this._task=new g.ObservableValue(n.isSome(I)?I:this._queue);this._handles.add(p.when(()=>
this.task.running,L=>K.taskRunningChanged(L)))}var O=P.prototype;O.remove=function(){this.processQueue(D);this._scheduler.removeTask(this);this.schedule=y.schedule;this.reschedule=y.reschedule;this._handles.destroy()};O.setPriority=function(K){this.name=K;K=k(K);if(0===this._basePriority||0!==this.schedulePriority)this.schedulePriority=K;this._basePriority=K};O.schedule=function(K,M,I){return this._queue.push(K,M,I)};O.reschedule=function(K,M,I){return this._queue.unshift(K,M,I)};O.processQueue=function(K){this._queue.runTask(K)};
b._createClass(P,[{key:"task",get:function(){return this._task.get()}},{key:"updating",get:function(){return this._queue.running}},{key:"basePriority",get:function(){return this._basePriority}},{key:"priority",get:function(){return this.name},set:function(K){this.setPriority(K)}},{key:"needsUpdate",get:function(){return this.updating||this.task.running}}]);return P}(),E=function(){function P(){this._begin="undefined"!==typeof performance?performance.now():0;this._budget=0;this._state=q.RenderState.IDLE;
this._progressed=this._done=!1;this._enabled=!0}var O=P.prototype;O.run=function(K){if(this.done)return!1;!0===K()&&this.madeProgress();return!0};O.madeProgress=function(){this._progressed=!0;return this._done=this.elapsed>=this._budget&&this._enabled};O.reset=function(K,M){this._begin=this.now();this._budget=K;this._state=M;this.resetProgress()};O.now=function(){return performance.now()};O.resetProgress=function(){this._done=this._progressed=!1};b._createClass(P,[{key:"done",get:function(){return this._done}},
{key:"budget",get:function(){return this._budget}},{key:"state",get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},set:function(K){this._enabled=K}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return performance.now()-this._begin}},{key:"hasProgressed",get:function(){return this._progressed}}]);return P}();C.Budget=E})(B||(B={}));a.TaskState=void 0;(function(C){C.SCHEDULED="s";C.READY="r";C.WAITING=
"w";C.IDLE="i"})(a.TaskState||(a.TaskState={}));const D=(()=>{const C=new B.Budget;C.enabled=!1;return C})(),y=new (function(){function C(){}var F=C.prototype;F.remove=function(){};F.processQueue=function(){};F.schedule=function(G,E,P){try{if(r.isAborted(E)){const O=r.createAbortError();return P?Promise.resolve(P(O)):Promise.reject(O)}return r.when(G(D))}catch(O){return Promise.reject(O)}};F.reschedule=function(G,E,P){return this.schedule(G,E,P)};return b._createClass(C)}());a.ImmediateTask=y;a.getTaskPriority=
k;a.newScheduler=function(){return new B.Scheduler};a.noBudget=D;a.taskPriorities=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservableValue":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../tracking","./SimpleObservable"],function(a,b,c,e){let d=function(){function n(t){this._observable=new e.SimpleObservable;this._value=t}var u=n.prototype;u.get=function(){c.trackAccess(this._observable);return this._value};u.set=
function(t){t!==this._value&&(this._value=t,this._observable.notify())};return b._createClass(n)}();a.ObservableValue=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PromiseQueue":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/promiseUtils","../../core/accessorSupport/tracking/ObservableValue"],function(a,b,c,e){let d=function(){function u(){this._tasks=[];this._running=new e.ObservableValue(!1)}var t=u.prototype;t.destroy=
function(){this.cancelAll()};t.runTask=function(r){for(;!r.done&&this._process(r);)r.madeProgress()};t.push=function(r,p,m){this._running.set(!0);return new Promise((g,f)=>this._tasks.push(new n(g,f,r,p,m)))};t.unshift=function(r,p,m){this._running.set(!0);return new Promise((g,f)=>this._tasks.unshift(new n(g,f,r,p,m)))};t._process=function(r){if(0===this._tasks.length)return!1;const p=this._tasks.shift();try{const m=c.isAborted(p.signal);if(m&&!p.abortCallback)p.reject(c.createAbortError());else{const g=
m?p.abortCallback?.(c.createAbortError()):p.callback(r);c.isPromiseLike(g)?g.then(p.resolve,p.reject):p.resolve(g)}}catch(m){p.reject(m)}this._running.set(0<this._tasks.length);return!0};t.cancelAll=function(){const r=c.createAbortError();for(const p of this._tasks)if(p.abortCallback){const m=p.abortCallback(r);p.resolve(m)}else p.reject(r);this._tasks.length=0;this._running.set(!1)};b._createClass(u,[{key:"length",get:function(){return this._tasks.length}},{key:"running",get:function(){return this._running.get()}}]);
return u}(),n=b._createClass(function(u,t,r,p,m){this.resolve=u;this.reject=t;this.callback=r;this.signal=p;this.abortCallback=m});a.PromiseQueue=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/debugFlags":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){c=function(r){function p(){var g=m.apply(this,arguments);g.SCHEDULER_LOG_SLOW_TASKS=!1;g.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1;return g}a._inherits(p,r);var m=a._createSuper(p);return a._createClass(p)}(c);b.__decorate([e.property()],c.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);b.__decorate([e.property()],c.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);c=b.__decorate([t.subclass("esri.views.support.DebugFlags")],c);return new c})},
"esri/views/input/InputManager":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/maybe ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../3d/support/PropertiesPool ./keys ./handlers/LatestPointer ./handlers/MultiTouch".split(" "),function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k){a.InputManager=
function(z){function A(D){var y=B.call(this,D);y._pointerCaptures=new Map;y._nameToGroup={};y._handlers=[];y._handlersPriority=[];y._currentPropagation=null;y._updateDependenciesAfterPropagation=!1;y._sourceEvents=new Set;y._keyModifiers=new Set;y._activeKeyModifiers=new Set;y._stoppedPropagationEventIds=new Set;y.primaryKey=h.primaryKey;y._latestPointerType="mouse";y._propertiesPool=new f.PropertiesPool({latestPointerLocation:x},b._assertThisInitialized(y));y.latestPointerLocation=null;y.test={timestamp:void 0,
hasCurrentPropagation:()=>!!y._currentPropagation};return y}b._inherits(A,z);var B=b._createSuper(A);z=A.prototype;z.initialize=function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()};z.destroy=function(){const D=Object.keys(this._nameToGroup);for(const y of D)this.uninstallHandlers(y);this.eventSource.destroy();this._currentPropagation=null;this._propertiesPool.destroy()};z.installHandlers=function(D,y,C=w.INTERNAL){if(this._nameToGroup[D])d.getLogger(this.declaredClass).error("There is already an InputHandler group registered under the name `"+
D+"`");else if(0===y.length)d.getLogger(this.declaredClass).error("Can't register a group of zero handlers");else{var F={name:D,handlers:y.map(G=>({handler:G,active:!0,removed:!1,priorityIndex:0,groupPriority:C,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[D]=F;for(D=F.handlers.length-1;0<=D;D--){const G=F.handlers[D];this._handlers.push(G);G.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(E,P,O,K,M)=>{this._emitInputEvent(G.priorityIndex+1,E,P,O,M,K)},
setPointerCapture:(E,P)=>{this._setPointerCapture(F,G,E,P)},setEventCallback:E=>{G.eventCallback=E},setUninstallCallback:E=>{G.uninstallCallback=E},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}};z.uninstallHandlers=function(D){const y=this._nameToGroup[D];y?(y.handlers.forEach(C=>{C.removed=!0;C.uninstallCallback?.()}),delete this._nameToGroup[D],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):
d.getLogger(this.declaredClass).error("There is no InputHandler group registered under the name `"+D+"`")};z.hasHandlers=function(D){return void 0!==this._nameToGroup[D]};z.updateDependencies=function(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var D=new Set,y=new Set;this._handlersPriority=[];for(var C=this._handlers.length-1;0<=C;C--){var F=this._handlers[C];F.priorityIndex=C;this._handlersPriority.push(F)}this._handlersPriority=
this._sortHandlersPriority(this._handlersPriority);for(C=this._handlersPriority.length-1;0<=C;C--){F=this._handlersPriority[C];F.priorityIndex=C;let G=F.handler.hasSideEffects;if(!G)for(const E of F.handler.outgoingEventTypes)if(D.has(E)){G=!0;break}if(G)for(const E of F.handler.incomingEventMatches){D.add(E.eventType);for(const P of E.keyModifiers)h.isSystemModifier(P)||y.add(P)}F.active=G}this._sourceEvents=D;this._keyModifiers=y;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");
0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}};z._setLatestPointer=function(D,y,C){this._latestPointerType=D;D=this._get("latestPointerLocation");if(n.isNone(D)||D.x!==y||D.y!==C)D=this._propertiesPool.get("latestPointerLocation"),D.x=y,D.y=C,this._set("latestPointerLocation",D)};z._onEventReceived=function(D,y){"pointer-capture-lost"===D&&this._pointerCaptures.delete(y.native.pointerId);
this._updateKeyModifiers(D,y);this._emitInputEventFromSource(D,y,null!=this.test.timestamp?this.test.timestamp:y.native?y.native.timestamp:void 0,y.native?y.native.cancelable:void 0)};z._updateKeyModifiers=function(D,y){if(y){var C=!1,F=()=>{if(!C){const E=new Set;this._activeKeyModifiers.forEach(P=>{E.add(P)});this._activeKeyModifiers=E;C=!0}},G=(E,P)=>{P&&!this._activeKeyModifiers.has(E)?(F(),this._activeKeyModifiers.add(E)):!P&&this._activeKeyModifiers.has(E)&&(F(),this._activeKeyModifiers.delete(E))};
if("key-down"===D||"key-up"===D){const E=y.key;this._keyModifiers.has(E)&&G(E,"key-down"===D)}D=y.native;G("Alt",!(!D||!D.altKey));G("Ctrl",!(!D||!D.ctrlKey));G("Shift",!(!D||!D.shiftKey));G("Meta",!(!D||!D.metaKey));G("Primary",this._activeKeyModifiers.has(this.primaryKey))}};z._installRecognizers=function(){this._latestPointerHandler=new q.LatestPointer((D,y,C)=>this._setLatestPointer(D,y,C));this._multiTouchHandler=new k.MultiTouch;this.installHandlers("input-manager-logic",[this._latestPointerHandler,
this._multiTouchHandler],w.ALWAYS);0<this.recognizers.length&&this.installHandlers("default",this.recognizers,w.INTERNAL)};z._setPointerCapture=function(D,y,C,F){D=D.name+"-"+y.priorityIndex;y=this._pointerCaptures.get(C.pointerId)||new Set;this._pointerCaptures.set(C.pointerId,y);F?(y.add(D),1===y.size&&this.eventSource&&this.eventSource.setPointerCapture(C,!0)):y.has(D)&&(y.delete(D),0===y.size&&(this._pointerCaptures.delete(C.pointerId),this.eventSource&&this.eventSource.setPointerCapture(C,!1)))};
z._garbageCollectRemovedHandlers=function(){this._handlers=this._handlers.filter(D=>!D.removed);this.updateDependencies()};z._emitInputEventFromSource=function(D,y,C,F){this._emitInputEvent(0,D,y,C,F)};z._emitInputEvent=function(D,y,C,F,G,E){F=void 0!==F?F:this._currentPropagation?this._currentPropagation.timestamp:performance.now();D={event:new l(y,C,F,E||this._activeKeyModifiers,void 0!==G?G:!1),priorityIndex:D};this._currentPropagation?this._currentPropagation.events.push(D):this._doNewPropagation(D)};
z._doNewPropagation=function(D){this._currentPropagation={events:new u,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:D.event.timestamp};this._currentPropagation.events.push(D);this._continuePropagation()};z._continuePropagation=function(){const D=n.unwrapOrThrow(this._currentPropagation);for(;0<D.events.length;){const {event:y,priorityIndex:C}=D.events.pop(),F=y.data&&y.data.eventId;if(null==F||!this._stoppedPropagationEventIds.has(F))for(D.currentHandler=this._handlersPriority[C];D.currentHandler;){if(D.currentHandler.removed)D.needsHandlerGarbageCollect=
!0;else{D.currentHandler.active&&!y.shouldStopPropagation()&&D.currentHandler.eventCallback?.(y);if(y.shouldStopPropagation()){null!=F&&this._stoppedPropagationEventIds.add(F);break}if(y.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:y,priorityIndex:D.currentHandler.priorityIndex+1});return}}D.currentHandler=this._handlersPriority[D.currentHandler.priorityIndex+1]}}D.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();
this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()};z._pausePropagation=function(D){const y=new u;y.push(D);if(D=this._currentPropagation){for(;D.events.length;)y.push(D.events.pop());D.events=y;D.currentHandler=null}};z._compareHandlerPriority=function(D,y){if(D.handler.hasSideEffects!==y.handler.hasSideEffects)return D.handler.hasSideEffects?1:-1;if(D.groupPriority!==y.groupPriority)return D.groupPriority>y.groupPriority?-1:1;for(const C of D.handler.incomingEventMatches)for(const F of y.handler.incomingEventMatches){if(C.eventType!==
F.eventType)continue;const G=C.keyModifiers.filter(E=>F.keyModifiers.includes(E));if(G.length===C.keyModifiers.length!==(G.length===F.keyModifiers.length))return C.keyModifiers.length>F.keyModifiers.length?-1:1}return D.priorityIndex>y.priorityIndex?-1:1};z._sortHandlersPriority=function(D){const y=[];for(const C of D){for(D=0;D<y.length&&0<=this._compareHandlerPriority(C,y[D]);)D++;y.splice(D,0,C)}return y};b._createClass(A,[{key:"hasPendingInputs",get:function(){return this._handlers.some(D=>D.handler.hasPendingInputs)}},
{key:"latestPointerType",get:function(){return this._latestPointerType}},{key:"multiTouchActive",get:function(){return this._multiTouchHandler.multiTouchActive}},{key:"debug",get:function(){const D=y=>{const C=this._setPointerCapture;this._setPointerCapture=()=>{};y();this._setPointerCapture=C};return{injectEvent:(y,C)=>{D(()=>{this._onEventReceived(y,C)})},disablePointerCapture:D}}}]);return A}(e);c.__decorate([t.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);c.__decorate([t.property({constructOnly:!0})],
a.InputManager.prototype,"eventSource",void 0);c.__decorate([t.property({constructOnly:!0})],a.InputManager.prototype,"recognizers",void 0);c.__decorate([t.property()],a.InputManager.prototype,"_latestPointerType",void 0);c.__decorate([t.property()],a.InputManager.prototype,"latestPointerType",null);c.__decorate([t.property()],a.InputManager.prototype,"multiTouchActive",null);c.__decorate([t.property({readOnly:!0})],a.InputManager.prototype,"latestPointerLocation",void 0);a.InputManager=c.__decorate([g.subclass("esri.views.input.InputManager")],
a.InputManager);let l=function(){function z(B,D,y,C,F){this.type=B;this.data=D;this.timestamp=y;this.modifiers=C;this.cancelable=F;this._propagationState=v.NONE;this._resumeCallback=null}var A=z.prototype;A.stopPropagation=function(){this._propagationState|=v.STOPPED};A.shouldStopPropagation=function(){return 0!==(this._propagationState&v.STOPPED)};A.async=function(B){this._propagationState|=v.PAUSED;const D=(y,C)=>{this._propagationState&=~v.PAUSED;const F=this._resumeCallback;this._resumeCallback=
null;F&&F();if(C)throw y;return y};return("function"===typeof B?B():B).then(y=>D(y,!1),y=>D(y,!0))};A.shouldPausePropagation=function(B){return this._propagationState&v.PAUSED?(this._resumeCallback=B,!0):!1};A.preventDefault=function(){this.data.native.preventDefault()};return b._createClass(z)}();var v;(function(z){z[z.NONE=0]="NONE";z[z.STOPPED=1]="STOPPED";z[z.PAUSED=2]="PAUSED"})(v||(v={}));const w={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},x=b._createClass(function(){});a.ViewEventPriorities=
w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/keys":function(){define(["exports","../../core/events","../../core/has"],function(a,b,c){c=c("mac")?"Meta":"Ctrl";const e={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(var d=48;58>d;d++)e[d]=String.fromCharCode(d);for(d=1;25>d;d++)e[111+d]=`F${d}`;for(d=65;91>d;d++)e[d]=[String.fromCharCode(d+
32),String.fromCharCode(d)];a.eventKey=function(n){if(void 0!==n.key)return b.eventKey(n);const u=e[n.keyCode];return Array.isArray(u)?n.shiftKey?u[1]:u[0]:u};a.isSystemModifier=function(n){switch(n){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}return!1};a.primaryKey=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/LatestPointer":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../InputHandler"],function(a,
b,c){c=function(e){function d(u){var t=n.call(this,!0);t._onChange=u;t._value="mouse";t._x=null;t._y=null;t.registerIncoming("pointer-move",r=>{t._update(r.data)});return t}b._inherits(d,e);var n=b._createSuper(d);d.prototype._update=function(u){const t="touch"===u.native.pointerType?"touch":"mouse",{x:r,y:p}=u;if(t!==this._value||this._x!==r||this._y!==p)this._value=t,this._x=r,this._y=p,this._onChange(t,r,p)};return b._createClass(d)}(c.InputHandler);a.LatestPointer=c;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/input/InputHandler":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/Logger","./EventMatch"],function(a,b,c,e){const d=c.getLogger("esri.views.input.InputHandler");c=function(){function t(p){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=p}var r=t.prototype;r.onInstall=function(p){this._manager?d.error("This InputHandler has already been registered with an InputManager"):
(p.setEventCallback(m=>this._handleEvent(m)),p.setUninstallCallback(()=>this._onUninstall()),this._manager=p)};r.onUninstall=function(){};r.registerIncoming=function(p,m,g){"function"===typeof m?(g=m,m=[]):m=m||[];p="string"===typeof p?new e.EventMatch(p,m):p;const f=()=>{this._incomingEventMatches=this._incomingEventTypes=null};m=h=>{const q=this._incoming[h.match.eventType];q&&(h=q.indexOf(h),q.splice(h,1),f(),this._manager&&this._manager.updateDependencies())};g=new n(p,g,{onPause:m,onRemove:m,
onResume:h=>{const q=this._incoming[h.match.eventType];q&&!q.includes(h)&&(q.push(h),f(),this._manager&&this._manager.updateDependencies())}});m=this._incoming[p.eventType];m||(m=[],this._incoming[p.eventType]=m);m.push(g);f();this._manager&&this._manager.updateDependencies();return g};r.registerOutgoing=function(p){if(this._outgoing[p])throw Error("There is already a callback registered for this outgoing InputEvent: "+p);const m=new u(p,{onEmit:(g,f,h,q)=>{this._manager?.emit(g.eventType,f,h,q)},
onRemove:g=>{delete this._outgoing[g.eventType];this._manager?.updateDependencies()}});this._outgoing[p]=m;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return m};r.startCapturingPointer=function(p){this._manager?.setPointerCapture(p,!0)};r.stopCapturingPointer=function(p){this._manager?.setPointerCapture(p,!1)};r.refreshHasPendingInputs=function(){this._manager?.refreshHasPendingInputs()};r._onUninstall=function(){this._manager?(this.onUninstall(),this._manager=
null):d.error("This InputHandler is not registered with an InputManager")};r._handleEvent=function(p){const m=this._incoming[p.type];if(m)for(const g of m)if(g.match.matches(p)&&(g.callback?.(p),p.shouldStopPropagation()))break};b._createClass(t,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const p in this._incoming){const m=this._incoming[p];for(const g of m)this._incomingEventMatches.push(g.match)}}return this._incomingEventMatches}},
{key:"incomingEventTypes",get:function(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(p=>p.eventType));return this._incomingEventTypes}},{key:"outgoingEventTypes",get:function(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}},{key:"hasSideEffects",get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}}]);return t}();let n=function(){function t(p,m,g){this.match=
p;this._callback=m;this._handler=g}var r=t.prototype;r.pause=function(){this._handler.onPause(this)};r.resume=function(){this._handler.onResume(this)};r.remove=function(){this._handler.onRemove(this)};b._createClass(t,[{key:"callback",get:function(){return this._callback}}]);return t}(),u=function(){function t(p,m){this.eventType=p;this._removed=!1;this._handler=m}var r=t.prototype;r.emit=function(p,m,g){if(!this._removed)this._handler.onEmit(this,p,m,g)};r.remove=function(){this._removed=!0;this._handler.onRemove(this)};
return b._createClass(t)}();a.InputHandler=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/EventMatch":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b){let c=function(){function e(d,n=[]){this.eventType=d;this.keyModifiers=n}e.prototype.matches=function(d){if(d.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;d=d.modifiers;for(const n of this.keyModifiers)if(!d.has(n))return!1;return!0};return b._createClass(e)}();
a.EventMatch=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/MultiTouch":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/accessorSupport/tracking/ObservableValue","../InputHandler"],function(a,b,c,e){e=function(d){function n(){var t=u.call(this,!0);t._activeTouchPointerIds=new Set;t._multiTouchActive=new c.ObservableValue(!1);t._onPointerAdd=({data:r})=>{"touch"===r.pointerType&&(t._activeTouchPointerIds.add(r.native.pointerId),
t._update())};t._onPointerRemove=({data:r})=>{"touch"===r.pointerType&&(t._activeTouchPointerIds.delete(r.native.pointerId),t._update())};t.registerIncoming("pointer-down",t._onPointerAdd);t.registerIncoming("pointer-up",t._onPointerRemove);t.registerIncoming("pointer-capture-lost",t._onPointerRemove);t.registerIncoming("pointer-cancel",t._onPointerRemove);return t}b._inherits(n,d);var u=b._createSuper(n);n.prototype._update=function(){this._multiTouchActive.set(1<this._activeTouchPointerIds.size)};
b._createClass(n,[{key:"multiTouchActive",get:function(){return this._multiTouchActive.get()}}]);return n}(e.InputHandler);a.MultiTouch=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/ViewEvents":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/has ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager ./IViewEvents".split(" "),function(a,b,c,e,d,n,u,t){function r(h){return!!m[h]}function p(h){for(const q of h)if(!r(q))return!1;
return!0}c="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");const m={};c.forEach(h=>{m[h]=!0});let g=function(){function h(k){this._handlers=new Map;this._counter=0;this._handlerCounts=new Map;this.view=k;this.inputManager=null}var q=h.prototype;q.connect=function(k){k&&this.disconnect();this.inputManager=k;this._handlers.forEach(({handler:l,
priority:v},w)=>this.inputManager?.installHandlers(w,[l],v))};q.disconnect=function(){this.inputManager&&this._handlers.forEach((k,l)=>this.inputManager?.uninstallHandlers(l));this.inputManager=null};q.destroy=function(){this.disconnect();this._handlers.clear();this.view=null};q.on=function(k,l,v,w){const x=Array.isArray(k)?k:k.split(",");if(!p(x))return x.some(r)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;if(Array.isArray(l))k=
l;else{var z=l;k=[]}"function"===typeof v?z=v:w=v;w=null!=w?w:u.ViewEventPriorities.DEFAULT;const A=this._createUniqueGroupName();v=new f(this.view,x,k,z);this._handlers.set(A,{handler:v,priority:w});for(const B of x)z=this._handlerCounts.get(B)||0,this._handlerCounts.set(B,z+1);this.inputManager&&this.inputManager.installHandlers(A,[v],w);return{remove:()=>this._removeHandler(A,x)}};q.hasHandler=function(k){return!!this._handlerCounts.get(k)};q._removeHandler=function(k,l){if(this._handlers.has(k)){this._handlers.delete(k);
for(const v of l)l=this._handlerCounts.get(v),void 0===l?console.error("Trying to remove handler for event that has no handlers registered: ",v):1===l?this._handlerCounts.delete(v):this._handlerCounts.set(v,l-1)}this.inputManager&&this.inputManager.uninstallHandlers(k)};q._createUniqueGroupName=function(){this._counter+=1;return`viewEvents_${this._counter}`};return b._createClass(h)}(),f=function(h){function q(l,v,w,x){var z=k.call(this,!0);z._latestDragStart=void 0;z.view=l;for(const A of v)switch(A){case "click":z.registerIncoming("click",
w,B=>x(z._wrapClick(B)));break;case "double-click":z.registerIncoming("double-click",w,B=>x(z._wrapDoubleClick(B)));break;case "immediate-click":z.registerIncoming("immediate-click",w,B=>x(z._wrapImmediateClick(B)));break;case "immediate-double-click":z.registerIncoming("immediate-double-click",w,B=>x(z._wrapImmediateDoubleClick(B)));break;case "hold":z.registerIncoming("hold",w,B=>x(z._wrapHold(B)));break;case "drag":z.registerIncoming("drag",w,B=>{(B=z._wrapDrag(B))&&x(B)});break;case "key-down":z.registerIncoming("key-down",
w,B=>x(z._wrapKeyDown(B)));break;case "key-up":z.registerIncoming("key-up",w,B=>x(z._wrapKeyUp(B)));break;case "pointer-down":z.registerIncoming("pointer-down",w,B=>x(z._wrapPointer(B,"pointer-down")));break;case "pointer-move":z.registerIncoming("pointer-move",w,B=>x(z._wrapPointer(B,"pointer-move")));break;case "pointer-up":z.registerIncoming("pointer-up",w,B=>x(z._wrapPointer(B,"pointer-up")));break;case "pointer-drag":z.registerIncoming("pointer-drag",w,B=>x(z._wrapPointerDrag(B)));break;case "mouse-wheel":z.registerIncoming("mouse-wheel",
w,B=>x(z._wrapMouseWheel(B)));break;case "pointer-enter":z.registerIncoming("pointer-enter",w,B=>x(z._wrapPointer(B,"pointer-enter")));break;case "pointer-leave":z.registerIncoming("pointer-leave",w,B=>x(z._wrapPointer(B,"pointer-leave")));break;case "gamepad":z.registerIncoming("gamepad",w,B=>{x(z._wrapGamepad(B))});break;case "focus":z.registerIncoming("focus",w,B=>{x(z._wrapFocus(B))});break;case "blur":z.registerIncoming("blur",w,B=>{x(z._wrapBlur(B))})}return z}b._inherits(q,h);var k=b._createSuper(q);
h=q.prototype;h._wrapFocus=function(l){return{type:"focus",timestamp:l.timestamp,native:l.data.native,cancelable:l.cancelable,stopPropagation:()=>l.stopPropagation(),async:v=>l.async(v),preventDefault:()=>l.preventDefault()}};h._wrapBlur=function(l){return{type:"blur",timestamp:l.timestamp,native:l.data.native,cancelable:l.cancelable,stopPropagation:()=>l.stopPropagation(),async:v=>l.async(v),preventDefault:()=>l.preventDefault()}};h._wrapClick=function(l){const {pointerType:v,button:w,buttons:x,
x:z,y:A,native:B,eventId:D}=l.data,{cancelable:y,timestamp:C}=l,F=d.createScreenPoint(z,A),G=this._getMapPoint(z,A);return{type:"click",pointerType:v,button:w,buttons:x,x:z,y:A,native:B,timestamp:C,screenPoint:F,mapPoint:G,eventId:D,cancelable:y,stopPropagation:()=>l.stopPropagation(),async:E=>l.async(E),preventDefault:()=>l.preventDefault()}};h._wrapDoubleClick=function(l){const {pointerType:v,button:w,buttons:x,x:z,y:A,native:B,eventId:D}=l.data,{cancelable:y,timestamp:C}=l;return{type:"double-click",
pointerType:v,button:w,buttons:x,x:z,y:A,native:B,timestamp:C,mapPoint:this._getMapPoint(z,A),eventId:D,cancelable:y,stopPropagation:()=>l.stopPropagation(),async:F=>l.async(F),preventDefault:()=>l.preventDefault()}};h._wrapImmediateClick=function(l){const {pointerType:v,button:w,buttons:x,x:z,y:A,native:B,eventId:D}=l.data,y=B.pointerId,{cancelable:C,timestamp:F}=l;return{type:"immediate-click",pointerId:y,pointerType:v,button:w,buttons:x,x:z,y:A,native:B,timestamp:F,mapPoint:this._getMapPoint(z,
A),eventId:D,cancelable:C,stopPropagation:()=>l.stopPropagation(),async:G=>l.async(G),preventDefault:()=>l.preventDefault()}};h._wrapImmediateDoubleClick=function(l){const {pointerType:v,button:w,buttons:x,x:z,y:A,native:B,eventId:D}=l.data,y=B.pointerId,{cancelable:C,timestamp:F}=l;return{type:"immediate-double-click",pointerId:y,pointerType:v,button:w,buttons:x,x:z,y:A,native:B,timestamp:F,mapPoint:this._getMapPoint(z,A),eventId:D,cancelable:C,stopPropagation:()=>l.stopPropagation(),async:G=>l.async(G),
preventDefault:()=>l.preventDefault()}};h._wrapHold=function(l){const {pointerType:v,button:w,buttons:x,x:z,y:A,native:B}=l.data,{cancelable:D,timestamp:y}=l;return{type:"hold",pointerType:v,button:w,buttons:x,x:z,y:A,native:B,timestamp:y,mapPoint:this._getMapPoint(z,A),cancelable:D,stopPropagation:()=>l.stopPropagation(),async:C=>l.async(C),preventDefault:()=>l.preventDefault()}};h._getMapPoint=function(l,v){return this.view.toMap(d.createScreenPoint(l,v),{exclude:[]})};h._wrapDrag=function(l){const v=
l.data,{x:w,y:x}=v.center,{action:z,pointerType:A,button:B}=v;"start"===z&&(this._latestDragStart=v);if(this._latestDragStart){var D=v.pointer.native,y=v.buttons,{cancelable:C,timestamp:F}=l,G={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};"end"===z&&(this._latestDragStart=void 0);return{type:"drag",action:z,x:w,y:x,origin:G,pointerType:A,button:B,buttons:y,radius:v.radius,angle:e.rad2deg(v.angle),native:D,timestamp:F,cancelable:C,stopPropagation:()=>l.stopPropagation(),async:E=>
l.async(E),preventDefault:()=>l.preventDefault()}}};h._wrapKeyDown=function(l){const {key:v,repeat:w,native:x}=l.data,{cancelable:z,timestamp:A}=l;return{type:"key-down",key:v,repeat:w,native:x,timestamp:A,cancelable:z,stopPropagation:()=>l.stopPropagation(),async:B=>l.async(B),preventDefault:()=>l.preventDefault()}};h._wrapKeyUp=function(l){const {key:v,native:w}=l.data,{cancelable:x,timestamp:z}=l;return{type:"key-up",key:v,native:w,timestamp:z,cancelable:x,stopPropagation:()=>l.stopPropagation(),
async:A=>l.async(A),preventDefault:()=>l.preventDefault()}};h._wrapPointer=function(l,v){const {x:w,y:x,button:z,buttons:A,native:B,eventId:D}=l.data,y=B.pointerId,C=B.pointerType,{cancelable:F,timestamp:G}=l;return{type:v,x:w,y:x,pointerId:y,pointerType:C,button:z,buttons:A,native:B,timestamp:G,eventId:D,cancelable:F,stopPropagation:()=>l.stopPropagation(),async:E=>l.async(E),preventDefault:()=>l.preventDefault()}};h._wrapPointerDrag=function(l){const {x:v,y:w,buttons:x,native:z,eventId:A}=l.data.currentEvent,
{button:B}=l.data.startEvent,D=l.data.startEvent.native.pointerId,y=l.data.startEvent.native.pointerType,C=l.data.action,F={x:l.data.startEvent.x,y:l.data.startEvent.y},{cancelable:G,timestamp:E}=l;return{type:"pointer-drag",x:v,y:w,pointerId:D,pointerType:y,button:B,buttons:x,action:C,origin:F,native:z,timestamp:E,eventId:A,cancelable:G,stopPropagation:()=>l.stopPropagation(),async:P=>l.async(P),preventDefault:()=>l.preventDefault()}};h._wrapMouseWheel=function(l){const {cancelable:v,data:w,timestamp:x}=
l,{x:z,y:A,deltaY:B,native:D}=w;return{type:"mouse-wheel",x:z,y:A,deltaY:B,native:D,timestamp:x,cancelable:v,stopPropagation:()=>l.stopPropagation(),async:y=>l.async(y),preventDefault:()=>l.preventDefault()}};h._wrapGamepad=function(l){const {action:v,state:w,device:x}=l.data,{cancelable:z,timestamp:A}=l,{buttons:B,axes:D}=w;return{type:"gamepad",device:x,timestamp:A,action:v,buttons:B,axes:D,cancelable:z,stopPropagation:()=>l.stopPropagation(),async:y=>l.async(y),preventDefault:()=>l.preventDefault()}};
return b._createClass(q)}(n.InputHandler);Object.defineProperty(a,"MouseButton",{enumerable:!0,get:()=>t.MouseButton});a.ViewEvents=g;a.eventTypes=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/IViewEvents":function(){define(["exports"],function(a){a.MouseButton=void 0;var b=a.MouseButton||(a.MouseButton={});b[b.Left=0]="Left";b[b.Middle=1]="Middle";b[b.Right=2]="Right";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports",
"../../core/Logger","./interfaces"],function(a,b,c){a.areToolManipulatorsEditable=function(e){return e.visible&&null!=e.getEditableFlag&&e.getEditableFlag(c.EditableFlag.USER)&&e.getEditableFlag(c.EditableFlag.MANAGER)};a.getToolCollectionHandles=function(e){return[e.on("before-add",d=>{const n=d.item;if(null==n||e.includes(n))b.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),d.preventDefault();else n.onAdd()}),
e.on("after-remove",d=>{d=d.item;d.active&&(d.view.activeTool=null);d.destroy()})]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interfaces":function(){define(["exports"],function(a){a.EditableFlag=void 0;(function(b){b[b.USER=0]="USER";b[b.MANAGER=1]="MANAGER"})(a.EditableFlag||(a.EditableFlag={}));a.ManipulatorStateFlags=void 0;(function(b){b[b.None=0]="None";b[b.Unfocused=1]="Unfocused";b[b.Focused=2]="Focused";b[b.Unselected=4]="Unselected";b[b.Selected=
8]="Selected";b[b.All=15]="All"})(a.ManipulatorStateFlags||(a.ManipulatorStateFlags={}));a.ManipulatorStateCustomFlags=void 0;(function(b){b[b.None=0]="None";b[b.Custom1=16]="Custom1";b[b.Custom2=32]="Custom2";b[b.Custom3=64]="Custom3";b[b.Custom4=128]="Custom4";b[b.Custom5=256]="Custom5";b[b.Custom6=512]="Custom6";b[b.Custom7=1024]="Custom7";b[b.Custom8=2048]="Custom8";b[b.Custom9=4096]="Custom9";b[b.Custom10=8192]="Custom10";b[b.Custom11=16384]="Custom11";b[b.Custom12=32768]="Custom12";b[b.All=
65520]="All"})(a.ManipulatorStateCustomFlags||(a.ManipulatorStateCustomFlags={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/iteratorUtils ../../core/MapUtils ../../core/mathUtils ../../core/maybe ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),function(a,b,c,e,d,n,u,t,r){let p=function(){function m(){this._pointerLocations=
new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;this._revertToNullActiveTool=this._stopDrag=!1;this._cursor=null}var g=m.prototype;g.isInteracting=function(){return 0<this._hoveredManipulators.size||0<this._grabbedManipulators.size||0<this._draggedManipulators.size};g.handleInputEvent=function(f,h){var q=()=>f.stopPropagation();switch(f.type){case "pointer-move":"mouse"===f.pointerType&&this._pointerLocations.set(f.pointerId,{x:f.x,y:f.y,
pointerType:f.pointerType});break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&(f.stopPropagation(),"end"===f.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===f.pointerType&&0!==f.button)break;q=r.createScreenPointFromEvent(f);var k=this._intersect(q,f.pointerType,h.forEachTool);if(n.isNone(k))break;var l=k.manipulator,v=k.tool;!(n.isSome(l)&&n.isSome(v)&&l.interactive)||l.grabbable&&l.grabbableForEvent(f)||!l.grabbing||l.dragging||this._ungrabManipulatorBeforeDragging(l,
f,h);n.isSome(l)&&n.isSome(v)&&l.interactive&&l.grabbable&&l.grabbableForEvent(f)&&!l.grabbing&&(this._grabbedManipulators.set(f.pointerId,{manipulator:l,tool:v,start:q,pointerType:f.pointerType}),1===this._grabbedManipulators.size&&n.isNone(h.activeTool)&&(this._revertToNullActiveTool=!0,h.setActiveTool(k.tool)),l.grabbing=!0,l.events.emit("grab-changed",{action:"start",pointerType:f.pointerType,screenPoint:q}),f.stopPropagation());break;case "pointer-up":this._draggedManipulators.has(f.pointerId)||
this._handlePointerEnd(f,h);break;case "pointer-drag":if("mouse"===f.pointerType&&0!==f.button)break;v=this._grabbedManipulators.get(f.pointerId);q=n.applySome(v,({manipulator:B})=>B);k=n.applySome(v,({tool:B})=>B);if(n.isNone(q)||n.isNone(k))break;l=r.createScreenPointFromEvent(f);l.x=d.clamp(l.x,0,h.view.width);l.y=d.clamp(l.y,0,h.view.height);v=n.unwrap(v).start;const w=this._draggedManipulators.get(f.pointerId);switch(f.action){case "start":case "update":if("update"===f.action||1===this._grabbedManipulators.size)q.dragging=
!0,w?q.events.emit("drag",{action:"update",start:v,screenPoint:l}):q.events.emit("drag",{action:"start",start:v,screenPoint:l,pointerType:f.pointerType}),this._draggedManipulators.set(f.pointerId,{tool:k,manipulator:q,start:v});break;case "end":q.dragging=!1,w&&q.events.emit("drag",{action:"end",start:v,screenPoint:l}),this._draggedManipulators.delete(f.pointerId),this._handlePointerEnd(f,h)}f.stopPropagation();break;case "immediate-click":k=r.createScreenPointFromEvent(f);const x=this._intersect(k,
f.pointerType,h.forEachTool);f.native.shiftKey||h.forEachTool(B=>{if((!n.isSome(x)||x.tool!==B||B.automaticManipulatorSelection)&&B.manipulators){let D=!1;B.manipulators.forEach(({manipulator:y})=>{y.selected&&(y.selected=!1,D=!0)});if(D&&B.onManipulatorSelectionChanged)B.onManipulatorSelectionChanged()}});if(n.isNone(x))break;const {manipulator:z,tool:A}=x;if(!z.interactive)break;if(z.selectable&&A.automaticManipulatorSelection&&(z.selected=!z.selected,A.onManipulatorSelectionChanged))A.onManipulatorSelectionChanged();
z.events.emit("immediate-click",{screenPoint:k,button:f.button,pointerType:f.pointerType,shiftKey:f.native.shiftKey,stopPropagation:q});break;case "click":q=r.createScreenPointFromEvent(f);k=this._intersect(q,f.pointerType,h.forEachTool);k=n.isSome(k)?k.manipulator:null;if(n.isNone(k)||!k.interactive)break;k.events.emit(f.type,{screenPoint:q,button:f.button,pointerType:f.pointerType,shiftKey:f.native.shiftKey});f.stopPropagation();break;case "double-click":k=r.createScreenPointFromEvent(f);l=this._intersect(k,
f.pointerType,h.forEachTool);l=n.isSome(l)?l.manipulator:null;if(n.isNone(l)||!l.interactive)break;l.events.emit("double-click",{screenPoint:k,button:f.button,pointerType:f.pointerType,shiftKey:f.native.shiftKey,stopPropagation:q});break;case "immediate-double-click":k=r.createScreenPointFromEvent(f),l=this._intersect(k,f.pointerType,h.forEachTool),l=n.isSome(l)?l.manipulator:null,!n.isNone(l)&&l.interactive&&l.events.emit("immediate-double-click",{screenPoint:k,button:f.button,pointerType:f.pointerType,
shiftKey:f.native.shiftKey,stopPropagation:q})}this._onFocusChange(h.forEachTool)};g._ungrabManipulatorBeforeDragging=function(f,h,q){f.grabbing=!1;f.events.emit("grab-changed",{action:"end",pointerType:h.pointerType,screenPoint:r.createScreenPointFromEvent(h)});this._grabbedManipulators.forEach(({manipulator:k},l)=>{k===f&&this._grabbedManipulators.delete(l)});this._afterManipulatorUngrab(q.setActiveTool)};g._handlePointerEnd=function(f,h){const q=n.applySome(this._grabbedManipulators.get(f.pointerId),
({manipulator:k})=>k);!n.isNone(q)&&q.grabbing&&(q.grabbing=!1,q.events.emit("grab-changed",{action:"end",pointerType:f.pointerType,screenPoint:r.createScreenPointFromEvent(f)}),this._grabbedManipulators.delete(f.pointerId),this._afterManipulatorUngrab(h.setActiveTool))};g._cursorFromMap=function(f){let h=null;e.someMap(f,({manipulator:q})=>{if(!n.isNone(q)&&q.interactive){if(q.grabbing&&q.grabCursor)return h=q.grabCursor,!0;if(q.cursor)return h=q.cursor,!0}return!1});return h};g._onFocusChange=function(f){this._updateCursor();
this._updateFocusedManipulatorTools(f)};g._updateCursor=function(){this._cursor=0<this._grabbedManipulators.size?this._cursorFromMap(this._grabbedManipulators)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators)||"pointer":null};g._updateFocusedManipulatorTools=function(f){const h=new Set,q=new Set;this._grabbedManipulators.forEach(({tool:k})=>{h.add(k)});this._hoveredManipulators.forEach(({tool:k})=>{q.add(k)});f(k=>{k.hasGrabbedManipulators=h.has(k);k.hasHoveredManipulators=
q.has(k);var l=this._grabbedManipulators.values();l=c.find(l,({tool:v})=>v===k);k.firstGrabbedManipulator=n.isSome(l)?l.manipulator:null})};g.clearPointers=function(f,{forEachTool:h,setActiveTool:q},k=!0,l){const v=(w,x)=>w===f&&(n.isNone(l)||l===x);this._grabbedManipulators.forEach(({tool:w,manipulator:x,pointerType:z},A)=>{v(w,x)&&(this._grabbedManipulators.delete(A),x.grabbing=!1,x.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:z}))});this._draggedManipulators.forEach(({tool:w,
manipulator:x},z)=>{v(w,x)&&(this._draggedManipulators.delete(z),x.dragging=!1,x.events.emit("drag",{action:"cancel"}))});k&&this._hoveredManipulators.forEach(({tool:w,manipulator:x},z)=>{v(w,x)&&(this._hoveredManipulators.delete(z),x.hovering=!1)});this._afterManipulatorUngrab(q);this._onFocusChange(h)};g._intersect=function(f,h,q){let k=null;q(l=>{if(null==l.manipulators||!t.areToolManipulatorsEditable(l))return!1;const v=l.manipulators.intersect(f,h);if(n.isNone(v))return!1;k={tool:l,manipulator:v};
return!0});return k};g.updateHoveredStateFromKnownPointers=function(f){this._pointerLocations.forEach((h,q)=>{this._updateHoveredStateForPointerAtScreenPosition(u.createScreenPoint(h.x,h.y),q,h.pointerType,f)})};g.handleHoverEvent=function(f,h){"pointer-up"!==f.type&&"immediate-click"!==f.type&&"pointer-move"!==f.type||"mouse"!==f.pointerType||this._updateHoveredStateForPointerAtScreenPosition(r.createScreenPointFromEvent(f),f.pointerId,f.pointerType,h)};g._updateHoveredStateForPointerAtScreenPosition=
function(f,h,q,k){f=this._intersect(f,q,k);q=n.applySome(this._hoveredManipulators.get(h),({manipulator:l})=>l);n.isSome(f)&&!f.manipulator.interactive&&(f=null);n.isSome(f)&&q===f.manipulator||(n.isSome(q)&&(q.hovering=!1),n.isSome(f)?(f.manipulator.hovering=!0,this._hoveredManipulators.set(h,f)):this._hoveredManipulators.delete(h),this._onFocusChange(k))};g._afterManipulatorUngrab=function(f){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(f(null),this._revertToNullActiveTool=
!1)};b._createClass(m,[{key:"cursor",get:function(){return this._cursor}}]);return m}();a.ToolViewManagerManipulatorState=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has","../../core/screenUtils"],function(a,b,c){function e(n){return c.createScreenPoint(n.x,n.y)}function d(n,u){return(n=(n instanceof HTMLElement?n:n.surface)?.getBoundingClientRect())?c.createScreenPoint(u.clientX-n.left,u.clientY-n.top):
c.createScreenPoint(0,0)}a.createScreenPointArrayFromEvent=function(n){return c.createScreenPointArray(n.x,n.y)};a.createScreenPointFromEvent=e;a.createScreenPointFromNativeEvent=d;a.createScreenPointFromSupportedEvent=function(n,u){return u instanceof Event?d(n,u):e(u)};a.isSupportedScreenPointEvent=function(n){if(n instanceof Event)return!0;if("object"===typeof n&&"type"in n)switch(n.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/Input":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,e,d,n,u,t,r){c=function(p){function m(){var f=g.apply(this,arguments);f.gamepad=new r;return f}
a._inherits(m,p);var g=a._createSuper(m);return a._createClass(m)}(c);b.__decorate([e.property({readOnly:!0})],c.prototype,"gamepad",void 0);return c=b.__decorate([t.subclass("esri.views.input.Input")],c)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),
function(a,b,c,e,d,n,u,t,r,p){c=function(m){function g(...h){h=f.call(this,...h);h.devices=new e;h.enabledFocusMode="document";return h}a._inherits(g,m);var f=a._createSuper(g);return a._createClass(g)}(c);b.__decorate([d.property({type:e.ofType(p),readOnly:!0})],c.prototype,"devices",void 0);b.__decorate([d.property({type:["document","view","none"]})],c.prototype,"enabledFocusMode",void 0);return c=b.__decorate([r.subclass("esri.views.input.gamepad.GamepadSettings")],c)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t){c=function(m){function g(h){var q=f.call(this);q.nativeIndex=null;q._detectedDeviceType="unknown";"standard"===h.mapping?q._detectedDeviceType="standard":r.test(h.id)?q._detectedDeviceType="spacemouse":q._detectedDeviceType="unknown";q.nativeIndex=h.index;return q}a._inherits(g,m);var f=a._createSuper(g);a._createClass(g,[{key:"native",get:function(){const h=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<h.length?h[this.nativeIndex]:
null}},{key:"deviceType",get:function(){return this._detectedDeviceType}},{key:"axisThreshold",get:function(){return p[this.deviceType]}}]);return g}(c);b.__decorate([e.property({nonNullable:!0,readOnly:!0})],c.prototype,"nativeIndex",void 0);b.__decorate([e.property({type:String,readOnly:!0})],c.prototype,"deviceType",null);b.__decorate([e.property({type:Number,readOnly:!0})],c.prototype,"axisThreshold",null);c=b.__decorate([t.subclass("esri.views.input.gamepad.GamepadInputDevice")],c);const r=RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))",
"i"),p={standard:.15,spacemouse:.025,unknown:0};return c})},"esri/views/navigation/Navigation":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,e,d,n,u,t,r){c=function(p){function m(f){f=g.call(this,f);f.browserTouchPanEnabled=
!0;f.gamepad=new r;f.momentumEnabled=!0;f.mouseWheelZoomEnabled=!0;return f}a._inherits(m,p);var g=a._createSuper(m);return a._createClass(m)}(c);b.__decorate([e.property({type:Boolean})],c.prototype,"browserTouchPanEnabled",void 0);b.__decorate([e.property({type:r,nonNullable:!0})],c.prototype,"gamepad",void 0);b.__decorate([e.property({type:Boolean})],c.prototype,"momentumEnabled",void 0);b.__decorate([e.property({type:Boolean})],c.prototype,"mouseWheelZoomEnabled",void 0);return c=b.__decorate([t.subclass("esri.views.navigation.Navigation")],
c)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),function(a,b,c,e,d,n,u,t,r){c=function(p){function m(f){f=g.call(this,f);f.enabled=!0;f.device=null;f.mode=
"pan";f.tiltDirection="forward-down";f.velocityFactor=1;return f}a._inherits(m,p);var g=a._createSuper(m);return a._createClass(m)}(c);b.__decorate([e.property({type:Boolean,nonNullable:!0})],c.prototype,"enabled",void 0);b.__decorate([e.property({type:r})],c.prototype,"device",void 0);b.__decorate([e.property({type:["pan","zoom"],nonNullable:!0})],c.prototype,"mode",void 0);b.__decorate([e.property({type:["forward-down","forward-up"],nonNullable:!0})],c.prototype,"tiltDirection",void 0);b.__decorate([e.property({type:Number,
nonNullable:!0})],c.prototype,"velocityFactor",void 0);return c=b.__decorate([t.subclass("esri.views.navigation.gamepad.GamepadSettings")],c)})},"esri/views/support/DefaultsFromMap":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/asyncUtils ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../geometry/support/heightModelInfoUtils ../ViewingMode ./projectionUtils".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q){a.DefaultsFromMap=function(k){function l(w){w=v.call(this,w);w.required={tileInfo:!1,heightModelInfo:!1,extent:!1};w.defaultSpatialReference=null;w.userSpatialReference=null;w.sourcePreloadCount=10;w.priorityCollection=null;w.requiresExtentInSpatialReference=!0;w.suspended=!1;w._projectExtentTask={task:null,input:null,output:null,spatialReference:null};return w}b._inherits(l,k);var v=b._createSuper(l);k=l.prototype;k.destroy=function(){this._projectExtentTask.task&&
(this._projectExtentTask.task=n.abortMaybe(this._projectExtentTask.task));this._set("map",null)};k._narrowDownSpatialReferenceCandidates=function(w,x){if(n.isNone(w))return x;const z=[];for(const B of w)for(const D of x)if(B.spatialReference.equals(D.spatialReference)){w=B.viewingMode;var A=D.viewingMode;w=n.isSome(w)?n.isSome(A)?w===A?w:!1:w:A;if(!1!==w){z.push({spatialReference:B.spatialReference,viewingMode:w});break}}return 0<z.length?z:null};k._pickSpatialReferenceCandidate=function(w){const x=
this.defaultSpatialReference;if(n.isNone(w)||1>w.length)return n.isSome(x)?{spatialReference:x,viewingMode:null}:null;n.isSome(x)&&1<w.length&&w.some(({spatialReference:z})=>z.equals(x))&&(w=w.filter(({spatialReference:z})=>z.equals(x)));1<w.length&&w.some(({viewingMode:z})=>z!==h.ViewingMode.Local)&&(w=w.filter(({viewingMode:z})=>z!==h.ViewingMode.Local));return w[0]};k._getSupportedSpatialReferences=function(w){var x="supportedSpatialReferences"in w&&w.supportedSpatialReferences||(w.spatialReference?
[w.spatialReference]:[]);if(0===x.length)return[];const z=[];for(const A of x)if(x=this.getSpatialReferenceSupport({spatialReference:A,layer:w}),n.isSome(x)){x=n.isSome(x.constraints)?x.constraints:[{spatialReference:A,viewingMode:null}];for(const {spatialReference:B,viewingMode:D}of x)(!this.requiresExtentInSpatialReference||n.isNone(this.userSpatialReference)||B.equals(this.userSpatialReference))&&z.push({spatialReference:B,viewingMode:D})}return z};k._pickExtentCandidate=function(w){const x=this.spatialReference;
return w.find(({extent:z})=>x.equals(z.spatialReference))||w[0]};k._collectLayers=function(w){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const x={layers:[],preloading:-1,updating:!1};for(const z of w)if(this._collectCollection(z,x),x.preloading===this.sourcePreloadCount)break;return{layers:x.layers,updating:x.updating}};k._collectCollection=function(w,x){if(w.layers){switch(this._loadMaybe(w.parent)){case "loading":x.updating=!0;++x.preloading;return;case "failed":return}for(const z of w.layers){switch(this._loadMaybe(z)){case "failed":continue;
case "loading":x.updating=!0;++x.preloading;break;case "loaded":x.updating||x.layers.push(z),"layers"in z&&this._collectCollection({layers:z.layers},x)}if(x.preloading===this.sourcePreloadCount)break}}};k._loadMaybe=function(w){return w&&"loadStatus"in w&&null!=w.loadStatus?"not-loaded"===w.loadStatus?(w.load().catch(()=>{}),"loading"):w.loadStatus:"loaded"};b._createClass(l,[{key:"ready",get:function(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}},
{key:"heightModelInfoReady",get:function(){return!this._heightModelInfoTask.updating}},{key:"spatialReference",get:function(){return n.isSome(this.userSpatialReference)?this.userSpatialReference:n.unwrap(this._spatialReferenceTask.spatialReference)}},{key:"extent",get:function(){return n.unwrap(this._extentTask.extent)}},{key:"heightModelInfo",get:function(){return n.unwrap(this._heightModelInfoTask.heightModelInfo)}},{key:"vcsWkid",get:function(){return n.unwrap(this._heightModelInfoTask.vcsWkid)}},
{key:"latestVcsWkid",get:function(){return n.unwrap(this._heightModelInfoTask.latestVcsWkid)}},{key:"viewingMode",get:function(){return n.isNone(this.userSpatialReference)||this.userSpatialReference.equals(n.unwrap(this._spatialReferenceTask.spatialReference))?n.unwrap(this._spatialReferenceTask.viewingMode):null}},{key:"tileInfo",get:function(){return n.unwrap(this._tileInfoTask.tileInfo)}},{key:"mapCollections",get:function(){const w=this.map?.(),x=[];n.isSome(this.priorityCollection)&&x.push(this.priorityCollection);
x.push({parent:w?.basemap,layers:w?.basemap?.baseLayers},{layers:w?.layers},{parent:w?.ground,layers:w?.ground?.layers},{parent:w?.basemap,layers:w?.basemap?.referenceLayers});return x}},{key:"_allLayers",get:function(){return this._collectLayers(this.mapCollections)}},{key:"_spatialReferenceTask",get:function(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const {layers:w,updating:x}=this._allLayers;var z=null;for(const B of w){var A=this._getSupportedSpatialReferences(B);
0<A.length&&(A=this._narrowDownSpatialReferenceCandidates(z,A),n.isSome(A)&&(z=A));if(n.isSome(z)&&1===z.length)break}if(x&&(n.isNone(z)||1!==z.length))return{updating:!0};z=this._pickSpatialReferenceCandidate(z);return{spatialReference:n.isSome(z)?z.spatialReference:null,viewingMode:n.isSome(z)?z.viewingMode:null,updating:!1}}},{key:"_tileInfoTask",get:function(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};
const {layers:w,updating:x}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(w&&0<w.length&&"tileInfo"in w[0]){const z=w[0].tileInfo;return{tileInfo:z&&z.spatialReference.equals(this.spatialReference)?z:null,updating:!1}}return{updating:x}}},{key:"_heightModelInfoTask",get:function(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??
{updating:!1};const {layers:w,updating:x}=this._allLayers;for(const z of w)if(f.supportsHeightModelInfo(z)){const A=f.deriveHeightModelInfoFromLayer(z);if(A)return{heightModelInfo:A,vcsWkid:z.spatialReference?.vcsWkid,latestVcsWkid:z.spatialReference?.latestVcsWkid,updating:!1}}return{updating:x}}},{key:"_extentCandidatesTask",get:function(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};
var w=this._allLayers;const x=w.updating,z=[];for(const B of w.layers){w="fullExtents"in B&&B.fullExtents||(n.isSome(B.fullExtent)?[B.fullExtent]:[]);var A=this.requiresExtentInSpatialReference?null:w[0];if(A=w.find(D=>D.spatialReference.equals(this.spatialReference))??A)return{candidates:[{extent:A,layer:B}],updating:!1};if(0<this._getSupportedSpatialReferences(B).length)for(const D of w)z.push({extent:D,layer:B})}return{candidates:z,updating:x}}},{key:"_extentTask",get:function(){const {candidates:w,
updating:x}=this._extentCandidatesTask;if(x)return{updating:x};if(n.isNone(w)||0===w.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const z=this._pickExtentCandidate(w),A=this.spatialReference;if(z.extent.equals(this._projectExtentTask.input)&&A.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:n.isSome(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished};n.isSome(this._projectExtentTask.task)&&
(this._projectExtentTask.task=n.abortMaybe(this._projectExtentTask.task));this._projectExtentTask={input:z.extent.clone(),output:null,spatialReference:A.clone(),task:d.createTask(async B=>{try{const D=await q.projectWithEngineOrService(z.extent,A,z.layer.portalItem,B);this._projectExtentTask={...this._projectExtentTask,task:null,output:D}}catch(D){u.isAborted(B)||(this._projectExtentTask={...this._projectExtentTask,task:null})}})};return{updating:!0}}}]);return l}(e);c.__decorate([t.property()],a.DefaultsFromMap.prototype,
"required",void 0);c.__decorate([t.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"map",void 0);c.__decorate([t.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"getSpatialReferenceSupport",void 0);c.__decorate([t.property()],a.DefaultsFromMap.prototype,"defaultSpatialReference",void 0);c.__decorate([t.property()],a.DefaultsFromMap.prototype,"userSpatialReference",void 0);c.__decorate([t.property()],a.DefaultsFromMap.prototype,"sourcePreloadCount",void 0);c.__decorate([t.property()],
a.DefaultsFromMap.prototype,"priorityCollection",void 0);c.__decorate([t.property()],a.DefaultsFromMap.prototype,"requiresExtentInSpatialReference",void 0);c.__decorate([t.property()],a.DefaultsFromMap.prototype,"suspended",void 0);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"ready",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfoReady",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"spatialReference",
null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"extent",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfo",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"vcsWkid",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"latestVcsWkid",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"viewingMode",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,
"tileInfo",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"mapCollections",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_allLayers",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_spatialReferenceTask",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_tileInfoTask",null);c.__decorate([t.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_heightModelInfoTask",null);c.__decorate([t.property({readOnly:!0})],
a.DefaultsFromMap.prototype,"_extentCandidatesTask",null);c.__decorate([t.property()],a.DefaultsFromMap.prototype,"_extentTask",null);c.__decorate([t.property()],a.DefaultsFromMap.prototype,"_projectExtentTask",void 0);a.DefaultsFromMap=c.__decorate([g.subclass("esri.views.support.DefaultsFromMap")],a.DefaultsFromMap);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/heightModelInfoUtils":function(){define("exports ../../core/has ../../core/Error ../../core/maybe ../HeightModelInfo ../../layers/support/arcgisLayerUrl".split(" "),
function(a,b,c,e,d,n){function u(q,k,l){if(!t(q)||!t(k))return f.Unsupported;if(null==q||null==k)return f.Ok;if(!l&&q.heightUnit!==k.heightUnit)return f.Units;if(q.heightModel!==k.heightModel)return f.HeightModel;switch(q.heightModel){case "gravity-related-height":return f.Ok;case "ellipsoidal":return q.vertCRS===k.vertCRS?f.Ok:f.CRS;default:return f.Unsupported}}function t(q){return null==q||null!=q.heightModel&&null!=q.heightUnit}function r(q){const k=q.url?n.parse(q.url):void 0;return(null!=q.spatialReference?.vcsWkid||
!e.isSome(k)||"ImageServer"!==k.serverType)&&"heightModelInfo"in q&&q.heightModelInfo?q.heightModelInfo:m(q)?d.deriveUnitFromSR(h,q.spatialReference):null}function p(q){if("unknown"===q.type||!("capabilities"in q))return!1;switch(q.type){case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "oriented-imagery":case "wfs":case "knowledge-graph-sublayer":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case null:return!1;
default:return!1}}function m(q){return p(q)?!!(q.capabilities&&q.capabilities.data&&q.capabilities.data.supportsZ):g(q)}function g(q){switch(q.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":case "voxel":return!0}return!1}var f;(function(q){q[q.Ok=0]="Ok";q[q.Units=1]="Units";q[q.HeightModel=2]="HeightModel";q[q.CRS=3]="CRS";q[q.Unsupported=4]="Unsupported"})(f||(f={}));const h=new d({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=
r;a.rejectLayerError=function(q,k,l){const v=r(q),w=u(v,k,l);if(v){const x=d.deriveUnitFromSR(v,q.spatialReference).heightUnit;if(!l&&x!==v.heightUnit)return k=new c("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${x})`,{horizontalUnit:x}),new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:v,error:k})}if(!("heightModelInfo"in q&&null!=q.heightModelInfo||null!=q.spatialReference)&&
m(q)||w===f.Unsupported)return new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:v});switch(w){case f.Units:return q=v?.heightUnit||"unknown",l=k?.heightUnit||"unknown",q=new c("layerview:incompatible-height-unit",`The vertical units of the layer (${q}) must match the vertical units of the scene (${l})`,{layerUnit:q,sceneUnit:l}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",
{layerHeightModelInfo:v,sceneHeightModelInfo:k,error:q});case f.HeightModel:return q=v?.heightModel||"unknown",l=k?.heightModel||"unknown",q=new c("layerview:incompatible-height-model",`The height model of the layer (${q}) must match the height model of the scene (${l})`,{layerHeightModel:q,sceneHeightModel:l}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:k,error:q});case f.CRS:return q=
v?.vertCRS||"unknown",l=k?.vertCRS||"unknown",q=new c("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${q}) must match the vertical datum of the scene (${l})`,{layerDatum:q,sceneDatum:l}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:k,error:q})}return null};a.supportsHeightModelInfo=function(q){return null!=q.layers||g(q)||p(q)||"heightModelInfo"in
q};a.validateWebSceneError=function(q,k){if(!q)return null;if(!t(q))return new c("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:q});const l=q.heightUnit;q=d.deriveUnitFromSR(q,k).heightUnit;return l!==q?new c("webscene:incompatible-height-unit",`The vertical units of the scene (${l}) must match the horizontal units of the scene (${q})`,{verticalUnit:l,horizontalUnit:q}):null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/support/projectionUtils":function(){define(["require","exports","../../core/promiseUtils","../../geometry/projection"],function(a,b,c,e){async function d(r){u||(u=(new Promise((p,m)=>a(["../../portal/support/geometryServiceUtils"],p,m))).then(p=>t=p));await u;c.throwIfAborted(r)}async function n(r,p,m,g){if(!r)return null;const f=r.spatialReference;if(e.isLoaded()||e.canProjectWithoutEngine(f,p))return e.project(r,p);if(t)return t.projectGeometry(r,p,m,g);await Promise.race([d(g),e.load(g)]);
return n(r,p,m,g)}let u=null,t;b.projectWithEngineOrService=n;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/layers/LayerView":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/HandleOwner ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h){c=function(q){function k(v){v=l.call(this,v);v.layer=null;v.parent=null;return v}a._inherits(k,q);var l=a._createSuper(k);q=k.prototype;q.initialize=function(){this.when().catch(v=>{if("layerview:create-error"!==v.name){const w=this.layer&&this.layer.id||"no id",x=this.layer&&this.layer.title||"no title";u.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${x}', id: '${w}')`,v)}})};q.canResume=function(){return this.visible&&
this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1};q.getSuspendInfo=function(){const v=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};this.view&&this.view.ready||(v.viewNotReady=!0);this.layer&&this.layer.loaded||(v.layerNotLoaded=!0);this.visible||(v.layerInvisible=!0);return v};q.isUpdating=function(){return!1};a._createClass(k,[{key:"fullOpacity",get:function(){return t.unwrapOr(this.get("layer.opacity"),1)*t.unwrapOr(this.get("parent.fullOpacity"),1)}},{key:"suspended",
get:function(){return!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){return!this.suspended&&!0===this.layer?.legendEnabled}},{key:"updating",get:function(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}},{key:"updatingProgress",get:function(){return this.updating?0:1}},{key:"visible",get:function(){return!0===this.layer?.visible},set:function(v){this._overrideIfSome("visible",v)}}]);return k}(d.HandleOwnerMixin(n.IdentifiableMixin(r.EsriPromiseMixin(e.EventedMixin(c)))));
b.__decorate([p.property()],c.prototype,"fullOpacity",null);b.__decorate([p.property()],c.prototype,"layer",void 0);b.__decorate([p.property()],c.prototype,"parent",void 0);b.__decorate([p.property({readOnly:!0})],c.prototype,"suspended",null);b.__decorate([p.property({readOnly:!0})],c.prototype,"suspendInfo",null);b.__decorate([p.property({readOnly:!0})],c.prototype,"legendEnabled",null);b.__decorate([p.property({type:Boolean,readOnly:!0})],c.prototype,"updating",null);b.__decorate([p.property({readOnly:!0})],
c.prototype,"updatingProgress",null);b.__decorate([p.property()],c.prototype,"visible",null);b.__decorate([p.property()],c.prototype,"view",void 0);return c=b.__decorate([h.subclass("esri.views.layers.LayerView")],c)})},"esri/widgets/Widget":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../intl ../core/domUtils ../core/Evented ../core/events ../core/Handles ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ./support/componentsUtils ./support/jsxWidgetSupport ./support/symbols ./support/tests ./support/vnodeCache ./support/widgetUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,c,e,d,n,u,t,r,p,m,g,f,h,q,k,l,v,w,x,z,A,B,D,y,C,F,G,E){function P(I,H){for(const L in H)null!=I[L]&&("object"===typeof I[L]&&"object"===typeof H[L]?P(I[L],H?.[L]):I[L]=H[L]);return I}let O=0;const K=z.createAdvancedProjector({postProcessProjectionOptions(I){const H=I.eventHandlerInterceptor,L=/capture$/i;I.eventHandlerInterceptor=(aa,R,S,V)=>{const ea=H?.(aa,R,S,V),ha=L.test(aa);aa=aa.replace(L,"");if(!(aa.toLowerCase()in S)||ha){const la=aa[2].toLowerCase()+aa.slice(3),ia=Z=>ea?.call(S,
Z);S.addEventListener(la,ia,ha);const Y=V.afterRemoved;V.afterRemoved=Z=>{Y?.(Z);S.removeEventListener(la,ia,ha)}}return ea}},handleInterceptedEvent(I,H,L,aa){const {eventPhase:R,type:S}=aa,V=R===Event.CAPTURING_PHASE;let ea=`on${S}${V?"capture":""}`;H=H.properties;if(!(H&&ea in H||(ea=`on${S[0].toUpperCase()}${S.slice(1)}${V?"Capture":""}`,H&&ea in H)))return;C.clearVNodeCache();I.scheduleRender();H[ea].call(H.bind||L,aa)}});let M=!1;d=function(I,H){function L(R,S){var V=aa.call(this,R,S);V._attached=
!1;V._internalHandles=new u;V._projector=K;V._readyForTrueRender=!1;V.iconClass="esri-icon-checkbox-unchecked";V.key=a._assertThisInitialized(V);V._loadLocale=f.debounce(async()=>{if(V._messageBundleProps&&V._messageBundleProps.length){const ia=await f.eachAlways(V._messageBundleProps.map(async({bundlePath:Y,propertyName:Z})=>{Y=await E.fetchMessageBundle(Y);V.uiStrings&&Object.keys(V.uiStrings)&&(Y=P(r.clone(Y),V.uiStrings));V[Z]=Y}));for(const Y of ia)Y.error&&p.getLogger(V.declaredClass).error("widget-intl:locale-error",
V.declaredClass,Y.error)}await V.loadLocale()});A.commitAssetPath();const ea="esri-widget-uid-"+q.generateUUID(),ha=V.render.bind(a._assertThisInitialized(V));V._trackingTarget=new x.SimpleTrackingTarget(()=>V.scheduleRender());const la=()=>{if(!V._readyForTrueRender||V.destroyed)return null;if(!V.visible)return{vnodeSelector:"div",properties:{key:ea,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0};const ia=ha();let {properties:Y}=ia;Y||(ia.properties=Y={});let {key:Z,styles:U}=
Y;Z||(Y.key=ea);U||(Y.styles=U={});U.display||(U.display="");let pa=0;ia.children?.forEach(xa=>{if(!B.isWidgetConstructor(xa.vnodeSelector)){var {properties:N}=xa;N||(xa.properties=N={});N.key||(N.key=`${V.id}--${pa++}`)}});return B.processWidgets(a._assertThisInitialized(V),ia)};V.render=()=>{if(M)return la();let ia=C.getVNodeCache(a._assertThisInitialized(V))??null;if(ia)return ia;V._trackingTarget.clear();M=!0;try{ia=w.runTracked(V._trackingTarget,la)}catch(Y){throw console.error(Y),Y;}finally{M=
!1}ia&&C.setVNodeCache(a._assertThisInitialized(V),ia);return ia};V.addResolvingPromise(V._resourcesFetch=V.beforeFirstRender().then(()=>{V._readyForTrueRender=!0;V._postInitialize()}));y.registerLoading(V._resourcesFetch);return V}a._inherits(L,I);var aa=a._createSuper(L);I=L.prototype;I.normalizeCtorArgs=function(R,S){R={...R};S&&(R.container=S);return R};I.postInitialize=function(){};I.beforeFirstRender=function(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(f.throwIfNotAbortError)};
I.loadDependencies=async function(){};I.loadLocale=async function(){};I.destroy=function(){this.destroyed||(m.destroyMaybe(this._trackingTarget),m.destroyMaybe(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,C.deleteVNodeCache(this))};I.castContainer=function(R){return e.byId(R)};I.render=function(){throw Error("not implemented");};I.scheduleRender=function(){this.destroyed||(C.deleteVNodeCache(this),
this._projector.scheduleRender())};I.classes=function(...R){return F.classes.apply(this,R)};I.renderNow=function(){C.deleteVNodeCache(this);this._projector.renderNow()};I._postInitialize=function(){if(!this.destroyed){this.scheduleRender();this._delegatedEventNames?.length&&this._internalHandles.add(h.watch(()=>this.viewModel,(S,V)=>{V&&this._internalHandles.remove("delegated-events");S&&n.isEventTarget(S)&&this._internalHandles.add(this._delegatedEventNames.map(ea=>n.on(S,ea,ha=>{this.emit(ea,ha)})),
"delegated-events")},h.initial));this.postInitialize();var R=async()=>{await this._loadLocale().catch(f.throwIfNotAbortError);this.scheduleRender()};this._internalHandles.add([G.onLocaleChange(R),h.watch(()=>this.uiStrings,R),h.when(()=>this.container,S=>{this.destroyed||this._attach(S)},{initial:!0,once:!0})])}};I._attach=function(R){R&&(this._projector.merge(R,this.render),this._attached=!0)};I._detach=function(R){this._attached&&(this._projector.detach(this.render),this._attached=!1);R?.parentNode?.removeChild(R)};
a._createClass(L,[{key:"container",set:function(R){this._get("container")||this._set("container",R)}},{key:"domNode",get:function(){return this.container},set:function(R){this.container=R}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+O++},set:function(R){R&&this._set("id",R)}},{key:"label",get:function(){return this.declaredClass.split(".").pop()},set:function(R){this._overrideIfSome("label",R)}},{key:"renderable",get:function(){return this._resourcesFetch}},
{key:"visible",get:function(){return this._get("visible")},set:function(R){this._set("visible",R)}},{key:H,get:function(){return{projector:this._projector}}}]);return L}(g.EsriPromiseMixin(d.EventedAccessor),(c=D.WIDGET_SYMBOL,D.WIDGET_TEST_DATA_SYMBOL));d[c]=!0;b.__decorate([k.property()],d.prototype,"_readyForTrueRender",void 0);b.__decorate([k.property({value:null})],d.prototype,"container",null);b.__decorate([l.cast("container")],d.prototype,"castContainer",null);b.__decorate([k.property()],d.prototype,
"iconClass",void 0);b.__decorate([k.property()],d.prototype,"id",null);b.__decorate([k.property()],d.prototype,"label",null);b.__decorate([k.property()],d.prototype,"renderable",null);b.__decorate([k.property()],d.prototype,"uiStrings",void 0);b.__decorate([k.property()],d.prototype,"viewModel",void 0);b.__decorate([k.property({value:!0})],d.prototype,"visible",null);b.__decorate([k.property()],d.prototype,"key",void 0);b.__decorate([k.property()],d.prototype,"children",void 0);b.__decorate([k.property()],
d.prototype,"afterCreate",void 0);b.__decorate([k.property()],d.prototype,"afterUpdate",void 0);b.__decorate([k.property()],d.prototype,"afterRemoved",void 0);return d=b.__decorate([v.subclass("esri.widgets.Widget")],d)})},"esri/core/domUtils":function(){define(["exports"],function(a){const b=(()=>{if("function"===typeof Element.prototype.closest)return(e,d)=>e.closest(d);const c=Element.prototype.matches||Element.prototype.msMatchesSelector;return(e,d)=>{do{if(c.call(e,d))return e;e=e.parentElement}while(null!==
e&&1===e.nodeType);return null}})();a.byId=function(c){return"string"===typeof c?document.getElementById(c):c??null};a.closest=b;a.empty=function(c){for(;c.hasChildNodes();)c.removeChild(c.firstChild)};a.insertAfter=function(c,e){const d=e.parentNode;d&&(d.lastChild===e?d.appendChild(c):d.insertBefore(c,e.nextSibling))};a.insertBefore=function(c,e){const d=e.parentNode;d&&d.insertBefore(c,e)};a.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};a.reparent=function(c,e){for(;;){const d=
c.firstChild;if(!d)break;e.appendChild(d)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/uuid":function(){define(["exports"],function(a){const b="randomUUID"in crypto;a.generateUUID=function(){if(b)return crypto.randomUUID();const c=crypto.getRandomValues(new Uint16Array(8));c[3]=c[3]&4095|16384;c[4]=c[4]&16383|32768;const e=d=>c[d].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/libs/maquette-advanced-projector/projector":function(){define(["exports","../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,c,e,d){const n=(r,p)=>{const m=[];for(;r&&r!==p;)m.push(r),r=r.parentNode;return m},u=(r,p)=>r.find(p),t=(r,p,m=!1)=>{let g=r;p.forEach((f,h)=>{const q=g?.children?u(g.children,k=>k.domNode===f):void 0;if(!m||q||h===p.length-1)g=q});return g};a.createAdvancedProjector=r=>{let p;const m={...e.defaultAdvancedProjectorOptions,
...r},g=d.applyDefaultProjectionOptions(m),f=g.performanceLogger;let h=!0,q,k=!1;const l=[],v=[],w=(z,A,B)=>{let D;g.eventHandlerInterceptor=(C,F,G,E)=>function(P){f("domEvent",P);var O=n(P.currentTarget,D.domNode);const K=O.some(I=>customElements.get(I?.tagName?.toLowerCase()));P.eventPhase!==Event.CAPTURING_PHASE&&K?(O=P.composedPath(),O=O.slice(O.indexOf(P.currentTarget),O.indexOf(D.domNode)).filter(I=>I.getRootNode()===I.ownerDocument).reverse(),O=t(D.getLastRender(),O,!0)):(O.reverse(),O=t(D.getLastRender(),
O));let M;O&&(M=m.handleInterceptedEvent(p,O,this,P));f("domEventProcessed",P);return M};m.postProcessProjectionOptions?.(g);const y=B();D=z(A,y,g);l.push(D);v.push(B);m.afterFirstVNodeRendered&&m.afterFirstVNodeRendered(D,y)};let x=()=>{q=void 0;if(h){h=!1;f("renderStart",void 0);for(let z=0;z<l.length;z++){const A=v[z]();f("rendered",void 0);l[z].update(A);f("patched",void 0)}f("renderDone",void 0);h=!0}};m.modifyDoRenderImplementation&&(x=m.modifyDoRenderImplementation(x,l,v));return p={renderNow:x,
scheduleRender:()=>{q||k||(q=requestAnimationFrame(x))},stop:()=>{q&&(cancelAnimationFrame(q),q=void 0);k=!0},resume:()=>{k=!1;h=!0;p.scheduleRender()},append:(z,A)=>{w(b.dom.append,z,A)},insertBefore:(z,A)=>{w(b.dom.insertBefore,z,A)},merge:(z,A)=>{w(b.dom.merge,z,A)},replace:(z,A)=>{w(b.dom.replace,z,A)},detach:z=>{for(let A=0;A<v.length;A++)if(v[A]===z)return v.splice(A,1),l.splice(A,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,b){const c={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,d,n)=>{"-"===d.charAt(0)?e.style.setProperty(d,n):e.style[d]=n}};a.applyDefaultProjectionOptions=e=>b.extend(c,e);a.dom={create:(e,d)=>{d=b.extend(c,d);b.createDom(e,document.createElement("div"),void 0,d);return b.createProjection(e,d)},append:(e,d,n)=>{n=b.extend(c,n);b.createDom(d,e,void 0,n);return b.createProjection(d,
n)},insertBefore:(e,d,n)=>{n=b.extend(c,n);b.createDom(d,e.parentNode,e,n);return b.createProjection(d,n)},merge:(e,d,n)=>{n=b.extend(c,n);d.domNode=e;b.initPropertiesAndChildren(e,d,n);return b.createProjection(d,n)},replace:(e,d,n)=>{n=b.extend(c,n);b.createDom(d,e.parentNode,e,n);e.parentNode.removeChild(e);return b.createProjection(d,n)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projection":function(){define(["exports","../../widgets/support/widgetUtils"],
function(a,b){function c(x){if(!(x instanceof Element&&x.tagName.includes("-")))return!1;const z=window.customElements.get(x.tagName.toLowerCase());return!!z&&x instanceof z}let e=[],d=(x,z)=>{let A={};Object.keys(x).forEach(B=>{A[B]=x[B]});z&&Object.keys(z).forEach(B=>{A[B]=z[B]});return A},n=(x,z)=>x.vnodeSelector!==z.vnodeSelector?!1:x.properties&&z.properties?x.properties.key!==z.properties.key?!1:x.properties.bind===z.properties.bind:!x.properties&&!z.properties,u=x=>{if("string"!==typeof x)throw Error("Style values must be strings");
},t=(x,z,A,B)=>{let D=x[z];if(""!==D.vnodeSelector){var y=D.properties;if(!(y&&(void 0===y.key?y.bind:y.key)))for(y=0;y<x.length;y++)if(y!==z&&n(x[y],D))throw Error(`${A.vnodeSelector} had a ${D.vnodeSelector} child ${"added"===B?B:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},r=[],p=!1,m=x=>{(x.children||[]).forEach(m);x.properties&&x.properties.afterRemoved&&x.properties.afterRemoved.apply(x.properties.bind||x.properties,[x.domNode])},
g=()=>{p=!1;r.forEach(m);r.length=0},f=x=>{r.push(x);p||(p=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(g,{timeout:16}):setTimeout(g,16))},h=x=>{let z=x.domNode;if(x.properties){let A=x.properties.exitAnimation;if(A){z.style.pointerEvents="none";A(z,()=>{z.parentNode&&(z.parentNode.removeChild(z),f(x))},x.properties);return}}z.parentNode&&(z.parentNode.removeChild(z),f(x))},q=(x,z,A)=>{if(z){var B=A.eventHandlerInterceptor,D=Object.keys(z),y=D.length;for(let P=
0;P<y;P++){var C=D[P];let O=z[C];if("className"===C)throw Error('Property "className" is not supported, use "class".');if("class"===C)w(x,O,!0);else if("classes"===C){C=Object.keys(O);var F=C.length;for(var G=0;G<F;G++){var E=C[G];O[E]&&x.classList.add(E)}}else if("styles"===C)for(C=Object.keys(O),F=C.length,G=0;G<F;G++){E=C[G];let K=O[E];K&&(u(K),A.styleApplyer(x,E,K))}else"key"!==C&&null!==O&&void 0!==O&&(F=typeof O,"function"===F?(0===C.lastIndexOf("on",0)&&(B&&(O=B(C,O,x,z)),"oninput"===C&&function(){let K=
O;O=function(M){K.apply(this,[M]);M.target["oninput-value"]=M.target.value}}()),x[C]=O):"http://www.w3.org/2000/svg"===A.namespace?"href"===C?x.setAttributeNS("http://www.w3.org/1999/xlink",C,O):x.setAttribute(C,O):"string"===F&&"value"!==C?"innerHTML"===C?x[C]=b.renderingSanitizer.sanitize(O):c(x)&&C in x?x[C]=O:x.setAttribute(C,O):x[C]=O)}}},k=(x,z,A)=>{var B=z.children;if(B)for(let D of B)l(D,x,void 0,A);z.text&&(x.textContent=z.text);q(x,z.properties,A);z.properties&&z.properties.afterCreate&&
z.properties.afterCreate.apply(z.properties.bind||z.properties,[x,A,z.vnodeSelector,z.properties,z.children])},l=(x,z,A,B)=>{let D;var y=0;let C=x.vnodeSelector,F=z.ownerDocument;if(""===C)D=x.domNode=F.createTextNode(x.text),void 0!==A?z.insertBefore(D,A):z.appendChild(D);else{for(let E=0;E<=C.length;++E){var G=C.charAt(E);if(E===C.length||"."===G||"#"===G)G=C.charAt(y-1),y=C.slice(y,E),"."===G?D.classList.add(y):"#"===G?D.id=y:("svg"===y&&(B=d(B,{namespace:"http://www.w3.org/2000/svg"})),void 0!==
B.namespace?D=x.domNode=F.createElementNS(B.namespace,y):(D=x.domNode=x.domNode||F.createElement(y),"input"===y&&x.properties&&void 0!==x.properties.type&&D.setAttribute("type",x.properties.type)),void 0!==A?z.insertBefore(D,A):D.parentNode!==z&&z.appendChild(D)),y=E+1}k(D,x,B)}},v,w=(x,z,A)=>{z&&z.split(" ").forEach(B=>{B&&x.classList.toggle(B,A)})};v=(x,z,A)=>{let B=x.domNode;if(x===z)return!1;let D=!1;if(""===z.vnodeSelector){if(z.text!==x.text)return x=B.ownerDocument.createTextNode(z.text),B.parentNode.replaceChild(x,
B),z.domNode=x,!0;z.domNode=B}else{0===z.vnodeSelector.lastIndexOf("svg",0)&&(A=d(A,{namespace:"http://www.w3.org/2000/svg"}));x.text!==z.text&&(D=!0,void 0===z.text?B.removeChild(B.firstChild):B.textContent=z.text);z.domNode=B;var y=x.children;var C=z.children,F=A;if(y===C)y=!1;else{y=y||e;C=C||e;for(var G=y.length,E=C.length,P=0,O=0,K=!1;O<E;){var M=P<G?y[P]:void 0,I=C[O];if(void 0!==M&&n(M,I))K=v(M,I,F)||K,P++;else{b:{M=y;var H=I,L=P+1;if(""!==H.vnodeSelector)for(;L<M.length;L++)if(n(M[L],H)){M=
L;break b}M=-1}if(0<=M){for(;P<M;P++)h(y[P]),t(y,P,z,"removed");K=v(y[M],I,F)||K;P=M+1}else l(I,B,P<G?y[P].domNode:void 0,F),I.properties&&(M=I.properties.enterAnimation)&&M(I.domNode,I.properties),t(C,O,z,"added")}O++}if(G>P)for(;P<G;P++)h(y[P]),t(y,P,z,"removed");y=K}D=y||D;y=x.properties;C=z.properties;F=A;if(C){G=!1;E=Object.keys(C);O=E.length;for(K=0;K<O;K++)if(M=E[K],I=C[M],P=y[M],"class"===M)P!==I&&(w(B,P,!1),w(B,I,!0));else if("classes"===M){M=B.classList;H=Object.keys(I);L=H.length;for(var aa=
0;aa<L;aa++){var R=H[aa];let S=!!I[R];S!==!!P[R]&&(G=!0,S?M.add(R):M.remove(R))}}else if("styles"===M)for(M=Object.keys(I),H=M.length,L=0;L<H;L++)aa=M[L],R=I[aa],R!==P[aa]&&(G=!0,R?(u(R),F.styleApplyer(B,aa,R)):F.styleApplyer(B,aa,""));else I||"string"!==typeof P||(I=""),"value"===M?(H=B[M],H!==I&&(B["oninput-value"]?H===B["oninput-value"]:I!==P)&&(B[M]=I,B["oninput-value"]=void 0),I!==P&&(G=!0)):I!==P&&(P=typeof I,"function"===P&&F.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===F.namespace?
"href"===M?B.setAttributeNS("http://www.w3.org/1999/xlink",M,I):B.setAttribute(M,I):"string"===P?"innerHTML"===M?B[M]=b.renderingSanitizer.sanitize(I):"role"===M&&""===I?B.removeAttribute(M):c(B)&&M in B?B[M]=I:B.setAttribute(M,I):B[M]!==I&&(B[M]=I),G=!0));y=G}else y=void 0;D=y||D;z.properties&&z.properties.afterUpdate&&z.properties.afterUpdate.apply(z.properties.bind||z.properties,[B,A,z.vnodeSelector,z.properties,z.children])}D&&z.properties&&z.properties.updateAnimation&&z.properties.updateAnimation(B,
z.properties,x.properties);return!1};a.createDom=l;a.createProjection=(x,z)=>({getLastRender:()=>x,update:A=>{if(x.vnodeSelector!==A.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let B=x;x=A;v(B,A,z)},domNode:x.domNode});a.extend=d;a.initPropertiesAndChildren=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widgetUtils":function(){define("exports ../../core/ArrayPool ../../core/handleUtils ../../core/has ../../core/Logger ./vnodeCache".split(" "),
function(a,b,c,e,d,n){function u(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,
"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,
"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,
"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,
cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,
"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,
"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,
"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,
"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,
"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,
"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,
"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,
"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function t(da){da=da||{};var ra={},wa;for(wa in da)ra[wa]=da[wa];da=ra;da.whiteList=da.whiteList||K.whiteList;da.onAttr=da.onAttr||K.onAttr;da.onIgnoreAttr=da.onIgnoreAttr||K.onIgnoreAttr;da.safeAttrValue=da.safeAttrValue||K.safeAttrValue;this.options=da}function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),
b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],
summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function p(da){return da.replace(R,"\x26lt;").replace(S,"\x26gt;")}function m(da){return da.replace(V,
"\x26quot;")}function g(da){return da.replace(ea,'"')}function f(da){return da.replace(ha,function(ra,wa){return"x"===wa[0]||"X"===wa[0]?String.fromCharCode(parseInt(wa.substr(1),16)):String.fromCharCode(parseInt(wa,10))})}function h(da){return da.replace(la,":").replace(ia," ")}function q(da){for(var ra="",wa=0,Ia=da.length;wa<Ia;wa++)ra+=32>da.charCodeAt(wa)?" ":da.charAt(wa);return L.trim(ra)}function k(da){da=g(da);da=f(da);da=h(da);return da=q(da)}function l(da){da=m(da);return da=p(da)}function v(da,
ra){for(;ra<da.length;ra++){var wa=da[ra];if(" "!==wa)return"\x3d"===wa?ra:-1}}function w(da,ra){for(;ra<da.length;ra++){var wa=da[ra];if(" "!==wa)return"'"===wa||'"'===wa?ra:-1}}function x(da,ra){for(;0<ra;ra--){var wa=da[ra];if(" "!==wa)return"\x3d"===wa?ra:-1}}function z(da){var ra='"'===da[0]&&'"'===da[da.length-1]||"'"===da[0]&&"'"===da[da.length-1]?!0:!1;return ra?da.substr(1,da.length-2):da}function A(da){var ra=Fa.spaceIndex(da);if(-1===ra)return{html:"",closing:"/"===da[da.length-2]};da=
Fa.trim(da.slice(ra+1,-1));(ra="/"===da[da.length-1])&&(da=Fa.trim(da.slice(0,-1)));return{html:da,closing:ra}}function B(da){var ra={},wa;for(wa in da)Array.isArray(da[wa])?ra[wa.toLowerCase()]=da[wa].map(function(Ia){return Ia.toLowerCase()}):ra[wa.toLowerCase()]=da[wa];return ra}function D(da){da=da||{};var ra={},wa;for(wa in da)ra[wa]=da[wa];da=ra;da.stripIgnoreTag&&(da.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),da.onIgnoreTag=
T.onIgnoreTagStripAll);da.whiteList=da.whiteList||da.allowList?B(da.whiteList||da.allowList):T.whiteList;da.onTag=da.onTag||T.onTag;da.onTagAttr=da.onTagAttr||T.onTagAttr;da.onIgnoreTag=da.onIgnoreTag||T.onIgnoreTag;da.onIgnoreTagAttr=da.onIgnoreTagAttr||T.onIgnoreTagAttr;da.safeAttrValue=da.safeAttrValue||T.safeAttrValue;da.escapeHtml=da.escapeHtml||T.escapeHtml;this.options=da;!1===da.css?this.cssFilter=!1:(da.css=da.css||{},this.cssFilter=new N(da.css))}function y(da){da=da?.closest("[dir]");return null!==
da&&da instanceof HTMLElement&&"rtl"===da.dir||"rtl"===document.dir}var C=function(da){if("object"!==typeof da||null===da||"[object Object]"!==Object.prototype.toString.call(da))return!1;var ra=Object.getPrototypeOf(da);if(null===ra)return!0;for(;null!==Object.getPrototypeOf(ra);)ra=Object.getPrototypeOf(ra);return Object.getPrototypeOf(da)===ra},F={exports:{}},G={};e={exports:{}};var E={},P=/javascript\s*:/gim;E.whiteList=u();E.getDefaultWhiteList=u;E.onAttr=function(da,ra,wa){};E.onIgnoreAttr=function(da,
ra,wa){};E.safeAttrValue=function(da,ra){return P.test(ra)?"":ra};var O={indexOf:function(da,ra){var wa;if(Array.prototype.indexOf)return da.indexOf(ra);var Ia=0;for(wa=da.length;Ia<wa;Ia++)if(da[Ia]===ra)return Ia;return-1},forEach:function(da,ra,wa){var Ia;if(Array.prototype.forEach)return da.forEach(ra,wa);var Oa=0;for(Ia=da.length;Oa<Ia;Oa++)ra.call(wa,da[Oa],Oa,da)},trim:function(da){return String.prototype.trim?da.trim():da.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(da){return String.prototype.trimRight?
da.trimRight():da.replace(/(\s*$)/g,"")}},K=E,M=function(da,ra){function wa(){if(!Oa){var Na=O.trim(da.slice(ma,ta)),Va=Na.indexOf(":");if(-1!==Va){var Xa=O.trim(Na.slice(0,Va));Va=O.trim(Na.slice(Va+1));Xa&&(Na=ra(ma,Ga.length,Xa,Va,Na))&&(Ga+=Na+"; ")}}ma=ta+1}da=O.trimRight(da);";"!==da[da.length-1]&&(da+=";");for(var Ia=da.length,Oa=!1,ma=0,ta=0,Ga="";ta<Ia;ta++){var Aa=da[ta];if("/"===Aa&&"*"===da[ta+1]){Aa=da.indexOf("*/",ta+2);if(-1===Aa)break;ta=Aa+1;ma=ta+1;Oa=!1}else"("===Aa?Oa=!0:")"===
Aa?Oa=!1:";"===Aa?Oa||wa():"\n"===Aa&&wa()}return O.trim(Ga)};t.prototype.process=function(da){da=(da||"").toString();if(!da)return"";var ra=this.options,wa=ra.whiteList,Ia=ra.onAttr,Oa=ra.onIgnoreAttr,ma=ra.safeAttrValue;return M(da,function(ta,Ga,Aa,Na,Va){var Xa=wa[Aa],$a=!1;!0===Xa?$a=Xa:"function"===typeof Xa?$a=Xa(Na):Xa instanceof RegExp&&($a=Xa.test(Na));!0!==$a&&($a=!1);if(Na=ma(Aa,Na)){ta={position:Ga,sourcePosition:ta,source:Va,isWhite:$a};if($a)return $a=Ia(Aa,Na,ta),void 0===$a||null===
$a?Aa+":"+Na:$a;$a=Oa(Aa,Na,ta);if(void 0!==$a&&null!==$a)return $a}})};(function(da,ra){ra=da.exports=function(Ia,Oa){return(new t(Oa)).process(Ia)};ra.FilterCSS=t;for(var wa in E)ra[wa]=E[wa]})(e,e.exports);var I={indexOf:function(da,ra){var wa;if(Array.prototype.indexOf)return da.indexOf(ra);var Ia=0;for(wa=da.length;Ia<wa;Ia++)if(da[Ia]===ra)return Ia;return-1},forEach:function(da,ra,wa){var Ia;if(Array.prototype.forEach)return da.forEach(ra,wa);var Oa=0;for(Ia=da.length;Oa<Ia;Oa++)ra.call(wa,
da[Oa],Oa,da)},trim:function(da){return String.prototype.trim?da.trim():da.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(da){return(da=/\s|\n|\t/.exec(da))?da.index:-1}},H=e.exports.getDefaultWhiteList,L=I,aa=new e.exports.FilterCSS,R=/</g,S=/>/g,V=/"/g,ea=/&quot;/g,ha=/&#([a-zA-Z0-9]*);?/gim,la=/&colon;?/gim,ia=/&newline;?/gim,Y=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Z=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,U=/u\s*r\s*l\s*\(.*/gi;G.whiteList=
r();G.getDefaultWhiteList=r;G.onTag=function(da,ra,wa){};G.onIgnoreTag=function(da,ra,wa){};G.onTagAttr=function(da,ra,wa){};G.onIgnoreTagAttr=function(da,ra,wa){};G.safeAttrValue=function(da,ra,wa,Ia){wa=k(wa);if("href"===ra||"src"===ra){wa=L.trim(wa);if("#"===wa)return"#";if("http://"!==wa.substr(0,7)&&"https://"!==wa.substr(0,8)&&"mailto:"!==wa.substr(0,7)&&"tel:"!==wa.substr(0,4)&&"data:image/"!==wa.substr(0,11)&&"ftp://"!==wa.substr(0,6)&&"./"!==wa.substr(0,2)&&"../"!==wa.substr(0,3)&&"#"!==
wa[0]&&"/"!==wa[0])return""}else if("background"===ra){if(Y.lastIndex=0,Y.test(wa))return""}else if("style"===ra){Z.lastIndex=0;if(Z.test(wa))return"";U.lastIndex=0;if(U.test(wa)&&(Y.lastIndex=0,Y.test(wa)))return"";!1!==Ia&&(Ia=Ia||aa,wa=Ia.process(wa))}return wa=l(wa)};G.escapeHtml=p;G.escapeQuote=m;G.unescapeQuote=g;G.escapeHtmlEntities=f;G.escapeDangerHtml5Entities=h;G.clearNonPrintableCharacter=q;G.friendlyAttrValue=k;G.escapeAttrValue=l;G.onIgnoreTagStripAll=function(){return""};G.StripTagBody=
function(da,ra){"function"!==typeof ra&&(ra=function(){});var wa=!Array.isArray(da),Ia=[],Oa=!1;return{onIgnoreTag:function(ma,ta,Ga){var Aa=wa?!0:-1!==L.indexOf(da,ma);if(Aa){if(Ga.isClosing)return Ia.push([!1!==Oa?Oa:Ga.position,Ga.position+10]),Oa=!1,"[/removed]";Oa||(Oa=Ga.position);return"[removed]"}return ra(ma,ta,Ga)},remove:function(ma){var ta="",Ga=0;L.forEach(Ia,function(Aa){ta+=ma.slice(Ga,Aa[0]);Ga=Aa[1]});return ta+=ma.slice(Ga)}}};G.stripCommentTag=function(da){for(var ra="",wa=0;wa<
da.length;){var Ia=da.indexOf("\x3c!--",wa);if(-1===Ia){ra+=da.slice(wa);break}ra+=da.slice(wa,Ia);wa=da.indexOf("--\x3e",Ia);if(-1===wa)break;wa+=3}return ra};G.stripBlankChar=function(da){da=da.split("");da=da.filter(function(ra){ra=ra.charCodeAt(0);return 127===ra?!1:31>=ra?10===ra||13===ra?!0:!1:!0});return da.join("")};G.cssFilter=aa;G.getDefaultCSSWhiteList=H;var pa={},xa=/[^a-zA-Z0-9\\_:.-]/gim;pa.parseTag=function(da,ra,wa){var Ia="",Oa=0,ma=!1,ta=!1,Ga=0,Aa=da.length,Na="",Va="";Ga=0;a:for(;Ga<
Aa;Ga++)if(Va=da.charAt(Ga),!1===ma)"\x3c"===Va&&(ma=Ga);else if(!1===ta)if("\x3c"===Va)Ia+=wa(da.slice(Oa,Ga)),Oa=ma=Ga;else if("\x3e"===Va)Ia+=wa(da.slice(Oa,ma)),Va=da.slice(ma,Ga+1),Oa=void 0,Oa=Va,Na=I.spaceIndex(Oa),Oa=-1===Na?Oa.slice(1,-1):Oa.slice(1,Na+1),Oa=I.trim(Oa).toLowerCase(),"/"===Oa.slice(0,1)&&(Oa=Oa.slice(1)),"/"===Oa.slice(-1)&&(Oa=Oa.slice(0,-1)),Na=Oa,Ia+=ra(ma,Ia.length,Na,Va,"\x3c/"===Va.slice(0,2)),Oa=Ga+1,ma=!1;else{if('"'===Va||"'"===Va){Na=1;for(var Xa=da.charAt(Ga-Na);""===
Xa.trim()||"\x3d"===Xa;){if("\x3d"===Xa){ta=Va;continue a}Xa=da.charAt(Ga-++Na)}}}else Va===ta&&(ta=!1);Oa<da.length&&(Ia+=wa(da.substr(Oa)));return Ia};pa.parseAttr=function(da,ra){function wa(Va,Xa){Va=I.trim(Va);Va=Va.replace(xa,"").toLowerCase();1>Va.length||(Va=ra(Va,Xa||""))&&ma.push(Va)}for(var Ia=0,Oa=0,ma=[],ta=!1,Ga=da.length,Aa=0;Aa<Ga;Aa++){var Na=da.charAt(Aa);if(!1===ta&&"\x3d"===Na)ta=da.slice(Ia,Aa),Ia=Aa+1,Oa='"'===da.charAt(Ia)||"'"===da.charAt(Ia)?Ia:w(da,Aa+1);else{if(!1!==ta&&
Aa===Oa)if(Na=da.indexOf(Na,Aa+1),-1===Na)break;else{Ia=I.trim(da.slice(Oa+1,Na));wa(ta,Ia);ta=!1;Aa=Na;Ia=Aa+1;continue}/\s|\n|\t/.test(Na)&&(da=da.replace(/\s|\n|\t/g," "),!1===ta?(Na=v(da,Aa),-1===Na?(Ia=I.trim(da.slice(Ia,Aa)),wa(Ia),ta=!1,Ia=Aa+1):Aa=Na-1):(Na=x(da,Aa-1),-1===Na&&(Ia=I.trim(da.slice(Ia,Aa)),Ia=z(Ia),wa(ta,Ia),ta=!1,Ia=Aa+1)))}}Ia<da.length&&(!1===ta?wa(da.slice(Ia)):wa(ta,z(I.trim(da.slice(Ia)))));return I.trim(ma.join(" "))};var N=e.exports.FilterCSS,T=G,qa=pa.parseTag,Ca=pa.parseAttr,
Fa=I;D.prototype.process=function(da){da=(da||"").toString();if(!da)return"";var ra=this.options,wa=ra.whiteList,Ia=ra.onTag,Oa=ra.onIgnoreTag,ma=ra.onTagAttr,ta=ra.onIgnoreTagAttr,Ga=ra.safeAttrValue,Aa=ra.escapeHtml,Na=this.cssFilter;ra.stripBlankChar&&(da=T.stripBlankChar(da));ra.allowCommentTag||(da=T.stripCommentTag(da));var Va=!1;ra.stripIgnoreTagBody&&(Va=T.StripTagBody(ra.stripIgnoreTagBody,Oa),Oa=Va.onIgnoreTag);da=qa(da,function(Xa,$a,bb,Sa,db){Xa={sourcePosition:Xa,position:$a,isClosing:db,
isWhite:Object.prototype.hasOwnProperty.call(wa,bb)};$a=Ia(bb,Sa,Xa);if(void 0!==$a&&null!==$a)return $a;if(Xa.isWhite){if(Xa.isClosing)return"\x3c/"+bb+"\x3e";Xa=A(Sa);var eb=wa[bb];$a=Ca(Xa.html,function(Da,Ja){var Za=-1!==Fa.indexOf(eb,Da),ya=ma(bb,Da,Ja,Za);if(void 0!==ya&&null!==ya)return ya;if(Za)return(Ja=Ga(bb,Da,Ja,Na))?Da+'\x3d"'+Ja+'"':Da;ya=ta(bb,Da,Ja,Za);if(void 0!==ya&&null!==ya)return ya});Sa="\x3c"+bb;$a&&(Sa+=" "+$a);Xa.closing&&(Sa+=" /");return Sa+"\x3e"}$a=Oa(bb,Sa,Xa);return void 0!==
$a&&null!==$a?$a:Aa(Sa)},Aa);Va&&(da=Va.remove(da));return da};(function(da,ra){function wa(Oa,ma){return(new Ia(ma)).process(Oa)}var Ia=D;ra=da.exports=wa;ra.filterXSS=wa;ra.FilterXSS=Ia;(function(){for(var Oa in G)ra[Oa]=G[Oa];for(var ma in pa)ra[ma]=pa[ma]})();"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=da.exports)})(F,F.exports);e=function(){function da(ra,wa){var Ia=this;this.arcgisWhiteList={a:["href",
"style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),
tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),th:"align colspan height nowrap rowspan style valign width".split(" "),u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");
this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(ma,ta,Ga,Aa){return"a"===ma&&"href"===ta||("img"===ma||"source"===ma)&&"src"===ta?Ia.sanitizeUrl(Ga):F.exports.safeAttrValue(ma,ta,Ga,Aa)}};this._entityMap={"\x26":"\x26#x38;","\x3c":"\x26#x3C;","\x3e":"\x26#x3E;",'"':"\x26#x22;","'":"\x26#x27;","/":"\x26#x2F;"};if(ra&&!wa)var Oa=ra;else ra&&wa?(Oa=Object.create(this.arcgisFilterOptions),Object.keys(ra).forEach(function(ma){"whiteList"===ma?Oa.whiteList=Ia._extendObjectOfArrays([Ia.arcgisWhiteList,
ra.whiteList||{}]):Oa[ma]=ra[ma]})):(Oa=Object.create(this.arcgisFilterOptions),Oa.whiteList=this.arcgisWhiteList);this.xssFilterOptions=Oa;this._xssFilter=new F.exports.FilterXSS(Oa)}da.prototype.sanitize=function(ra,wa){void 0===wa&&(wa={});switch(typeof ra){case "number":return isNaN(ra)||!isFinite(ra)?null:ra;case "boolean":return ra;case "string":return this._xssFilter.process(ra);case "object":return this._iterateOverObject(ra,wa);default:if(!wa.allowUndefined||"undefined"!==typeof ra)return null}};
da.prototype.sanitizeUrl=function(ra,wa){wa=(null!==wa&&void 0!==wa?wa:{}).isProtocolRequired;wa=void 0===wa?!0:wa;var Ia=this._trim(ra.substring(0,ra.indexOf(":"))),Oa="/"===ra,ma=/^#/.test(ra),ta=Ia&&-1<this.allowedProtocols.indexOf(Ia.toLowerCase());return Oa||ma||ta?F.exports.escapeAttrValue(ra):Ia||wa?"":F.exports.escapeAttrValue("https://".concat(ra))};da.prototype.sanitizeHTMLAttribute=function(ra,wa,Ia,Oa){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(ra,
wa,Ia,Oa):F.exports.safeAttrValue(ra,wa,Ia,Oa)};da.prototype.validate=function(ra,wa){void 0===wa&&(wa={});wa=this.sanitize(ra,wa);return{isValid:ra===wa,sanitized:wa}};da.prototype.encodeHTML=function(ra){var wa=this;return String(ra).replace(/[&<>"'\/]/g,function(Ia){return wa._entityMap[Ia]})};da.prototype.encodeAttrValue=function(ra){var wa=/^[a-zA-Z0-9]$/;return String(ra).replace(/[\x00-\xFF]/g,function(Ia,Oa){return wa.test(Ia)?Ia:"\x26#x".concat(Number(ra.charCodeAt(Oa)).toString(16),";")})};
da.prototype._extendObjectOfArrays=function(ra){var wa={};ra.forEach(function(Ia){Object.keys(Ia).forEach(function(Oa){Array.isArray(Ia[Oa])&&Array.isArray(wa[Oa])?wa[Oa]=wa[Oa].concat(Ia[Oa]):wa[Oa]=Ia[Oa]})});return wa};da.prototype._iterateOverObject=function(ra,wa){var Ia=this;void 0===wa&&(wa={});try{var Oa=!1,ma=void 0;if(Array.isArray(ra))ma=ra.reduce(function(ta,Ga){var Aa=Ia.validate(Ga,wa);if(Aa.isValid)return ta.concat([Ga]);Oa=!0;return ta.concat([Aa.sanitized])},[]);else if(C(ra))ma=
Object.keys(ra).reduce(function(ta,Ga){var Aa=ra[Ga],Na=Ia.validate(Aa,wa);Na.isValid?ta[Ga]=Aa:(Oa=!0,ta[Ga]=Na.sanitized);return ta},{});else return wa.allowUndefined&&"undefined"===typeof ra?void 0:null;return Oa?ma:ra}catch(ta){return null}};da.prototype._trim=function(ra){return String.prototype.trim?ra.trim():ra.replace(/(^\s*)|(\s*$)/g,"")};return da}();var fa,ba,ka=function(da){if("WebkitTransition"in da.style)fa="webkitTransitionEnd",ba="webkitAnimationEnd";else if("transition"in da.style)fa=
"transitionend",ba="animationend";else throw Error("Your browser is not supported!");},X=function(da,ra){void 0===ra&&(ra=da+"-active");return function(wa){fa||ka(wa);var Ia=!1,Oa=function(ma){Ia||(Ia=!0,wa.removeEventListener(fa,Oa),wa.removeEventListener(ba,Oa),wa.classList.remove(da),wa.classList.remove(ra))};wa.classList.add(da);wa.addEventListener(fa,Oa);wa.addEventListener(ba,Oa);requestAnimationFrame(function(){wa.classList.add(ra)})}},Q=function(da,ra){void 0===ra&&(ra=da+"-active");return function(wa,
Ia){fa||ka(wa);var Oa=!1,ma=function(ta){Oa||(Oa=!0,wa.removeEventListener(fa,ma),wa.removeEventListener(ba,ma),Ia())};wa.classList.add(da);wa.addEventListener(fa,ma);wa.addEventListener(ba,ma);requestAnimationFrame(function(){wa.classList.add(ra)})}};const ca=d.getLogger("esri.widgets.support.widgetUtils");d=(()=>{const da=new Map,ra=new ResizeObserver(wa=>{n.clearVNodeCache();for(const Ia of wa)da.get(Ia.target)?.(Ia)});return(wa,Ia,Oa)=>{da.has(wa)&&ca.error("Already observing element",wa);da.set(wa,
Ia);ra.observe(wa,Oa);return c.makeHandle(()=>{ra.unobserve(wa);da.delete(wa)})}})();H="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");const ja=H.reduce((da,ra)=>{da[ra]=[];return da},{}),ua="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");
e=new e({whiteList:ja,onTagAttr:(da,ra,wa)=>{da=`${ra}="${wa}"`;if(ua.includes(ra))return da},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);a.additionalAllowedTags=H;a.classes=function(da){const ra=b.acquire();for(var wa=0;wa<arguments.length;wa++){const Ia=arguments[wa],Oa=typeof Ia;if("string"===Oa)ra.push(Ia);else if(Array.isArray(Ia))ra.push.apply(ra,Ia);else if("object"===Oa)for(const ma in Ia)Ia[ma]&&ra.push(ma)}wa=ra.join(" ");b.release(ra);return wa};a.cssTransition=function(da,
ra){return("enter"===da?X:Q)(ra)};a.discardNode=function(da){this[da.getAttribute("data-node-ref")]=null};a.getDir=function(da){return y(da)?"rtl":"ltr"};a.isActivationKey=function(da){return"Enter"===da||" "===da};a.isRTL=y;a.keepMenuItemWithinView=function(da,ra){const wa=da.getBoundingClientRect();ra=ra.getBoundingClientRect();const Ia=wa.top,Oa=ra.top;(wa.top+wa.height>ra.top+ra.height||Ia<Oa)&&da.scrollIntoView({block:"end"})};a.onResize=d;a.renderingSanitizer=e;a.safeAttrs=ua;a.storeNode=function(da){this[da.getAttribute("data-node-ref")]=
da};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/vnodeCache":function(){define(["exports"],function(a){const b=new Map;a.clearVNodeCache=function(){b.clear()};a.deleteVNodeCache=function(c){b.delete(c)};a.getVNodeCache=function(c){return b.get(c)};a.setVNodeCache=function(c,e){b.set(c,e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,b){let c;c=Array.prototype.find?
(n,u)=>n.find(u):(n,u)=>n.filter(u)[0];let e=(n,u)=>{let t=n;u.forEach(r=>{t=t&&t.children?c(t.children,p=>p.domNode===r):void 0});return t},d=(n,u,t)=>{let r=function(p){t("domEvent",p);var m=u(),g=p.currentTarget,f=m.domNode;let h=[];for(;g&&g!==f;)h.push(g),g=g.parentNode;h.reverse();m=e(m.getLastRender(),h);n.scheduleRender();let q;m&&(q=m.properties[`on${p.type}`].apply(m.properties.bind||this,arguments));t("domEventProcessed",p);return q};return(p,m,g,f)=>r};a.createProjector=n=>{let u,t=b.applyDefaultProjectionOptions(n),
r=t.performanceLogger,p=!0,m,g=!1,f=[],h=[],q=(l,v,w)=>{let x;t.eventHandlerInterceptor=d(u,()=>x,r);x=l(v,w(),t);f.push(x);h.push(w)},k=()=>{m=void 0;if(p){p=!1;r("renderStart",void 0);for(let l=0;l<f.length;l++){let v=h[l]();r("rendered",void 0);f[l].update(v);r("patched",void 0)}r("renderDone",void 0);p=!0}};return u={renderNow:k,scheduleRender:()=>{m||g||(m=requestAnimationFrame(k))},stop:()=>{m&&(cancelAnimationFrame(m),m=void 0);g=!0},resume:()=>{g=!1;p=!0;u.scheduleRender()},append:(l,v)=>
{q(b.dom.append,l,v)},insertBefore:(l,v)=>{q(b.dom.insertBefore,l,v)},merge:(l,v)=>{q(b.dom.merge,l,v)},replace:(l,v)=>{q(b.dom.replace,l,v)},detach:l=>{for(let v=0;v<h.length;v++)if(h[v]===l)return h.splice(v,1),f.splice(v,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,
c,e,d)=>{b.scheduleRender();return c.properties[`on${d.type}`].apply(c.properties.bind||e,[d])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(c,e,d)=>{c.style[e]=d}};a.applyDefaultProjectionOptions=c=>({...b,...c});Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/componentsUtils":function(){define("exports ../../chunks/dom ../../assets ../../core/has ../../core/urlUtils ../../chunks/index".split(" "),
function(a,b,c,e,d,n){function u(){const {classList:r}=document.body,p=window.matchMedia("(prefers-color-scheme: dark)").matches,m=()=>r.contains(b.darkMode)||r.contains(b.autoMode)&&p?"dark":"light",g=h=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:h}}));let f=m();g(f);window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",h=>{h=h.matches?"dark":"light";f!==h&&g(h);f=h});(new MutationObserver(()=>{var h=m();f!==h&&g(h);f=h})).observe(document.body,
{attributes:!0,attributeFilter:["class"]})}(function(){"undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document&&("interactive"===document.readyState?u():document.addEventListener("DOMContentLoaded",()=>u(),{once:!0}))})();let t;e("esri-disable-components-assets-path")||(t="esri/widgets/support/components/assets");a.commitAssetPath=function(){t&&n.setAssetPath(d.makeAbsolute(c.getAssetUrl(t)))};a.loadCalciteComponents=
function(r){const p=[];for(const m of Object.keys(r))customElements.get(`calcite-${m}`)||p.push(r[m]());return Promise.all(p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/dom":function(){define(["exports"],function(a){function b(M){return M.map(I=>{let H="";for(let L=0;L<I;L++)H+=(65536*(1+Math.random())|0).toString(16).substring(1);return H}).join("-")}function c(M,I){function H(L){if(L){var aa;(aa=L.closest(I))||(L=L.getRootNode().host||null,aa=H(L));L=aa}else L=
null;return L}return H(M)}function e(M,I){return d(M,I)}function d(M,I){if(M){var H=I(M);if(void 0!==H)return H;({parentNode:M}=M);return d(M instanceof ShadowRoot?M.host:M,I)}}async function n(M){if(M)return"function"===typeof M?.setFocus?M.setFocus():M.focus()}function u(M,I){return M?Array.from(M.children||[]).filter(H=>H?.matches(I)):[]}function t(M,I,H){I=":not([slot])"===I?u(M,":not([slot])"):Array.from(M.querySelectorAll(I));I=H&&!1===H.direct?I:I.filter(aa=>aa.parentElement===M);I=H?.matches?
I.filter(aa=>aa?.matches(H.matches)):I;const L=H?.selector;return L?I.map(aa=>Array.from(aa.querySelectorAll(L))).reduce((aa,R)=>[...aa,...R],[]).filter(aa=>!!aa):I}function r(M,I,H){I=":not([slot])"===I?u(M,":not([slot])")[0]||null:M.querySelector(I);I=H&&!1===H.direct?I:I?.parentElement===M?I:null;I=H?.matches?I?.matches(H.matches)?I:null:I;return(M=H?.selector)?I?.querySelector(M):I}const p=()=>b([2,1,1,1,3]),m={autoMode:"calcite-mode-auto",darkMode:"calcite-mode-dark",lightMode:"calcite-mode-light",
rtl:"calcite--rtl"};var g='input select textarea a[href] button [tabindex]:not(slot) audio[controls] video[controls] [contenteditable]:not([contenteditable\x3d"false"]) details\x3esummary:first-of-type details'.split(" "),f=g.join(","),h="undefined"===typeof Element,q=h?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,k=!h&&Element.prototype.getRootNode?function(M){return M.getRootNode()}:function(M){return M.ownerDocument},l=function(M,
I,H){var L=Array.prototype.slice.apply(M.querySelectorAll(f));I&&q.call(M,f)&&L.unshift(M);return L=L.filter(H)},v=function aa(I,H,L){for(var R=[],S=Array.from(I);S.length;){var V=S.shift();if("SLOT"===V.tagName){var ea=V.assignedElements();ea=aa(ea.length?ea:V.children,!0,L);L.flatten?R.push.apply(R,ea):R.push({scopeParent:V,candidates:ea})}else{q.call(V,f)&&L.filter(V)&&(H||!I.includes(V))&&R.push(V);ea=V.shadowRoot||"function"===typeof L.getShadowRoot&&L.getShadowRoot(V);var ha=!L.shadowRootFilter||
L.shadowRootFilter(V);ea&&ha?(ea=aa(!0===ea?V.children:ea.children,!0,L),L.flatten?R.push.apply(R,ea):R.push({scopeParent:V,candidates:ea})):S.unshift.apply(S,V.children)}}return R},w=function(I,H){return 0>I.tabIndex&&(H||/^(AUDIO|VIDEO|DETAILS)$/.test(I.tagName)||I.isContentEditable)&&isNaN(parseInt(I.getAttribute("tabindex"),10))?0:I.tabIndex},x=function(I,H){return I.tabIndex===H.tabIndex?I.documentOrder-H.documentOrder:I.tabIndex-H.tabIndex},z=function(I){return"DETAILS"===I.tagName&&Array.prototype.slice.apply(I.children).some(function(H){return"SUMMARY"===
H.tagName})},A=function(I,H){for(var L=0;L<I.length;L++)if(I[L].checked&&I[L].form===H)return I[L]},B=function(I){if(!I.name)return!0;var H=I.form||k(I),L=function(R){return H.querySelectorAll('input[type\x3d"radio"][name\x3d"'+R+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)var aa=L(window.CSS.escape(I.name));else try{aa=L(I.name)}catch(R){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",
R.message),!1}L=A(aa,I.form);return!L||L===I},D=function(I){I=I.getBoundingClientRect();var H=I.height;return 0===I.width&&0===H},y=function(I,H){var L=H.displayCheck;H=H.getShadowRoot;if("hidden"===getComputedStyle(I).visibility)return!0;var aa=q.call(I,"details\x3esummary:first-of-type")?I.parentElement:I;if(q.call(aa,"details:not([open]) *"))return!0;if(!L||"full"===L||"legacy-full"===L){if("function"===typeof H){for(aa=I;I;){var R=I.parentElement,S=k(I);if(R&&!R.shadowRoot&&!0===H(R))return D(I);
I=I.assignedSlot?I.assignedSlot:R||S===I.ownerDocument?R:S.host}I=aa}H=I;var V;aa=k(H).host;for(R=!!(null!==(V=aa)&&void 0!==V&&V.ownerDocument.contains(aa)||H.ownerDocument.contains(H));!R&&aa;){var ea;aa=k(aa).host;R=!(null===(ea=aa)||void 0===ea||!ea.ownerDocument.contains(aa))}if(R)return!I.getClientRects().length;if("legacy-full"!==L)return!0}else if("non-zero-area"===L)return D(I);return!1},C=function(I,H){var L;(L=H.disabled)||(L="INPUT"===H.tagName&&"hidden"===H.type);if(!(I=L||y(H,I)||z(H)))a:{if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(H.tagName))for(I=
H.parentElement;I;){if("FIELDSET"===I.tagName&&I.disabled){for(L=0;L<I.children.length;L++){var aa=I.children.item(L);if("LEGEND"===aa.tagName){I=q.call(I,"fieldset[disabled] *")?!0:!aa.contains(H);break a}}I=!0;break a}I=I.parentElement}I=!1}return I?!1:!0},F=function(I,H){return"INPUT"===H.tagName&&"radio"===H.type&&!B(H)||0>w(H)||!C(I,H)?!1:!0},G=function(I){I=parseInt(I.getAttribute("tabindex"),10);return isNaN(I)||0<=I?!0:!1},E=function L(H){var aa=[],R=[];H.forEach(function(S,V){var ea=!!S.scopeParent,
ha=ea?S.scopeParent:S,la=w(ha,ea),ia=ea?L(S.candidates):ha;0===la?ea?aa.push.apply(aa,ia):aa.push(ha):R.push({documentOrder:V,tabIndex:la,item:S,isScope:ea,content:ia})});return R.sort(x).reduce(function(S,V){V.isScope?S.push.apply(S,V.content):S.push(V.content);return S},[]).concat(aa)},P=function(H,L){L=L||{};H=L.getShadowRoot?v([H],L.includeContainer,{filter:F.bind(null,L),flatten:!1,getShadowRoot:L.getShadowRoot,shadowRootFilter:G}):l(H,L.includeContainer,F.bind(null,L));return E(H)},O=g.concat("iframe").join(",");
const K={getShadowRoot:!0};a.CSS_UTILITY=m;a.autoMode="calcite-mode-auto";a.closestElementCrossShadowBoundary=c;a.containsCrossShadowBoundary=function(H,L){return!!e(L,aa=>aa===H?!0:void 0)};a.darkMode="calcite-mode-dark";a.ensureId=function(H){return H?H.id=H.id||`${H.tagName.toLowerCase()}-${p()}`:""};a.filterDirectChildren=function(H,L){return Array.from(H.children).filter(aa=>aa.matches(L))};a.focusElement=n;a.focusElementInGroup=(H,L,aa)=>{L=H.indexOf(L);const R=L===H.length-1;aa="previous"===
aa&&0===L?"last":"next"===aa&&R?"first":aa;let S;switch(aa){case "first":S=H[0];break;case "last":S=H[H.length-1];break;case "next":S=H[L+1]||H[0];break;case "previous":S=H[L-1]||H[H.length-1]}n(S);return S};a.focusFirstTabbable=function(H){(P(H,K)[0]||H).focus()};a.focusable=function(H,L){L=L||{};return L.getShadowRoot?v([H],L.includeContainer,{filter:C.bind(null,L),flatten:!0,getShadowRoot:L.getShadowRoot}):l(H,L.includeContainer,C.bind(null,L))};a.getElementDir=function(H){return(H=c(H,"[dir]"))?
H.getAttribute("dir"):"ltr"};a.getElementProp=function(H,L,aa){return(H=H.closest(`[${L}]`))?H.getAttribute(L):aa};a.getModeName=function(H){return c(H,`.${m.darkMode}, .${m.lightMode}`)?.classList.contains("calcite-mode-dark")?"dark":"light"};a.getSlotted=function(H,L,aa){L&&!Array.isArray(L)&&"string"!==typeof L&&(aa=L,L=null);L=L?Array.isArray(L)?L.map(R=>`[slot="${R}"]`).join(","):`[slot="${L}"]`:":not([slot])";return aa?.all?t(H,L,aa):r(H,L,aa)};a.guid=p;a.intersects=function(H,L){return!(L.left>
H.right||L.right<H.left||L.top>H.bottom||L.bottom<H.top)};a.isFocusable=function(H,L){L=L||{};if(!H)throw Error("No node provided");return!1===q.call(H,O)?!1:C(L,H)};a.isPrimaryPointerButton=function(H){return!(!H.isPrimary||0!==H.button)};a.isTabbable=function(H,L){L=L||{};if(!H)throw Error("No node provided");return!1===q.call(H,f)?!1:F(L,H)};a.nodeListToArray=function(H){return Array.isArray(H)?H:Array.from(H)};a.queryElementRoots=function(H,{selector:L,id:aa}){function R(S){if(!S)return null;
S.assignedSlot&&(S=S.assignedSlot);var V=S.getRootNode();S=aa?"getElementById"in V?V.getElementById(aa):null:L?V.querySelector(L):null;V=V.host||null;return S?S:V?R(V):null}return R(H)};a.setRequestedIcon=function(H,L,aa){if("string"===typeof L&&""!==L)return L;if(""===L)return H[aa]};a.slotChangeHasAssignedElement=function(H){return!!H.target.assignedElements({flatten:!0}).length};a.tabbable=P;a.tabbableOptions=K;a.toAriaBoolean=function(H){return(!!H).toString()}})},"esri/chunks/index":function(){define(["exports"],
function(a){let b,c,e,d=!1,n=!1,u=!1,t=!1,r=!1;const p=(ma,ta)=>()=>{},m={},g=ma=>{ma=typeof ma;return"object"===ma||"function"===ma},f=(ma,ta,...Ga)=>{let Aa=null,Na=null,Va=null,Xa=!1,$a=!1;const bb=[],Sa=db=>{for(let eb=0;eb<db.length;eb++)if(Aa=db[eb],Array.isArray(Aa))Sa(Aa);else if(null!=Aa&&"boolean"!==typeof Aa){if(Xa="function"!==typeof ma&&!g(Aa))Aa=String(Aa);Xa&&$a?bb[bb.length-1].$text$+=Aa:bb.push(Xa?h(null,Aa):Aa);$a=Xa}};Sa(Ga);if(ta){ta.key&&(Na=ta.key);ta.name&&(Va=ta.name);const db=
ta.className||ta.class;db&&(ta.class="object"!==typeof db?db:Object.keys(db).filter(eb=>db[eb]).join(" "))}if("function"===typeof ma)return ma(null===ta?{}:ta,bb,k);Ga=h(ma,null);Ga.$attrs$=ta;0<bb.length&&(Ga.$children$=bb);Ga.$key$=Na;Ga.$name$=Va;return Ga},h=(ma,ta)=>({$flags$:0,$tag$:ma,$text$:ta,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),q={},k={forEach:(ma,ta)=>ma.map(l).forEach(ta),map:(ma,ta)=>ma.map(l).map(ta).map(v)},l=ma=>({vattrs:ma.$attrs$,vchildren:ma.$children$,
vkey:ma.$key$,vname:ma.$name$,vtag:ma.$tag$,vtext:ma.$text$}),v=ma=>{if("function"===typeof ma.vtag){var ta=Object.assign({},ma.vattrs);ma.vkey&&(ta.key=ma.vkey);ma.vname&&(ta.name=ma.vname);return f(ma.vtag,ta,...(ma.vchildren||[]))}ta=h(ma.vtag,ma.vtext);ta.$attrs$=ma.vattrs;ta.$children$=ma.vchildren;ta.$key$=ma.vkey;ta.$name$=ma.vname;return ta},w=ma=>Fa.map(ta=>ta(ma)).find(ta=>!!ta),x=(ma,ta)=>{if(null!=ma&&!g(ma)){if(ta&4)return"false"===ma?!1:""===ma||!!ma;if(ta&2)return parseFloat(ma);if(ta&
1)return String(ma)}return ma},z=new WeakMap,A=(ma,ta,Ga)=>{let Aa=Ca.get(ma);ja&&Ga?(Aa=Aa||new CSSStyleSheet,"string"===typeof Aa?Aa=ta:Aa.replaceSync(ta)):Aa=ta;Ca.set(ma,Aa)},B=(ma,ta)=>"sc-"+(ta&&ma.$flags$&32?ma.$tagName$+"-"+ta:ma.$tagName$),D=(ma,ta,Ga,Aa,Na,Va)=>{if(Ga!==Aa){let bb=ta in ma,Sa=ta.toLowerCase();if("class"===ta){ma=ma.classList;const db=Ga?Ga.split(y):[],eb=Aa?Aa.split(y):[];ma.remove(...db.filter(Da=>Da&&!eb.includes(Da)));ma.add(...eb.filter(Da=>Da&&!db.includes(Da)))}else if("style"===
ta){for(var Xa in Ga)Aa&&null!=Aa[Xa]||(Xa.includes("-")?ma.style.removeProperty(Xa):ma.style[Xa]="");for(var $a in Aa)Ga&&Aa[$a]===Ga[$a]||($a.includes("-")?ma.style.setProperty($a,Aa[$a]):ma.style[$a]=Aa[$a])}else if("key"!==ta)if("ref"===ta)Aa&&Aa(ma);else if(ma.__lookupSetter__(ta)||"o"!==ta[0]||"n"!==ta[1]){Xa=g(Aa);if((bb||Xa&&null!==Aa)&&!Na)try{if(ma.tagName.includes("-"))ma[ta]=Aa;else if($a=null==Aa?"":Aa,"list"===ta)bb=!1;else if(null==Ga||ma[ta]!=$a)ma[ta]=$a}catch(db){}Ga=!1;Sa!==(Sa=
Sa.replace(/^xlink:?/,""))&&(ta=Sa,Ga=!0);if(null==Aa||!1===Aa){if(!1!==Aa||""===ma.getAttribute(ta))Ga?ma.removeAttributeNS("http://www.w3.org/1999/xlink",ta):ma.removeAttribute(ta)}else(!bb||Va&4||Na)&&!Xa&&(Aa=!0===Aa?"":Aa,Ga?ma.setAttributeNS("http://www.w3.org/1999/xlink",ta,Aa):ma.setAttribute(ta,Aa))}else ta="-"===ta[2]?ta.slice(3):Sa in fa?Sa.slice(2):Sa[2]+ta.slice(3),Ga&&X.rel(ma,ta,Ga,!1),Aa&&X.ael(ma,ta,Aa,!1)}},y=/\s/,C=(ma,ta,Ga,Aa)=>{const Na=11===ta.$elm$.nodeType&&ta.$elm$.host?
ta.$elm$.host:ta.$elm$;ma=ma&&ma.$attrs$||m;const Va=ta.$attrs$||m;for(Aa in ma)Aa in Va||D(Na,Aa,ma[Aa],void 0,Ga,ta.$flags$);for(Aa in Va)D(Na,Aa,ma[Aa],Va[Aa],Ga,ta.$flags$)},F=(ma,ta,Ga,Aa)=>{ta=ta.$children$[Ga];let Na=0,Va;d||(u=!0,"slot"===ta.$tag$&&(b&&Aa.classList.add(b+"-s"),ta.$flags$|=ta.$children$?2:1));if(null!==ta.$text$)Aa=ta.$elm$=ba.createTextNode(ta.$text$);else if(ta.$flags$&1)Aa=ta.$elm$=ba.createTextNode("");else{t||(t="svg"===ta.$tag$);Aa=ta.$elm$=ba.createElementNS(t?"http://www.w3.org/2000/svg":
"http://www.w3.org/1999/xhtml",ta.$flags$&2?"slot-fb":ta.$tag$);t&&"foreignObject"===ta.$tag$&&(t=!1);C(null,ta,t);null!=b&&Aa["s-si"]!==b&&Aa.classList.add(Aa["s-si"]=b);if(ta.$children$)for(Na=0;Na<ta.$children$.length;++Na)(Va=F(ma,ta,Na,Aa))&&Aa.appendChild(Va);"svg"===ta.$tag$?t=!1:"foreignObject"===Aa.tagName&&(t=!0)}Aa["s-hn"]=e;ta.$flags$&3&&(Aa["s-sr"]=!0,Aa["s-cr"]=c,Aa["s-sn"]=ta.$name$||"",(Ga=ma&&ma.$children$&&ma.$children$[Ga])&&Ga.$tag$===ta.$tag$&&ma.$elm$&&G(ma.$elm$,!1));return Aa},
G=(ma,ta)=>{X.$flags$|=1;ma=ma.childNodes;for(let Ga=ma.length-1;0<=Ga;Ga--){const Aa=ma[Ga];Aa["s-hn"]!==e&&Aa["s-ol"]&&((Aa["s-ol"]?Aa["s-ol"]:Aa).parentNode.insertBefore(Aa,Aa&&Aa["s-ol"]||Aa),Aa["s-ol"].remove(),Aa["s-ol"]=void 0,u=!0);ta&&G(Aa,ta)}X.$flags$&=-2},E=(ma,ta,Ga,Aa,Na,Va)=>{let Xa=ma["s-cr"]&&ma["s-cr"].parentNode||ma,$a;Xa.shadowRoot&&Xa.tagName===e&&(Xa=Xa.shadowRoot);for(;Na<=Va;++Na)Aa[Na]&&($a=F(null,Ga,Na,ma))&&(Aa[Na].$elm$=$a,Xa.insertBefore($a,ta&&ta["s-ol"]||ta))},P=(ma,
ta,Ga,Aa,Na)=>{for(;ta<=Ga;++ta)if(Aa=ma[ta])Na=Aa.$elm$,aa(Aa),n=!0,Na["s-ol"]?Na["s-ol"].remove():G(Na,!0),Na.remove()},O=(ma,ta)=>ma.$tag$===ta.$tag$?"slot"===ma.$tag$?ma.$name$===ta.$name$:ma.$key$===ta.$key$:!1,K=(ma,ta)=>{const Ga=ta.$elm$=ma.$elm$,Aa=ma.$children$,Na=ta.$children$,Va=ta.$tag$;var Xa=ta.$text$;if(null===Xa){t="svg"===Va?!0:"foreignObject"===Va?!1:t;"slot"!==Va&&C(ma,ta,t);if(null!==Aa&&null!==Na){var $a=Xa=ma=0,bb=0;let db=Aa.length-1,eb=Aa[0],Da=Aa[db],Ja=Na.length-1,Za=Na[0],
ya=Na[Ja];for(;ma<=db&&Xa<=Ja;)if(null==eb)eb=Aa[++ma];else if(null==Da)Da=Aa[--db];else if(null==Za)Za=Na[++Xa];else if(null==ya)ya=Na[--Ja];else if(O(eb,Za))K(eb,Za),eb=Aa[++ma],Za=Na[++Xa];else if(O(Da,ya))K(Da,ya),Da=Aa[--db],ya=Na[--Ja];else if(O(eb,ya))"slot"!==eb.$tag$&&"slot"!==ya.$tag$||G(eb.$elm$.parentNode,!1),K(eb,ya),Ga.insertBefore(eb.$elm$,Da.$elm$.nextSibling),eb=Aa[++ma],ya=Na[--Ja];else if(O(Da,Za))"slot"!==eb.$tag$&&"slot"!==ya.$tag$||G(Da.$elm$.parentNode,!1),K(Da,Za),Ga.insertBefore(Da.$elm$,
eb.$elm$),Da=Aa[--db],Za=Na[++Xa];else{$a=-1;for(bb=ma;bb<=db;++bb)if(Aa[bb]&&null!==Aa[bb].$key$&&Aa[bb].$key$===Za.$key$){$a=bb;break}0<=$a?(bb=Aa[$a],bb.$tag$!==Za.$tag$?$a=F(Aa&&Aa[Xa],ta,$a,Ga):(K(bb,Za),Aa[$a]=void 0,$a=bb.$elm$)):$a=F(Aa&&Aa[Xa],ta,Xa,Ga);Za=Na[++Xa];if($a){bb=eb.$elm$;bb=(bb["s-ol"]?bb["s-ol"]:bb).parentNode;var Sa=eb.$elm$;bb.insertBefore.call(bb,$a,Sa&&Sa["s-ol"]||Sa)}}ma>db?E(Ga,null==Na[Ja+1]?null:Na[Ja+1].$elm$,ta,Na,Xa,Ja):Xa>Ja&&P(Aa,ma,db)}else null!==Na?(null!==ma.$text$&&
(Ga.textContent=""),E(Ga,null,ta,Na,0,Na.length-1)):null!==Aa&&P(Aa,0,Aa.length-1);t&&"svg"===Va&&(t=!1)}else(ta=Ga["s-cr"])?ta.parentNode.textContent=Xa:ma.$text$!==Xa&&(Ga.data=Xa)},M=ma=>{ma=ma.childNodes;let ta,Ga,Aa,Na,Va,Xa;Ga=0;for(Aa=ma.length;Ga<Aa;Ga++)if(ta=ma[Ga],1===ta.nodeType){if(ta["s-sr"])for(Va=ta["s-sn"],ta.hidden=!1,Na=0;Na<Aa;Na++)if(Xa=ma[Na].nodeType,ma[Na]["s-hn"]!==ta["s-hn"]||""!==Va){if(1===Xa&&Va===ma[Na].getAttribute("slot")){ta.hidden=!0;break}}else if(1===Xa||3===Xa&&
""!==ma[Na].textContent.trim()){ta.hidden=!0;break}M(ta)}},I=[],H=ma=>{let ta,Ga,Aa,Na,Va,Xa=0;const $a=ma.childNodes,bb=$a.length;for(;Xa<bb;Xa++){ma=$a[Xa];if(ma["s-sr"]&&(ta=ma["s-cr"])&&ta.parentNode)for(Ga=ta.parentNode.childNodes,Aa=ma["s-sn"],Va=Ga.length-1;0<=Va;Va--)ta=Ga[Va],ta["s-cn"]||ta["s-nr"]||ta["s-hn"]===ma["s-hn"]||(L(ta,Aa)?(Na=I.find(Sa=>Sa.$nodeToRelocate$===ta),n=!0,ta["s-sn"]=ta["s-sn"]||Aa,Na?Na.$slotRefNode$=ma:I.push({$slotRefNode$:ma,$nodeToRelocate$:ta}),ta["s-sr"]&&I.map(Sa=>
{L(Sa.$nodeToRelocate$,ta["s-sn"])&&(Na=I.find(db=>db.$nodeToRelocate$===ta))&&!Sa.$slotRefNode$&&(Sa.$slotRefNode$=Na.$slotRefNode$)})):I.some(Sa=>Sa.$nodeToRelocate$===ta)||I.push({$nodeToRelocate$:ta}));1===ma.nodeType&&H(ma)}},L=(ma,ta)=>1===ma.nodeType?null===ma.getAttribute("slot")&&""===ta||ma.getAttribute("slot")===ta?!0:!1:ma["s-sn"]===ta?!0:""===ta,aa=ma=>{ma.$attrs$&&ma.$attrs$.ref&&ma.$attrs$.ref(null);ma.$children$&&ma.$children$.map(aa)},R=(ma,ta)=>{const Ga=ma.$hostElement$;var Aa=
ma.$cmpMeta$,Na=ma.$vnode$||h(null,null);const Va=ta&&ta.$tag$===q?ta:f(null,null,ta);e=Ga.tagName;Aa.$attrsToReflect$&&(Va.$attrs$=Va.$attrs$||{},Aa.$attrsToReflect$.map(([Xa,$a])=>Va.$attrs$[$a]=Ga[Xa]));Va.$tag$=null;Va.$flags$|=4;ma.$vnode$=Va;Va.$elm$=Na.$elm$=Ga.shadowRoot||Ga;b=Ga["s-sc"];c=Ga["s-cr"];d=0!==(Aa.$flags$&1);n=!1;K(Na,Va);X.$flags$|=1;if(u){H(Va.$elm$);let Xa,$a;for(Aa=0;Aa<I.length;Aa++)Na=I[Aa],ma=Na.$nodeToRelocate$,ma["s-ol"]||(Na=ba.createTextNode(""),Na["s-nr"]=ma,ma.parentNode.insertBefore(ma["s-ol"]=
Na,ma));for(Aa=0;Aa<I.length;Aa++)if(Na=I[Aa],ma=Na.$nodeToRelocate$,Na.$slotRefNode$){ta=Na.$slotRefNode$.parentNode;Xa=Na.$slotRefNode$.nextSibling;for(Na=ma["s-ol"];Na=Na.previousSibling;)if(($a=Na["s-nr"])&&$a["s-sn"]===ma["s-sn"]&&ta===$a.parentNode&&($a=$a.nextSibling,!$a||!$a["s-nr"])){Xa=$a;break}(Xa||ta===ma.parentNode)&&ma.nextSibling===Xa||ma===Xa||(!ma["s-hn"]&&ma["s-ol"]&&(ma["s-hn"]=ma["s-ol"].parentNode.nodeName),ta.insertBefore(ma,Xa))}else 1===ma.nodeType&&(ma.hidden=!0)}n&&M(Va.$elm$);
X.$flags$&=-2;I.length=0},S=(ma,ta)=>{ma.$flags$|=16;return Oa(()=>V(ma,ta))},V=(ma,ta)=>{const Ga=ma.$hostElement$,Aa=p("scheduleUpdate",ma.$cmpMeta$.$tagName$);let Na;Na=ta?ha(Ga,"componentWillLoad"):ha(Ga,"componentWillUpdate");Na=la(Na,()=>ha(Ga,"componentWillRender"));Aa();return la(Na,()=>ea(ma,Ga,ta))},ea=async(ma,ta,Ga)=>{var Aa=ma.$hostElement$,Na=p("update",ma.$cmpMeta$.$tagName$);Aa["s-rc"];if(Ga){var Va=ma.$cmpMeta$;Ga=ma.$hostElement$;Aa=Va.$flags$;const $a=p("attachStyles",Va.$tagName$);
var Xa=Ga.shadowRoot?Ga.shadowRoot:Ga.getRootNode();Va=B(Va,ma.$modeName$);const bb=Ca.get(Va);Xa=11===Xa.nodeType?Xa:ba;if(bb)if("string"===typeof bb){Xa=Xa.head||Xa;let Sa=z.get(Xa),db;Sa||z.set(Xa,Sa=new Set);Sa.has(Va)||(db=ba.createElement("style"),db.innerHTML=bb,Xa.insertBefore(db,Xa.querySelector("link")),Sa&&Sa.add(Va))}else Xa.adoptedStyleSheets.includes(bb)||(Xa.adoptedStyleSheets=[...Xa.adoptedStyleSheets,bb]);Xa=Va;Aa&10&&(Ga["s-sc"]=Xa,Ga.classList.add(Xa+"-h"),Aa&2&&Ga.classList.add(Xa+
"-s"));$a()}Ga=p("render",ma.$cmpMeta$.$tagName$);try{ta=ta.render&&ta.render(),ma.$flags$&=-17,ma.$flags$|=2,R(ma,ta)}catch($a){(0,console.error)($a,ma.$hostElement$)}Ga();Na();Na=ma.$hostElement$;ta=p("postUpdate",ma.$cmpMeta$.$tagName$);ma.$ancestorComponent$;ha(Na,"componentDidRender");ma.$flags$&64?ha(Na,"componentDidUpdate"):(ma.$flags$|=64,ha(Na,"componentDidLoad"));ta()},ha=(ma,ta,Ga)=>{if(ma&&ma[ta])try{return ma[ta](Ga)}catch(Aa){(0,console.error)(Aa,void 0)}},la=(ma,ta)=>ma&&ma.then?ma.then(ta):
ta(),ia=(ma,ta,Ga,Aa)=>{const Na=qa.get(ma),Va=Na.$instanceValues$.get(ta),Xa=Na.$flags$;Ga=x(Ga,Aa.$members$[ta][0]);const $a=Number.isNaN(Va)&&Number.isNaN(Ga);Ga===Va||$a||(Na.$instanceValues$.set(ta,Ga),Aa.$watchers$&&Xa&128&&(Aa=Aa.$watchers$[ta])&&Aa.map(bb=>{try{ma[bb](Ga,Va,ta)}catch(Sa){(0,console.error)(Sa,ma)}}),2!==(Xa&18)||ma.componentShouldUpdate&&!1===ma.componentShouldUpdate(Ga,Va,ta)||S(Na,!1))},Y=(ma,ta,Ga)=>{if(ta.$members$){ma.watchers&&(ta.$watchers$=ma.watchers);Ga=Object.entries(ta.$members$);
const Aa=ma.prototype;Ga.map(([Va,[Xa]])=>{(Xa&31||Xa&32)&&Object.defineProperty(Aa,Va,{get(){return qa.get(this).$instanceValues$.get(Va)},set($a){ia(this,Va,$a,ta)},configurable:!0,enumerable:!0})});const Na=new Map;Aa.attributeChangedCallback=function(Va,Xa,$a){X.jmp(()=>{const bb=Na.get(Va);if(this.hasOwnProperty(bb))$a=this[bb],delete this[bb];else if(Aa.hasOwnProperty(bb)&&"number"===typeof this[bb]&&this[bb]==$a)return;this[bb]=null===$a&&"boolean"===typeof this[bb]?!1:$a})};ma.observedAttributes=
Ga.filter(([,Va])=>Va[0]&15).map(([Va,Xa])=>{const $a=Xa[1]||Va;Na.set($a,Va);Xa[0]&512&&ta.$attrsToReflect$.push([Va,$a]);return $a})}return ma},Z=async(ma,ta,Ga,Aa,Na)=>{0===(ta.$flags$&32)&&(Na=ma.constructor,ta.$flags$|=32,customElements.whenDefined(Ga.$tagName$).then(()=>ta.$flags$|=128),Na.style&&(Aa=Na.style,"string"!==typeof Aa&&(Aa=Aa[ta.$modeName$=w(ma)]),ma=B(Ga,ta.$modeName$),Ca.has(ma)||(Na=p("registerStyles",Ga.$tagName$),A(ma,Aa,!!(Ga.$flags$&1)),Na())));ta.$ancestorComponent$;S(ta,
!0)},U=ma=>{if(0===(X.$flags$&1)){const ta=qa.get(ma),Ga=ta.$cmpMeta$,Aa=p("connectedCallback",Ga.$tagName$);ta.$flags$&1?N(ma,ta,Ga.$listeners$):(ta.$flags$|=1,Ga.$flags$&12&&pa(ma),Ga.$members$&&Object.entries(Ga.$members$).map(([Na,[Va]])=>{Va&31&&ma.hasOwnProperty(Na)&&(Va=ma[Na],delete ma[Na],ma[Na]=Va)}),Z(ma,ta,Ga));Aa()}},pa=ma=>{const ta=ma["s-cr"]=ba.createComment("");ta["s-cn"]=!0;ma.insertBefore(ta,ma.firstChild)},xa=ma=>{0===(X.$flags$&1)&&(ma=qa.get(ma),ma.$rmListeners$&&(ma.$rmListeners$.map(ta=>
ta()),ma.$rmListeners$=void 0))},N=(ma,ta,Ga,Aa)=>{Ga&&Ga.map(([Na,Va,Xa])=>{const $a=Na&4?ba:Na&8?fa:Na&16?ba.body:ma,bb=T(ta,Xa),Sa=Q?{passive:0!==(Na&1),capture:0!==(Na&2)}:0!==(Na&2);X.ael($a,Va,bb,Sa);(ta.$rmListeners$=ta.$rmListeners$||[]).push(()=>X.rel($a,Va,bb,Sa))})},T=(ma,ta)=>Ga=>{try{ma.$hostElement$[ta](Ga)}catch(Aa){(0,console.error)(Aa,void 0)}},qa=new WeakMap,Ca=new Map,Fa=[],fa="undefined"!==typeof window?window:{};null;const ba=fa.document||{head:{}},ka=fa.HTMLElement||class{},
X={$flags$:0,$resourcesUrl$:"",jmp:ma=>ma(),raf:ma=>requestAnimationFrame(ma),ael:(ma,ta,Ga,Aa)=>ma.addEventListener(ta,Ga,Aa),rel:(ma,ta,Ga,Aa)=>ma.removeEventListener(ta,Ga,Aa),ce:(ma,ta)=>new CustomEvent(ma,ta)},Q=(()=>{let ma=!1;try{ba.addEventListener("e",null,Object.defineProperty({},"passive",{get(){ma=!0}}))}catch(ta){}return ma})();a:{try{new CSSStyleSheet;var ca="function"===typeof(new CSSStyleSheet).replaceSync;break a}catch(ma){}ca=!1}const ja=ca,ua=[],da=[];ca=(ma,ta)=>Ga=>{ma.push(Ga);
r||(r=!0,ta&&X.$flags$&4?(Ga=wa,Promise.resolve(void 0).then(Ga)):X.raf(wa))};const ra=ma=>{for(let ta=0;ta<ma.length;ta++)try{ma[ta](performance.now())}catch(Ga){(0,console.error)(Ga,void 0)}ma.length=0},wa=()=>{ra(ua);ra(da);(r=0<ua.length)&&X.raf(wa)},Ia=ca(ua,!1),Oa=ca(da,!0);a.Build={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1};a.Fragment=(ma,ta)=>ta;a.H=ka;a.Host=q;a.createEvent=(ma,ta,Ga)=>({emit:Aa=>{Aa=X.ce(ta,{bubbles:!!(Ga&4),composed:!!(Ga&2),cancelable:!!(Ga&1),detail:Aa});ma.dispatchEvent(Aa);
return Aa}});a.forceUpdate=ma=>{ma=qa.get(ma);const ta=ma.$hostElement$.isConnected;ta&&2===(ma.$flags$&18)&&S(ma,!1);return ta};a.getAssetPath=ma=>{ma=new URL(ma,X.$resourcesUrl$);return ma.origin!==fa.location.origin?ma.href:ma.pathname};a.h=f;a.proxyCustomElement=(ma,ta)=>{const Ga={$flags$:ta[0],$tagName$:ta[1]};Ga.$members$=ta[2];Ga.$listeners$=ta[3];Ga.$watchers$=ma.$watchers$;Ga.$attrsToReflect$=[];const Aa=ma.prototype.connectedCallback,Na=ma.prototype.disconnectedCallback;Object.assign(ma.prototype,
{__registerHost(){const Va={$flags$:0,$hostElement$:this,$cmpMeta$:Ga,$instanceValues$:new Map};N(this,Va,Ga.$listeners$);qa.set(this,Va)},connectedCallback(){U(this);Aa&&Aa.call(this)},disconnectedCallback(){xa(this);Na&&Na.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(Ga.$flags$&16)})}});ma.is=Ga.$tagName$;return Y(ma,Ga)};a.readTask=Ia;a.setAssetPath=ma=>X.$resourcesUrl$=ma})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports","../../core/handleUtils",
"./symbols"],function(a,b,c){function e(g,f){let h=f.children;if(h&&h.length)for(var q=0;q<h.length;++q)h[q]=e(g,h[q]);else h=r;q=f.vnodeSelector;if(t(q)){f=f.properties||p;const k=f.key||q;return{vnodeSelector:"div",properties:{key:k,afterCreate:d,afterUpdate:n,afterRemoved:u,parentWidget:g,widgetConstructor:q,widgetProperties:{...f,key:k,children:h}},children:void 0,text:void 0,domNode:null}}return f}function d(g,f,h,{parentWidget:q,widgetConstructor:k,widgetProperties:l}){f=new k(l);f.container=
g;m.set(g,f);f.afterCreate?.(f,g);q._internalHandles.add(b.makeHandle(()=>u(g)))}function n(g,f,h,{widgetProperties:q}){if(f=m.get(g))f.set(q),f.afterUpdate?.(f,g)}function u(g){const f=m.get(g);f&&(f.afterRemoved?.(f,g),f.destroy(),m.delete(g))}function t(g){return"function"===typeof g&&g[c.WIDGET_SYMBOL]}const r=[],p={},m=new WeakMap;a.isWidgetConstructor=t;a.processWidgets=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/symbols":function(){define(["exports"],
function(a){const b=Symbol("widget"),c=Symbol("widget-test-data");a.WIDGET_SYMBOL=b;a.WIDGET_TEST_DATA_SYMBOL=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/tests":function(){define(["exports"],function(a){const b=new Set;a.hasPendingLoading=function(){return 0<b.size};a.registerLoading=function(c){b.add(c);c.finally(()=>b.delete(c))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/vmEvent ./jsxFactory ./widgetUtils ../../support/themeUtils".split(" "),
function(a,b,c,e,d,n,u){a.accessibleHandler=b.accessibleHandler;a.messageBundle=c.messageBundle;a.vmEvent=e.vmEvent;a.tsx=d.tsx;a.tsxFragment=d.tsxFragment;a.additionalAllowedTags=n.additionalAllowedTags;a.classes=n.classes;a.cssTransition=n.cssTransition;a.discardNode=n.discardNode;a.getDir=n.getDir;a.isActivationKey=n.isActivationKey;a.isRTL=n.isRTL;a.keepMenuItemWithinView=n.keepMenuItemWithinView;a.onResize=n.onResize;a.renderingSanitizer=n.renderingSanitizer;a.safeAttrs=n.safeAttrs;a.storeNode=
n.storeNode;a.getCalciteThemeClass=u.getCalciteThemeClass;a.isDarkTheme=u.isDarkTheme;a.setCalciteThemeClass=u.setCalciteThemeClass;a.hasDomNode=function(t){return t&&"function"===typeof t.postMixInProperties&&"function"===typeof t.buildRendering&&"function"===typeof t.postCreate&&"function"===typeof t.startup};a.isWidget=function(t){return t&&"function"===typeof t.render};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports",
"../widgetUtils"],function(a,b){function c(e){return function(d,...n){const u=d?.type;d instanceof KeyboardEvent||"keyup"===u||"keydown"===u||"keypress"===u?b.isActivationKey(d.key)&&(d.preventDefault(),d.stopPropagation(),d.target.click()):e.call(this,d,...n)}}a.accessibleHandler=function(){return function(e,d){if(!e[d])throw new TypeError(`Cannot auto bind undefined function '${d}'`);return{value:c(e[d])}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],
function(a){a.messageBundle=function(b){return(c,e)=>{c.hasOwnProperty("_messageBundleProps")||(c._messageBundleProps=c._messageBundleProps?c._messageBundleProps.slice():[]);c._messageBundleProps.push({bundlePath:b,propertyName:e})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports"],function(a){function b(c){return c.split(",").map(e=>e.trim())}a.vmEvent=function(c){return e=>{e.hasOwnProperty("_delegatedEventNames")||
(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);e=e._delegatedEventNames;const d=Array.isArray(c)?c:b(c);e.push(...d)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var c=function(d,n){for(var u=0,t=d.length;u<t;u++){var r=d[u];Array.isArray(r)?c(r,n):null!==r&&void 0!==r&&!1!==r&&(r.hasOwnProperty("vnodeSelector")||(r={vnodeSelector:"",properties:void 0,
children:void 0,text:r.toString(),domNode:null}),n.push(r))}},e=function(d,n){for(var u=[],t=2;t<arguments.length;t++)u[t-2]=arguments[t];if(1===u.length&&"string"===typeof u[0])return{vnodeSelector:d,properties:n||void 0,children:void 0,text:u[0],domNode:null};t=[];c(u,t);return{vnodeSelector:d,properties:n||void 0,children:t,text:void 0,domNode:null}};a.tsx=function(d,n,...u){return"function"!==typeof d||b.isWidgetConstructor(d)?e(d,n,...u):d(n,...u)};a.tsxFragment=function(...d){return d};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/support/themeUtils":function(){define(["exports"],function(a){function b(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replace(/\s|'|"/g,"").startsWith("dark")}function c(){return`${"calcite-mode-"}${b()?"dark":"light"}`}function e(d){Array.from(d.classList).forEach(n=>{n.startsWith("calcite-mode-")&&d.classList.remove(n)})}a.getCalciteThemeClass=c;a.isDarkTheme=b;a.setCalciteThemeClass=function(d){e(d);d.classList.add(c())};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});require.boot&&require.apply(null,require.boot);