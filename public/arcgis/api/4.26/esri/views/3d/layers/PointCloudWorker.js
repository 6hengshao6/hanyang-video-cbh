// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
require({cache:{"esri/chunks/quat":function(){define("exports ./mat3f64 ./quatf64 ./vec3f64 ./common ./vec3 ./vec4".split(" "),function(l,c,R,w,F,y,z){function D(O){O[0]=0;O[1]=0;O[2]=0;O[3]=1;return O}function E(O,M,S){S*=.5;const Z=Math.sin(S);O[0]=Z*M[0];O[1]=Z*M[1];O[2]=Z*M[2];O[3]=Math.cos(S);return O}function W(O,M){const S=2*Math.acos(M[3]),Z=Math.sin(S/2);Z>F.getEpsilon()?(O[0]=M[0]/Z,O[1]=M[1]/Z,O[2]=M[2]/Z):(O[0]=1,O[1]=0,O[2]=0);return S}function u(O,M,S){const Z=M[0],da=M[1],ja=M[2];M=
M[3];const sa=S[0],Ra=S[1],a=S[2];S=S[3];O[0]=Z*S+M*sa+da*a-ja*Ra;O[1]=da*S+M*Ra+ja*sa-Z*a;O[2]=ja*S+M*a+Z*Ra-da*sa;O[3]=M*S-Z*sa-da*Ra-ja*a;return O}function A(O,M,S){S*=.5;const Z=M[0],da=M[1],ja=M[2];M=M[3];const sa=Math.sin(S);S=Math.cos(S);O[0]=Z*S+M*sa;O[1]=da*S+ja*sa;O[2]=ja*S-da*sa;O[3]=M*S-Z*sa;return O}function K(O,M,S){S*=.5;const Z=M[0],da=M[1],ja=M[2];M=M[3];const sa=Math.sin(S);S=Math.cos(S);O[0]=Z*S-ja*sa;O[1]=da*S+M*sa;O[2]=ja*S+Z*sa;O[3]=M*S-da*sa;return O}function Y(O,M,S){S*=.5;
const Z=M[0],da=M[1],ja=M[2];M=M[3];const sa=Math.sin(S);S=Math.cos(S);O[0]=Z*S+da*sa;O[1]=da*S-Z*sa;O[2]=ja*S+M*sa;O[3]=M*S-ja*sa;return O}function N(O,M){const S=M[0],Z=M[1];M=M[2];O[0]=S;O[1]=Z;O[2]=M;O[3]=Math.sqrt(Math.abs(1-S*S-Z*Z-M*M));return O}function p(O,M,S,Z){const da=M[0],ja=M[1],sa=M[2];M=M[3];let Ra=S[0],a=S[1],b=S[2];S=S[3];let g;let k;var r=da*Ra+ja*a+sa*b+M*S;0>r&&(r=-r,Ra=-Ra,a=-a,b=-b,S=-S);1-r>F.getEpsilon()?(g=Math.acos(r),k=Math.sin(g),r=Math.sin((1-Z)*g)/k,Z=Math.sin(Z*g)/
k):r=1-Z;O[0]=r*da+Z*Ra;O[1]=r*ja+Z*a;O[2]=r*sa+Z*b;O[3]=r*M+Z*S;return O}function n(O){var M=F.RANDOM,S=M();const Z=M();M=M();const da=Math.sqrt(1-S);S=Math.sqrt(S);O[0]=da*Math.sin(2*Math.PI*Z);O[1]=da*Math.cos(2*Math.PI*Z);O[2]=S*Math.sin(2*Math.PI*M);O[3]=S*Math.cos(2*Math.PI*M);return O}function B(O,M){const S=M[0],Z=M[1],da=M[2];M=M[3];var ja=S*S+Z*Z+da*da+M*M;ja=ja?1/ja:0;O[0]=-S*ja;O[1]=-Z*ja;O[2]=-da*ja;O[3]=M*ja;return O}function J(O,M){O[0]=-M[0];O[1]=-M[1];O[2]=-M[2];O[3]=M[3];return O}
function x(O,M){var S=M[0]+M[4]+M[8];if(0<S)S=Math.sqrt(S+1),O[3]=.5*S,S=.5/S,O[0]=(M[5]-M[7])*S,O[1]=(M[6]-M[2])*S,O[2]=(M[1]-M[3])*S;else{let Z=0;M[4]>M[0]&&(Z=1);M[8]>M[3*Z+Z]&&(Z=2);const da=(Z+1)%3,ja=(Z+2)%3;S=Math.sqrt(M[3*Z+Z]-M[3*da+da]-M[3*ja+ja]+1);O[Z]=.5*S;S=.5/S;O[3]=(M[3*da+ja]-M[3*ja+da])*S;O[da]=(M[3*da+Z]+M[3*Z+da])*S;O[ja]=(M[3*ja+Z]+M[3*Z+ja])*S}return O}function q(O,M,S,Z){var da=.5*Math.PI/180;M*=da;S*=da;Z*=da;da=Math.sin(M);M=Math.cos(M);const ja=Math.sin(S);S=Math.cos(S);
const sa=Math.sin(Z);Z=Math.cos(Z);O[0]=da*S*Z-M*ja*sa;O[1]=M*ja*Z+da*S*sa;O[2]=M*S*sa-da*ja*Z;O[3]=M*S*Z+da*ja*sa;return O}function v(O){return"quat("+O[0]+", "+O[1]+", "+O[2]+", "+O[3]+")"}function t(O,M,S){const Z=y.dot(M,S);if(-.999999>Z)return y.cross(Ba,Ea,M),1E-6>y.len(Ba)&&y.cross(Ba,Za,M),y.normalize(Ba,Ba),E(O,Ba,Math.PI),O;if(.999999<Z)return O[0]=0,O[1]=0,O[2]=0,O[3]=1,O;y.cross(Ba,M,S);O[0]=Ba[0];O[1]=Ba[1];O[2]=Ba[2];O[3]=1+Z;return Qa(O,O)}function C(O,M,S,Z,da,ja){p(Wa,M,da,ja);p(Xa,
S,Z,ja);p(O,Wa,Xa,2*ja*(1-ja));return O}function Q(O,M,S,Z){const da=$a;da[0]=S[0];da[3]=S[1];da[6]=S[2];da[1]=Z[0];da[4]=Z[1];da[7]=Z[2];da[2]=-M[0];da[5]=-M[1];da[8]=-M[2];return Qa(O,x(O,da))}const ea=z.copy,ra=z.set,ua=z.add,ka=z.scale,Ca=z.dot,Ha=z.lerp,Ia=z.length,Ja=z.squaredLength,Qa=z.normalize,va=z.exactEquals;z=z.equals;const Ba=w.create(),Ea=w.fromValues(1,0,0),Za=w.fromValues(0,1,0),Wa=R.create(),Xa=R.create(),$a=c.create();c=Object.freeze(Object.defineProperty({__proto__:null,add:ua,
calculateW:N,conjugate:J,copy:ea,dot:Ca,equals:z,exactEquals:va,fromEuler:q,fromMat3:x,getAxisAngle:W,identity:D,invert:B,len:Ia,length:Ia,lerp:Ha,mul:u,multiply:u,normalize:Qa,random:n,rotateX:A,rotateY:K,rotateZ:Y,rotationTo:t,scale:ka,set:ra,setAxes:Q,setAxisAngle:E,slerp:p,sqlerp:C,sqrLen:Ja,squaredLength:Ja,str:v},Symbol.toStringTag,{value:"Module"}));l.add=ua;l.calculateW=N;l.conjugate=J;l.copy=ea;l.dot=Ca;l.equals=z;l.exactEquals=va;l.fromEuler=q;l.fromMat3=x;l.getAxisAngle=W;l.identity=D;
l.invert=B;l.len=Ia;l.length=Ia;l.lerp=Ha;l.mul=u;l.multiply=u;l.normalize=Qa;l.quat=c;l.random=n;l.rotateX=A;l.rotateY=K;l.rotateZ=Y;l.rotationTo=t;l.scale=ka;l.set=ra;l.setAxes=Q;l.setAxisAngle=E;l.slerp=p;l.sqlerp=C;l.sqrLen=Ja;l.squaredLength=Ja;l.str=v})},"esri/chunks/mat3f64":function(){define(["exports"],function(l){function c(){return[1,0,0,0,1,0,0,0,1]}function R(z){return[z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],z[8]]}function w(z,D,E,W,u,A,K,Y,N){return[z,D,E,W,u,A,K,Y,N]}function F(z,D){return new Float64Array(z,
D,9)}const y=Object.freeze(Object.defineProperty({__proto__:null,clone:R,create:c,createView:F,fromValues:w},Symbol.toStringTag,{value:"Module"}));l.clone=R;l.create=c;l.createView=F;l.fromValues=w;l.mat3f64=y})},"esri/chunks/quatf64":function(){define(["exports"],function(l){function c(){return[0,0,0,1]}function R(D){return[D[0],D[1],D[2],D[3]]}function w(D,E,W,u){return[D,E,W,u]}function F(D,E){return new Float64Array(D,E,4)}const y=c(),z=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:y,
clone:R,create:c,createView:F,fromValues:w},Symbol.toStringTag,{value:"Module"}));l.IDENTITY=y;l.clone=R;l.create=c;l.createView=F;l.fromValues=w;l.quatf64=z})},"esri/chunks/quatf32":function(){define(["exports"],function(l){function c(){const z=new Float32Array(4);z[3]=1;return z}function R(z){const D=new Float32Array(4);D[0]=z[0];D[1]=z[1];D[2]=z[2];D[3]=z[3];return D}function w(z,D,E,W){const u=new Float32Array(4);u[0]=z;u[1]=D;u[2]=E;u[3]=W;return u}function F(z,D){return new Float32Array(z,D,
4)}const y=Object.freeze(Object.defineProperty({__proto__:null,clone:R,create:c,createView:F,fromValues:w},Symbol.toStringTag,{value:"Module"}));l.clone=R;l.create=c;l.createView=F;l.fromValues=w;l.quatf32=y})},"esri/chunks/vec3f32":function(){define(["exports"],function(l){function c(){return new Float32Array(3)}function R(n){const B=new Float32Array(3);B[0]=n[0];B[1]=n[1];B[2]=n[2];return B}function w(n,B,J){const x=new Float32Array(3);x[0]=n;x[1]=B;x[2]=J;return x}function F(n,B){return new Float32Array(n,
B,3)}function y(){return c()}function z(){return w(1,1,1)}function D(){return w(1,0,0)}function E(){return w(0,1,0)}function W(){return w(0,0,1)}const u=c(),A=z(),K=D(),Y=E(),N=W(),p=Object.freeze(Object.defineProperty({__proto__:null,ONES:A,UNIT_X:K,UNIT_Y:Y,UNIT_Z:N,ZEROS:u,clone:R,create:c,createView:F,fromValues:w,ones:z,unitX:D,unitY:E,unitZ:W,zeros:y},Symbol.toStringTag,{value:"Module"}));l.ONES=A;l.UNIT_X=K;l.UNIT_Y=Y;l.UNIT_Z=N;l.ZEROS=u;l.clone=R;l.create=c;l.createView=F;l.fromValues=w;
l.ones=z;l.unitX=D;l.unitY=E;l.unitZ=W;l.vec3f32=p;l.zeros=y})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(l,c,R,w,F,y,z,D,E,W,u,A,K,Y,N,p,n,B,J,x,q,v,t,C,Q,ea,ra){function ua(){return!!ya&&n.isLoaded()}function ka(d){y.isNone(wa)&&(wa=Promise.all([n.load(),(new Promise((f,e)=>l(["../chunks/geometryEngineBase"],f,e))).then(f=>f.geometryEngineBase),new Promise((f,e)=>l(["./geometryAdapters/hydrated"],f,e))]));return wa.then(([,f,{hydratedAdapter:e}])=>{z.throwIfAborted(d);Fa=e;ya=f.default;ya._enableProjection(n.pe);db.notify()})}function Ca(d,f,e=null,m=null){return Array.isArray(d)?0===d.length?
[]:Ha(Fa,d,d[0].spatialReference,f,e,m):Ha(Fa,[d],d.spatialReference,f,e,m)[0]}function Ha(d,f,e,m,U=null,V=null){if(y.isNone(e)||y.isNone(m))return f;if(va(e,m,U))return f.map(ca=>y.unwrap(Ba(ca,e,m)));if(y.isNone(U)){const ca=C.cacheKey(e,m);void 0!==ab[ca]?U=ab[ca]:(U=Ja(e,m,void 0),y.isNone(U)&&(U=new C),ab[ca]=U)}if(y.isNone(ya)||y.isNone(d))throw new Ga;return y.isSome(V)?ya._project(d,f,e,m,U,V):ya._project(d,f,e,m,U)}function Ia(d,f){if(!ua())for(const e of d)if(y.isSome(e)&&!Q.equals(e.spatialReference,
f)&&Q.isValid(e.spatialReference)&&Q.isValid(f)&&!va(e.spatialReference,f))return E.trackAccess(db),{pending:ka(),geometries:null};return{pending:null,geometries:d.map(e=>y.isNone(e)?null:Q.equals(e.spatialReference,f)?e:Q.isValid(e.spatialReference)&&Q.isValid(f)?Qa(e,f):null)}}function Ja(d,f,e=null){if(y.isNone(d)||y.isNone(f))return null;if(y.isNone(ya)||y.isNone(Fa))throw new Ga;d=ya._getTransformation(Fa,d,f,e,e?.spatialReference);return null!==d?C.fromGE(d):null}function Qa(d,f){try{const e=
Ca(d,f);if(null==e)return null;"xmin"in d&&"xmin"in e&&(e.zmin=d.zmin,e.zmax=d.zmax);const m=ra.getGeometryZScaler(e.type,d.spatialReference,f);y.isSome(m)&&m(e);return e}catch(e){if(!(e instanceof Ga))throw e;return null}}function va(d,f,e){return e?!1:Q.equals(d,f)?!0:Q.isValid(d)&&Q.isValid(f)&&!!Ka(d,f,gb)}function Ba(d,f,e){return d?"x"in d?Ea(d,f,new B,e,0):"xmin"in d?$a(d,f,new N,e,0):"rings"in d?Xa(d,f,new J,e,0):"paths"in d?Wa(d,f,new x,e,0):"points"in d?Za(d,f,new p,e,0):null:null}function Ea(d,
f,e,m,U){pa[0]=d.x;pa[1]=d.y;const V=d.z;pa[2]=void 0!==V?V:U;if(!Z(pa,f,0,pa,m,0,1))return null;e.x=pa[0];e.y=pa[1];e.spatialReference=m;void 0===V?(e.z=void 0,e.hasZ=!1):(e.z=pa[2],e.hasZ=!0);void 0===d.m?(e.m=void 0,e.hasM=!1):(e.m=d.m,e.hasM=!0);return e}function Za(d,f,e,m,U){const {points:V,hasZ:ca,hasM:la}=d;d=[];const Da=V.length,Aa=[];for(var za of V)Aa.push(za[0],za[1],ca?za[2]:U);if(!Z(Aa,f,0,Aa,m,0,Da))return null;for(f=0;f<Da;++f){U=3*f;za=Aa[U];const Ma=Aa[U+1];ca&&la?d.push([za,Ma,
Aa[U+2],V[f][3]]):ca?d.push([za,Ma,Aa[U+2]]):la?d.push([za,Ma,V[f][2]]):d.push([za,Ma])}e.points=d;e.spatialReference=m;e.hasZ=ca;e.hasM=la;return e}function Wa(d,f,e,m,U){const {paths:V,hasZ:ca,hasM:la}=d;d=[];if(!da(V,ca??!1,la??!1,f,d,m,U))return null;e.paths=d;e.spatialReference=m;e.hasZ=ca;e.hasM=la;return e}function Xa(d,f,e,m,U){const {rings:V,hasZ:ca,hasM:la}=d;d=[];if(!da(V,ca??!1,la??!1,f,d,m,U))return null;e.rings=d;e.spatialReference=m;e.hasZ=ca;e.hasM=la;return e}function $a(d,f,e,m,
U){const {xmin:V,ymin:ca,xmax:la,ymax:Da,hasZ:Aa,hasM:za}=d;if(!O(V,ca,Aa?d.zmin:U,f,pa,m))return null;e.xmin=pa[0];e.ymin=pa[1];Aa&&(e.zmin=pa[2]);if(!O(la,Da,Aa?d.zmax:U,f,pa,m))return null;e.xmax=pa[0];e.ymax=pa[1];Aa&&(e.zmax=pa[2]);za&&(e.mmin=d.mmin,e.mmax=d.mmax);e.spatialReference=m;return e}function O(d,f,e,m,U,V){xa[0]=d;xa[1]=f;xa[2]=e;return Z(xa,m,0,U,V,0,1)}function M(d,f,e,m){if(y.isNone(f)||y.isNone(m)||2>d.length)return!1;2===d.length&&(xa[0]=d[0],xa[1]=d[1],xa[2]=0,d=xa);return Z(d,
f,0,e,m,0,1)}function S(d,f,e){if(y.isNone(f))return!1;f=a(f,bb);f=Sa[f][h.WGS84_COMPARABLE_LON_LAT];if(y.isNone(f))return!1;f(d,0,xa,0);e!==xa&&(e[0]=xa[0],e[1]=xa[1],2<e.length&&(e[2]=xa[2]));return!0}function Z(d,f,e,m,U,V,ca=1){f=Ka(f,U,gb);if(y.isNone(f))return!1;if(f===b){if(d===m&&e===V)return!0;ca=e+3*ca;for(let la=e,Da=V;la<ca;la++,Da++)m[Da]=d[la];return!0}ca=e+3*ca;for(let la=e,Da=V;la<ca;la+=3,Da+=3)f(d,la,m,Da);return!0}function da(d,f,e,m,U,V,ca=0){const la=[];for(const Da of d)for(const Aa of Da)la.push(Aa[0],
Aa[1],f?Aa[2]:ca);if(!Z(la,m,0,la,V,0,la.length/3))return!1;m=0;U.length=0;for(const Da of d){d=[];for(const Aa of Da)f&&e?d.push([la[m++],la[m++],la[m++],Aa[3]]):f?d.push([la[m++],la[m++],la[m++]]):(e?d.push([la[m++],la[m++],Aa[2]]):d.push([la[m++],la[m++]]),m++);U.push(d)}return!0}function ja(d,f,e,m){f=m+f;if(f<m/2||e>f)return Number.MAX_VALUE;d=Math.abs(Ta*d)+Math.asin(e/f);return d>=Math.PI/2?Number.MAX_VALUE:e/Math.cos(d)}function sa(d,f,e){const m=Math.sin(d);d=Math.cos(d);const U=Math.sin(f);
f=Math.cos(f);e[0]=-m;e[4]=-U*d;e[8]=f*d;e[12]=0;e[1]=d;e[5]=-U*m;e[9]=f*m;e[13]=0;e[2]=0;e[6]=f;e[10]=U;e[14]=0;e[3]=0;e[7]=0;e[11]=0;e[15]=1;return e}function Ra(d,f,e){sa(d,f,e);u.transpose(e,e);return e}function a(d,f){if(!d)return h.UNKNOWN;if(f.spatialReference===d)return f.spatialReferenceId;f.spatialReference=d;"metersPerUnit"in f&&(f.metersPerUnit=D.getMetersPerUnitForSR(d,1));return d.wkt===Y.SphericalECEFSpatialReferenceLike.wkt?f.spatialReferenceId=h.SPHERICAL_ECEF:Q.isWGS84(d)?f.spatialReferenceId=
h.WGS84:Q.isWebMercator(d)?f.spatialReferenceId=h.WEB_MERCATOR:Q.isPlateCarree(d)?f.spatialReferenceId=h.PLATE_CARREE:d.wkt===Y.WGS84ECEFSpatialReferenceLike.wkt?f.spatialReferenceId=h.WGS84_ECEF:d.wkid===ea.SupportedGCSWkids.CGCS2000?f.spatialReferenceId=h.CGCS2000:d.wkt===Y.SphericalPCPFMarsLike.wkt?f.spatialReferenceId=h.SPHERICAL_MARS_PCPF:d.wkt===Y.SphericalPCPFMoonLike.wkt?f.spatialReferenceId=h.SPHERICAL_MOON_PCPF:Q.isMars(d)?f.spatialReferenceId=h.GCSMARS2000:Q.isMoon(d)?f.spatialReferenceId=
h.GCSMOON2000:f.spatialReferenceId=h.UNKNOWN}function b(d,f,e,m){d!==e&&(e[m++]=d[f++],e[m++]=d[f++],e[m]=d[f])}function g(d,f,e,m){e[m++]=cb*(d[f++]/v.earth.radius);e[m++]=cb*(Math.PI/2-2*Math.atan(Math.exp(-d[f++]/v.earth.radius)));e[m]=d[f]}function k(d,f,e,m){g(d,f,e,m);aa(e,m,e,m)}function r(d,f,e,m){g(d,f,e,m);ma(e,m,e,m)}function G(d,f,e,m,U){var V=.4999999*Math.PI;V=F.clamp(Ta*d[f+1],-V,V);V=Math.sin(V);e[m++]=Ta*d[f]*U.radius;e[m++]=U.halfSemiMajorAxis*Math.log((1+V)/(1-V));e[m]=d[f+2]}function I(d,
f,e,m){G(d,f,e,m,v.earth)}function L(d,f,e,m){e[m]=d[f]*hb;e[m+1]=d[f+1]*hb;e[m+2]=d[f+2]}function H(d,f,e,m){e[m]=d[f]*eb;e[m+1]=d[f+1]*eb;e[m+2]=d[f+2]}function P(d,f,e,m){g(d,f,e,m);L(e,m,e,m)}function T(d,f,e,m,U){U+=d[f+2];const V=Ta*d[f+1];d=Ta*d[f];f=Math.cos(V);e[m++]=Math.cos(d)*f*U;e[m++]=Math.sin(d)*f*U;e[m]=Math.sin(V)*U}function X(d,f,e,m){T(d,f,e,m,v.moon.radius)}function ba(d,f,e,m){T(d,f,e,m,v.mars.radius)}function aa(d,f,e,m){T(d,f,e,m,v.earth.radius)}function ha(d,f,e,m,U){var V=
d[f];const ca=d[f+1];f=d[f+2];d=Math.sqrt(V*V+ca*ca+f*f);f=F.asinClamped(f/(0===d?1:d));V=Math.atan2(ca,V);e[m++]=cb*V;e[m++]=cb*f;e[m]=d-U}function fa(d,f,e,m){ha(d,f,e,m,v.moon.radius)}function ia(d,f,e,m){ha(d,f,e,m,v.mars.radius)}function ta(d,f,e,m){ha(d,f,e,m,v.earth.radius)}function oa(d,f,e,m){ta(d,f,e,m);I(e,m,e,m)}function qa(d,f,e,m){ta(d,f,e,m);ma(e,m,e,m)}function ma(d,f,e,m){var U=v.earth;const V=Ta*d[f];var ca=Ta*d[f+1];d=d[f+2];f=Math.sin(ca);ca=Math.cos(ca);const la=U.radius/Math.sqrt(1-
U.eccentricitySquared*f*f);e[m++]=(la+d)*ca*Math.cos(V);e[m++]=(la+d)*ca*Math.sin(V);e[m++]=(la*(1-U.eccentricitySquared)+d)*f}function na(d,f,e,m){var U=t.earthEllipsoidConstants,V=d[f],ca=d[f+1];d=d[f+2];let la;f=Math.abs(d);var Da=V*V+ca*ca;var Aa=Math.sqrt(Da);var za=Da+d*d;var Ma=Math.sqrt(za);V=Math.atan2(ca,V);var Va=d*d/za;za=Da/za;ca=U.a2/Ma;Da=U.a3-U.a4/Ma;.3<za?(Va=f/Ma*(1+za*(U.a1+ca+Va*Da)/Ma),Ma=Math.asin(Va),ca=Va*Va,za=Math.sqrt(1-ca)):(za=Aa/Ma*(1-Va*(U.a5-ca-za*Da)/Ma),Ma=Math.acos(za),
ca=1-za*za,Va=Math.sqrt(ca));la=1-v.earth.eccentricitySquared*ca;ca=v.earth.radius/Math.sqrt(la);U=U.a6*ca;ca=Aa-ca*za;Da=f-U*Va;f=za*ca+Va*Da;Aa=za*Da-Va*ca;U=Aa/(U/la+f);Ma+=U;0>d&&(Ma=-Ma);e[m++]=cb*V;e[m++]=cb*Ma;e[m]=f+Aa*U/2}function Na(d,f,e,m){na(d,f,e,m);aa(e,m,e,m)}function Oa(d,f,e,m){na(d,f,e,m);I(e,m,e,m)}function Ka(d,f,e=La()){return y.isNone(d)||y.isNone(f)?null:Pa(d,f,e).projector}function Pa(d,f,e){if(y.isNone(d)||y.isNone(f)||e.source.spatialReference===d&&e.dest.spatialReference===
f)return e;const m=a(d,e.source),U=a(f,e.dest);m===h.UNKNOWN&&U===h.UNKNOWN?Q.equals(d,f)?e.projector=b:e.projector=null:e.projector=Sa[m][U];return e}function La(){return{source:{spatialReference:null,spatialReferenceId:h.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:h.UNKNOWN,metersPerUnit:1},projector:b}}let ya=null,Fa=null,wa=null,ab={};const db=new W.SimpleObservable;let Ga=function(d){function f(){return e.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")}
R._inherits(f,d);var e=R._createSuper(f);return R._createClass(f)}(w);var h;(function(d){d[d.UNKNOWN=0]="UNKNOWN";d[d.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";d[d.WGS84=2]="WGS84";d[d.WEB_MERCATOR=3]="WEB_MERCATOR";d[d.WGS84_ECEF=4]="WGS84_ECEF";d[d.CGCS2000=5]="CGCS2000";d[d.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";d[d.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";d[d.GCSMARS2000=8]="GCSMARS2000";d[d.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";d[d.GCSMOON2000=10]="GCSMOON2000";d[d.LON_LAT=
11]="LON_LAT";d[d.PLATE_CARREE=12]="PLATE_CARREE"})(h||(h={}));const hb=v.earth.radius*Math.PI/180,eb=180/(v.earth.radius*Math.PI),Sa={[h.WGS84]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:b,[h.WGS84_COMPARABLE_LON_LAT]:b,[h.SPHERICAL_ECEF]:aa,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:I,[h.PLATE_CARREE]:L,[h.WGS84]:b,[h.WGS84_ECEF]:ma},[h.CGCS2000]:{[h.CGCS2000]:b,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:b,
[h.WGS84_COMPARABLE_LON_LAT]:b,[h.SPHERICAL_ECEF]:aa,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:L,[h.WGS84]:null,[h.WGS84_ECEF]:ma},[h.GCSMARS2000]:{[h.CGCS2000]:null,[h.GCSMARS2000]:b,[h.GCSMOON2000]:null,[h.LON_LAT]:b,[h.WGS84_COMPARABLE_LON_LAT]:null,[h.SPHERICAL_ECEF]:null,[h.SPHERICAL_MARS_PCPF]:ba,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:null,[h.WGS84]:null,[h.WGS84_ECEF]:null},
[h.GCSMOON2000]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:b,[h.LON_LAT]:b,[h.WGS84_COMPARABLE_LON_LAT]:null,[h.SPHERICAL_ECEF]:null,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:X,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:null,[h.WGS84]:null,[h.WGS84_ECEF]:null},[h.WEB_MERCATOR]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:g,[h.WGS84_COMPARABLE_LON_LAT]:g,[h.SPHERICAL_ECEF]:k,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,
[h.WEB_MERCATOR]:b,[h.PLATE_CARREE]:P,[h.WGS84]:g,[h.WGS84_ECEF]:r},[h.WGS84_ECEF]:{[h.CGCS2000]:na,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:na,[h.WGS84_COMPARABLE_LON_LAT]:na,[h.SPHERICAL_ECEF]:Na,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:Oa,[h.PLATE_CARREE]:function(d,f,e,m){na(d,f,e,m);L(e,m,e,m)},[h.WGS84]:na,[h.WGS84_ECEF]:b},[h.SPHERICAL_ECEF]:{[h.CGCS2000]:ta,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:ta,[h.WGS84_COMPARABLE_LON_LAT]:ta,
[h.SPHERICAL_ECEF]:b,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:oa,[h.PLATE_CARREE]:function(d,f,e,m){ta(d,f,e,m);L(e,m,e,m)},[h.WGS84]:ta,[h.WGS84_ECEF]:qa},[h.SPHERICAL_MARS_PCPF]:{[h.CGCS2000]:null,[h.GCSMARS2000]:ia,[h.GCSMOON2000]:null,[h.LON_LAT]:ia,[h.WGS84_COMPARABLE_LON_LAT]:null,[h.SPHERICAL_ECEF]:null,[h.SPHERICAL_MARS_PCPF]:b,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:null,[h.WGS84]:null,[h.WGS84_ECEF]:null},
[h.SPHERICAL_MOON_PCPF]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:fa,[h.LON_LAT]:fa,[h.WGS84_COMPARABLE_LON_LAT]:null,[h.SPHERICAL_ECEF]:null,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:b,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:null,[h.WGS84]:null,[h.WGS84_ECEF]:null},[h.UNKNOWN]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:null,[h.WGS84_COMPARABLE_LON_LAT]:null,[h.SPHERICAL_ECEF]:null,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,
[h.UNKNOWN]:b,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:null,[h.WGS84]:null,[h.WGS84_ECEF]:null},[h.LON_LAT]:{[h.CGCS2000]:b,[h.GCSMARS2000]:b,[h.GCSMOON2000]:b,[h.LON_LAT]:b,[h.WGS84_COMPARABLE_LON_LAT]:b,[h.SPHERICAL_ECEF]:aa,[h.SPHERICAL_MARS_PCPF]:ba,[h.SPHERICAL_MOON_PCPF]:X,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:I,[h.PLATE_CARREE]:L,[h.WGS84]:b,[h.WGS84_ECEF]:ma},[h.WGS84_COMPARABLE_LON_LAT]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:b,[h.WGS84_COMPARABLE_LON_LAT]:b,[h.SPHERICAL_ECEF]:aa,
[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:L,[h.WGS84]:b,[h.WGS84_ECEF]:ma},[h.PLATE_CARREE]:{[h.CGCS2000]:H,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:H,[h.WGS84_COMPARABLE_LON_LAT]:H,[h.SPHERICAL_ECEF]:function(d,f,e,m){H(d,f,e,m);aa(e,m,e,m)},[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:function(d,f,e,m){H(d,f,e,m);I(e,m,e,m)},[h.PLATE_CARREE]:b,[h.WGS84]:H,[h.WGS84_ECEF]:function(d,
f,e,m){H(d,f,e,m);ma(e,m,e,m)}}},bb={spatialReference:null,spatialReferenceId:h.UNKNOWN},ib={spatialReference:null,spatialReferenceId:h.UNKNOWN},gb=La(),jb=La(),Ta=F.deg2rad(1),cb=F.rad2deg(1),xa=K.create(),Ua=K.create(),Ya=K.create(),pa=K.create(),fb=K.create();c.canProjectToWGS84ComparableLonLat=function(d){if(y.isNone(d))return!1;d=a(d,bb);return!!Sa[d][h.WGS84_COMPARABLE_LON_LAT]};c.canProjectWithoutEngine=va;c.computeENUToSphericalPCPFLocalRotation=sa;c.computeSphericalPCPFToENULocalRotation=
Ra;c.computeTranslationToOriginAndRotation=function(d,f,e,m){if(y.isNone(d)||y.isNone(m))return!1;var U=a(d,bb),V=a(m,ib);if(U===V&&V!==h.SPHERICAL_ECEF&&V!==h.SPHERICAL_MARS_PCPF&&V!==h.SPHERICAL_MOON_PCPF&&(U!==h.UNKNOWN||Q.equals(d,m)))return u.fromTranslation(e,f),!0;if(V===h.SPHERICAL_ECEF||V===h.SPHERICAL_MARS_PCPF||V===h.SPHERICAL_MOON_PCPF){U=Sa[U][h.LON_LAT];V=Sa[h.LON_LAT][V];if(y.isNone(U)||y.isNone(V))return!1;U(f,0,Ua,0);V(Ua,0,Ya,0);sa(Ta*Ua[0],Ta*Ua[1],e);e[12]=Ya[0];e[13]=Ya[1];e[14]=
Ya[2];return!0}if((V===h.WEB_MERCATOR||V===h.PLATE_CARREE)&&(U===h.WGS84||U===h.CGCS2000&&V===h.PLATE_CARREE||U===h.SPHERICAL_ECEF||U===h.WEB_MERCATOR)){d=Sa[U][h.LON_LAT];V=Sa[h.LON_LAT][V];if(y.isNone(d)||y.isNone(V))return!1;d(f,0,Ua,0);V(Ua,0,Ya,0);U===h.SPHERICAL_ECEF?Ra(Ta*Ua[0],Ta*Ua[1],e):u.identity(e);e[12]=Ya[0];e[13]=Ya[1];e[14]=Ya[2];return!0}return!1};c.getProjectorName=function(d,f){switch(Ka(d,f,gb)){case b:return"copy3";case aa:return"wgs84ToSphericalECEF";case I:return"wgs84ToWebMercator";
case L:return"wgs84ToPlateCarree";case ma:return"wgs84ToWGS84ECEF";case g:return"webMercatorToWGS84";case k:return"webMercatorToSphericalECEF";case r:return"webMercatorToWGS84ECEF";case P:return"webMercatorToPlateCarree";case na:return"wgs84ECEFToWGS84";case Na:return"wgs84ECEFToSphericalECEF";case Oa:return"wgs84ECEFToWebMercator";case ta:return"sphericalECEFToWGS84";case oa:return"sphericalECEFToWebMercator";case ia:return"sphericalMarsPCPFToMars2000";case fa:return"sphericalMoonPCPFToMoon2000";
case qa:return"sphericalECEFToWGS84ECEF";case ba:return"mars2000ToSphericalPCPF";case X:return"moon2000ToSphericalPCPF";default:return null}};c.getTransformation=Ja;c.getTransformations=function(d,f,e=null){if(y.isNone(ya)||y.isNone(Fa))throw new Ga;d=ya._getTransformationBySuitability(Fa,d,f,e,e?.spatialReference);if(null!==d){f=[];for(const m of d)f.push(C.fromGE(m));return f}return[]};c.initializeProjection=async function(d,f,e,m){if(ua())return z.waitTick(m);if(Array.isArray(d))for(const {source:U,
dest:V,geographicTransformation:ca}of d){if(!va(U,V,ca))return ka(m)}else if(!va(d,f,e))return ka(m);return z.waitTick(m)};c.isLoaded=ua;c.load=ka;c.localLinearScaleFactors=function(d,f,e,m){if(y.isNone(f)||y.isNone(m))return!1;const U=a(f,bb);var V=a(m,ib);if(U===V&&U!==h.UNKNOWN||Q.equals(f,m))return e[0]=1,e[1]=1,e[2]=1,!0;if(U===h.SPHERICAL_ECEF){f=A.length(d);d=f/Math.sqrt(d[0]*d[0]+d[1]*d[1]);f/=v.earth.radius;if(V===h.WEB_MERCATOR)return e[0]=d*f,e[1]=d*f,e[2]=1,!0;if(V===h.WGS84||V===h.CGCS2000)return V=
eb,e[0]=V*d*f,e[1]=V*f,e[2]=1,!0}else if(U===h.PLATE_CARREE){if(V===h.WGS84||V===h.CGCS2000)return e[0]=eb,e[1]=eb,e[2]=1,!0;if(V===h.WEB_MERCATOR)return V=d[1]/v.earth.radius,e[0]=1,e[1]=1/Math.cos(V),e[2]=1,!0}return!1};c.lonLatToSphericalPCPF=function(d,f,e,m){const U=Math.cos(e);d[0]=Math.cos(f)*U*m;d[1]=Math.sin(f)*U*m;d[2]=Math.sin(e)*m};c.lonLatToWebMercatorComparable=G;c.project=Ca;c.projectBoundingRect=function(d,f,e,m){if(null==d)return!1;if(Q.equals(f,m))return q.copy(e,d),!0;xa[0]=d[0];
xa[1]=d[1];xa[2]=0;if(!Z(xa,f,0,xa,m,0,1))return!1;e[0]=xa[0];e[1]=xa[1];xa[0]=d[2];xa[1]=d[3];xa[2]=0;if(!Z(xa,f,0,xa,m,0,1))return!1;e[2]=xa[0];e[3]=xa[1];return!0};c.projectBoundingSphere=function(d,f,e,m){if(y.isNone(f)||y.isNone(m))return!1;f=Pa(f,m,jb);if(f.projector===b)return e[0]=d[0],e[1]=d[1],e[2]=d[2],e[3]=d[3],!0;if(y.isNone(f.projector))return!1;const {source:U,dest:V}=f;if(V.spatialReferenceId===h.WEB_MERCATOR){f=Sa[U.spatialReferenceId][h.WGS84];if(y.isNone(f))return!1;f(d,0,Ua,0);
I(Ua,0,e,0);e[3]=ja(Ua[1],d[2],d[3],v.earth.radius);return!0}if(U.spatialReferenceId!==h.WGS84&&U.spatialReferenceId!==h.CGCS2000||V.spatialReferenceId!==h.PLATE_CARREE)f.projector(d,0,e,0),e[3]=d[3]*(U.metersPerUnit??1)/(V.metersPerUnit??1);else{m=Sa[h.SPHERICAL_ECEF][h.PLATE_CARREE];let ca=d[3];y.isSome(Sa[U.spatialReferenceId][h.SPHERICAL_ECEF])&&y.isSome(m)&&(ca=ja(d[1],d[2],d[3],v.earth.radius));f.projector(d,0,e,0);e[3]=ca}return!0};c.projectBuffer=Z;c.projectDirection=function(d,f,e,m,U){A.copy(pa,
d);A.add(fb,d,f);M(pa,e,pa,U);M(fb,e,fb,U);A.subtract(m,fb,pa);A.normalize(m,m)};c.projectExtent=function(d,f,e=f.spatialReference,m=0){return y.isSome(d.spatialReference)&&y.isSome(e)&&y.isSome($a(d,d.spatialReference,f,e,m))};c.projectMany=Ha;c.projectMultipoint=function(d,f,e=f.spatialReference,m=0){return y.isSome(d.spatialReference)&&y.isSome(e)&&y.isSome(Za(d,d.spatialReference,f,e,m))};c.projectOrLoad=function(d,f){d=Ia([d],f);return y.isSome(d.pending)?{pending:d.pending,geometry:null}:y.isSome(d.geometries)?
{pending:null,geometry:d.geometries[0]}:{pending:null,geometry:null}};c.projectOrLoadMany=Ia;c.projectPoint=function(d,f,e=f.spatialReference,m=0){return y.isSome(e)&&y.isSome(d.spatialReference)&&y.isSome(Ea(d,d.spatialReference,f,e,m))};c.projectPointToVector=function(d,f,e,m=0){pa[0]=d.x;pa[1]=d.y;const U=d.z;pa[2]=void 0!==U?U:m;return Z(pa,d.spatialReference,0,f,e,0,1)};c.projectPointToWGS84ComparableLonLat=function(d,f){pa[0]=d.x;pa[1]=d.y;const e=d.z;pa[2]=void 0!==e?e:0;return S(pa,d.spatialReference,
f)};c.projectPolygon=function(d,f,e=f.spatialReference,m=0){return y.isSome(d.spatialReference)&&y.isSome(e)&&y.isSome(Xa(d,d.spatialReference,f,e,m))};c.projectPolygonToWGS84ComparableLonLat=function({hasZ:d,spatialReference:f,rings:e},m,U=0){f=a(f,bb);f=Sa[f][h.WGS84_COMPARABLE_LON_LAT];if(y.isNone(f))return!1;d=d?V=>V:V=>A.set(pa,V[0],V[1],U);for(const V of e){e=[];for(const ca of V){const la=[0,0,U];f(d(ca),0,la,0);e.push(la)}m.push(e)}return!0};c.projectPolyline=function(d,f,e=f.spatialReference,
m=0){return y.isSome(d.spatialReference)&&y.isSome(e)&&y.isSome(Wa(d,d.spatialReference,f,e,m))};c.projectPolylineToWGS84ComparableLonLat=function({hasZ:d,spatialReference:f,paths:e},m,U=0){f=a(f,bb);f=Sa[f][h.WGS84_COMPARABLE_LON_LAT];if(y.isNone(f))return!1;d=d?V=>V:V=>A.set(pa,V[0],V[1],U);for(const V of e){e=[];for(const ca of V){const la=[0,0,U];f(d(ca),0,la,0);e.push(la)}m.push(e)}return!0};c.projectVectorToDehydratedPoint=function(d,f,e){return Z(d,f,0,pa,e.spatialReference,0,1)?(e.x=pa[0],
e.y=pa[1],e.z=pa[2],e):null};c.projectVectorToPoint=function(d,f,e){if(y.isNone(f)||y.isNone(e))return null;const m=new B({spatialReference:e});return Z(d,f,0,pa,e,0,1)?(m.x=pa[0],m.y=pa[1],m.z=pa[2],m):null};c.projectVectorToVector=M;c.projectVectorToWGS84ComparableLonLat=function(d,f,e){return S(d,f,e)};c.projectWithoutEngine=Ba;c.projectXYZToVector=O;c.sphericalPCPFtoLonLatElevation=ha;c.test={get loadPromise(){return wa}};c.tryProjectWithZConversion=Qa;c.unload=function(){wa=Fa=ya=null;ab={}};
Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../ObservableBase"],function(l,c,R){R=function(w){function F(){return y.apply(this,arguments)}c._inherits(F,w);var y=c._createSuper(F);F.prototype.notify=function(){var z=this._observers;if(z&&0<z.length){z=z.slice();for(const D of z)D.onInvalidated(),D.onCommitted()}};return c._createClass(F)}(R.ObservableBase);
l.SimpleObservable=R;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(l,c,R){function w(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function F(a,b,g,k,r,G,I,L,H,P,T,X,ba,aa,ha,fa,ia){a[0]=b;a[1]=g;a[2]=k;a[3]=r;a[4]=G;a[5]=I;a[6]=L;a[7]=H;a[8]=P;a[9]=T;a[10]=X;a[11]=
ba;a[12]=aa;a[13]=ha;a[14]=fa;a[15]=ia;return a}function y(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function z(a,b){if(a===b){const g=b[1],k=b[2],r=b[3],G=b[6],I=b[7],L=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=g;a[6]=b[9];a[7]=b[13];a[8]=k;a[9]=G;a[11]=b[14];a[12]=r;a[13]=I;a[14]=L}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],
a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function D(a,b){E(a,b)||y(a);return a}function E(a,b){const g=b[0],k=b[1],r=b[2],G=b[3],I=b[4],L=b[5],H=b[6],P=b[7],T=b[8],X=b[9],ba=b[10],aa=b[11],ha=b[12],fa=b[13],ia=b[14];b=b[15];const ta=g*L-k*I,oa=g*H-r*I,qa=g*P-G*I,ma=k*H-r*L,na=k*P-G*L,Na=r*P-G*H,Oa=T*fa-X*ha,Ka=T*ia-ba*ha,Pa=T*b-aa*ha,La=X*ia-ba*fa,ya=X*b-aa*fa,Fa=ba*b-aa*ia;let wa=ta*Fa-oa*ya+qa*La+ma*Pa-na*Ka+Na*Oa;if(!wa)return null;wa=1/wa;a[0]=(L*Fa-H*ya+P*La)*wa;a[1]=(r*ya-k*Fa-
G*La)*wa;a[2]=(fa*Na-ia*na+b*ma)*wa;a[3]=(ba*na-X*Na-aa*ma)*wa;a[4]=(H*Pa-I*Fa-P*Ka)*wa;a[5]=(g*Fa-r*Pa+G*Ka)*wa;a[6]=(ia*qa-ha*Na-b*oa)*wa;a[7]=(T*Na-ba*qa+aa*oa)*wa;a[8]=(I*ya-L*Pa+P*Oa)*wa;a[9]=(k*Pa-g*ya-G*Oa)*wa;a[10]=(ha*na-fa*qa+b*ta)*wa;a[11]=(X*qa-T*na-aa*ta)*wa;a[12]=(L*Ka-I*La-H*Oa)*wa;a[13]=(g*La-k*Ka+r*Oa)*wa;a[14]=(fa*oa-ha*ma-ia*ta)*wa;a[15]=(T*ma-X*oa+ba*ta)*wa;return a}function W(a,b){const g=b[0],k=b[1],r=b[2],G=b[3],I=b[4],L=b[5],H=b[6],P=b[7],T=b[8],X=b[9],ba=b[10],aa=b[11],ha=
b[12],fa=b[13],ia=b[14];b=b[15];a[0]=L*(ba*b-aa*ia)-X*(H*b-P*ia)+fa*(H*aa-P*ba);a[1]=-(k*(ba*b-aa*ia)-X*(r*b-G*ia)+fa*(r*aa-G*ba));a[2]=k*(H*b-P*ia)-L*(r*b-G*ia)+fa*(r*P-G*H);a[3]=-(k*(H*aa-P*ba)-L*(r*aa-G*ba)+X*(r*P-G*H));a[4]=-(I*(ba*b-aa*ia)-T*(H*b-P*ia)+ha*(H*aa-P*ba));a[5]=g*(ba*b-aa*ia)-T*(r*b-G*ia)+ha*(r*aa-G*ba);a[6]=-(g*(H*b-P*ia)-I*(r*b-G*ia)+ha*(r*P-G*H));a[7]=g*(H*aa-P*ba)-I*(r*aa-G*ba)+T*(r*P-G*H);a[8]=I*(X*b-aa*fa)-T*(L*b-P*fa)+ha*(L*aa-P*X);a[9]=-(g*(X*b-aa*fa)-T*(k*b-G*fa)+ha*(k*aa-
G*X));a[10]=g*(L*b-P*fa)-I*(k*b-G*fa)+ha*(k*P-G*L);a[11]=-(g*(L*aa-P*X)-I*(k*aa-G*X)+T*(k*P-G*L));a[12]=-(I*(X*ia-ba*fa)-T*(L*ia-H*fa)+ha*(L*ba-H*X));a[13]=g*(X*ia-ba*fa)-T*(k*ia-r*fa)+ha*(k*ba-r*X);a[14]=-(g*(L*ia-H*fa)-I*(k*ia-r*fa)+ha*(k*H-r*L));a[15]=g*(L*ba-H*X)-I*(k*ba-r*X)+T*(k*H-r*L);return a}function u(a){const b=a[0],g=a[1],k=a[2],r=a[3],G=a[4],I=a[5],L=a[6],H=a[7],P=a[8],T=a[9],X=a[10],ba=a[11],aa=a[12],ha=a[13],fa=a[14];a=a[15];return(b*I-g*G)*(X*a-ba*fa)-(b*L-k*G)*(T*a-ba*ha)+(b*H-r*
G)*(T*fa-X*ha)+(g*L-k*I)*(P*a-ba*aa)-(g*H-r*I)*(P*fa-X*aa)+(k*H-r*L)*(P*ha-T*aa)}function A(a,b,g){const k=b[0],r=b[1],G=b[2],I=b[3],L=b[4],H=b[5],P=b[6],T=b[7],X=b[8],ba=b[9],aa=b[10],ha=b[11],fa=b[12],ia=b[13],ta=b[14];b=b[15];let oa=g[0],qa=g[1],ma=g[2],na=g[3];a[0]=oa*k+qa*L+ma*X+na*fa;a[1]=oa*r+qa*H+ma*ba+na*ia;a[2]=oa*G+qa*P+ma*aa+na*ta;a[3]=oa*I+qa*T+ma*ha+na*b;oa=g[4];qa=g[5];ma=g[6];na=g[7];a[4]=oa*k+qa*L+ma*X+na*fa;a[5]=oa*r+qa*H+ma*ba+na*ia;a[6]=oa*G+qa*P+ma*aa+na*ta;a[7]=oa*I+qa*T+ma*
ha+na*b;oa=g[8];qa=g[9];ma=g[10];na=g[11];a[8]=oa*k+qa*L+ma*X+na*fa;a[9]=oa*r+qa*H+ma*ba+na*ia;a[10]=oa*G+qa*P+ma*aa+na*ta;a[11]=oa*I+qa*T+ma*ha+na*b;oa=g[12];qa=g[13];ma=g[14];na=g[15];a[12]=oa*k+qa*L+ma*X+na*fa;a[13]=oa*r+qa*H+ma*ba+na*ia;a[14]=oa*G+qa*P+ma*aa+na*ta;a[15]=oa*I+qa*T+ma*ha+na*b;return a}function K(a,b,g){const k=g[0],r=g[1];g=g[2];if(b===a)a[12]=b[0]*k+b[4]*r+b[8]*g+b[12],a[13]=b[1]*k+b[5]*r+b[9]*g+b[13],a[14]=b[2]*k+b[6]*r+b[10]*g+b[14],a[15]=b[3]*k+b[7]*r+b[11]*g+b[15];else{const G=
b[0],I=b[1],L=b[2],H=b[3],P=b[4],T=b[5],X=b[6],ba=b[7],aa=b[8],ha=b[9],fa=b[10],ia=b[11];a[0]=G;a[1]=I;a[2]=L;a[3]=H;a[4]=P;a[5]=T;a[6]=X;a[7]=ba;a[8]=aa;a[9]=ha;a[10]=fa;a[11]=ia;a[12]=G*k+P*r+aa*g+b[12];a[13]=I*k+T*r+ha*g+b[13];a[14]=L*k+X*r+fa*g+b[14];a[15]=H*k+ba*r+ia*g+b[15]}return a}function Y(a,b,g){const k=g[0],r=g[1];g=g[2];a[0]=b[0]*k;a[1]=b[1]*k;a[2]=b[2]*k;a[3]=b[3]*k;a[4]=b[4]*r;a[5]=b[5]*r;a[6]=b[6]*r;a[7]=b[7]*r;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*g;a[12]=b[12];a[13]=
b[13];a[14]=b[14];a[15]=b[15];return a}function N(a,b,g,k){let r=k[0],G=k[1];k=k[2];let I=Math.sqrt(r*r+G*G+k*k);var L=void 0,H=void 0;let P=void 0,T=void 0,X=void 0,ba=void 0,aa=void 0,ha=void 0,fa=void 0,ia=void 0,ta=void 0,oa=void 0,qa=void 0,ma=void 0,na=void 0,Na=void 0,Oa=void 0,Ka=void 0,Pa=void 0,La=void 0,ya=void 0,Fa=void 0;H=L=void 0;if(I<R.getEpsilon())return null;I=1/I;r*=I;G*=I;k*=I;L=Math.sin(g);H=Math.cos(g);P=1-H;T=b[0];X=b[1];ba=b[2];aa=b[3];ha=b[4];fa=b[5];ia=b[6];ta=b[7];oa=b[8];
qa=b[9];ma=b[10];na=b[11];Na=r*r*P+H;Oa=G*r*P+k*L;Ka=k*r*P-G*L;Pa=r*G*P-k*L;La=G*G*P+H;ya=k*G*P+r*L;Fa=r*k*P+G*L;L=G*k*P-r*L;H=k*k*P+H;a[0]=T*Na+ha*Oa+oa*Ka;a[1]=X*Na+fa*Oa+qa*Ka;a[2]=ba*Na+ia*Oa+ma*Ka;a[3]=aa*Na+ta*Oa+na*Ka;a[4]=T*Pa+ha*La+oa*ya;a[5]=X*Pa+fa*La+qa*ya;a[6]=ba*Pa+ia*La+ma*ya;a[7]=aa*Pa+ta*La+na*ya;a[8]=T*Fa+ha*L+oa*H;a[9]=X*Fa+fa*L+qa*H;a[10]=ba*Fa+ia*L+ma*H;a[11]=aa*Fa+ta*L+na*H;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function p(a,b,g){const k=Math.sin(g);
g=Math.cos(g);const r=b[4],G=b[5],I=b[6],L=b[7],H=b[8],P=b[9],T=b[10],X=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=r*g+H*k;a[5]=G*g+P*k;a[6]=I*g+T*k;a[7]=L*g+X*k;a[8]=H*g-r*k;a[9]=P*g-G*k;a[10]=T*g-I*k;a[11]=X*g-L*k;return a}function n(a,b,g){const k=Math.sin(g);g=Math.cos(g);const r=b[0],G=b[1],I=b[2],L=b[3],H=b[8],P=b[9],T=b[10],X=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);
a[0]=r*g-H*k;a[1]=G*g-P*k;a[2]=I*g-T*k;a[3]=L*g-X*k;a[8]=r*k+H*g;a[9]=G*k+P*g;a[10]=I*k+T*g;a[11]=L*k+X*g;return a}function B(a,b,g){const k=Math.sin(g);g=Math.cos(g);const r=b[0],G=b[1],I=b[2],L=b[3],H=b[4],P=b[5],T=b[6],X=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=r*g+H*k;a[1]=G*g+P*k;a[2]=I*g+T*k;a[3]=L*g+X*k;a[4]=H*g-r*k;a[5]=P*g-G*k;a[6]=T*g-I*k;a[7]=X*g-L*k;return a}function J(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;
a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function x(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function q(a,b,g){if(0===b)return y(a);let k=g[0],r=g[1];g=g[2];let G=Math.sqrt(k*k+r*r+g*g),I=void 0,L=void 0,H=void 0;if(G<R.getEpsilon())return null;G=1/G;k*=G;r*=G;g*=G;I=Math.sin(b);L=Math.cos(b);H=1-L;a[0]=k*k*H+L;a[1]=r*k*H+g*I;a[2]=g*k*H-r*I;a[3]=
0;a[4]=k*r*H-g*I;a[5]=r*r*H+L;a[6]=g*r*H+k*I;a[7]=0;a[8]=k*g*H+r*I;a[9]=r*g*H-k*I;a[10]=g*g*H+L;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function v(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=g;a[7]=0;a[8]=0;a[9]=-g;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function t(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-g;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=g;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}
function C(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=g;a[2]=0;a[3]=0;a[4]=-g;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Q(a,b,g){var k=b[0],r=b[1],G=b[2],I=b[3],L=k+k,H=r+r;const P=G+G;b=k*L;const T=k*H;k*=P;const X=r*H;r*=P;G*=P;L*=I;H*=I;I*=P;a[0]=1-(X+G);a[1]=T+I;a[2]=k-H;a[3]=0;a[4]=T-I;a[5]=1-(b+G);a[6]=r+L;a[7]=0;a[8]=k+H;a[9]=r-L;a[10]=1-(b+X);a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function ea(a,b){const g=
Ra,k=-b[0],r=-b[1],G=-b[2],I=b[3],L=b[4],H=b[5],P=b[6],T=b[7],X=k*k+r*r+G*G+I*I;0<X?(g[0]=2*(L*I+T*k+H*G-P*r)/X,g[1]=2*(H*I+T*r+P*k-L*G)/X,g[2]=2*(P*I+T*G+L*r-H*k)/X):(g[0]=2*(L*I+T*k+H*G-P*r),g[1]=2*(H*I+T*r+P*k-L*G),g[2]=2*(P*I+T*G+L*r-H*k));Q(a,b,g);return a}function ra(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function ua(a,b){const g=b[0],k=b[1],r=b[2],G=b[4],I=b[5],L=b[6],H=b[8],P=b[9];b=b[10];a[0]=Math.sqrt(g*g+k*k+r*r);a[1]=Math.sqrt(G*G+I*I+L*L);a[2]=Math.sqrt(H*H+P*P+b*b);return a}
function ka(a,b){const g=b[0]+b[5]+b[10];let k=0;0<g?(k=2*Math.sqrt(g+1),a[3]=.25*k,a[0]=(b[6]-b[9])/k,a[1]=(b[8]-b[2])/k,a[2]=(b[1]-b[4])/k):b[0]>b[5]&&b[0]>b[10]?(k=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/k,a[0]=.25*k,a[1]=(b[1]+b[4])/k,a[2]=(b[8]+b[2])/k):b[5]>b[10]?(k=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/k,a[0]=(b[1]+b[4])/k,a[1]=.25*k,a[2]=(b[6]+b[9])/k):(k=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/k,a[0]=(b[8]+b[2])/k,a[1]=(b[6]+b[9])/k,a[2]=.25*k);return a}function Ca(a,
b,g,k){var r=b[0],G=b[1],I=b[2],L=b[3],H=r+r,P=G+G,T=I+I;b=r*H;const X=r*P;r*=T;const ba=G*P;G*=T;I*=T;H*=L;P*=L;L*=T;T=k[0];const aa=k[1];k=k[2];a[0]=(1-(ba+I))*T;a[1]=(X+L)*T;a[2]=(r-P)*T;a[3]=0;a[4]=(X-L)*aa;a[5]=(1-(b+I))*aa;a[6]=(G+H)*aa;a[7]=0;a[8]=(r+P)*k;a[9]=(G-H)*k;a[10]=(1-(b+ba))*k;a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function Ha(a,b,g,k,r){var G=b[0],I=b[1],L=b[2],H=b[3],P=G+G,T=I+I,X=L+L;b=G*P;var ba=G*T,aa=G*X;G=I*T;I*=X;var ha=L*X;L=H*P;T*=H;const fa=H*X;var ia=
k[0],ta=k[1];X=k[2];k=r[0];H=r[1];r=r[2];P=(1-(G+ha))*ia;const oa=(ba+fa)*ia;ia*=aa-T;ba=(ba-fa)*ta;ha=(1-(b+ha))*ta;ta*=I+L;aa=(aa+T)*X;I=(I-L)*X;b=(1-(b+G))*X;a[0]=P;a[1]=oa;a[2]=ia;a[3]=0;a[4]=ba;a[5]=ha;a[6]=ta;a[7]=0;a[8]=aa;a[9]=I;a[10]=b;a[11]=0;a[12]=g[0]+k-(P*k+ba*H+aa*r);a[13]=g[1]+H-(oa*k+ha*H+I*r);a[14]=g[2]+r-(ia*k+ta*H+b*r);a[15]=1;return a}function Ia(a,b){var g=b[0],k=b[1],r=b[2];b=b[3];var G=g+g,I=k+k;const L=r+r;g*=G;const H=k*G;k*=I;const P=r*G,T=r*I;r*=L;G*=b;I*=b;b*=L;a[0]=1-
k-r;a[1]=H+b;a[2]=P-I;a[3]=0;a[4]=H-b;a[5]=1-g-r;a[6]=T+G;a[7]=0;a[8]=P+I;a[9]=T-G;a[10]=1-g-k;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Ja(a,b,g,k,r,G,I){const L=1/(g-b),H=1/(r-k),P=1/(G-I);a[0]=2*G*L;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*G*H;a[6]=0;a[7]=0;a[8]=(g+b)*L;a[9]=(r+k)*H;a[10]=(I+G)*P;a[11]=-1;a[12]=0;a[13]=0;a[14]=I*G*2*P;a[15]=0;return a}function Qa(a,b,g,k,r){b=1/Math.tan(b/2);let G=void 0;a[0]=b/g;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;
a[12]=0;a[13]=0;a[15]=0;null!=r&&Infinity!==r?(G=1/(k-r),a[10]=(r+k)*G,a[14]=2*r*k*G):(a[10]=-1,a[14]=-2*k);return a}function va(a,b,g,k){const r=Math.tan(b.upDegrees*Math.PI/180),G=Math.tan(b.downDegrees*Math.PI/180),I=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const L=2/(I+b),H=2/(r+G);a[0]=L;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=H;a[6]=0;a[7]=0;a[8]=-((I-b)*L*.5);a[9]=(r-G)*H*.5;a[10]=k/(g-k);a[11]=-1;a[12]=0;a[13]=0;a[14]=k*g/(g-k);a[15]=0;return a}function Ba(a,b,g,
k,r,G,I){const L=1/(b-g),H=1/(k-r),P=1/(G-I);a[0]=-2*L;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*H;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*P;a[11]=0;a[12]=(b+g)*L;a[13]=(r+k)*H;a[14]=(I+G)*P;a[15]=1;return a}function Ea(a,b,g,k){var r=void 0;let G=void 0;var I=void 0,L=void 0;let H=void 0,P=void 0;var T=void 0,X=void 0;let ba=void 0,aa=void 0;const ha=b[0],fa=b[1];b=b[2];I=k[0];L=k[1];k=k[2];T=g[0];X=g[1];g=g[2];r=R.getEpsilon();if(Math.abs(ha-T)<r&&Math.abs(fa-X)<r&&Math.abs(b-g)<r)return y(a);T=ha-T;X=fa-
X;ba=b-g;aa=1/Math.sqrt(T*T+X*X+ba*ba);T*=aa;X*=aa;ba*=aa;r=L*ba-k*X;G=k*T-I*ba;I=I*X-L*T;(aa=Math.sqrt(r*r+G*G+I*I))?(aa=1/aa,r*=aa,G*=aa,I*=aa):I=G=r=0;L=X*I-ba*G;H=ba*r-T*I;P=T*G-X*r;(aa=Math.sqrt(L*L+H*H+P*P))?(aa=1/aa,L*=aa,H*=aa,P*=aa):P=H=L=0;a[0]=r;a[1]=L;a[2]=T;a[3]=0;a[4]=G;a[5]=H;a[6]=X;a[7]=0;a[8]=I;a[9]=P;a[10]=ba;a[11]=0;a[12]=-(r*ha+G*fa+I*b);a[13]=-(L*ha+H*fa+P*b);a[14]=-(T*ha+X*fa+ba*b);a[15]=1;return a}function Za(a,b,g,k){const r=b[0],G=b[1];b=b[2];var I=k[0];const L=k[1];var H=
k[2];k=r-g[0];let P=G-g[1];g=b-g[2];let T=k*k+P*P+g*g;0<T&&(T=1/Math.sqrt(T),k*=T,P*=T,g*=T);let X=L*g-H*P;H=H*k-I*g;I=I*P-L*k;T=X*X+H*H+I*I;0<T&&(T=1/Math.sqrt(T),X*=T,H*=T,I*=T);a[0]=X;a[1]=H;a[2]=I;a[3]=0;a[4]=P*I-g*H;a[5]=g*X-k*I;a[6]=k*H-P*X;a[7]=0;a[8]=k;a[9]=P;a[10]=g;a[11]=0;a[12]=r;a[13]=G;a[14]=b;a[15]=1;return a}function Wa(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+
", "+a[15]+")"}function Xa(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function $a(a,b,g){a[0]=b[0]+g[0];a[1]=b[1]+g[1];a[2]=b[2]+g[2];a[3]=b[3]+g[3];a[4]=b[4]+g[4];a[5]=b[5]+g[5];a[6]=b[6]+g[6];a[7]=b[7]+g[7];a[8]=b[8]+g[8];a[9]=b[9]+g[9];a[10]=b[10]+g[10];a[11]=b[11]+g[11];a[12]=b[12]+g[12];a[13]=b[13]+g[13];a[14]=b[14]+g[14];a[15]=b[15]+g[15];return a}function O(a,b,g){a[0]=b[0]-g[0];
a[1]=b[1]-g[1];a[2]=b[2]-g[2];a[3]=b[3]-g[3];a[4]=b[4]-g[4];a[5]=b[5]-g[5];a[6]=b[6]-g[6];a[7]=b[7]-g[7];a[8]=b[8]-g[8];a[9]=b[9]-g[9];a[10]=b[10]-g[10];a[11]=b[11]-g[11];a[12]=b[12]-g[12];a[13]=b[13]-g[13];a[14]=b[14]-g[14];a[15]=b[15]-g[15];return a}function M(a,b,g){a[0]=b[0]*g;a[1]=b[1]*g;a[2]=b[2]*g;a[3]=b[3]*g;a[4]=b[4]*g;a[5]=b[5]*g;a[6]=b[6]*g;a[7]=b[7]*g;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*g;a[12]=b[12]*g;a[13]=b[13]*g;a[14]=b[14]*g;a[15]=b[15]*g;return a}function S(a,b,g,k){a[0]=
b[0]+g[0]*k;a[1]=b[1]+g[1]*k;a[2]=b[2]+g[2]*k;a[3]=b[3]+g[3]*k;a[4]=b[4]+g[4]*k;a[5]=b[5]+g[5]*k;a[6]=b[6]+g[6]*k;a[7]=b[7]+g[7]*k;a[8]=b[8]+g[8]*k;a[9]=b[9]+g[9]*k;a[10]=b[10]+g[10]*k;a[11]=b[11]+g[11]*k;a[12]=b[12]+g[12]*k;a[13]=b[13]+g[13]*k;a[14]=b[14]+g[14]*k;a[15]=b[15]+g[15]*k;return a}function Z(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&
a[14]===b[14]&&a[15]===b[15]}function da(a,b){if(a===b)return!0;const g=a[0],k=a[1],r=a[2],G=a[3],I=a[4],L=a[5],H=a[6],P=a[7],T=a[8],X=a[9],ba=a[10],aa=a[11],ha=a[12],fa=a[13],ia=a[14];a=a[15];const ta=b[0],oa=b[1],qa=b[2],ma=b[3],na=b[4],Na=b[5],Oa=b[6],Ka=b[7],Pa=b[8],La=b[9],ya=b[10],Fa=b[11],wa=b[12],ab=b[13],db=b[14];b=b[15];const Ga=R.getEpsilon();return Math.abs(g-ta)<=Ga*Math.max(1,Math.abs(g),Math.abs(ta))&&Math.abs(k-oa)<=Ga*Math.max(1,Math.abs(k),Math.abs(oa))&&Math.abs(r-qa)<=Ga*Math.max(1,
Math.abs(r),Math.abs(qa))&&Math.abs(G-ma)<=Ga*Math.max(1,Math.abs(G),Math.abs(ma))&&Math.abs(I-na)<=Ga*Math.max(1,Math.abs(I),Math.abs(na))&&Math.abs(L-Na)<=Ga*Math.max(1,Math.abs(L),Math.abs(Na))&&Math.abs(H-Oa)<=Ga*Math.max(1,Math.abs(H),Math.abs(Oa))&&Math.abs(P-Ka)<=Ga*Math.max(1,Math.abs(P),Math.abs(Ka))&&Math.abs(T-Pa)<=Ga*Math.max(1,Math.abs(T),Math.abs(Pa))&&Math.abs(X-La)<=Ga*Math.max(1,Math.abs(X),Math.abs(La))&&Math.abs(ba-ya)<=Ga*Math.max(1,Math.abs(ba),Math.abs(ya))&&Math.abs(aa-Fa)<=
Ga*Math.max(1,Math.abs(aa),Math.abs(Fa))&&Math.abs(ha-wa)<=Ga*Math.max(1,Math.abs(ha),Math.abs(wa))&&Math.abs(fa-ab)<=Ga*Math.max(1,Math.abs(fa),Math.abs(ab))&&Math.abs(ia-db)<=Ga*Math.max(1,Math.abs(ia),Math.abs(db))&&Math.abs(a-b)<=Ga*Math.max(1,Math.abs(a),Math.abs(b))}function ja(a){const b=R.getEpsilon(),g=a[0],k=a[1],r=a[2],G=a[4],I=a[5],L=a[6],H=a[8],P=a[9];a=a[10];return Math.abs(1-(g*g+G*G+H*H))<=b&&Math.abs(1-(k*k+I*I+P*P))<=b&&Math.abs(1-(r*r+L*L+a*a))<=b}function sa(a){return 1===a[0]&&
0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const Ra=c.create();c=Object.freeze(Object.defineProperty({__proto__:null,add:$a,adjoint:W,copy:w,determinant:u,equals:da,exactEquals:Z,frob:Xa,fromQuat:Ia,fromQuat2:ea,fromRotation:q,fromRotationTranslation:Q,fromRotationTranslationScale:Ca,fromRotationTranslationScaleOrigin:Ha,fromScaling:x,fromTranslation:J,fromXRotation:v,fromYRotation:t,fromZRotation:C,frustum:Ja,getRotation:ka,getScaling:ua,getTranslation:ra,hasIdentityRotation:sa,
identity:y,invert:E,invertOrIdentity:D,isOrthoNormal:ja,lookAt:Ea,mul:A,multiply:A,multiplyScalar:M,multiplyScalarAndAdd:S,ortho:Ba,perspective:Qa,perspectiveFromFieldOfView:va,rotate:N,rotateX:p,rotateY:n,rotateZ:B,scale:Y,set:F,str:Wa,sub:O,subtract:O,targetTo:Za,translate:K,transpose:z},Symbol.toStringTag,{value:"Module"}));l.add=$a;l.adjoint=W;l.copy=w;l.determinant=u;l.equals=da;l.exactEquals=Z;l.frob=Xa;l.fromQuat=Ia;l.fromQuat2=ea;l.fromRotation=q;l.fromRotationTranslation=Q;l.fromRotationTranslationScale=
Ca;l.fromRotationTranslationScaleOrigin=Ha;l.fromScaling=x;l.fromTranslation=J;l.fromXRotation=v;l.fromYRotation=t;l.fromZRotation=C;l.frustum=Ja;l.getRotation=ka;l.getScaling=ua;l.getTranslation=ra;l.hasIdentityRotation=sa;l.identity=y;l.invert=E;l.invertOrIdentity=D;l.isOrthoNormal=ja;l.lookAt=Ea;l.mat4=c;l.mul=A;l.multiply=A;l.multiplyScalar=M;l.multiplyScalarAndAdd=S;l.ortho=Ba;l.perspective=Qa;l.perspectiveFromFieldOfView=va;l.rotate=N;l.rotateX=p;l.rotateY=n;l.rotateZ=B;l.scale=Y;l.set=F;l.str=
Wa;l.sub=O;l.subtract=O;l.targetTo=Za;l.translate=K;l.transpose=z})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(l,c,R,w,F){function y(){return!!c._pe}function z(){return!!F("esri-wasm")}function D(){return Y?Y:Y=(new Promise((p,n)=>l(["./pe-wasm"],p,n))).then(p=>p.peWasm).then(({default:p})=>p({locateFile:n=>w.getAssetUrl(`esri/geometry/support/${n}`)})).then(p=>{E(p)})}function E(p){function n(x,q,v){x[q]=v(x[q])}c._pe=
p;c.PeDefs.init();c.PeGTlistExtended.init();c.PeNotationMgrs.init();c.PeNotationUtm.init();c.PePCSInfo.init();c.PeGCSExtent=function(x){function q(){return v.apply(this,arguments)}R._inherits(q,x);var v=R._createSuper(q);q.prototype.destroy=function(){c._pe.destroy(this)};return R._createClass(q)}(c._pe.PeGCSExtent);p=[c._pe.PeDatum,c._pe.PeGeogcs,c._pe.PeGeogtran,c._pe.PeObject,c._pe.PeParameter,c._pe.PePrimem,c._pe.PeProjcs,c._pe.PeSpheroid,c._pe.PeUnit];for(var B of p)n(B.prototype,"getName",x=>
function(){return x.call(this,Array(c.PeDefs.PE_NAME_MAX))});for(const x of[c._pe.PeGeogtran,c._pe.PeProjcs])n(x.prototype,"getParameters",q=>function(){const v=Array(c.PeDefs.PE_PARM_MAX);let t=q.call(this);for(let C=0;C<v.length;C++){const Q=c._pe.getValue(t,"*");v[C]=Q?c._pe.wrapPointer(Q,c._pe.PeParameter):null;t+=Int32Array.BYTES_PER_ELEMENT}return v});n(c._pe.PeHorizon.prototype,"getCoord",x=>function(){const q=this.getSize();if(!q)return null;const v=[],t=x.call(this);K(v,q,t);return v});n(c._pe.PeGTlistExtendedEntry.prototype,
"getEntries",x=>{const q=c._pe._pe_getPeGTlistExtendedGTsSize();return function(){let v=null;var t=x.call(this);if(!c._pe.compare(t,c._pe.NULL)){v=[t];const C=this.getSteps();if(1<C){t=c._pe.getPointer(t);for(let Q=1;Q<C;Q++)v.push(c._pe.wrapPointer(t+q*Q,c._pe.PeGTlistExtendedGTs))}}return v}});const J=c._pe._pe_getPeHorizonSize();B=x=>function(){let q=this._cache;q||(this._cache=q=new Map);if(q.has(x))return q.get(x);let v=null;var t=x.call(this);if(!c._pe.compare(t,c._pe.NULL)){v=[t];const C=t.getNump();
if(1<C){t=c._pe.getPointer(t);for(let Q=1;Q<C;Q++)v.push(c._pe.wrapPointer(t+J*Q,c._pe.PeHorizon))}}q.set(x,v);return v};n(c._pe.PeProjcs.prototype,"horizonGcsGenerate",B);n(c._pe.PeProjcs.prototype,"horizonPcsGenerate",B);c._pe.PeObject.prototype.toString=function(x=c.PeDefs.PE_STR_OPTS_NONE){c._pe.ensureCache.prepare();const q=c._pe.getPointer(this),v=c._pe.ensureInt8(Array(c.PeDefs.PE_BUFFER_MAX));return c._pe.UTF8ToString(c._pe._pe_object_to_string_ext(q,x,v))}}function W(p){if(p){var n=c._pe.getClass(p);
n&&(n=c._pe.getCache(n))&&(p=c._pe.getPointer(p))&&delete n[p]}}function u(p,n){const B=[];n=Array(n);for(let J=0;J<p;J++)B.push(c._pe.ensureInt8(n));return B}function A(p){let n;Array.isArray(p[0])?(n=[],p.forEach(B=>{n.push(B[0],B[1])})):n=p;return n}function K(p,n,B,J=!1){if(J)for(J=0;J<2*n;J++)p[J]=c._pe.getValue(B+J*Float64Array.BYTES_PER_ELEMENT,"double");else{J=0===p.length;for(let x=0;x<n;x++)J&&(p[x]=Array(2)),p[x][0]=c._pe.getValue(B,"double"),p[x][1]=c._pe.getValue(B+Float64Array.BYTES_PER_ELEMENT,
"double"),B+=2*Float64Array.BYTES_PER_ELEMENT}}let Y;c._pe=null;c.PeCSTransformations=void 0;(function(p){function n(x,q,v){c._pe.ensureCache.prepare();var t=A(v);const C=v===t;t=c._pe.ensureFloat64(t);(x=c._pe._pe_geog_to_proj(c._pe.getPointer(x),q,t))&&K(v,q,t,C);return x}function B(x,q,v){return J(x,q,v,0)}function J(x,q,v,t){c._pe.ensureCache.prepare();var C=A(v);const Q=v===C;C=c._pe.ensureFloat64(C);(x=c._pe._pe_proj_to_geog_center(c._pe.getPointer(x),q,C,t))&&K(v,q,C,Q);return x}p.geogToProj=
n;p.projGeog=function(x,q,v,t){switch(t){case c.PeDefs.PE_TRANSFORM_P_TO_G:return B(x,q,v);case c.PeDefs.PE_TRANSFORM_G_TO_P:return n(x,q,v)}return 0};p.projToGeog=B;p.projToGeogCenter=J})(c.PeCSTransformations||(c.PeCSTransformations={}));c.PeDefs=void 0;(function(p){p.init=function(){p.PE_BUFFER_MAX=c._pe.PeDefs.prototype.PE_BUFFER_MAX;p.PE_NAME_MAX=c._pe.PeDefs.prototype.PE_NAME_MAX;p.PE_MGRS_MAX=c._pe.PeDefs.prototype.PE_MGRS_MAX;p.PE_USNG_MAX=c._pe.PeDefs.prototype.PE_USNG_MAX;p.PE_DD_MAX=c._pe.PeDefs.prototype.PE_DD_MAX;
p.PE_DDM_MAX=c._pe.PeDefs.prototype.PE_DDM_MAX;p.PE_DMS_MAX=c._pe.PeDefs.prototype.PE_DMS_MAX;p.PE_UTM_MAX=c._pe.PeDefs.prototype.PE_UTM_MAX;p.PE_PARM_MAX=c._pe.PeDefs.prototype.PE_PARM_MAX;p.PE_TYPE_NONE=c._pe.PeDefs.prototype.PE_TYPE_NONE;p.PE_TYPE_GEOGCS=c._pe.PeDefs.prototype.PE_TYPE_GEOGCS;p.PE_TYPE_PROJCS=c._pe.PeDefs.prototype.PE_TYPE_PROJCS;p.PE_TYPE_GEOGTRAN=c._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;p.PE_TYPE_COORDSYS=c._pe.PeDefs.prototype.PE_TYPE_COORDSYS;p.PE_TYPE_UNIT=c._pe.PeDefs.prototype.PE_TYPE_UNIT;
p.PE_TYPE_LINUNIT=c._pe.PeDefs.prototype.PE_TYPE_LINUNIT;p.PE_STR_OPTS_NONE=c._pe.PeDefs.prototype.PE_STR_OPTS_NONE;p.PE_STR_AUTH_NONE=c._pe.PeDefs.prototype.PE_STR_AUTH_NONE;p.PE_STR_AUTH_TOP=c._pe.PeDefs.prototype.PE_STR_AUTH_TOP;p.PE_STR_NAME_CANON=c._pe.PeDefs.prototype.PE_STR_NAME_CANON;p.PE_PARM_X0=c._pe.PeDefs.prototype.PE_PARM_X0;p.PE_PARM_ND=c._pe.PeDefs.prototype.PE_PARM_ND;p.PE_TRANSFORM_1_TO_2=c._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;p.PE_TRANSFORM_2_TO_1=c._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;
p.PE_TRANSFORM_P_TO_G=c._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;p.PE_TRANSFORM_G_TO_P=c._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;p.PE_HORIZON_RECT=c._pe.PeDefs.prototype.PE_HORIZON_RECT;p.PE_HORIZON_POLY=c._pe.PeDefs.prototype.PE_HORIZON_POLY;p.PE_HORIZON_LINE=c._pe.PeDefs.prototype.PE_HORIZON_LINE;p.PE_HORIZON_DELTA=c._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(c.PeDefs||(c.PeDefs={}));c.PeFactory=void 0;(function(p){function n(q,v){let t=null,C=B[q];C||(C={},B[q]=C);C.hasOwnProperty(String(v))?t=
C[v]:(q=c._pe.PeFactory.prototype.factoryByType(q,v),c._pe.compare(q,c._pe.NULL)||(t=q,C[v]=t));return t=x(t)}const B={},J={},x=q=>{if(q){const v=q.getType();switch(v){case c.PeDefs.PE_TYPE_GEOGCS:q=c._pe.castObject(q,c._pe.PeGeogcs);break;case c.PeDefs.PE_TYPE_PROJCS:q=c._pe.castObject(q,c._pe.PeProjcs);break;case c.PeDefs.PE_TYPE_GEOGTRAN:q=c._pe.castObject(q,c._pe.PeGeogtran);break;default:v&c.PeDefs.PE_TYPE_UNIT&&(q=c._pe.castObject(q,c._pe.PeUnit))}}return q};p.initialize=function(){c._pe.PeFactory.prototype.initialize(null)};
p.coordsys=function(q){return n(c.PeDefs.PE_TYPE_COORDSYS,q)};p.factoryByType=n;p.fromString=function(q,v){let t=null,C=J[q];C||(C={},J[q]=C);C.hasOwnProperty(v)?t=C[v]:(q=c._pe.PeFactory.prototype.fromString(q,v),c._pe.compare(q,c._pe.NULL)||(t=q,C[v]=t));return t=x(t)};p.geogcs=function(q){return n(c.PeDefs.PE_TYPE_GEOGCS,q)};p.geogtran=function(q){return n(c.PeDefs.PE_TYPE_GEOGTRAN,q)};p.getCode=function(q){return c._pe.PeFactory.prototype.getCode(q)};p.projcs=function(q){return n(c.PeDefs.PE_TYPE_PROJCS,
q)};p.unit=function(q){return n(c.PeDefs.PE_TYPE_UNIT,q)}})(c.PeFactory||(c.PeFactory={}));c.PeGCSExtent=null;c.PeGTlistExtended=void 0;(function(p){let n;p.init=function(){p.PE_GTLIST_OPTS_COMMON=c._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;n=c._pe._pe_getPeGTlistExtendedEntrySize()};p.getGTlist=function(B,J,x,q,v,t){let C=null;const Q=new c._pe.PeInteger(t);try{const ea=c._pe.PeGTlistExtended.prototype.getGTlist(B,J,x,q,v,Q);if(t=Q.val)if(C=[ea],1<t){const ra=c._pe.getPointer(ea);for(B=
1;B<t;B++)C.push(c._pe.wrapPointer(ra+n*B,c._pe.PeGTlistExtendedEntry))}}finally{c._pe.destroy(Q)}return C}})(c.PeGTlistExtended||(c.PeGTlistExtended={}));c.PeGTlistExtendedEntry=void 0;(function(p){p.destroy=function(n){if(n&&n.length){for(const B of n)W(B),B.getEntries().forEach(J=>{W(J);J=J.getGeogtran();W(J);J.getParameters().forEach(W);[J.getGeogcs1(),J.getGeogcs2()].forEach(x=>{W(x);const q=x.getDatum();W(q);W(q.getSpheroid());W(x.getPrimem());W(x.getUnit())})});c._pe.PeGTlistExtendedEntry.prototype.Delete(n[0])}}})(c.PeGTlistExtendedEntry||
(c.PeGTlistExtendedEntry={}));c.PeGTTransformations=void 0;(function(p){p.geogToGeog=function(n,B,J,x,q){c._pe.ensureCache.prepare();var v=A(J);const t=J===v;v=c._pe.ensureFloat64(v);let C=0;x&&(C=c._pe.ensureFloat64(x));(n=c._pe._pe_geog_to_geog(c._pe.getPointer(n),B,v,C,q))&&K(J,B,v,t);return n}})(c.PeGTTransformations||(c.PeGTTransformations={}));c.PeNotationDms=void 0;(function(p){const n=(J,x,q,v,t,C)=>{c._pe.ensureCache.prepare();switch(J){case "dd":var Q=c._pe._pe_geog_to_dd;var ea=c.PeDefs.PE_DD_MAX;
break;case "ddm":Q=c._pe._pe_geog_to_ddm;ea=c.PeDefs.PE_DDM_MAX;break;case "dms":Q=c._pe._pe_geog_to_dms,ea=c.PeDefs.PE_DMS_MAX}J=0;x&&(J=c._pe.getPointer(x));x=A(v);x=c._pe.ensureFloat64(x);ea=u(q,ea);v=c._pe.ensureInt32(ea);if(t=Q(J,q,x,t,v))for(Q=0;Q<q;Q++)C[Q]=c._pe.UTF8ToString(ea[Q]);return t},B=(J,x,q,v,t)=>{c._pe.ensureCache.prepare();switch(J){case "dd":var C=c._pe._pe_dd_to_geog;break;case "ddm":C=c._pe._pe_ddm_to_geog;break;case "dms":C=c._pe._pe_dms_to_geog}J=0;x&&(J=c._pe.getPointer(x));
x=v.map(Q=>c._pe.ensureString(Q));v=c._pe.ensureInt32(x);x=c._pe.ensureFloat64(Array(2*q));(C=C(J,q,v,x))&&K(t,q,x);return C};p.geogToDms=function(J,x,q,v,t){return n("dms",J,x,q,v,t)};p.dmsToGeog=function(J,x,q,v){return B("dms",J,x,q,v)};p.geogToDdm=function(J,x,q,v,t){return n("ddm",J,x,q,v,t)};p.ddmToGeog=function(J,x,q,v){return B("ddm",J,x,q,v)};p.geogToDd=function(J,x,q,v,t){return n("dd",J,x,q,v,t)};p.ddToGeog=function(J,x,q,v){return B("dd",J,x,q,v)}})(c.PeNotationDms||(c.PeNotationDms={}));
c.PeNotationMgrs=void 0;(function(p){p.init=function(){p.PE_MGRS_STYLE_NEW=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;p.PE_MGRS_STYLE_OLD=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;p.PE_MGRS_STYLE_AUTO=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;p.PE_MGRS_180_ZONE_1_PLUS=c._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;p.PE_MGRS_ADD_SPACES=c._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};p.geogToMgrsExtended=function(n,B,J,x,q,v,t){c._pe.ensureCache.prepare();let C=0;n&&
(C=c._pe.getPointer(n));n=A(J);J=c._pe.ensureFloat64(n);n=u(B,c.PeDefs.PE_MGRS_MAX);const Q=c._pe.ensureInt32(n);if(x=c._pe._pe_geog_to_mgrs_extended(C,B,J,x,q,v,Q))for(q=0;q<B;q++)t[q]=c._pe.UTF8ToString(n[q]);return x};p.mgrsToGeogExtended=function(n,B,J,x,q){c._pe.ensureCache.prepare();let v=0;n&&(v=c._pe.getPointer(n));n=J.map(t=>c._pe.ensureString(t));J=c._pe.ensureInt32(n);n=c._pe.ensureFloat64(Array(2*B));(x=c._pe._pe_mgrs_to_geog_extended(v,B,J,x,n))&&K(q,B,n);return x}})(c.PeNotationMgrs||
(c.PeNotationMgrs={}));c.PeNotationUsng=void 0;(function(p){p.geogToUsng=function(n,B,J,x,q,v,t){c._pe.ensureCache.prepare();let C=0;n&&(C=c._pe.getPointer(n));n=A(J);J=c._pe.ensureFloat64(n);n=u(B,c.PeDefs.PE_MGRS_MAX);const Q=c._pe.ensureInt32(n);if(x=c._pe._pe_geog_to_usng(C,B,J,x,q,v,Q))for(q=0;q<B;q++)t[q]=c._pe.UTF8ToString(n[q]);return x};p.usngToGeog=function(n,B,J,x){c._pe.ensureCache.prepare();var q=0;n&&(q=c._pe.getPointer(n));n=J.map(v=>c._pe.ensureString(v));J=c._pe.ensureInt32(n);n=
c._pe.ensureFloat64(Array(2*B));(q=c._pe._pe_usng_to_geog(q,B,J,n))&&K(x,B,n);return q}})(c.PeNotationUsng||(c.PeNotationUsng={}));c.PeNotationUtm=void 0;(function(p){p.init=function(){p.PE_UTM_OPTS_NONE=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;p.PE_UTM_OPTS_ADD_SPACES=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;p.PE_UTM_OPTS_NS=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};p.geogToUtm=function(n,B,J,x,q){c._pe.ensureCache.prepare();var v=0;n&&(v=c._pe.getPointer(n));n=A(J);J=c._pe.ensureFloat64(n);
n=u(B,c.PeDefs.PE_UTM_MAX);const t=c._pe.ensureInt32(n);if(x=c._pe._pe_geog_to_utm(v,B,J,x,t))for(v=0;v<B;v++)q[v]=c._pe.UTF8ToString(n[v]);return x};p.utmToGeog=function(n,B,J,x,q){c._pe.ensureCache.prepare();let v=0;n&&(v=c._pe.getPointer(n));n=J.map(t=>c._pe.ensureString(t));J=c._pe.ensureInt32(n);n=c._pe.ensureFloat64(Array(2*B));(x=c._pe._pe_utm_to_geog(v,B,J,x,n))&&K(q,B,n);return x}})(c.PeNotationUtm||(c.PeNotationUtm={}));c.PePCSInfo=void 0;(function(p){const n=new Map;p.init=function(){p.PE_PCSINFO_OPTION_NONE=
c._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;p.PE_PCSINFO_OPTION_DOMAIN=c._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;p.PE_POLE_OUTSIDE_BOUNDARY=c._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;p.PE_POLE_POINT=c._pe.PePCSInfo.prototype.PE_POLE_POINT};p.generate=function(B,J=p.PE_PCSINFO_OPTION_DOMAIN){let x=null,q=null;n.has(B)&&(q=n.get(B),q[J]&&(x=q[J]));x||(x=c._pe.PePCSInfo.prototype.generate(B,J),q||(q=[],n.set(B,q)),q[J]=x);return x}})(c.PePCSInfo||(c.PePCSInfo={}));c.PeVersion=void 0;
(function(p){p.versionString=function(){return c._pe.PeVersion.prototype.version_string()}})(c.PeVersion||(c.PeVersion={}));const N=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return c.PeCSTransformations},get PeDefs(){return c.PeDefs},get PeFactory(){return c.PeFactory},get PeGCSExtent(){return c.PeGCSExtent},get PeGTTransformations(){return c.PeGTTransformations},get PeGTlistExtended(){return c.PeGTlistExtended},get PeGTlistExtendedEntry(){return c.PeGTlistExtendedEntry},
get PeNotationDms(){return c.PeNotationDms},get PeNotationMgrs(){return c.PeNotationMgrs},get PeNotationUsng(){return c.PeNotationUsng},get PeNotationUtm(){return c.PeNotationUtm},get PePCSInfo(){return c.PePCSInfo},get PeVersion(){return c.PeVersion},_init:E,get _pe(){return c._pe},isLoaded:y,isSupported:z,load:D},Symbol.toStringTag,{value:"Module"}));c._init=E;c.isLoaded=y;c.isSupported=z;c.load=D;c.pe=N})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(l,
c){const R=Math.PI/180;var w=c.earth.radius;const F=c.earth.eccentricitySquared;w={a1:w*F,a2:w*F*w*F,a3:w*F*F/2,a4:w*F*w*F*2.5,a5:w*F+w*F*F/2,a6:1-F};c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:c.earth.radius,f:c.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:c.moon.radius,f:c.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:c.mars.radius,f:c.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,
f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,
f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},
104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:c.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};l.WKT_SPHEROID_REGEX=
/SPHEROID\[([^\]]+)]/i;l.earthEllipsoidConstants=w;l.spheroids=c;l.toRadians=R;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["../../chunks/_rollupPluginBabelHelpers","./GeographicTransformationStep"],function(l,c){return function(){function R(F){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(F&&F.steps)for(const y of F.steps)y instanceof c?this.steps.push(y):this.steps.push(new c({wkid:y.wkid,
wkt:y.wkt,isInverse:y.isInverse}))}R.cacheKey=function(F,y){return[void 0!==F.wkid&&null!==F.wkid?F.wkid.toString():"-1",void 0!==F.wkt&&null!==F.wkt?F.wkt.toString():"",void 0!==y.wkid&&null!==y.wkid?y.wkid.toString():"-1",void 0!==y.wkt&&null!==y.wkt?y.wkt.toString():""].join()};R.fromGE=function(F){const y=new R;let z="";for(const D of F.steps)F=c.fromGE(D),y.steps.push(F),z+=F.uid.toString()+",";y._cachedProjection={};y._gtlistentry=null;y._chain=z;return y};var w=R.prototype;w.getInverse=function(){const F=
new R;F.steps=[];for(let y=this.steps.length-1;0<=y;y--)F.steps.push(this.steps[y].getInverse());return F};w.getGTListEntry=function(){let F="";for(const y of this.steps)F+=y.uid.toString()+",";F!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=F);return this._gtlistentry};w.assignCachedGe=function(F,y,z){this._cachedProjection[R.cacheKey(F,y)]=z};w.getCachedGeTransformation=function(F,y){let z="";for(const D of this.steps)z+=D.uid.toString()+",";z!==this._chain&&(this._gtlistentry=
null,this._cachedProjection={},this._chain=z);F=this._cachedProjection[R.cacheKey(F,y)];return void 0===F?null:F};return l._createClass(R)}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(l){let c=0;return function(){function R(w){this.uid=c++;w?(this._wkt=null!=w.wkt?w.wkt:null,this._wkid=null!=w.wkid?w.wkid:-1,this._isInverse=null!=w.isInverse?!0===w.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}R.fromGE=
function(w){const F=new R;F._wkt=w.wkt;F._wkid=w.wkid;F._isInverse=w.isInverse;return F};R.prototype.getInverse=function(){const w=new R;w._wkt=this.wkt;w._wkid=this._wkid;w._isInverse=!this.isInverse;return w};l._createClass(R,[{key:"wkt",get:function(){return this._wkt},set:function(w){this._wkt=w;this.uid=c++}},{key:"wkid",get:function(){return this._wkid},set:function(w){this._wkid=w;this.uid=c++}},{key:"isInverse",get:function(){return this._isInverse},set:function(w){this._isInverse=w;this.uid=
c++}}]);return R}()})},"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(l,c,R,w){l.getGeometryZScaler=function(F,y,z){if(c.isNone(y)||c.isNone(z)||z.vcsWkid||w.equals(y,z))return null;y=R.getMetersPerVerticalUnitForSR(y);z=R.getMetersPerVerticalUnitForSR(z);const D=y/z;if(1===D)return null;switch(F){case "point":case "esriGeometryPoint":return E=>{E&&null!=E.z&&(E.z*=D)};case "polyline":case "esriGeometryPolyline":return E=>
{if(E)for(const W of E.paths)for(const u of W)2<u.length&&(u[2]*=D)};case "polygon":case "esriGeometryPolygon":return E=>{if(E)for(const W of E.rings)for(const u of W)2<u.length&&(u[2]*=D)};case "multipoint":case "esriGeometryMultipoint":return E=>{if(E)for(const W of E.points)2<W.length&&(W[2]*=D)};case "extent":case "esriGeometryExtent":return E=>{E&&null!=E.zmin&&null!=E.zmax&&(E.zmin*=D,E.zmax*=D)};default:return null}};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/PointCloudWorkerUtil":function(){define("exports ../../../../core/maybe ../../../../renderers/PointCloudClassBreaksRenderer ../../../../renderers/PointCloudStretchRenderer ../../../../renderers/PointCloudUniqueValueRenderer ./I3SBinaryReader ./LEPCC".split(" "),
function(l,c,R,w,F,y,z){function D(u,A){const K=new Float64Array(A);for(let Y=0;Y<A;Y++)K[Y]=u[3*Y+2];return K}function E(u){return null==u||"none"===u?null:"low-four-bit"===u?A=>A&15:"high-four-bit"===u?A=>(A&240)>>4:"absolute-value"===u?A=>Math.abs(A):"modulo-ten"===u?A=>A%10:null}function W(u){let A=0;for(const K of u||[])A|=1<<K;return A}l.elevationFromPositions=D;l.evaluateRenderer=function(u,A,K,Y){const {rendererJSON:N,isRGBRenderer:p}=u;var n=u=null;if(A&&p)u=A;else if(A&&"pointCloudUniqueValueRenderer"===
N?.type){n=F.fromJSON(N);var B=n.colorUniqueValueInfos;u=new Uint8Array(3*Y);var J=E(n.fieldTransformType);for(var x=0;x<Y;x++){var q=(J?J(A[x]):A[x])+"";for(var v=0;v<B.length;v++)if(B[v].values.includes(q)){u[3*x]=B[v].color.r;u[3*x+1]=B[v].color.g;u[3*x+2]=B[v].color.b;break}}}else if(A&&"pointCloudStretchRenderer"===N?.type)for(n=w.fromJSON(N),B=n.stops,u=new Uint8Array(3*Y),J=E(n.fieldTransformType),x=0;x<Y;x++)if(q=J?J(A[x]):A[x],v=B.length-1,q<B[0].value)u[3*x]=B[0].color.r,u[3*x+1]=B[0].color.g,
u[3*x+2]=B[0].color.b;else if(q>=B[v].value)u[3*x]=B[v].color.r,u[3*x+1]=B[v].color.g,u[3*x+2]=B[v].color.b;else for(v=1;v<B.length;v++){if(q<B[v].value){q=(q-B[v-1].value)/(B[v].value-B[v-1].value);u[3*x]=B[v].color.r*q+B[v-1].color.r*(1-q);u[3*x+1]=B[v].color.g*q+B[v-1].color.g*(1-q);u[3*x+2]=B[v].color.b*q+B[v-1].color.b*(1-q);break}}else if(A&&"pointCloudClassBreaksRenderer"===N?.type)for(n=R.fromJSON(N),B=n.colorClassBreakInfos,u=new Uint8Array(3*Y),J=E(n.fieldTransformType),x=0;x<Y;x++)for(q=
J?J(A[x]):A[x],v=0;v<B.length;v++){if(q>=B[v].minValue&&q<=B[v].maxValue){u[3*x]=B[v].color.r;u[3*x+1]=B[v].color.g;u[3*x+2]=B[v].color.b;break}}else for(u=new Uint8Array(3*Y),A=0;A<u.length;A++)u[A]=255;if(K&&n&&n.colorModulation)for(A=n.colorModulation.minValue,n=n.colorModulation.maxValue,B=0;B<Y;B++)J=K[B],J=J>=n?1:J<=A?.3:.3+.7*(J-A)/(n-A),u[3*B]*=J,u[3*B+1]*=J,u[3*B+2]*=J;return u};l.filterInPlace=function(u,A,K,Y,N){const p=u.length/3;let n=0;for(let t=0;t<p;t++){let C=!0;for(let Q=0;Q<Y.length&&
C;Q++){var {filterJSON:B}=Y[Q],J=N[Q].values[t];switch(B.type){case "pointCloudValueFilter":var x="exclude"===B.mode;B.values.includes(J)===x&&(C=!1);break;case "pointCloudBitfieldFilter":x=W(B.requiredSetBits);B=W(B.requiredClearBits);if((J&x)!==x||0!==(J&B))C=!1;break;case "pointCloudReturnFilter":var q=J&15,v=J>>>4&15;J=1<v;x=1===q;q=q===v;v=!1;for(const ea of B.includedReturns)if("last"===ea&&q||"firstOfMany"===ea&&x&&J||"lastOfMany"===ea&&q&&J||"single"===ea&&!J){v=!0;break}v||(C=!1)}}C&&(K[n]=
t,u[3*n]=u[3*t],u[3*n+1]=u[3*t+1],u[3*n+2]=u[3*t+2],A[3*n]=A[3*t],A[3*n+1]=A[3*t+1],A[3*n+2]=A[3*t+2],n++)}return n};l.getAttributeValues=function(u,A,K){return c.isSome(u)&&u.attributeInfo.useElevation?A?D(A,K):null:c.isSome(u)&&u.attributeInfo.storageInfo?y.readBinaryAttribute(u.attributeInfo.storageInfo,u.buffer,K):null};l.readGeometry=function(u,A){if(null==u.encoding||""===u.encoding){u=y.createGeometryIndexFromSchema(A,u);if(c.isNone(u.vertexAttributes.position))return;A=y.createTypedView(A,
u.vertexAttributes.position);var K=u.header.fields;u=[K.offsetX,K.offsetY,K.offsetZ];K=[K.scaleX,K.scaleY,K.scaleZ];const Y=A.length/3,N=new Float64Array(3*Y);for(let p=0;p<Y;p++)N[3*p]=A[3*p]*K[0]+u[0],N[3*p+1]=A[3*p+1]*K[1]+u[1],N[3*p+2]=A[3*p+2]*K[2]+u[2];return N}if("lepcc-xyz"===u.encoding)return z.decodeXYZ(A).result};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/PointCloudClassBreaksRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorClassBreakInfo".split(" "),
function(l,c,R,w,F,y,z,D,E,W){var u;F=u=function(A){function K(N){N=Y.call(this,N);N.type="point-cloud-class-breaks";N.field=null;N.legendOptions=null;N.fieldTransformType=null;N.colorClassBreakInfos=null;return N}l._inherits(K,A);var Y=l._createSuper(K);K.prototype.clone=function(){return new u({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:R.clone(this.colorClassBreakInfos),legendOptions:R.clone(this.legendOptions)})};return l._createClass(K)}(D);
c.__decorate([y.enumeration({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],F.prototype,"type",void 0);c.__decorate([w.property({json:{write:!0},type:String})],F.prototype,"field",void 0);c.__decorate([w.property({type:E.LegendOptions,json:{write:!0}})],F.prototype,"legendOptions",void 0);c.__decorate([w.property({type:D.fieldTransformTypeKebabDict.apiValues,json:{type:D.fieldTransformTypeKebabDict.jsonValues,read:D.fieldTransformTypeKebabDict.read,write:D.fieldTransformTypeKebabDict.write}})],
F.prototype,"fieldTransformType",void 0);c.__decorate([w.property({type:[W],json:{write:!0}})],F.prototype,"colorClassBreakInfos",void 0);return F=u=c.__decorate([z.subclass("esri.renderers.PointCloudClassBreaksRenderer")],F)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(l,c,R){l.enumeration=function(w,F={}){w=w instanceof c.JSONMap?w:new c.JSONMap(w,F);w={type:F?.ignoreUnknown??!0?w.apiValues:String,json:{type:w.jsonValues,
read:F?.readOnly?!1:{reader:w.read},write:{writer:w.write}}};void 0!==F?.readOnly&&(w.readOnly=!!F.readOnly);void 0!==F?.default&&(w.json.default=F.default);void 0!==F?.name&&(w.json.name=F.name);void 0!==F?.nonNullable&&(w.nonNullable=F.nonNullable);return R.property(w)};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/PointCloudRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/pointCloud/ColorModulation ./support/pointCloud/pointSizeAlgorithmTypeUtils".split(" "),
function(l,c,R,w,F,y,z,D,E,W){z=R.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});w=function(u){function A(Y){Y=K.call(this,Y);Y.type=void 0;Y.pointSizeAlgorithm=null;Y.colorModulation=null;Y.pointsPerInch=10;return Y}l._inherits(A,u);var K=l._createSuper(A);u=A.prototype;u.clone=function(){console.warn(".clone() is not implemented for "+
this.declaredClass);return null};u.cloneProperties=function(){return{pointSizeAlgorithm:F.clone(this.pointSizeAlgorithm),colorModulation:F.clone(this.colorModulation),pointsPerInch:F.clone(this.pointsPerInch)}};return l._createClass(A)}(w.JSONSupport);c.__decorate([y.property({type:z.apiValues,readOnly:!0,nonNullable:!0,json:{type:z.jsonValues,read:!1,write:z.write}})],w.prototype,"type",void 0);c.__decorate([y.property({types:W.pointSizeAlgorithmTypes,json:{write:!0}})],w.prototype,"pointSizeAlgorithm",
void 0);c.__decorate([y.property({type:E,json:{write:!0}})],w.prototype,"colorModulation",void 0);c.__decorate([y.property({json:{write:!0},nonNullable:!0,type:Number})],w.prototype,"pointsPerInch",void 0);w=c.__decorate([D.subclass("esri.renderers.PointCloudRenderer")],w);(w||(w={})).fieldTransformTypeKebabDict=new R.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});return w})},"esri/renderers/support/pointCloud/ColorModulation":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(l,c,R,w,F,y,z,D){var E;R=E=function(W){function u(){var K=A.apply(this,arguments);K.field=null;K.minValue=0;K.maxValue=255;return K}l._inherits(u,W);var A=l._createSuper(u);u.prototype.clone=function(){return new E({field:this.field,minValue:this.minValue,maxValue:this.maxValue})};return l._createClass(u)}(R.JSONSupport);c.__decorate([w.property({type:String,json:{write:!0}})],R.prototype,"field",void 0);c.__decorate([w.property({type:Number,nonNullable:!0,json:{write:!0}})],R.prototype,
"minValue",void 0);c.__decorate([w.property({type:Number,nonNullable:!0,json:{write:!0}})],R.prototype,"maxValue",void 0);return R=E=c.__decorate([D.subclass("esri.renderers.support.pointCloud.ColorModulation")],R)})},"esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":function(){define(["exports","./PointSizeAlgorithm","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(l,c,R,w){l.pointSizeAlgorithmTypes={key:"type",base:c,typeMap:{"fixed-size":R,splat:w}};Object.defineProperty(l,
Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/pointCloud/PointSizeAlgorithm":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),function(l,c,R,w,F,y,z,D,E){R=new R.JSONMap({pointCloudFixedSizeAlgorithm:"fixed-size",
pointCloudSplatAlgorithm:"splat"});w=function(W){function u(){return A.apply(this,arguments)}l._inherits(u,W);var A=l._createSuper(u);return l._createClass(u)}(w.JSONSupport);c.__decorate([F.property({type:R.apiValues,readOnly:!0,nonNullable:!0,json:{type:R.jsonValues,read:!1,write:R.write}})],w.prototype,"type",void 0);return w=c.__decorate([E.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],w)})},"esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ./PointSizeAlgorithm".split(" "),
function(l,c,R,w,F,y,z,D,E){var W;w=W=function(u){function A(){var Y=K.apply(this,arguments);Y.type="fixed-size";Y.size=0;Y.useRealWorldSymbolSizes=null;return Y}l._inherits(A,u);var K=l._createSuper(A);A.prototype.clone=function(){return new W({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})};return l._createClass(A)}(E);c.__decorate([z.enumeration({pointCloudFixedSizeAlgorithm:"fixed-size"})],w.prototype,"type",void 0);c.__decorate([R.property({type:Number,nonNullable:!0,json:{write:!0}})],
w.prototype,"size",void 0);c.__decorate([R.property({type:Boolean,json:{write:!0}})],w.prototype,"useRealWorldSymbolSizes",void 0);return w=W=c.__decorate([D.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],w)})},"esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ./PointSizeAlgorithm".split(" "),
function(l,c,R,w,F,y,z,D,E){var W;w=W=function(u){function A(){var Y=K.apply(this,arguments);Y.type="splat";Y.scaleFactor=1;return Y}l._inherits(A,u);var K=l._createSuper(A);A.prototype.clone=function(){return new W({scaleFactor:this.scaleFactor})};return l._createClass(A)}(E);c.__decorate([z.enumeration({pointCloudSplatAlgorithm:"splat"})],w.prototype,"type",void 0);c.__decorate([R.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],w.prototype,"scaleFactor",void 0);return w=W=c.__decorate([D.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],
w)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(l,c,R,w,F,y,z,D,E){var W;l.LegendOptions=W=function(u){function A(){var Y=K.apply(this,arguments);Y.title=null;return Y}c._inherits(A,u);var K=c._createSuper(A);
A.prototype.clone=function(){return new W({title:this.title})};return c._createClass(A)}(w.JSONSupport);R.__decorate([F.property({type:String,json:{write:!0}})],l.LegendOptions.prototype,"title",void 0);l.LegendOptions=W=R.__decorate([E.subclass("esri.renderers.support.LegendOptions")],l.LegendOptions);Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/pointCloud/ColorClassBreakInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(l,c,R,w,F,y,z,D){var E;w=E=function(W){function u(){var K=A.apply(this,arguments);K.description=null;K.label=null;K.minValue=0;K.maxValue=0;K.color=null;return K}l._inherits(u,W);var A=l._createSuper(u);u.prototype.clone=function(){return new E({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:F.clone(this.color)})};return l._createClass(u)}(w.JSONSupport);c.__decorate([y.property({type:String,json:{write:!0}})],w.prototype,"description",void 0);
c.__decorate([y.property({type:String,json:{write:!0}})],w.prototype,"label",void 0);c.__decorate([y.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],w.prototype,"minValue",void 0);c.__decorate([y.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],w.prototype,"maxValue",void 0);c.__decorate([y.property({type:R,json:{type:[z.Integer],write:!0}})],w.prototype,"color",void 0);return w=E=c.__decorate([D.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],
w)})},"esri/renderers/PointCloudStretchRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./visualVariables/support/ColorStop".split(" "),function(l,c,R,w,F,y,z,D,E,W){var u;F=u=function(A){function K(N){N=Y.call(this,N);N.type="point-cloud-stretch";
N.field=null;N.legendOptions=null;N.fieldTransformType=null;N.stops=null;return N}l._inherits(K,A);var Y=l._createSuper(K);K.prototype.clone=function(){return new u({...this.cloneProperties(),field:R.clone(this.field),fieldTransformType:R.clone(this.fieldTransformType),stops:R.clone(this.stops),legendOptions:R.clone(this.legendOptions)})};return l._createClass(K)}(D);c.__decorate([y.enumeration({pointCloudStretchRenderer:"point-cloud-stretch"})],F.prototype,"type",void 0);c.__decorate([w.property({json:{write:!0},
type:String})],F.prototype,"field",void 0);c.__decorate([w.property({type:E.LegendOptions,json:{write:!0}})],F.prototype,"legendOptions",void 0);c.__decorate([w.property({type:D.fieldTransformTypeKebabDict.apiValues,json:{type:D.fieldTransformTypeKebabDict.jsonValues,read:D.fieldTransformTypeKebabDict.read,write:D.fieldTransformTypeKebabDict.write}})],F.prototype,"fieldTransformType",void 0);c.__decorate([w.property({type:[W],json:{write:!0}})],F.prototype,"stops",void 0);return F=u=c.__decorate([z.subclass("esri.renderers.PointCloudStretchRenderer")],
F)})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),function(l,c,R,w,F,y,z,D,E,W){var u;w=u=function(A){function K(N){N=Y.call(this,
N);N.color=null;N.label=null;N.value=null;return N}l._inherits(K,A);var Y=l._createSuper(K);A=K.prototype;A.writeValue=function(N,p,n){p[n]=null==N?0:N};A.clone=function(){return new u({color:this.color&&this.color.clone(),label:this.label,value:this.value})};return l._createClass(K)}(w.JSONSupport);c.__decorate([F.property({type:R,json:{type:[y.Integer],write:!0}})],w.prototype,"color",void 0);c.__decorate([F.property({type:String,json:{write:!0}})],w.prototype,"label",void 0);c.__decorate([F.property({type:Number,
json:{write:{writerEnsuresNonNull:!0}}})],w.prototype,"value",void 0);c.__decorate([W.writer("value")],w.prototype,"writeValue",null);return w=u=c.__decorate([E.subclass("esri.renderers.visualVariables.support.ColorStop")],w)})},"esri/renderers/PointCloudUniqueValueRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorUniqueValueInfo".split(" "),
function(l,c,R,w,F,y,z,D,E,W){var u;F=u=function(A){function K(N){N=Y.call(this,N);N.type="point-cloud-unique-value";N.field=null;N.fieldTransformType=null;N.colorUniqueValueInfos=null;N.legendOptions=null;return N}l._inherits(K,A);var Y=l._createSuper(K);K.prototype.clone=function(){return new u({...this.cloneProperties(),field:R.clone(this.field),fieldTransformType:R.clone(this.fieldTransformType),colorUniqueValueInfos:R.clone(this.colorUniqueValueInfos),legendOptions:R.clone(this.legendOptions)})};
return l._createClass(K)}(D);c.__decorate([y.enumeration({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],F.prototype,"type",void 0);c.__decorate([w.property({json:{write:!0},type:String})],F.prototype,"field",void 0);c.__decorate([w.property({type:D.fieldTransformTypeKebabDict.apiValues,json:{type:D.fieldTransformTypeKebabDict.jsonValues,read:D.fieldTransformTypeKebabDict.read,write:D.fieldTransformTypeKebabDict.write}})],F.prototype,"fieldTransformType",void 0);c.__decorate([w.property({type:[W],
json:{write:!0}})],F.prototype,"colorUniqueValueInfos",void 0);c.__decorate([w.property({type:E.LegendOptions,json:{write:!0}})],F.prototype,"legendOptions",void 0);return F=u=c.__decorate([z.subclass("esri.renderers.PointCloudUniqueValueRenderer")],F)})},"esri/renderers/support/pointCloud/ColorUniqueValueInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(l,c,R,w,F,y,z,D){var E;w=E=function(W){function u(){var K=A.apply(this,arguments);K.description=null;K.label=null;K.values=null;K.color=null;return K}l._inherits(u,W);var A=l._createSuper(u);u.prototype.clone=function(){return new E({description:this.description,label:this.label,values:F.clone(this.values),color:F.clone(this.color)})};return l._createClass(u)}(w.JSONSupport);c.__decorate([y.property({type:String,json:{write:!0}})],w.prototype,"description",void 0);c.__decorate([y.property({type:String,
json:{write:!0}})],w.prototype,"label",void 0);c.__decorate([y.property({type:[String],json:{write:!0}})],w.prototype,"values",void 0);c.__decorate([y.property({type:R,json:{type:[z.Integer],write:!0}})],w.prototype,"color",void 0);return w=E=c.__decorate([D.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],w)})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC ../../webgl-engine/lib/VertexAttribute".split(" "),
function(l,c,R,w,F,y){function z(t,C){const Q={byteOffset:0,byteCount:0,fields:Object.create(null)};let ea=0;for(let ra=0;ra<C.length;ra++){const ua=C[ra],ka=ua.valueType||ua.type;Q.fields[ua.property]=(0,v[ka])(t,ea);ea+=q[ka].BYTES_PER_ELEMENT}Q.byteCount=ea;return Q}function D(t,C,Q){return E(t,C,Q).map(ea=>(ea=ea?Date.parse(ea):null)&&!Number.isNaN(ea)?ea:null)}function E(t,C,Q){const ea=[];let ra,ua=0,ka;for(ka=0;ka<t;ka+=1){ra=C[ka];if(0<ra){var Ca=ea,Ha=Ca.push,Ia=Q,Ja=ua,Qa=ra-1;let Ba="",
Ea=0;for(;Ea<Qa;){var va=Ia[Ja+Ea];if(128>va)Ba+=String.fromCharCode(va),Ea++;else if(192<=va&&224>va){if(Ea+1>=Qa)throw new c("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");Ba+=String.fromCharCode((va&31)<<6|Ia[Ja+Ea+1]&63);Ea+=2}else if(224<=va&&240>va){if(Ea+2>=Qa)throw new c("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");Ba+=String.fromCharCode((va&15)<<12|(Ia[Ja+Ea+1]&63)<<6|Ia[Ja+Ea+2]&63);Ea+=3}else if(240<=va&&248>va){if(Ea+3>=
Qa)throw new c("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");va=(va&7)<<18|(Ia[Ja+Ea+1]&63)<<12|(Ia[Ja+Ea+2]&63)<<6|Ia[Ja+Ea+3]&63;Ba=65536<=va?Ba+String.fromCharCode((va-65536>>10)+55296,(va&1023)+56320):Ba+String.fromCharCode(va);Ea+=4}else throw new c("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}Ha.call(Ca,Ba);if(0!==Q[ua+ra-1])throw new c("string-array-error","Invalid string array: missing null termination.");}else ea.push(null);ua+=
ra}return ea}function W(t,C){return new q[C.valueType](t,C.byteOffset,C.count*C.valuesPerElement)}function u(t,C){return new Uint8Array(t,C.byteOffset,C.byteCount)}function A(t,C,Q){t=null!=C.header?z(t,C.header):{byteOffset:0,byteCount:0,fields:{count:Q}};Q={header:t,byteOffset:t.byteCount,byteCount:0,entries:Object.create(null)};let ea=t.byteCount;for(let ra=0;ra<C.ordering.length;ra++){const ua=C.ordering[ra],ka=R.clone(C[ua]);ka.count=t.fields.count??0;if("String"===ka.valueType){ka.byteOffset=
ea;ka.byteCount=t.fields[ua+"ByteCount"];if("UTF-8"!==ka.encoding)throw new c("unsupported-encoding","Unsupported String encoding.",{encoding:ka.encoding});if(ka.timeEncoding&&"ECMA_ISO8601"!==ka.timeEncoding)throw new c("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:ka.timeEncoding});}else if(n(ka.valueType)){const Ca=B(ka.valueType);ea+=0!==ea%Ca?Ca-ea%Ca:0;ka.byteOffset=ea;ka.byteCount=Ca*ka.valuesPerElement*ka.count}else throw new c("unsupported-value-type","Unsupported binary valueType",
{valueType:ka.valueType});ea+=ka.byteCount??0;Q.entries[ua]=ka}Q.byteCount=ea-Q.byteOffset;return Q}function K(t,C,Q){C!==t&&J.error(`Invalid ${Q} buffer size\n expected: ${t}, actual: ${C})`);if(C<t)throw new c("buffer-too-small","Binary buffer is too small",{expectedSize:t,actualSize:C});}function Y(t){return{isDraco:!1,isLegacy:!1,color:null!=t.color,normal:null!=t.normal,uv0:null!=t.uv0,uvRegion:null!=t.uvRegion,featureIndex:null!=t.faceRange&&null!=t.featureId}}function N(t){const C={isDraco:!1,
isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const Q of t.ordering)if(t.vertexAttributes[Q])switch(Q){case "normal":C.normal=!0;break;case "color":C.color=!0;break;case "uv0":C.uv0=!0;break;case "region":C.uvRegion=!0}t.featureAttributes&&t.featureAttributeOrder&&(C.featureIndex=!0);return C}function p(t){const C={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const Q of t)switch(Q){case "normal":C.normal=!0;break;case "uv0":C.uv0=!0;break;
case "color":C.color=!0;break;case "uv-region":C.uvRegion=!0;break;case "feature-index":C.featureIndex=!0}return C}function n(t){return q.hasOwnProperty(t)}function B(t){return n(t)?q[t].BYTES_PER_ELEMENT:0}const J=w.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader"),x={position:y.VertexAttribute.POSITION,normal:y.VertexAttribute.NORMAL,color:y.VertexAttribute.COLOR,uv0:y.VertexAttribute.UV0,region:y.VertexAttribute.UVREGION},q={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,
UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},v={Float32:(t,C)=>(new DataView(t,0)).getFloat32(C,!0),Float64:(t,C)=>(new DataView(t,0)).getFloat64(C,!0),UInt8:(t,C)=>(new DataView(t,0)).getUint8(C),Int8:(t,C)=>(new DataView(t,0)).getInt8(C),UInt16:(t,C)=>(new DataView(t,0)).getUint16(C,!0),Int16:(t,C)=>(new DataView(t,0)).getInt16(C,!0),UInt32:(t,C)=>(new DataView(t,0)).getUint32(C,!0),Int32:(t,C)=>(new DataView(t,0)).getInt32(C,!0)};l.createAttributeDataIndex=A;l.createGeometryDescriptor=
function(t,C){return t&&t.compressedAttributes&&"draco"===t.compressedAttributes.encoding?p(t.compressedAttributes.attributes):t?Y(t):N(C)};l.createGeometryDescriptorForDraco=p;l.createGeometryDescriptorFromDefinition=Y;l.createGeometryDescriptorFromSchema=N;l.createGeometryIndexFromSchema=function(t,C){var Q=z(t,C&&C.header);let ea=Q.byteCount;const ra={isDraco:!1,header:Q,byteOffset:Q.byteCount,byteCount:0,vertexAttributes:{}};Q=Q.fields;var ua=null!=Q.vertexCount?Q.vertexCount:Q.count;for(var ka of C.ordering){if(!C.vertexAttributes[ka])continue;
const Ha={...C.vertexAttributes[ka],byteOffset:ea,count:ua};ra.vertexAttributes[x[ka]||"_"+ka]=Ha;ea+=B(Ha.valueType)*Ha.valuesPerElement*ua}ka=Q.faceCount;if(C.faces&&ka){ra.faces={};for(var Ca of C.ordering)C.faces[Ca]&&(ua={...C.faces[Ca],byteOffset:ea,count:ka},ra.faces[Ca]=ua,ea+=B(ua.valueType)*ua.valuesPerElement*ka)}Ca=Q.featureCount;if(C.featureAttributes&&C.featureAttributeOrder&&Ca){ra.featureAttributes={};for(const Ha of C.featureAttributeOrder)C.featureAttributes[Ha]&&(Q={...C.featureAttributes[Ha],
byteOffset:ea,count:Ca},ra.featureAttributes[Ha]=Q,ka="UInt64"===Q.valueType?8:B(Q.valueType),ea+=ka*Q.valuesPerElement*Ca)}K(ea,t.byteLength,"geometry");ra.byteCount=ea-ra.byteOffset;return ra};l.createRawView=u;l.createTypedView=W;l.getBytesPerValue=B;l.isValueType=n;l.readBinaryAttribute=function(t,C,Q){if("lepcc-rgb"===t.encoding)return F.decodeRGB(C);if("lepcc-intensity"===t.encoding)return F.decodeIntensity(C);if(null!=t.encoding&&""!==t.encoding)throw new c("unknown-attribute-storage-info-encoding",
"Unknown Attribute Storage Info Encoding");t["attributeByteCounts "]&&!t.attributeByteCounts&&(J.warn("Warning: Trailing space in 'attributeByteCounts '."),t.attributeByteCounts=t["attributeByteCounts "]);"ObjectIds"===t.ordering[0]&&t.hasOwnProperty("objectIds")&&(J.warn("Warning: Case error in objectIds"),t.ordering[0]="objectIds");Q=A(C,t,Q);K(Q.byteOffset+Q.byteCount,C.byteLength,"attribute");if(t=Q.entries.attributeValues||Q.entries.objectIds){if("String"===t.valueType){Q=Q.entries.attributeByteCounts;
const ea=W(C,Q);C=u(C,t);return t.timeEncoding?D(Q.count,ea,C):E(Q.count,ea,C)}return W(C,t)}throw new c("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};l.readDateStringArray=D;l.readHeader=z;l.readStringArray=E;l.valueType2ArrayBufferReader=v;l.valueType2TypedArrayClassMap=q;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["exports","../../../../core/Error"],function(l,c){function R(z,D,E){return{identifier:String.fromCharCode.apply(null,
new Uint8Array(z,E+y.identifierOffset,y.identifierLength)),version:D.getUint16(E+y.versionOffset,!0),checksum:D.getUint32(E+y.checksumOffset,!0)}}function w(z,D,E){const W=[];D=F(z,D,W);const u=[];for(let A=0;A<W.length;A++){u.length=0;D=F(z,D,u);for(let K=0;K<u.length;K++)E.push(u[K]+W[A])}return D}function F(z,D,E){var W=new DataView(z,D),u=W.getUint8(0);const A=u&31;var K=!!(u&32),Y=(u&192)>>6;u=0;if(0===Y)u=W.getUint32(1,!0),D+=5;else if(1===Y)u=W.getUint16(1,!0),D+=3;else if(2===Y)u=W.getUint8(1),
D+=2;else throw new c("lepcc-decode-error","Bad count type");if(K)throw new c("lepcc-decode-error","LUT not implemented");z=new Uint8Array(z,D,Math.ceil(u*A/8));Y=K=W=0;const N=-1>>>32-A;for(let p=0;p<u;p++){for(;K<A;)W|=z[Y]<<K,K+=8,Y+=1;E[p]=W&N;W>>>=A;K-=A;32<K+A&&(W|=z[Y-1]>>8-K)}return D+Y}const y={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};l.decodeIntensity=function(z){const D=new DataView(z,0);var E=0;const {identifier:W,version:u}=R(z,D,E);E+=y.byteCount;
if("Intensity "!==W)throw new c("lepcc-decode-error","Bad identifier");if(1<u)throw new c("lepcc-decode-error","Unknown version");var A=E;var K=D.getUint32(A+0,!0);var Y=D.getUint32(A+4,!0);var N=D.getUint32(A+8,!0);var p=D.getUint16(A+12,!0);var n=D.getUint8(A+14);D.getUint8(A+15);E+=16;if(Y*2**32+K!==z.byteLength)throw new c("lepcc-decode-error","Bad size");K=new Uint16Array(N);if(8===n){if(N+E!==z.byteLength)throw new c("lepcc-decode-error","Bad size");z=new Uint8Array(z,E,N);for(E=0;E<N;E++)K[E]=
z[E]*p}else if(16===n){if(2*N+E!==z.byteLength)throw new c("lepcc-decode-error","Bad size");z=new Uint16Array(z,E,N);for(E=0;E<N;E++)K[E]=z[E]*p}else{n=[];if(F(z,E,n)!==z.byteLength)throw new c("lepcc-decode-error","Bad size");for(z=0;z<N;z++)K[z]=n[z]*p}return K};l.decodeRGB=function(z){var D=new DataView(z,0),E=0;const {identifier:W,version:u}=R(z,D,E);E+=y.byteCount;if("ClusterRGB"!==W)throw new c("lepcc-decode-error","Bad identifier");if(1<u)throw new c("lepcc-decode-error","Unknown version");
var A=E;var K=D.getUint32(A+0,!0);var Y=D.getUint32(A+4,!0);var N=D.getUint32(A+8,!0);var p=D.getUint16(A+12,!0);var n=D.getUint8(A+14);A=D.getUint8(A+15);E+=16;if(Y*2**32+K!==z.byteLength)throw new c("lepcc-decode-error","Bad size");if((2===n||1===n)&&0===A){if(3*p+N+E!==z.byteLength||256<p)throw new c("lepcc-decode-error","Bad count");D=new Uint8Array(z,E,3*p);E=new Uint8Array(z,E+3*p,N);z=new Uint8Array(3*N);for(p=0;p<N;p++)K=E[p],z[3*p]=D[3*K],z[3*p+1]=D[3*K+1],z[3*p+2]=D[3*K+2];return z}if(0===
n&&0===A){if(3*N+E!==z.byteLength||0!==p)throw new c("lepcc-decode-error","Bad count");return(new Uint8Array(z,E)).slice()}if(2>=n&&1===A){if(E+3!==z.byteLength||1!==p)throw new c("lepcc-decode-error","Bad count");z=D.getUint8(E);p=D.getUint8(E+1);E=D.getUint8(E+2);D=new Uint8Array(3*N);for(K=0;K<N;K++)D[3*K]=z,D[3*K+1]=p,D[3*K+2]=E;return D}throw new c("lepcc-decode-error","Bad method "+n+","+A);};l.decodeXYZ=function(z){var D=new DataView(z,0),E=0;const {identifier:W,version:u}=R(z,D,E);E+=y.byteCount;
if("LEPCC     "!==W)throw new c("lepcc-decode-error","Bad identifier");if(1<u)throw new c("lepcc-decode-error","Unknown version");var A=E;var K=D.getUint32(A+0,!0);var Y=D.getUint32(A+4,!0);var N=D.getFloat64(A+8,!0);var p=D.getFloat64(A+16,!0);var n=D.getFloat64(A+24,!0);var B=D.getFloat64(A+32,!0);var J=D.getFloat64(A+40,!0);var x=D.getFloat64(A+48,!0);var q=D.getFloat64(A+56,!0);var v=D.getFloat64(A+64,!0);var t=D.getFloat64(A+72,!0);var C=D.getUint32(A+80,!0);D.getUint32(A+84,!0);E+=88;if(Y*2**
32+K!==z.byteLength)throw new c("lepcc-decode-error","Bad size");K=new Float64Array(3*C);Y=[];C=[];D=[];A=[];E=w(z,E,Y);E=w(z,E,C);E=w(z,E,D);E=w(z,E,A);if(E!==z.byteLength)throw new c("lepcc-decode-error","Bad length");E=z=0;for(let Q=0;Q<Y.length;Q++){E+=Y[Q];let ea=0;for(let ra=0;ra<C[Q];ra++){ea+=D[z];const ua=A[z];K[3*z]=Math.min(B,N+2*q*ea);K[3*z+1]=Math.min(J,p+2*v*E);K[3*z+2]=Math.min(x,n+2*t*ua);z++}}return{errorX:q,errorY:v,errorZ:t,result:K}};Object.defineProperty(l,Symbol.toStringTag,
{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(l){l.VertexAttribute=void 0;var c=l.VertexAttribute||(l.VertexAttribute={});c.POSITION="position";c.NORMAL="normal";c.NORMALCOMPRESSED="normalCompressed";c.UV0="uv0";c.AUXPOS1="auxpos1";c.AUXPOS2="auxpos2";c.COLOR="color";c.SYMBOLCOLOR="symbolColor";c.SIZE="size";c.TANGENT="tangent";c.OFFSET="offset";c.SUBDIVISIONFACTOR="subdivisionFactor";c.COLORFEATUREATTRIBUTE="colorFeatureAttribute";c.SIZEFEATUREATTRIBUTE=
"sizeFeatureAttribute";c.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";c.DISTANCETOSTART="distanceToStart";c.UVMAPSPACE="uvMapSpace";c.BOUNDINGRECT="boundingRect";c.UVREGION="uvRegion";c.PROFILERIGHT="profileRight";c.PROFILEUP="profileUp";c.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";c.FEATUREVALUE="featureValue";c.MODELORIGINHI="modelOriginHi";c.MODELORIGINLO="modelOriginLo";c.MODEL="model";c.MODELNORMAL="modelNormal";c.INSTANCECOLOR="instanceColor";c.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";
c.LOCALTRANSFORM="localTransform";c.GLOBALTRANSFORM="globalTransform";c.BOUNDINGSPHERE="boundingSphere";c.MODELORIGIN="modelOrigin";c.MODELSCALEFACTORS="modelScaleFactors";c.FEATUREATTRIBUTE="featureAttribute";c.STATE="state";c.LODLEVEL="lodLevel";c.POSITION0="position0";c.POSITION1="position1";c.NORMALA="normalA";c.NORMALB="normalB";c.COMPONENTINDEX="componentIndex";c.VARIANTOFFSET="variantOffset";c.VARIANTSTROKE="variantStroke";c.VARIANTEXTENSION="variantExtension";c.U8PADDING="u8padding";c.U16PADDING=
"u16padding";c.SIDENESS="sideness";c.START="start";c.END="end";c.UP="up";c.EXTRUDE="extrude";c.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";c.OBJECTANDLAYERIDCOLOR_INSTANCED="objectAndLayerIdColor_instanced";Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../core/typedArrayUtil ../../../chunks/quat ../../../chunks/quatf32 ../../../chunks/vec3 ../../../chunks/vec3f32 ../../../geometry/projection ../../../geometry/SpatialReference ./i3s/PointCloudWorkerUtil".split(" "),function(l,c,R,w,F,y,z,D,E,W){let u=function(){function K(){}var Y=K.prototype;Y.transform=function(N){N=this._transform(N);const p=[N.points.buffer,N.rgb.buffer];c.isSome(N.pointIdFilterMap)&&p.push(N.pointIdFilterMap.buffer);
for(const n of N.attributes)"buffer"in n.values&&R.isArrayBuffer(n.values.buffer)&&n.values.buffer!==N.rgb.buffer&&p.push(n.values.buffer);return Promise.resolve({result:N,transferList:p})};Y._transform=function(N){const p=W.readGeometry(N.schema,N.geometryBuffer);let n=p.length/3,B=null;const J=[];var x=W.getAttributeValues(N.primaryAttributeData,p,n);c.isSome(N.primaryAttributeData)&&x&&J.push({attributeInfo:N.primaryAttributeData.attributeInfo,values:x});var q=W.getAttributeValues(N.modulationAttributeData,
p,n);c.isSome(N.modulationAttributeData)&&q&&J.push({attributeInfo:N.modulationAttributeData.attributeInfo,values:q});x=W.evaluateRenderer(N.rendererInfo,x,q,n);N.filterInfo&&0<N.filterInfo.length&&c.isSome(N.filterAttributesData)&&(q=N.filterAttributesData.filter(c.isSome).map(t=>{const C=W.getAttributeValues(t,p,n);t={attributeInfo:t.attributeInfo,values:C};J.push(t);return t}),B=new Uint32Array(n),n=W.filterInPlace(p,x,B,N.filterInfo,q));for(var v of N.userAttributesData)q=W.getAttributeValues(v,
p,n),J.push({attributeInfo:v.attributeInfo,values:q});3*n<x.length&&(x=new Uint8Array(x.buffer.slice(0,3*n)));this._applyElevationOffsetInPlace(p,n,N.elevationOffset);v=this._transformCoordinates(p,n,N.obb,E.fromJSON(N.inSR),E.fromJSON(N.outSR));return{obb:N.obb,points:v,rgb:x,attributes:J,pointIdFilterMap:B}};Y._transformCoordinates=function(N,p,n,B,J){if(!D.projectBuffer(N,B,0,N,J,0,p))throw Error("Can't reproject");B=z.fromValues(n.center[0],n.center[1],n.center[2]);J=z.create();const x=z.create();
w.conjugate(A,n.quaternion);const q=new Float32Array(3*p);for(let v=0;v<p;v++)J[0]=N[3*v]-B[0],J[1]=N[3*v+1]-B[1],J[2]=N[3*v+2]-B[2],y.transformQuat(x,J,A),n.halfSize[0]=Math.max(n.halfSize[0],Math.abs(x[0])),n.halfSize[1]=Math.max(n.halfSize[1],Math.abs(x[1])),n.halfSize[2]=Math.max(n.halfSize[2],Math.abs(x[2])),q[3*v]=J[0],q[3*v+1]=J[1],q[3*v+2]=J[2];return q};Y._applyElevationOffsetInPlace=function(N,p,n){if(0!==n)for(let B=0;B<p;B++)N[3*B+2]+=n};return l._createClass(K)}();const A=F.create();
return function(){return new u}});