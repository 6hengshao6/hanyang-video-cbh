// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("require ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Graphic ../../../core/arrayUtils ../../../core/Logger ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/projection ../../../geometry/support/contains ../../../geometry/support/DoubleArray ../../../geometry/support/zscale ../../../layers/LayerConstants ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/hydratedFeatures ../../../layers/graphics/controllers/I3SOnDemandController ../../../layers/support/FeatureFilter ../../../rest/support/Query ./I3SPointsWorkerHandle ./LayerView3D ./graphics/Graphics3DFeatureProcessor ./graphics/QueryEngine ./i3s/attributeEditing ./i3s/I3SGraphicsMap ./i3s/I3SOverrides ./i3s/I3SUtil ./support/DefinitionExpressionSceneLayerView ./support/fieldProperties ./support/PopupSceneLayerView ./support/SceneLayerViewRequiredFields ../support/debugFlags ../support/orientedBoundingBox ../support/updatingProperties ../webgl-engine/lib/Attribute ../webgl-engine/lib/UpdatePolicy ../../layers/SceneLayerView ../../support/Scheduler".split(" "),
function(R,y,n,I,S,z,g,B,p,D,ra,T,U,V,E,W,J,X,Y,K,Z,aa,ba,L,M,l,ca,da,N,ea,O,x,fa,ha,ia,ja,F,ka,la,ma,na,oa,pa){function G(e){return"geometryBuffer"in e&&null!==e.geometryBuffer}function P(e){const q=e.attributeInfo,H=e.node.index;if(!(g.isNone(q)||g.isNone(q.loadedAttributes)||g.isNone(q.attributeData)))for(let a=0;a<e.graphics.length;a++){const b=e.graphics[a];if(b.nodeIndex===H){b.attributes||(b.attributes={});for(const {name:d}of q.loadedAttributes)q.attributeData[d]&&(b.attributes[d]=x.getCachedAttributeValue(q.attributeData[d],
a))}}}D=ha.defineFieldProperties();l=function(e){function q(){var a=H.apply(this,arguments);a.type="scene-layer-graphics-3d";a._queryEngine=null;a._memCache=null;a._interactiveEditingSessions=new Map;a.loadedGraphics=new ea.I3SGraphicsMap((b,d,c)=>{{const f=d.attributeInfo;if(g.isNone(f)||g.isNone(f.loadedAttributes)||g.isNone(f.attributeData))b=!1;else{d=!1;for(const {name:h}of f.loadedAttributes)if(f.attributeData[h]){const k=x.getCachedAttributeValue(f.attributeData[h],c);k!==b.attributes[h]&&
(b.attributes[h]=k,d=!0)}b=d}}return b},b=>a.processor.graphicsCore.recreateGraphics(b));a.holeFilling="always";a.progressiveLoadFactor=1;a.supportsHeightUnitConversion=!0;a._coordinatesOutsideExtentErrors=0;a._maxCoordinatesOutsideExtentErrors=20;return a}y._inherits(q,e);var H=y._createSuper(q);e=q.prototype;e.tryRecycleWith=function(a,b){return a.url===this.layer.url&&this._i3sOverrides.isEmpty?a.load(b).then(()=>{x.checkRecyclable(this.layer,a,this._i3sOverrides);this.layer=a;this._i3sOverrides.destroy();
this._i3sOverrides=new O.I3SOverrides({view:this.view,layer:a,memoryController:this.view.resourceController?.memoryController});g.destroyMaybe(this._queryEngine);this._setupQueryEngine();this.processor.resetObjectStates()}):null};e.initialize=function(){this.addResolvingPromise(this.layer.indexInfo);this._i3sOverrides=new O.I3SOverrides({view:this.view,layer:this.layer,memoryController:this.view.resourceController?.memoryController});x.checkSpatialReferences(this.layer,this.view.spatialReference,
this.view.viewingMode);this._fieldsHelper=new ja.SceneLayerViewRequiredFields({layerView:this});this.updatingHandles.add(()=>this.layer.rangeInfos,a=>this._rangeInfosChanged(a),B.initial);this.updatingHandles.add(()=>this.layer.renderer,(a,b)=>this._rendererChange(a,b));this.updatingHandles.add(()=>[this.parsedDefinitionExpression,this._excludeObjectIdsSorted],()=>this._filterChange());this.handles.add(B.watch(()=>F.I3S_TREE_SHOW_TILES,a=>{if(a&&!this._treeDebugger){const b=this._controller.crsIndex;
(new Promise((d,c)=>R(["./support/I3STreeDebugger"],d,c))).then(({I3STreeDebugger:d})=>{!this._treeDebugger&&F.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new d({lv:this,view:this.view,nodeSR:b}))})}else a||!this._treeDebugger||F.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)},B.initial));this._set("processor",new ca({owner:this,preferredUpdatePolicy:na.UpdatePolicy.ASYNC,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,
elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:a=>this._updateClippingExtent(a)}));this.processor.elevationAlignment?.events.on("invalidate-elevation",a=>this._controller.updateElevationChanged(a.extent,a.spatialReference));this.supportsHeightUnitConversion&&(this._verticalScale=X.getGeometryZScaler("point",this.layer.spatialReference,this.view.spatialReference));this.addResolvingPromise(this.processor.initializePromise);
this._memCache=this.view.resourceController.memoryController.newCache(this.uid);this._controller=new aa({layerView:this,scaleVisibilityEnabled:!1});x.containsDraco(this.layer.geometryDefinitions)&&(this._worker=new M.I3SPointsWorkerHandle(a=>this.view.resourceController.immediate.schedule(a)));this.handles.add(this.layer.on("apply-edits",a=>this.updatingHandles.addPromise(a.result)));this.handles.add(this.layer.on("edits",a=>this._handleEdits(a)));this.when(()=>{this._setupQueryEngine();this.updatingHandles.add(()=>
this.maximumNumberOfFeatures,a=>this._controller.featureTarget=a,B.initial);this.updatingHandles.add(()=>this.suspended,a=>{a&&this._removeAllNodeData()})})};e.destroy=function(){this._treeDebugger=g.destroyMaybe(this._treeDebugger);this._i3sOverrides=g.destroyMaybe(this._i3sOverrides);this._set("processor",g.destroyMaybe(this.processor));this._controller=g.destroyMaybe(this._controller);this._queryEngine=g.destroyMaybe(this._queryEngine);this._worker=g.destroyMaybe(this._worker);this._memCache=g.destroyMaybe(this._memCache);
this.loadedGraphics.clear();this._fieldsHelper=g.destroyMaybe(this._fieldsHelper)};e.whenGraphicAttributes=async function(a,b){return x.whenGraphicAttributes(this.layer,a,this._getObjectIdField(),b,()=>[...this.loadedGraphics.nodes()])};e.getHit=function(a){if(!this.loadedGraphics)return null;const b=Z.hydrateGraphic(this.loadedGraphics.find(c=>c.uid===a),this.layer),d=this._getObjectIdField();if(!b||!b.attributes||!b.attributes[d])return null;b.layer=this.layer;b.sourceLayer=this.layer;return{type:"graphic",
graphic:b,layer:b.layer}};e.whenGraphicBounds=function(a,b){return this.processor.whenGraphicBounds(a,b)};e.computeAttachmentOrigin=function(a,b){return this.processor.computeAttachmentOrigin(a,b)};e.canResume=function(){return y._get(y._getPrototypeOf(q.prototype),"canResume",this).call(this)&&(!this._controller||this._controller.rootNodeVisible)};e.isUpdating=function(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)};e.highlight=
function(a){return this.processor.highlight(a,this.layer.objectIdField)};e.createInteractiveEditSession=function(a){return N.createInteractiveEditSession(this._attributeEditingContext,a)};e._decompressBinaryPointData=async function(a,b){a={geometryBuffer:a.geometryBuffer};g.isNone(this._worker)&&(this._worker=new M.I3SPointsWorkerHandle(d=>this.view.resourceController.immediate.schedule(d)));b=await this._worker.invoke(a,b);if(g.isNone(b))throw Error("Failed to decompress Draco point data");return{positionData:b.positions,
featureIds:b.featureIds}};e.addNode=async function(a,b,d){if(!(G(b)||"pointData"in b))throw Error();if(this.loadedGraphics.hasNode(a.index))z.getLogger(this.declaredClass).error("I3S node "+a.id+" already added");else{if(g.isSome(this.layer.fullExtent)){var c=this.layer.fullExtent.clone();c.xmin-=.5;c.ymin-=.5;c.xmax+=.5;c.ymax+=.5;null!=c.zmin&&null!=c.zmax&&(c.zmin-=.5,c.zmax+=.5);null!=c.mmin&&null!=c.mmax&&(c.mmin-=.5,c.mmax+=.5)}else c=null;var f=c;c=[];var {featureIds:h,pointPositions:k}=G(b)?
await this._extractBinaryPointPositions(a,b,d):this._extractLegacyPointPositions(b);this._validatePositions(a,h,k,f,c);var m=this._controller.crsVertex;E.projectBuffer(k,m,0,k,this.view.spatialReference,0,h.length);f=G(b)?a.level:0;f={graphics:this._createGraphics(h,k,a.index,f),featureIds:h,attributeInfo:b.attributeDataInfo,node:a};await this._i3sOverrides.apply(f.featureIds,b.attributeDataInfo,d);a.numFeatures=f.graphics.length;this._updateNodeMemory(a);P(f);0<c.length&&(this._computeObb(a,c,m),
this._controller.updateVisibility(a.index));if(this._controller.isGeometryVisible(a)){if(g.isSome(this._verticalScale))for(const v of f.graphics)this._verticalScale(v.geometry);b=this.view._stage.renderView.objectAndLayerIdRenderHelper;if(g.isSome(b))for(d=0;d<f.featureIds.length;d++)b.setUidToObjectAndLayerId(f.featureIds[d],f.graphics[d].uid,this.layer.id,this.layer.uid,this.layer.popupEnabled,f.node.resources.attributes,d);this.loadedGraphics.addNode(a.index,f);this._controller.updateLoadStatus(a.index,
!0);this._filterNode(f);this._treeDebugger&&this._treeDebugger.update()}else this._cacheNodeData(f)}};e._computeObb=function(a,b,d){const c=this._controller.crsIndex,f=c.isGeographic?this.view.renderSpatialReference:c;E.projectBuffer(b,d,0,b,f,0,b.length/3);a.serviceObb=ka.compute(new ma.Attribute(b,3));c.isGeographic&&E.projectVectorToVector(a.serviceObb.center,f,a.serviceObb.center,c)};e.isNodeLoaded=function(a){return this.loadedGraphics.hasNode(a)};e.isNodeReloading=function(){return!1};e.updateNodeState=
function(){};e._extractBinaryPointPositions=async function(a,b,d){b=await this._decompressBinaryPointData(b,d);d=b.positionData;const c=d.length/3,f=J.newDoubleArray(3*c);a=g.isSome(a.serviceObb)?a.serviceObb.center:[0,0,0];const h=Math.abs(a[2])*2**-20;for(let k=0;k<c;k++){const m=3*k;f[m]=d[m]+a[0];f[m+1]=d[m+1]+a[1];f[m+2]=d[m+2]+a[2];Math.abs(f[m+2])<h&&(f[m+2]=0)}return{featureIds:b.featureIds?Array.from(b.featureIds):[],pointPositions:f}};e._extractLegacyPointPositions=function(a){const b=a.pointData.length,
d=J.newDoubleArray(3*b),c=[];for(let k=0;k<b;k++){var f=a.pointData[k];const m=f.featureDataPosition,v=m.length;var h=f.geometries?.[0]??qa[v];f=f.featureIds[0];if("Embedded"!==h.type||"points"!==h.params.type||2>v||3<v)continue;h=h.params.vertexAttributes?.position??[0,0,0];const t=3*c.length;d[t]=m[0]+h[0];d[t+1]=m[1]+h[1];d[t+2]=3===v?m[2]+h[2]:NaN;c.push(f)}return{featureIds:c,pointPositions:d}};e._validatePositions=function(a,b,d,c,f){if(!g.isNone(c)||!a.serviceObb){b=b.length;for(let h=0;h<
b;h++){const k=3*h;U.set(A,d[k],d[k+1],d[k+2]);g.isSome(c)&&!W.extentContainsCoords3D(c,A)&&(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&z.getLogger(this.declaredClass).error("Service Error: Coordinates outside of layer extent"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&z.getLogger(this.declaredClass).error("Maximum number of errors reached. Further errors are ignored."),this._coordinatesOutsideExtentErrors++);a.serviceObb||
f.push(A[0],A[1],A[2])}}};e._createGraphics=function(a,b,d,c){const f=a.length,h=this._getObjectIdField(),k=this.processor.graphicsCore,m=[],v=this.view.spatialReference;for(let C=0;C<f;C++){var t=a[C];const Q={};null!=t&&(Q[h]=t);t=null==t?I.generateUID():t;var w=3*C,r=isNaN(b[w+2])?void 0:b[w+2];w=K.makeDehydratedPoint(b[w],b[w+1],r,v);r=this.loadedGraphics.get(t);if(g.isSome(r)){if(null==r.level||r.level<c)u.property="geometry",u.graphic=r,u.oldValue=g.unwrap(r.geometry),u.newValue=w,r.geometry=
w,r.level=c,k.graphicUpdateHandler(u);m.push(r)}else r=I.generateUID(),m.push({objectId:t,uid:r,geometry:w,attributes:Q,visible:!0,nodeIndex:d,level:c})}return m};e._updateNodeMemory=function(a){a.memory=4096+(g.isSome(a.numFeatures)?a.numFeatures*this.processor.graphicsCore.usedMemoryPerGraphic:0)};e._cacheNodeData=function(a){const b=a.graphics.reduce((d,c)=>K.estimateSize(c)+d,8*a.featureIds.length+1536);this._memCache.put(this._getMemCacheKey(a.node),a,b)};e._getMemCacheKey=function(a){return`${a.index}`};
e._removeAllNodeData=function(){this.loadedGraphics.forEachNode((a,b)=>{a&&(this._updateNodeMemory(a.node),this._cacheNodeData(a));this._controller.updateLoadStatus(b,!1)});this._treeDebugger&&this._treeDebugger.update();this.loadedGraphics.clear()};e.removeNode=function(a){if(a=this._removeNodeStageData(a))this._updateNodeMemory(a.node),this._cacheNodeData(a)};e._removeNodeStageData=function(a){const b=this.loadedGraphics.getNode(a);if(g.isNone(b))return null;this._controller.updateLoadStatus(a,
!1);this.loadedGraphics.removeNode(a);this._treeDebugger&&this._treeDebugger.update();return b};e.loadCachedNodeData=async function(a){return this._memCache?.pop(this._getMemCacheKey(a))};e.addCachedNodeData=async function(a,b,d,c){this.loadedGraphics.hasNode(a.index)?z.getLogger(this.declaredClass).error("I3S node "+a.id+" already added"):(await this._i3sOverrides.apply(b.featureIds,d,c),this.loadedGraphics.addNode(a.index,b),this._controller.updateLoadStatus(a.index,!0),this._updateNodeMemory(a),
b.attributeInfo=d,this._attributeValuesChanged(b),this._filterNode(b),this._treeDebugger&&this._treeDebugger.update())};e.getLoadedNodeIds=function(){const a=[];this.loadedGraphics.forEachNode(b=>a.push(b.node.id));return a.sort()};e.getVisibleNodes=function(){const a=[];this.loadedGraphics.forEachNode(b=>a.push(b.node));return a};e.getLoadedNodeIndices=function(a){this.loadedGraphics.forEachNode((b,d)=>a.push(d))};e.getLoadedAttributes=function(a){a=this.loadedGraphics.getNode(a);if(g.isSome(a)&&
g.isSome(a.attributeInfo))return a.attributeInfo.loadedAttributes};e.getAttributeData=function(a){a=this.loadedGraphics.getNode(a);if(g.isSome(a)&&g.isSome(a.attributeInfo))return a.attributeInfo.attributeData};e._setAttributeData=function(a,b){a=this.loadedGraphics.getNode(a);g.isNone(a)||g.isNone(a.attributeInfo)||(a.attributeInfo.attributeData=b,this._attributeValuesChanged(a))};e.updateAttributes=async function(a,b,d){a=this.loadedGraphics.getNode(a);g.isNone(a)||(await this._i3sOverrides.apply(a.featureIds,
b,d),a.attributeInfo=b,this._attributeValuesChanged(a))};e._attributeValuesChanged=function(a){P(a);this._filterNode(a);this.processor.graphicsCore.labelsEnabled&&(a=a.graphics.map(b=>b.uid),this.processor.graphicsCore.updateLabelingInfo(a))};e._updateClippingExtent=function(a){this._controller&&this._controller.updateClippingArea(a);return!1};e._getObjectIdField=function(){return this.layer.objectIdField||Y.fallbackObjectIDAttribute};e._rendererChange=async function(a,b){const {layer:{fieldsIndex:d}}=
this,c=new Set;let f;a?(await a.collectRequiredFields(c,d),f=Array.from(c).sort()):f=[];c.clear();let h;b?(await b.collectRequiredFields(c,d),h=Array.from(c).sort()):h=[];f.length===h.length&&f.every((k,m)=>f[m]===h[m])||this._reloadAllNodes()};e._rangeInfosChanged=function(a){null!=a&&0<a.length&&z.getLogger(this.declaredClass).warn("Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.")};e._filterChange=function(){this.loadedGraphics.forEachNode(a=>
this._filterNode(a))};e._reloadAllNodes=function(){this._removeAllNodeData();this._controller&&this._controller.restartNodeLoading()};e._filterNode=function(a){const b=this.parsedDefinitionExpression,d=this._excludeObjectIdsSorted,c=this._getObjectIdField();for(const f of a.graphics){a=f.visible;const h=!b||this._evaluateClause(b,f),k=g.isNone(d)||0>S.binaryIndexOf(d,f.attributes[c]);f.visible=h&&k;a!==f.visible&&(u.graphic=f,u.property="visible",u.oldValue=a,u.newValue=f.visible,this.processor.graphicsCore.graphicUpdateHandler(u))}};
e.createQuery=function(){const a={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return g.isSome(this.filter)?this.filter.createQuery(a):new L(a)};e.queryFeatures=function(a,b){return this._queryEngine.executeQuery(this._ensureQuery(a),b?.signal)};e.queryObjectIds=function(a,b){return this._queryEngine.executeQueryForIds(this._ensureQuery(a),b?.signal)};e.queryFeatureCount=function(a,b){return this._queryEngine.executeQueryForCount(this._ensureQuery(a),b?.signal)};
e.queryExtent=function(a,b){return this._queryEngine.executeQueryForExtent(this._ensureQuery(a),b?.signal)};e._ensureQuery=function(a){return this._addDefinitionExpressionToQuery(g.isNone(a)?this.createQuery():L.from(a))};e._setupQueryEngine=function(){const a=()=>this.processor.featureStore;this._queryEngine=new da.QueryEngine({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return a()},hasZ:this.hasZ,hasM:this.hasM},
priority:pa.TaskPriority.FEATURE_QUERY_ENGINE})};e._handleEdits=function(a){N.processAttributeEdits(this._attributeEditingContext,a)};y._createClass(q,[{key:"i3slayer",get:function(){return this.layer}},{key:"updatingProgressValue",get:function(){return this._controller?.updatingProgress??1}},{key:"requiredFields",get:function(){return this._fieldsHelper?.requiredFields??[]}},{key:"maximumNumberOfFeatures",get:function(){return this.processor?.graphicsCore?.displayFeatureLimit?.maximumNumberOfFeatures??
0},set:function(a){null!=a?(this._override("maximumNumberOfFeatures",a),this._controller.fixedFeatureTarget=!0):(this._clearOverride("maximumNumberOfFeatures"),this._controller.fixedFeatureTarget=!1)}},{key:"maximumNumberOfFeaturesExceeded",get:function(){return this.suspended?!1:!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached}},{key:"_excludeObjectIdsSorted",get:function(){const a=this.layer.excludeObjectIds;return a.length?a.toArray().sort((b,d)=>b-d):null}},{key:"lodFactor",
get:function(){return"Labels"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}},{key:"hasM",get:function(){return!1}},{key:"hasZ",get:function(){return!0}},{key:"updatePolicy",get:function(){return this.processor.graphicsCore.effectiveUpdatePolicy}},{key:"usedMemory",get:function(){return this.processor?.graphicsCore?.usedMemory??0}},{key:"unloadedMemory",get:function(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??
0))}},{key:"ignoresMemoryFactor",get:function(){return this._controller&&this._controller.fixedFeatureTarget}},{key:"_attributeEditingContext",get:function(){const a=this._getObjectIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:a,forEachNode:b=>this.loadedGraphics.forEachNode(d=>b(d.node,d.featureIds)),attributeStorageInfo:this.i3slayer.attributeStorageInfo??[],i3sOverrides:this._i3sOverrides,getAttributeData:b=>this.getAttributeData(b),
setAttributeData:(b,d,c)=>{this._setAttributeData(b,d);b=this.loadedGraphics.getNode(b);g.isSome(c)?(c=this.loadedGraphics.get(c.attributes[a]),g.isSome(c)&&this.processor.graphicsCore.recreateGraphics([c])):g.isSome(b)&&this.processor.graphicsCore.recreateGraphics(b.graphics)},clearMemCache:()=>{}}}},{key:"performanceInfo",get:function(){const a={displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:this.maximumNumberOfFeatures,totalNumberOfFeatures:-1,nodes:this.loadedGraphics.nodeCount,
core:this.processor.graphicsCore.performanceInfo};this._controller&&this._controller.updateStats(a);return a}},{key:"test",get:function(){return{controller:this._controller,numNodes:this.loadedGraphics.nodeCount,loadedGraphics:this.loadedGraphics}}}]);return q}(fa.DefinitionExpressionSceneLayerView(ia.PopupSceneLayerView(l.LayerView3D(oa))));n.__decorate([p.property()],l.prototype,"processor",void 0);n.__decorate([p.property({type:ba})],l.prototype,"filter",void 0);n.__decorate([p.property()],l.prototype,
"loadedGraphics",void 0);n.__decorate([p.property()],l.prototype,"i3slayer",null);n.__decorate([p.property()],l.prototype,"_controller",void 0);n.__decorate([p.property()],l.prototype,"updating",void 0);n.__decorate([p.property()],l.prototype,"suspended",void 0);n.__decorate([p.property()],l.prototype,"holeFilling",void 0);n.__decorate([p.property(la.updatingProgress)],l.prototype,"updatingProgress",void 0);n.__decorate([p.property()],l.prototype,"updatingProgressValue",null);n.__decorate([p.property(D.requiredFields)],
l.prototype,"requiredFields",null);n.__decorate([p.property(D.availableFields)],l.prototype,"availableFields",void 0);n.__decorate([p.property()],l.prototype,"_fieldsHelper",void 0);n.__decorate([p.property({type:Number})],l.prototype,"maximumNumberOfFeatures",null);n.__decorate([p.property({readOnly:!0})],l.prototype,"maximumNumberOfFeaturesExceeded",null);n.__decorate([p.property()],l.prototype,"_excludeObjectIdsSorted",null);n.__decorate([p.property({readOnly:!0})],l.prototype,"lodFactor",null);
n.__decorate([p.property({readOnly:!0})],l.prototype,"hasM",null);n.__decorate([p.property({readOnly:!0})],l.prototype,"hasZ",null);n=l=n.__decorate([T.subclass("esri.views.3d.layers.SceneLayerGraphicsView3D")],l);const qa={2:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,0]}}},3:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,0,0]}}}},A=V.create(),u={graphic:null,property:null,oldValue:null,newValue:null};return n});