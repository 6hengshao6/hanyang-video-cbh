// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/asyncUtils ../../../../core/maybe ../../../../core/promiseUtils ./Graphics3DCalloutSymbolLayerFactory ./Graphics3DLineCalloutSymbolLayer ./Graphics3DSymbol".split(" "),function(c,h,g,k,l,m,n){return function(d){function e(a,b,f){a=p.call(this,a,b,f);a._calloutSymbolLayer=null;a.symbol.hasVisibleCallout()&&(a._calloutSymbolLayer=l.make(a.symbol,b));return a}c._inherits(e,d);var p=c._createSuper(e);d=e.prototype;d.doLoad=async function(a){const b=
this._calloutSymbolLayer?h.result(this._calloutSymbolLayer.load()):null;try{await c._get(c._getPrototypeOf(e.prototype),"doLoad",this).call(this,a),k.throwIfAborted(a)}catch(f){throw this._calloutSymbolLayer?.abortLoad(),f;}b&&await b};d.destroy=function(){c._get(c._getPrototypeOf(e.prototype),"destroy",this).call(this);this._calloutSymbolLayer=g.destroyMaybe(this._calloutSymbolLayer)};d.createGraphics3DGraphic=function(a,b){b=c._get(c._getPrototypeOf(e.prototype),"createGraphics3DGraphic",this).call(this,
a,b);g.isSome(this._calloutSymbolLayer)&&g.isSome(b)&&(a=this._createCalloutGraphic(a),g.isSome(a)&&b.addAuxiliaryGraphic(a));return b};d.globalPropertyChanged=function(a,b){return c._get(c._getPrototypeOf(e.prototype),"globalPropertyChanged",this).call(this,a,b)?this._calloutSymbolLayer?this._calloutSymbolLayer.globalPropertyChanged(a,b,f=>this._getCalloutGraphicLayer(f)):!0:!1};d.updateGeometry=function(a,b){const f=c._get(c._getPrototypeOf(e.prototype),"updateGeometry",this).call(this,a,b);return f&&
this._calloutSymbolLayer&&(a=this._getCalloutGraphicLayer(a))?this._calloutSymbolLayer.updateGeometry(a,b):f};d._createCalloutGraphic=function(a){const b=a.renderingInfo;a.renderingInfo=new m.LineCalloutSymbolLayerRenderingInfo(b.renderer,b.symbol);return this._calloutSymbolLayer.createGraphics3DGraphic(a)};d._getCalloutGraphicLayer=function(a){for(const b of a._auxiliaryLayers)if(b.graphics3DSymbolLayer===this._calloutSymbolLayer)return b};return c._createClass(e)}(n)});