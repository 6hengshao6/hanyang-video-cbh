// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../chunks/mat4 ../../../chunks/mat4f64 ./AtmosphereType ../../../chunks/SimpleAtmosphere.glsl ./SimpleAtmosphereTechnique ./SimpleAtmosphereTechniqueConfiguration ./resources/SimpleAtmosphereTexture ../support/buffer/glUtil ../support/buffer/InterleavedLayout ../webgl-engine/lib/DefaultVertexAttributeLocations ../webgl-engine/lib/GeometryUtil ../webgl-engine/lib/VertexArrayObject ../webgl-engine/lib/VertexAttribute ../../webgl/BufferObject ../../webgl/enums ../../webgl/Texture ../../webgl/Util".split(" "),
function(l,r,t,u,v,w,x,y,m,z,A,B,C,D,E,F,G,e,H,I){let J=function(){function n(d,a){this.type=w.AtmosphereType.Panoramic;this._configuration=new m.SimpleAtmosphereTechniqueConfiguration;this._passParameters=new x.SimpleAtmospherePassParameters;this._configuration.geometry=m.SimpleAtmosphereGeometry.Cylinder;this._technique=a.techniqueRepository.acquire(y.SimpleAtmosphereTechnique,this._configuration);d=a.renderContext.rctx;this._vao=this._createVertexArrayObject(d);this._vaoCount=I.vertexCount(this._vao,
"geometry");this._passParameters.texture=new H.Texture(d,{pixelFormat:e.PixelFormat.RGBA,dataType:e.PixelType.UNSIGNED_BYTE,wrapMode:e.TextureWrapMode.CLAMP_TO_EDGE,samplingMode:e.TextureSamplingMode.LINEAR,flipped:!0,width:1,height:512},z.earthAtmosphereTextureSimple)}var h=n.prototype;h.destroy=function(){this._passParameters.texture=t.disposeMaybe(this._passParameters.texture);this._vao.dispose();this._technique.release()};h.render=function(d){const a=d.rctx,c=a.bindTechnique(this._technique,this._passParameters,
d.bindParameters);var b=p;u.copy(b,d.bindParameters.camera.viewMatrix);b[12]=0;b[13]=0;b[14]=0;b[15]=1;c.setUniformMatrix4fv("view",p);a.bindVAO(this._vao);c.assertCompatibleVertexAttributeLocations(this._vao);a.drawArrays(e.PrimitiveType.TRIANGLES,0,this._vaoCount)};h.renderHaze=function(){return!1};h._createVertexArrayObject=function(d){var a=D.createPolySphereData(1,2,!1);const c=a.indices[0][1];a=a.vertexAttributes[0][1];for(var b=0;b<c.length;b+=3){var g=c[b];c[b]=c[b+2];c[b+2]=g}a=a.data;b=
q.createBuffer(c.length);g=b.position;for(let f=0;f<c.length;++f){const k=3*c[f];g.set(f,0,a[k]);g.set(f,1,a[k+1]);g.set(f,2,a[k+2])}return new E.VertexArrayObject(d,C.Default3D,{geometry:A.glLayout(q)},{geometry:G.BufferObject.createVertex(d,e.Usage.STATIC_DRAW,b.buffer)})};return r._createClass(n)}();const p=v.create(),q=B.newLayout().vec3f(F.VertexAttribute.POSITION);l.PanoramicAtmosphere=J;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});