// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/compilerUtils ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ./lightingUtils ./SceneViewAtmosphere ./SunLighting ./VirtualLighting ../../../webscene/Environment ../../../webscene/SunLighting ../../../webscene/VirtualLighting".split(" "),function(k,g,p,
l,m,q,r,t,u,n,c,h,d,v,w){var e;d=e=function(b){function f(a){a=x.call(this,a);a.atmosphere=new n.SceneViewAtmosphere;a.lighting=new c;a.cachedCameraTrackingEnabled=null;return a}k._inherits(f,b);var x=k._createSuper(f);f.fromWebsceneEnvironment=function(a){a=a.cloneConstructProperties();return new e({...a,lighting:a.lighting?"virtual"===a.lighting.type?h.fromWebsceneLighting(a.lighting):c.fromWebsceneLighting(a.lighting):void 0})};b=f.prototype;b.castLighting=function(a){return this._convertLighting(a)};
b.applyLighting=function(a){this.lighting=this._convertLighting(a)};b._convertLighting=function(a){return a?a instanceof c||a instanceof h?a:a instanceof v?this.lighting&&"virtual"!==this.lighting.type?this.lighting.cloneWithWebsceneLighting(a):new c({...a.cloneConstructProperties(),...this.lighting?.cloneNonPersistentConstructProperties()}):a instanceof w?this.lighting&&"virtual"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(a):new h({...a.cloneConstructProperties(),...this.lighting?.cloneNonPersistentConstructProperties()}):
t.ensureOneOfType(u.lightingTypes,a):new c};b.clone=function(){return new e({lighting:this.lighting.clone(),atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:l.clone(this.background)})};b.cloneWithWebsceneEnvironment=function(a){return new e({atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:l.clone(this.background),
...a.cloneConstructProperties(),lighting:this._getLighting(a)})};b._getLighting=function(a){switch(a.lighting.type){case "sun":return this.lighting&&"sun"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(a.lighting):c.fromWebsceneLighting(a.lighting);case "virtual":return this.lighting&&"virtual"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(a.lighting):h.fromWebsceneLighting(a.lighting);default:return p.neverReached(a.lighting),c.fromWebsceneLighting(a.lighting)}};return k._createClass(f)}(d);
g.__decorate([m.property({type:n.SceneViewAtmosphere,json:{read:!1},nonNullable:!0})],d.prototype,"atmosphere",void 0);g.__decorate([m.property({nonNullable:!0})],d.prototype,"lighting",void 0);g.__decorate([q.cast("lighting")],d.prototype,"castLighting",null);return d=e=g.__decorate([r.subclass("esri.views.3d.environment.SceneViewEnvironment")],d)});