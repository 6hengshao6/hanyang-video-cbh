// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/time ../../../../chunks/vec2f64 ../../../../chunks/vec4f64 ../core/shaderLibrary/ShaderOutput ../lib/AnimationTimer ../lib/Material ../lib/OrderIndependentTransparency ../lib/RenderSlot ./DefaultBufferWriter ./DefaultLayouts ./TriangleMaterial ./WaterGLMaterial ./WaterTechnique".split(" "),function(h,f,n,p,q,g,r,t,u,e,v,w,k,x,y){k=function(b){function d(a){a=l.call(this,a,new m);a._configuration=new y.WaterTechniqueConfiguration;
a.animation=new r.AnimationTimer;return a}f._inherits(d,b);var l=f._createSuper(d);b=d.prototype;b.getConfiguration=function(a,c){this._configuration.output=a;this._configuration.writeDepth=this.parameters.writeDepth;this._configuration.receiveShadows=this.parameters.receiveShadows;this._configuration.hasSlicePlane=this.parameters.hasSlicePlane;this._configuration.transparent=this.parameters.transparent;this._configuration.hasScreenSpaceReflections=this.parameters.hasScreenSpaceReflections;this._configuration.hasCloudsReflections=
this.parameters.hasCloudsReflections;this._configuration.isDraped=this.parameters.isDraped;this._configuration.transparencyPassType=c.transparencyPassType;this._configuration.enableOffset=c.camera.relativeElevation<u.OITPolygonOffsetLimit;this._configuration.hasMultipassTerrain=c.multipassTerrain.enabled;this._configuration.cullAboveGround=c.multipassTerrain.cullAboveGround;return this._configuration};b.update=function(a){this.animation.enabled=35E3>Math.sqrt(this.parameters.waveTextureRepeat/this.parameters.waveStrength)*
Math.min(a.camera.relativeElevation,a.camera.distance);a=this.animation.advance(a);this.setParameters({timeElapsed:n.secondsFromMilliseconds(this.animation.time)*this.parameters.animationSpeed},!1);return this.animation.enabled&&a};b.requiresSlot=function(a,c){switch(c){case g.ShaderOutput.Normal:return a===e.RenderSlot.DRAPED_WATER;case g.ShaderOutput.Color:if(this.parameters.isDraped)return a===e.RenderSlot.DRAPED_MATERIAL;break;case g.ShaderOutput.Alpha:break;case g.ShaderOutput.Highlight:return a===
e.RenderSlot.OPAQUE_MATERIAL||a===e.RenderSlot.DRAPED_MATERIAL;default:return!1}c=e.RenderSlot.OPAQUE_MATERIAL;this.parameters.transparent&&(c=this.parameters.writeDepth?e.RenderSlot.TRANSPARENT_MATERIAL:e.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL);return a===c};b.createGLMaterial=function(a){return new x.WaterGLMaterial(a)};b.createBufferWriter=function(){return new v.DefaultBufferWriter(w.PositionUVLayout)};return f._createClass(d)}(k.TriangleMaterial);let m=function(b){function d(){var a=
l.apply(this,arguments);a.waveStrength=.06;a.waveTextureRepeat=32;a.waveDirection=p.fromValues(1,0);a.waveVelocity=.05;a.flowStrength=.015;a.flowOffset=-.5;a.animationSpeed=.35;a.timeElapsed=0;a.color=q.fromValues(0,0,0,0);a.transparent=!0;a.writeDepth=!0;a.hasSlicePlane=!1;a.isDraped=!1;a.receiveShadows=!0;a.hasScreenSpaceReflections=!1;a.hasCloudsReflections=!1;return a}f._inherits(d,b);var l=f._createSuper(d);return f._createClass(d)}(t.MaterialParameters);h.WaterMaterial=k;h.WaterMaterialParameters=
m;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});