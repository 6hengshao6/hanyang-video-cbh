// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../Color ../../../../core/Logger ../../../../core/maybe ../../../../core/screenUtils ../../../../chunks/vec4f64".split(" "),function(m,p,h,q,b,n,k){let w=function(){function g(a){this.definition=a;this.key=JSON.stringify(a);this.haloSize=Math.round(a.halo.size);this.textStyle=this._colorToRGBA(a.color);this.haloStyle=this._colorToRGB(a.halo.color);this.backgroundStyle=0!==a.background.color[3]?this._colorToRGBA(a.background.color):
null}var l=g.prototype;l.fontString=function(a){const c=this.definition.font;return`${c.style} ${c.weight} ${a}px ${c.family}, sans-serif`};l._colorToRGB=function(a){return`rgb(${a.slice(0,3).map(c=>Math.floor(255*c)).toString()})`};l._colorToRGBA=function(a){return`rgba(${a.slice(0,3).map(c=>Math.floor(255*c)).toString()},${a[3]})`};g.fromSymbol=async function(a,c){var e=b.get(a,"material","color");const r=b.mapOr(e,k.ZEROS,h.toUnitRGBA);e=b.mapOr(a.size,12,n.pt2px);const t=a.lineHeight,u=b.isSome(a.background)?
b.unwrap(h.toUnitRGBA(a.background.color)):k.ZEROS,v={family:b.mapOr(a.font,"sans-serif",d=>d.family),decoration:b.mapOr(a.font,"none",d=>d.decoration),weight:b.mapOr(a.font,"normal",d=>d.weight),style:b.mapOr(a.font,"normal",d=>d.style)};var f=a.halo;f=b.isSome(f)&&b.isSome(f.color)&&0<f.size?{size:n.pt2px(f.size),color:h.toUnitRGBA(f.color)}:{size:0,color:k.ZEROS};a=new g({color:r,size:e,background:{color:u,padding:b.isSome(a.background)?[.65*e,.5*e]:[0,0],borderRadius:b.isSome(a.background)?.375*
e:0},lineSpacingFactor:t,font:v,halo:f,pixelRatio:c});c=a.fontString(e);try{await document.fonts.load(c)}catch(d){q.getLogger("esri.views.3d.webgl-engine.lib.TextRenderParameters").warnOnce(`Failed to preload font '${c}'. Some text symbology may be rendered using the default browser font.`)}return a};return p._createClass(g)}();m.TextRenderParameters=w;Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});