// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ./glUtil3D ../../../../chunks/Compositing.glsl ../shaders/CompositingTechnique ../shaders/CompositingTechniqueConfiguration ../../../../chunks/HUDCompositing.glsl ../shaders/HUDCompositingTechnique ../../../../chunks/OITCompositing.glsl ../shaders/OITCompositingTechnique ../../../../chunks/OverlayCompositing.glsl ../shaders/OverlayCompositingTechnique ../../../webgl/enums ../../../webgl/Util".split(" "),function(n,k,p,q,r,
l,t,u,v,w,x,y,f,g){return function(){function m(b,a){this._rctx=b;this._techniqueRepository=a;this._configuration=new l.CompositingTechniqueConfiguration;this._passParameters=new q.CompositingPassParameters;this._oitParameters=new v.OITCompositingPassParameters;this._hudParameters=new t.HUDCompositingPassParameters;this._overlayParameters=new x.OverlayCompositingPassParameters}var d=m.prototype;d.destroy=function(){this._vao=k.disposeMaybe(this._vao)};d.compositeOIT=function(b,a,c,e){this._oitParameters.colorTexture=
a;this._oitParameters.alphaTexture=c;this._oitParameters.frontFaceTexture=e;a=this._rctx;c=this._techniqueRepository.acquire(w.OITCompositingTechnique);a.bindTechnique(c,this._oitParameters,b);b=this._ensureVAO();a.bindVAO(b);a.drawArrays(f.PrimitiveType.TRIANGLE_STRIP,0,g.vertexCount(b,"geometry"));c.release()};d.compositeHUD=function(b,a){this._hudParameters.texture=a;a=this._rctx;const c=this._techniqueRepository.acquire(u.HUDCompositingTechnique);a.bindTechnique(c,this._hudParameters,b);b=this._ensureVAO();
a.bindVAO(b);a.drawArrays(f.PrimitiveType.TRIANGLE_STRIP,0,g.vertexCount(b,"geometry"));c.release()};d.compositeOverlay=function(b,a,c,e){this._overlayParameters.texture=a;this._overlayParameters.opacity=c;this._overlayParameters.overlayIndex=e;a=this._rctx;c=this._techniqueRepository.acquire(y.OverlayCompositingTechnique);a.bindTechnique(c,this._overlayParameters,b);b=this._ensureVAO();a.bindVAO(b);a.drawArrays(f.PrimitiveType.TRIANGLE_STRIP,0,g.vertexCount(b,"geometry"));c.release()};d.composite=
function(b,a,c=l.AlphaMode.None,e=1){const h=this._rctx;this._configuration.alphaMode=c;this._configuration.hasOpacityFactor=1!==e;this._passParameters.texture=a;this._passParameters.opacity=e;a=this._techniqueRepository.acquire(r.CompositingTechnique,this._configuration);h.bindTechnique(a,this._passParameters,b);b=this._ensureVAO();h.bindVAO(b);h.drawArrays(f.PrimitiveType.TRIANGLE_STRIP,0,g.vertexCount(b,"geometry"));a.release()};d._ensureVAO=function(){k.isNone(this._vao)&&(this._vao=p.createQuadVAO(this._rctx));
return this._vao};return n._createClass(m)}()});