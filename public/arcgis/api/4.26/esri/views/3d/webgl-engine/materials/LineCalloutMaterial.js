// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec2f32 ../../../../chunks/vec2f64 ../../support/buffer/InterleavedLayout ../core/shaderLibrary/ShaderOutput ../core/shaderLibrary/hud/HUD.glsl ../lib/GLMaterial ../lib/Material ../lib/RenderSlot ../lib/VertexAttribute ./internal/bufferWriterUtils ../shaders/LineCalloutTechnique ../shaders/LineCalloutTechniqueConfiguration".split(" "),function(m,g,q,h,w,x,y,r,z,t,n,e,p,A,B){let E=function(c){function b(a){a=
d.call(this,a,new u);a._configuration=new B.LineCalloutTechniqueConfiguration;a._uniqueMaterialIdentifier=b.uniqueMaterialIdentifier(a.parameters);return a}g._inherits(b,c);var d=g._createSuper(b);c=b.prototype;c.getPassParameters=function(){return this.parameters};c.getConfiguration=function(a,f){a=f?.slot!==n.RenderSlot.LINE_CALLOUTS;this._configuration.occlusionTestEnabled=this.parameters.occlusionTest;this._configuration.hasVerticalOffset=q.isSome(this.parameters.verticalOffset);this._configuration.hasScreenSizePerspective=
q.isSome(this.parameters.screenSizePerspective);this._configuration.depthHudEnabled=a;this._configuration.depthHudAlignStartEnabled=!!this.parameters.depthHUDAlignStart;this._configuration.screenCenterOffsetUnitsEnabled="screen"===this.parameters.centerOffsetUnits?r.HUDSpace.Screen:r.HUDSpace.World;this._configuration.hasSlicePlane=this.parameters.hasSlicePlane;this._configuration.hasMultipassGeometry=f.multipassGeometry.enabled;return this._configuration};c.intersect=function(){};c.requiresSlot=
function(a,f){if(f===y.ShaderOutput.Color)switch(a){case n.RenderSlot.LINE_CALLOUTS:case n.RenderSlot.LINE_CALLOUTS_HUD_DEPTH:return!0}return!1};c.createGLMaterial=function(a){return new C(a)};c.createBufferWriter=function(){return new D};c.validateParameters=function(a){a=b.uniqueMaterialIdentifier(a);a!==this._uniqueMaterialIdentifier&&(this._uniqueMaterialIdentifier=a)};b.uniqueMaterialIdentifier=function(a){return JSON.stringify({screenOffset:a.screenOffset||[0,0],centerOffsetUnits:a.centerOffsetUnits||
"world"})};g._createClass(b,[{key:"uniqueMaterialIdentifier",get:function(){return this._uniqueMaterialIdentifier}}]);return b}(t.Material),C=function(c){function b(){return d.apply(this,arguments)}g._inherits(b,c);var d=g._createSuper(b);b.prototype.beginSlot=function(a){return this.ensureTechnique(A.LineCalloutTechnique,a)};return g._createClass(b)}(z),u=function(c){function b(){var a=d.apply(this,arguments);a.screenOffset=w.ZEROS;a.color=[0,0,0,1];a.size=1;a.occlusionTest=!1;a.shaderPolygonOffset=
1E-5;a.depthHUDAlignStart=!1;a.centerOffsetUnits="world";a.hasSlicePlane=!1;return a}g._inherits(b,c);var d=g._createSuper(b);return g._createClass(b)}(t.MaterialParameters);const F=x.newLayout().vec3f(e.VertexAttribute.POSITION).vec3f(e.VertexAttribute.NORMAL).vec2f(e.VertexAttribute.UV0).vec4f(e.VertexAttribute.AUXPOS1),v=[h.fromValues(0,0),h.fromValues(1,0),h.fromValues(0,1),h.fromValues(1,0),h.fromValues(1,1),h.fromValues(0,1)];let D=function(){function c(){this.vertexBufferLayout=F}var b=c.prototype;
b.allocate=function(d){return this.vertexBufferLayout.createBuffer(d)};b.elementCount=function(d){return 6*d.indices.get(e.VertexAttribute.POSITION).length};b.write=function(d,a,f,k,l){p.writePosition(f.indices.get(e.VertexAttribute.POSITION),f.vertexAttributes.get(e.VertexAttribute.POSITION).data,d,k.position,l,6);p.writeNormal(f.indices.get(e.VertexAttribute.NORMAL),f.vertexAttributes.get(e.VertexAttribute.NORMAL).data,a,k.normal,l,6);p.writeBufferVec4(f.indices.get(e.VertexAttribute.AUXPOS1),f.vertexAttributes.get(e.VertexAttribute.AUXPOS1).data,
k.auxpos1,l,6);for(d=0;d<v.length;++d)k.uv0.setVec(l+d,v[d])};return g._createClass(c)}();m.LineCalloutMaterial=E;m.Parameters=u;Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});