// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../../../../../core/promiseUtils ../../../../../chunks/vec3f64 ../../../../../geometry/support/aaBoundingBox ./LodComponentData".split(" "),function(l,p,k,m,q,d,r){let v=function(){function e(a,b){this.minScreenSpaceRadius=a;this.components=b}e.create=async function(a,b,f){const g=await Promise.allSettled(b.components.map(c=>a.controller.schedule(()=>new r.LodComponentData(a,c),f))),h=g.map(c=>"fulfilled"===
c.status?c.value:null).filter(k.isSome);if(m.isAborted(f)||h.length!==g.length){h.forEach(c=>c.destroy());m.throwIfAborted(f);for(const c of g)if("rejected"===c.status)throw c.reason;}return new e(b.minScreenSpaceRadius,h)};var n=e.prototype;n.destroy=function(){this.components.forEach(a=>a.destroy())};n.intersect=function(a,b,f,g,h,c,t){this.components.forEach(u=>u.intersect(a,b,f,g,h,c,this.boundingSphere,t))};p._createClass(e,[{key:"boundingBox",get:function(){if(k.isNone(this._boundingBox)){const a=
d.empty();this.components.forEach(b=>{k.isSome(b.boundingInfo)&&(d.expandWithVec3(a,b.boundingInfo.bbMin),d.expandWithVec3(a,b.boundingInfo.bbMax))});this._boundingBox=a}return this._boundingBox}},{key:"boundingSphere",get:function(){if(k.isNone(this._boundingSphere)){const a=this.boundingBox,b=q.create();d.center(a,b);this._boundingSphere={center:b,radius:.5*d.diameter(a)}}return this._boundingSphere}},{key:"triangleCount",get:function(){return this.components.reduce((a,b)=>a+b.triangleCount,0)}}]);
return e}();l.LodLevel=v;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});