// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
require({cache:{"esri/rest/query/operations/pbfDehydratedFeatureSet":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/compilerUtils ../../../core/maybe ../../../core/uid ../../../geometry/SpatialReference ../../../geometry/support/zscale ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/featureConversionUtils ../../../layers/support/Field".split(" "),function(e,B,z,y,t,G,H,M,L,u){function n(x,E){return E}function D(x,E,w,v){switch(w){case 0:return b(x,
E+v,0);case 1:return"lowerLeft"===x.originPosition?b(x,E+v,1):c(x,E+v,1)}}function O(x,E,w,v){switch(w){case 2:return b(x,E,2);default:return D(x,E,w,v)}}function N(x,E,w,v){switch(w){case 2:return b(x,E,3);default:return D(x,E,w,v)}}function U(x,E,w,v){switch(w){case 3:return b(x,E,3);default:return O(x,E,w,v)}}function b({translate:x,scale:E},w,v){return x[v]+w*E[v]}function c({translate:x,scale:E},w,v){return x[v]-w*E[v]}let m=function(){function x(w){this._options=w;this.geometryTypes=["point",
"multipoint","polyline","polygon"];this._previousCoordinate=[0,0];this._transform=null;this._applyTransform=n;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;this._attributesConstructor=function(){return B._createClass(function(){})}()}var E=x.prototype;E.createFeatureResult=function(){return new M.DehydratedFeatureSetClass};E.finishFeatureResult=function(w){this._options.applyTransform&&(w.transform=
null);this._attributesConstructor=function(){return B._createClass(function(){})}();this._coordinateBuffer=null;this._lengths.length=0;if(w.hasZ){var v=H.getGeometryZScaler(w.geometryType,this._options.sourceSpatialReference,w.spatialReference);if(!y.isNone(v))for(const J of w.features)v(J.geometry)}};E.createSpatialReference=function(){return new G};E.addField=function(w,v){w.fields.push(u.fromJSON(v));const J=w.fields.map(T=>T.name);this._attributesConstructor=function(){for(const T of J)this[T]=
null}};E.addFeature=function(w,v){const J=this._options.maxStringAttributeLength??0;if(0<J)for(const T in v.attributes){const g=v.attributes[T];"string"===typeof g&&g.length>J&&(v.attributes[T]="")}w.features.push(v)};E.addQueryGeometry=function(w,v){const {queryGeometry:J,queryGeometryType:T}=v;v=L.unquantizeOptimizedGeometry(J.clone(),J,!1,!1,this._transform);v=L.convertToGeometry(v,T,!1,!1);let g=null;switch(T){case "esriGeometryPoint":g="point";break;case "esriGeometryPolygon":g="polygon";break;
case "esriGeometryPolyline":g="polyline";break;case "esriGeometryMultipoint":g="multipoint"}v.type=g;w.queryGeometryType=T;w.queryGeometry=v};E.prepareFeatures=function(w){this._transform=w.transform??null;this._options.applyTransform&&w.transform&&(this._applyTransform=this._deriveApplyTransform(w));this._vertexDimension=2;w.hasZ&&this._vertexDimension++;w.hasM&&this._vertexDimension++;switch(w.geometryType){case "point":this.addCoordinate=(v,J,T)=>this.addCoordinatePoint(v,J,T);this.createGeometry=
v=>this.createPointGeometry(v);break;case "polygon":this.addCoordinate=(v,J,T)=>this._addCoordinatePolygon(v,J,T);this.createGeometry=v=>this._createPolygonGeometry(v);break;case "polyline":this.addCoordinate=(v,J,T)=>this._addCoordinatePolyline(v,J,T);this.createGeometry=v=>this._createPolylineGeometry(v);break;case "multipoint":this.addCoordinate=(v,J,T)=>this._addCoordinateMultipoint(v,J,T);this.createGeometry=v=>this._createMultipointGeometry(v);break;case "mesh":case "extent":break;default:z.neverReached(w.geometryType)}};
E.createFeature=function(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;return new M.DehydratedFeatureClass(t.generateUID(),null,new this._attributesConstructor)};E.allocateCoordinates=function(){const w=this._lengths.reduce((v,J)=>v+J,0);this._coordinateBuffer=new Float64Array(w*this._vertexDimension);this._coordinateBufferPtr=0};E.addLength=function(w,v){0===this._lengths.length&&(this._toAddInCurrentPath=v);this._lengths.push(v)};E.createPointGeometry=
function(w){w={type:"point",x:0,y:0,spatialReference:w.spatialReference,hasZ:!!w.hasZ,hasM:!!w.hasM};w.hasZ&&(w.z=0);w.hasM&&(w.m=0);return w};E.addCoordinatePoint=function(w,v,J){v=this._transform?this._applyTransform(this._transform,v,J,0):v;if(null!=v)switch(J){case 0:w.x=v;break;case 1:w.y=v;break;case 2:w.hasZ?w.z=v:w.m=v;break;case 3:w.m=v}};E._transformPathLikeValue=function(w,v){let J=0;1>=v&&(J=this._previousCoordinate[v],this._previousCoordinate[v]+=w);return this._transform?this._applyTransform(this._transform,
w,v,J):w};E._addCoordinatePolyline=function(w,v,J){this._dehydratedAddPointsCoordinate(w.paths,v,J)};E._addCoordinatePolygon=function(w,v,J){this._dehydratedAddPointsCoordinate(w.rings,v,J)};E._addCoordinateMultipoint=function(w,v,J){0===J&&w.points.push([]);v=this._transformPathLikeValue(v,J);w.points[w.points.length-1].push(v)};E._createPolygonGeometry=function(w){return{type:"polygon",rings:[[]],spatialReference:w.spatialReference,hasZ:!!w.hasZ,hasM:!!w.hasM}};E._createPolylineGeometry=function(w){return{type:"polyline",
paths:[[]],spatialReference:w.spatialReference,hasZ:!!w.hasZ,hasM:!!w.hasM}};E._createMultipointGeometry=function(w){return{type:"multipoint",points:[],spatialReference:w.spatialReference,hasZ:!!w.hasZ,hasM:!!w.hasM}};E._dehydratedAddPointsCoordinate=function(w,v,J){0===J&&0===this._toAddInCurrentPath--&&(w.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);v=this._transformPathLikeValue(v,J);w=w[w.length-1];const T=
this._coordinateBuffer;T&&(0===J&&w.push(new Float64Array(T.buffer,this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this._vertexDimension)),T[this._coordinateBufferPtr++]=v)};E._deriveApplyTransform=function(w){const {hasZ:v,hasM:J}=w;return v&&J?U:v?O:J?N:D};return B._createClass(x)}();e.DehydratedFeatureSetParserContext=m;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(e,B){e.neverReached=function(z){};
e.neverReachedSilent=function(z){};e.typeCast=function(z){return()=>z};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(e,B,z,y){e.getGeometryZScaler=function(t,G,H){if(B.isNone(G)||B.isNone(H)||H.vcsWkid||y.equals(G,H))return null;G=z.getMetersPerVerticalUnitForSR(G);H=z.getMetersPerVerticalUnitForSR(H);const M=G/H;if(1===M)return null;switch(t){case "point":case "esriGeometryPoint":return L=>
{L&&null!=L.z&&(L.z*=M)};case "polyline":case "esriGeometryPolyline":return L=>{if(L)for(const u of L.paths)for(const n of u)2<n.length&&(n[2]*=M)};case "polygon":case "esriGeometryPolygon":return L=>{if(L)for(const u of L.rings)for(const n of u)2<n.length&&(n[2]*=M)};case "multipoint":case "esriGeometryMultipoint":return L=>{if(L)for(const u of L.points)2<u.length&&(u[2]*=M)};case "extent":case "esriGeometryExtent":return L=>{L&&null!=L.zmin&&null!=L.zmax&&(L.zmin*=M,L.zmax*=M)};default:return null}};
Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/dehydratedFeatures":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/byteSizeEstimations ../../core/has ../../core/maybe ../../core/typedArrayUtil ../../core/uid ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../../geometry/support/typeUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(e,B,z,y,t,G,H,M,L,u,n,D,O,N){function U(c,m,x){if(t.isNone(c))return null;switch(m){case "point":return{x:c.x,y:c.y,z:c.z,m:c.m,hasZ:null!=c.z,hasM:null!=c.m,type:"point",spatialReference:x};case "polyline":return{paths:c.paths,hasZ:!!c.hasZ,hasM:!!c.hasM,type:"polyline",spatialReference:x};case "polygon":return{rings:c.rings,hasZ:!!c.hasZ,hasM:!!c.hasM,type:"polygon",spatialReference:x};case "multipoint":return{points:c.points,hasZ:!!c.hasZ,hasM:!!c.hasM,type:"multipoint",spatialReference:x}}}
function b(c){if(t.isNone(c))return 0;let m=32;switch(c.type){case "point":m+=42;break;case "polyline":case "polygon":var x=0;const E=2+(c.hasZ?1:0)+(c.hasM?1:0);c="polyline"===c.type?c.paths:c.rings;for(const w of c)x+=w.length;m+=8*x*E+64;m+=128*x;m=m+34+32*(c.length+1);break;case "multipoint":x=c.points.length;m+=8*x*(2+(c.hasZ?1:0)+(c.hasM?1:0))+64;m+=128*x;m=m+34+32;break;case "extent":m+=98;c.hasM&&(m+=32);c.hasZ&&(m+=32);break;case "mesh":m+=G.estimateSize(c.vertexAttributes.position),m+=G.estimateSize(c.vertexAttributes.normal),
m+=G.estimateSize(c.vertexAttributes.uv),m+=G.estimateSize(c.vertexAttributes.tangent)}return m}y=B._createClass(function(c,m,x){this.uid=c;this.geometry=m;this.attributes=x;this.visible=!0;this.centroid=this.objectId=null});B=B._createClass(function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null});e.equals=
N.equals;e.DehydratedFeatureClass=y;e.DehydratedFeatureSetClass=B;e.computeAABB=function(c,m){L.empty(m);"mesh"===c.type&&(c=c.extent);switch(c.type){case "point":m[0]=m[3]=c.x;m[1]=m[4]=c.y;c.hasZ&&(m[2]=m[5]=c.z);break;case "polyline":for(var x=0;x<c.paths.length;x++)L.expandWithNestedArray(m,c.paths[x],!!c.hasZ);break;case "polygon":for(x=0;x<c.rings.length;x++)L.expandWithNestedArray(m,c.rings[x],!!c.hasZ);break;case "multipoint":L.expandWithNestedArray(m,c.points,!!c.hasZ);break;case "extent":m[0]=
c.xmin,m[1]=c.ymin,m[3]=c.xmax,m[4]=c.ymax,null!=c.zmin&&(m[2]=c.zmin),null!=c.zmax&&(m[5]=c.zmax)}};e.computeAABR=function(c,m){u.empty(m);"mesh"===c.type&&(c=c.extent);switch(c.type){case "point":m[0]=m[2]=c.x;m[1]=m[3]=c.y;break;case "polyline":for(var x=0;x<c.paths.length;x++)u.expandWithNestedArray(m,c.paths[x]);break;case "polygon":for(x=0;x<c.rings.length;x++)u.expandWithNestedArray(m,c.rings[x]);break;case "multipoint":u.expandWithNestedArray(m,c.points);break;case "extent":m[0]=c.xmin,m[1]=
c.ymin,m[2]=c.xmax,m[3]=c.ymax}};e.estimateGeometryObjectSize=b;e.estimateSize=function(c){let m;m=32+z.estimateAttributesObjectSize(c.attributes);return m=m+3+(8+b(c.geometry))};e.fromFeatureSetJSON=function(c){const m=D.featureGeometryTypeKebabDictionary.fromJSON(c.geometryType),x=M.fromJSON(c.spatialReference),E=c.transform,w=c.features.map(v=>{var J=c.objectIdFieldName;v={uid:H.generateUID(),objectId:J&&v.attributes?v.attributes[J]:null,attributes:v.attributes,geometry:U(v.geometry,m,x),visible:!0};
J=v.geometry;if(t.isSome(J)&&E)switch(J.type){case "point":v.geometry=n.unquantizePoint(E,J,J,J.hasZ,J.hasM);break;case "multipoint":v.geometry=n.unquantizeMultipoint(E,J,J,!!J.hasZ,!!J.hasM);break;case "polygon":v.geometry=n.unquantizePolygon(E,J,J,!!J.hasZ,!!J.hasM);break;case "polyline":v.geometry=n.unquantizePolyline(E,J,J,!!J.hasZ,!!J.hasM);break;case "extent":v.geometry=J;break;case "mesh":v.geometry=J}return v});return{geometryType:m,features:w,spatialReference:x,fields:c.fields?.map(v=>O.fromJSON(v))??
[],objectIdFieldName:c.objectIdFieldName,globalIdFieldName:c.globalIdFieldName,geohashFieldName:c.geohashFieldName,geometryProperties:c.geometryProperties,hasZ:c.hasZ,hasM:c.hasM,exceededTransferLimit:c.exceededTransferLimit,transform:null}};e.fromJSONGeometry=U;e.getObjectId=function(c,m){return null!=c.objectId?c.objectId:c.attributes&&m?c.attributes[m]:null};e.hasGeometry=function(c){return t.isSome(c.geometry)};e.hasVertices=function(c){if(t.isNone(c))return!1;switch(c.type){case "extent":case "point":return!0;
case "polyline":for(const m of c.paths)if(0<m.length)return!0;return!1;case "polygon":for(const m of c.rings)if(0<m.length)return!0;return!1;case "multipoint":return 0<c.points.length;case "mesh":return!c.loaded||0<c.vertexAttributes.position.length}};e.makeDehydratedPoint=function(c,m,x,E){return{x:c,y:m,z:x,hasZ:null!=x,hasM:!1,spatialReference:E,type:"point"}};e.numVertices=function(c){if(t.isNone(c))return 0;switch(c.type){case "point":return 1;case "polyline":var m=0;for(var x of c.paths)m+=
x.length;return m;case "polygon":x=0;for(m of c.rings)x+=m.length;return x;case "multipoint":return c.points.length;case "extent":return 2;case "mesh":return(c=c.vertexAttributes&&c.vertexAttributes.position)?c.length/3:0}};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(e){function B(t){return 32+t.length}function z(t){if(!t)return 0;if(Array.isArray(t)){var G=t.length;if(0===G||"number"===typeof t[0])t=32+8*G;
else{var H=32;for(let M=0;M<G;M++)H+=y(t[M]);t=H}return t}H=32;for(G in t)t.hasOwnProperty(G)&&(H+=y(t[G]));return H}function y(t){switch(typeof t){case "object":return z(t);case "string":return B(t);case "number":return 16;case "boolean":return 4;default:return 8}}e.ByteSizeUnit=void 0;(function(t){t[t.KILOBYTES=1024]="KILOBYTES";t[t.MEGABYTES=1048576]="MEGABYTES";t[t.GIGABYTES=1073741824]="GIGABYTES"})(e.ByteSizeUnit||(e.ByteSizeUnit={}));e.estimateAttributesObjectSize=function(t){if(!t)return 0;
let G=32;for(const H in t)if(t.hasOwnProperty(H)){const M=t[H];switch(typeof M){case "string":G+=B(M);break;case "number":G+=16;break;case "boolean":G+=4}}return G};e.estimateFixedArraySize=function(t,G){return 32+t.length*G};e.estimateNestedObjectSize=z;e.estimateNumberByteSize=function(t){return 16};e.estimateStringByteSize=B;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],
function(e,B,z,y){function t(b=N){return[b[0],b[1],b[2],b[3],b[4],b[5]]}function G(b,c,m,x,E,w,v=t()){v[0]=b;v[1]=c;v[2]=m;v[3]=x;v[4]=E;v[5]=w;return v}function H(b){return b[0]>=b[3]?0:b[3]-b[0]}function M(b){return b[1]>=b[4]?0:b[4]-b[1]}function L(b){return b[2]>=b[5]?0:b[5]-b[2]}function u(b,c){return Math.max(c[0],b[0])<=Math.min(c[3],b[3])&&Math.max(c[1],b[1])<=Math.min(c[4],b[4])&&Math.max(c[2],b[2])<=Math.min(c[5],b[5])}function n(b,c){b[0]=c[0];b[1]=c[1];b[2]=c[2];b[3]=c[3];b[4]=c[4];b[5]=
c[5];return b}function D(b){return 6===b.length}const O=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],N=[0,0,0,0,0,0],U=t();e.NEGATIVE_INFINITY=O;e.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];e.ZERO=N;e.allFinite=function(b){for(let c=0;6>c;c++)if(!isFinite(b[c]))return!1;return!0};e.center=function(b,c=[0,0,0]){c[0]=b[0]+H(b)/2;c[1]=b[1]+M(b)/2;c[2]=b[2]+L(b)/2;return c};e.contains=function(b,c){return c[0]>=b[0]&&c[1]>=b[1]&&c[2]>=b[2]&&c[3]<=b[3]&&
c[4]<=b[4]&&c[5]<=b[5]};e.containsPoint=function(b,c){return c[0]>=b[0]&&c[1]>=b[1]&&c[2]>=b[2]&&c[0]<=b[3]&&c[1]<=b[4]&&c[2]<=b[5]};e.containsPointWithMargin=function(b,c,m){return c[0]>=b[0]-m&&c[1]>=b[1]-m&&c[2]>=b[2]-m&&c[0]<=b[3]+m&&c[1]<=b[4]+m&&c[2]<=b[5]+m};e.create=t;e.depth=M;e.diameter=function(b){const c=H(b),m=L(b);b=M(b);return Math.sqrt(c*c+m*m+b*b)};e.empty=function(b){return b?n(b,O):t(O)};e.equals=function(b,c,m){if(B.isNone(b)||B.isNone(c))return b===c;if(!D(b)||!D(c))return!1;
if(m)for(let x=0;x<b.length;x++){if(!m(b[x],c[x]))return!1}else for(m=0;m<b.length;m++)if(b[m]!==c[m])return!1;return!0};e.expandWithAABB=function(b,c){b[0]=Math.min(b[0],c[0]);b[1]=Math.min(b[1],c[1]);b[2]=Math.min(b[2],c[2]);b[3]=Math.max(b[3],c[3]);b[4]=Math.max(b[4],c[4]);b[5]=Math.max(b[5],c[5])};e.expandWithBuffer=function(b,c,m=0,x=c.length/3){let E=b[0],w=b[1],v=b[2],J=b[3],T=b[4],g=b[5];for(let C=0;C<x;C++)E=Math.min(E,c[m+3*C]),w=Math.min(w,c[m+3*C+1]),v=Math.min(v,c[m+3*C+2]),J=Math.max(J,
c[m+3*C]),T=Math.max(T,c[m+3*C+1]),g=Math.max(g,c[m+3*C+2]);b[0]=E;b[1]=w;b[2]=v;b[3]=J;b[4]=T;b[5]=g};e.expandWithNestedArray=function(b,c,m){const x=c.length;let E=b[0],w=b[1],v=b[2],J=b[3],T=b[4],g=b[5];if(m)for(m=0;m<x;m++){var C=c[m];E=Math.min(E,C[0]);w=Math.min(w,C[1]);v=Math.min(v,C[2]);J=Math.max(J,C[0]);T=Math.max(T,C[1]);g=Math.max(g,C[2])}else for(m=0;m<x;m++)C=c[m],E=Math.min(E,C[0]),w=Math.min(w,C[1]),J=Math.max(J,C[0]),T=Math.max(T,C[1]);b[0]=E;b[1]=w;b[2]=v;b[3]=J;b[4]=T;b[5]=g};e.expandWithOffset=
function(b,c,m,x){b[0]=Math.min(b[0],b[0]+c);b[3]=Math.max(b[3],b[3]+c);b[1]=Math.min(b[1],b[1]+m);b[4]=Math.max(b[4],b[4]+m);b[2]=Math.min(b[2],b[2]+x);b[5]=Math.max(b[5],b[5]+x)};e.expandWithRect=function(b,c){b[0]=Math.min(b[0],c[0]);b[1]=Math.min(b[1],c[1]);b[3]=Math.max(b[3],c[2]);b[4]=Math.max(b[4],c[3])};e.expandWithVec3=function(b,c){b[0]=Math.min(b[0],c[0]);b[1]=Math.min(b[1],c[1]);b[2]=Math.min(b[2],c[2]);b[3]=Math.max(b[3],c[0]);b[4]=Math.max(b[4],c[1]);b[5]=Math.max(b[5],c[2])};e.fromExtent=
function(b,c=t()){c[0]=b.xmin;c[1]=b.ymin;c[2]=b.hasZ?b.zmin:-Infinity;c[3]=b.xmax;c[4]=b.ymax;c[5]=b.hasZ?b.zmax:Infinity;return c};e.fromMinMax=function(b,c,m=t()){m[0]=b[0];m[1]=b[1];m[2]=b[2];m[3]=c[0];m[4]=c[1];m[5]=c[2];return m};e.fromRect=function(b,c){b[0]=c[0];b[1]=c[1];b[2]=Number.NEGATIVE_INFINITY;b[3]=c[2];b[4]=c[3];b[5]=Number.POSITIVE_INFINITY;return b};e.fromRectValues=function(b,c,m,x,E){b[0]=c;b[1]=m;b[2]=Number.NEGATIVE_INFINITY;b[3]=x;b[4]=E;b[5]=Number.POSITIVE_INFINITY;return b};
e.fromValues=G;e.getMax=function(b,c){c[0]=b[3];c[1]=b[4];c[2]=b[5];return c};e.getMin=function(b,c){c[0]=b[0];c[1]=b[1];c[2]=b[2];return c};e.height=L;e.intersects=u;e.intersectsClippingArea=function(b,c){return B.isNone(c)?!0:u(b,c)};e.is=D;e.isPoint=function(b){return 0===H(b)&&0===M(b)&&0===L(b)};e.maximumDimension=function(b){return Math.max(H(b),L(b),M(b))};e.offset=function(b,c,m,x,E=b){E[0]=b[0]+c;E[1]=b[1]+m;E[2]=b[2]+x;E[3]=b[3]+c;E[4]=b[4]+m;E[5]=b[5]+x;return E};e.scale=function(b,c,m=
b){const x=b[0]+H(b)/2,E=b[1]+M(b)/2,w=b[2]+L(b)/2;m[0]=x+(b[0]-x)*c;m[1]=E+(b[1]-E)*c;m[2]=w+(b[2]-w)*c;m[3]=x+(b[3]-x)*c;m[4]=E+(b[4]-E)*c;m[5]=w+(b[5]-w)*c;return m};e.set=n;e.setMax=function(b,c,m=b){m[3]=c[0];m[4]=c[1];m[5]=c[2];m!==b&&(m[0]=b[0],m[1]=b[1],m[2]=b[2]);return b};e.setMin=function(b,c,m=b){m[0]=c[0];m[1]=c[1];m[2]=c[2];m!==b&&(m[3]=b[3],m[4]=b[4],m[5]=b[5]);return m};e.size=function(b,c=[0,0,0]){c[0]=H(b);c[1]=M(b);c[2]=L(b);return c};e.toExtent=function(b,c){return isFinite(b[2])||
isFinite(b[5])?new z({xmin:b[0],xmax:b[3],ymin:b[1],ymax:b[4],zmin:b[2],zmax:b[5],spatialReference:c}):new z({xmin:b[0],xmax:b[3],ymin:b[1],ymax:b[4],spatialReference:c})};e.toRect=function(b,c){c||(c=y.create());c[0]=b[0];c[1]=b[1];c[2]=b[3];c[3]=b[4];return c};e.width=H;e.wrap=function(b,c,m,x,E,w){return G(b,c,m,x,E,w,U)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","../../core/maybe","./jsonUtils"],function(e,
B,z){function y({scale:f,translate:l},q){return Math.round((q-l[0])/f[0])}function t({scale:f,translate:l},q){return Math.round((l[1]-q)/f[1])}function G(f,l,q){const K=[];let Q,W,ca,da;for(let ea=0;ea<q.length;ea++){const fa=q[ea];if(0<ea){if(ca=y(f,fa[0]),da=t(f,fa[1]),ca!==Q||da!==W)K.push(l(fa,ca-Q,da-W)),Q=ca,W=da}else Q=y(f,fa[0]),W=t(f,fa[1]),K.push(l(fa,Q,W))}return 0<K.length?K:null}function H(f,l,q,K){return G(f,q?K?C:g:K?g:T,l)}function M(f,l,q,K){const Q=[];q=q?K?C:g:K?g:T;for(K=0;K<l.length;K++){const W=
G(f,q,l[K]);W&&3<=W.length&&Q.push(W)}return Q.length?Q:null}function L(f,l,q,K){const Q=[];q=q?K?C:g:K?g:T;for(K=0;K<l.length;K++){const W=G(f,q,l[K]);W&&2<=W.length&&Q.push(W)}return Q.length?Q:null}function u({scale:f,translate:l},q){return q*f[0]+l[0]}function n({scale:f,translate:l},q){return l[1]-q*f[1]}function D(f,l,q){const K=Array(q.length);if(!q.length)return K;const [Q,W]=f.scale;let ca=u(f,q[0][0]);f=n(f,q[0][1]);K[0]=l(q[0],ca,f);for(let da=1;da<q.length;da++){const ea=q[da];ca+=ea[0]*
Q;f-=ea[1]*W;K[da]=l(ea,ca,f)}return K}function O(f,l,q){const K=Array(q.length);for(let Q=0;Q<q.length;Q++)K[Q]=D(f,l,q[Q]);return K}function N(f,l,q,K){return D(f,q?K?C:g:K?g:T,l)}function U(f,l,q,K){return O(f,q?K?C:g:K?g:T,l)}function b(f,l,q,K){return O(f,q?K?C:g:K?g:T,l)}function c(f,l,q){let [K,Q]=q[0],W=Math.min(K,l[0]),ca=Math.min(Q,l[1]),da=Math.max(K,l[2]);l=Math.max(Q,l[3]);for(let ea=1;ea<q.length;ea++){const [fa,ja]=q[ea];K+=fa;Q+=ja;0>fa&&(W=Math.min(W,K));0<fa&&(da=Math.max(da,K));
0>ja?ca=Math.min(ca,Q):0<ja&&(l=Math.max(l,Q))}f[0]=W;f[1]=ca;f[2]=da;f[3]=l;return f}function m(f,l){if(!l.length)return null;f[0]=f[1]=Number.POSITIVE_INFINITY;f[2]=f[3]=Number.NEGATIVE_INFINITY;for(let q=0;q<l.length;q++)c(f,f,l[q]);return f}function x(f,l,q,K,Q){l.xmin=y(f,q.xmin);l.ymin=t(f,q.ymin);l.xmax=y(f,q.xmax);l.ymax=t(f,q.ymax);l!==q&&(K&&(l.zmin=q.zmin,l.zmax=q.zmax),Q&&(l.mmin=q.mmin,l.mmax=q.mmax));return l}function E(f,l,q,K,Q){l.points=H(f,q.points,K,Q)??[];return l}function w(f,
l,q,K,Q){l.x=y(f,q.x);l.y=t(f,q.y);l!==q&&(K&&(l.z=q.z),Q&&(l.m=q.m));return l}function v(f,l,q,K,Q){f=M(f,q.rings,K,Q);if(!f)return null;l.rings=f;return l}function J(f,l,q,K,Q){f=L(f,q.paths,K,Q);if(!f)return null;l.paths=f;return l}const T=(f,l,q)=>[l,q],g=(f,l,q)=>[l,q,f[2]],C=(f,l,q)=>[l,q,f[2],f[3]];e.equals=function(f,l){if(f===l||null==f&&null==l)return!0;if(null==f||null==l)return!1;let q,K,Q,W;f&&"upperLeft"===f.originPosition?(q=f.translate[0],K=f.translate[1],f=f.scale[0]):(q=B.isSome(f.extent)?
f.extent.xmin:0,K=B.isSome(f.extent)?f.extent.ymax:0,f=f.tolerance);l&&"upperLeft"===l.originPosition?(Q=l.translate[0],W=l.translate[1],l=l.scale[0]):(Q=B.isSome(l.extent)?l.extent.xmin:0,W=B.isSome(l.extent)?l.extent.ymax:0,l=l.tolerance);return q===Q&&K===W&&f===l};e.getQuantizedBoundsCoordsArray=c;e.getQuantizedBoundsCoordsArrayArray=m;e.getQuantizedBoundsPaths=function(f){return m([0,0,0,0],f)};e.getQuantizedBoundsPoints=function(f){const l=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,
Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return c(l,l,f)};e.getQuantizedBoundsRings=function(f){return m([0,0,0,0],f)};e.quantizeBounds=function(f,l,q){l[0]=y(f,q[0]);l[3]=t(f,q[1]);l[2]=y(f,q[2]);l[1]=t(f,q[3]);return l};e.quantizeExtent=x;e.quantizeGeometry=function(f,l){return f&&l?z.isPoint(l)?w(f,{},l,!1,!1):z.isPolyline(l)?J(f,{},l,!1,!1):z.isPolygon(l)?v(f,{},l,!1,!1):z.isMultipoint(l)?E(f,{},l,!1,!1):z.isExtent(l)?x(f,{},l,!1,!1):null:null};e.quantizeMultipoint=E;e.quantizePaths=
L;e.quantizePoint=w;e.quantizePoints=H;e.quantizePolygon=v;e.quantizePolyline=J;e.quantizeRings=M;e.quantizeX=y;e.quantizeY=t;e.toQuantizationTransform=function(f){return f?{originPosition:"upper-left"===f.originPosition?"upperLeft":"lower-left"===f.originPosition?"lowerLeft":f.originPosition,scale:f.tolerance?[f.tolerance,f.tolerance]:[1,1],translate:B.isSome(f.extent)?[f.extent.xmin,f.extent.ymax]:[0,0]}:null};e.unquantizeBounds=function(f,l,q){return q?(l[0]=u(f,q[0]),l[1]=n(f,q[3]),l[2]=u(f,q[2]),
l[3]=n(f,q[1]),l):[u(f,l[0]),n(f,l[3]),u(f,l[2]),n(f,l[1])]};e.unquantizeCoordsArray=D;e.unquantizeCoordsArrayArray=O;e.unquantizeExtent=function(f,l,q,K,Q){l.xmin=u(f,q.xmin);l.ymin=n(f,q.ymin);l.xmax=u(f,q.xmax);l.ymax=n(f,q.ymax);l!==q&&(K&&(l.zmin=q.zmin,l.zmax=q.zmax),Q&&(l.mmin=q.mmin,l.mmax=q.mmax));return l};e.unquantizeMultipoint=function(f,l,q,K,Q){B.isSome(q)&&(l.points=N(f,q.points,K,Q));return l};e.unquantizePaths=U;e.unquantizePoint=function(f,l,q,K,Q){if(B.isNone(q))return l;l.x=u(f,
q.x);l.y=n(f,q.y);l!==q&&(K&&(l.z=q.z),Q&&(l.m=q.m));return l};e.unquantizePoints=N;e.unquantizePolygon=function(f,l,q,K,Q){B.isSome(q)&&(l.rings=b(f,q.rings,K,Q));return l};e.unquantizePolyline=function(f,l,q,K,Q){B.isSome(q)&&(l.paths=U(f,q.paths,K,Q));return l};e.unquantizeRings=b;e.unquantizeX=u;e.unquantizeY=n;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(e,B,z,y,t,G,H,M,L,u,n,D,O){var N;const U=new z.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});z=N=function(b){function c(x){x=m.call(this,x);x.alias=
null;x.defaultValue=void 0;x.description=null;x.domain=null;x.editable=!0;x.length=-1;x.name=null;x.nullable=!0;x.type=null;x.valueType=null;x.visible=!0;return x}e._inherits(c,b);var m=e._createSuper(c);b=c.prototype;b.readDescription=function(x,{description:E}){x=null;try{x=E?JSON.parse(E):null}catch(w){}return x?.value??null};b.readValueType=function(x,{description:E}){x=null;try{x=E?JSON.parse(E):null}catch(w){}return x?U.fromJSON(x.fieldValueType):null};b.clone=function(){return new N({alias:this.alias,
defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})};return e._createClass(c)}(y.JSONSupport);B.__decorate([t.property({type:String,json:{write:!0}})],z.prototype,"alias",void 0);B.__decorate([t.property({type:[String,Number],json:{write:{allowNull:!0}}})],z.prototype,"defaultValue",void 0);B.__decorate([t.property()],
z.prototype,"description",void 0);B.__decorate([u.reader("description")],z.prototype,"readDescription",null);B.__decorate([t.property({types:D.types,json:{read:{reader:D.fromJSON},write:!0}})],z.prototype,"domain",void 0);B.__decorate([t.property({type:Boolean,json:{write:!0}})],z.prototype,"editable",void 0);B.__decorate([t.property({type:G.Integer,json:{write:!0}})],z.prototype,"length",void 0);B.__decorate([t.property({type:String,json:{write:!0}})],z.prototype,"name",void 0);B.__decorate([t.property({type:Boolean,
json:{write:!0}})],z.prototype,"nullable",void 0);B.__decorate([L.enumeration(O.kebabDict)],z.prototype,"type",void 0);B.__decorate([t.property()],z.prototype,"valueType",void 0);B.__decorate([u.reader("valueType",["description"])],z.prototype,"readValueType",null);B.__decorate([t.property({type:Boolean,json:{read:!1}})],z.prototype,"visible",void 0);return z=N=B.__decorate([n.subclass("esri.layers.support.Field")],z)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(e,B,z){e.enumeration=function(y,t={}){y=y instanceof B.JSONMap?y:new B.JSONMap(y,t);y={type:t?.ignoreUnknown??!0?y.apiValues:String,json:{type:y.jsonValues,read:t?.readOnly?!1:{reader:y.read},write:{writer:y.write}}};void 0!==t?.readOnly&&(y.readOnly=!!t.readOnly);void 0!==t?.default&&(y.json.default=t.default);void 0!==t?.name&&(y.json.name=t.name);void 0!==t?.nonNullable&&(y.nonNullable=t.nonNullable);return z.property(y)};Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(e,B,z,y,t,G){B={key:"type",base:y,typeMap:{range:G,"coded-value":z,inherited:t}};e.CodedValueDomain=z;e.DomainBase=y;e.InheritedDomain=t;e.RangeDomain=G;e.fromJSON=function(H){if(!H||!H.type)return null;switch(H.type){case "range":return G.fromJSON(H);case "codedValue":return z.fromJSON(H);case "inherited":return t.fromJSON(H)}return null};
e.types=B;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),function(e,B,z,y,t,G,H,M,L){var u;t=u=function(n){function D(N){N=O.call(this,
N);N.codedValues=null;N.type="coded-value";return N}e._inherits(D,n);var O=e._createSuper(D);n=D.prototype;n.getName=function(N){let U=null;if(this.codedValues){const b=String(N);this.codedValues.some(c=>{String(c.code)===b&&(U=c.name);return!!U})}return U};n.clone=function(){return new u({codedValues:z.clone(this.codedValues),name:this.name})};return e._createClass(D)}(L);B.__decorate([y.property({type:[M.CodedValue],json:{write:!0}})],t.prototype,"codedValues",void 0);B.__decorate([G.enumeration({codedValue:"coded-value"})],
t.prototype,"type",void 0);return t=u=B.__decorate([H.subclass("esri.layers.support.CodedValueDomain")],t)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(e,B,z,y,t,G,H,M,L){var u;e.CodedValue=u=function(n){function D(N){N=
O.call(this,N);N.name=null;N.code=null;return N}B._inherits(D,n);var O=B._createSuper(D);D.prototype.clone=function(){return new u({name:this.name,code:this.code})};return B._createClass(D)}(y.JSONSupport);z.__decorate([t.property({type:String,json:{write:!0}})],e.CodedValue.prototype,"name",void 0);z.__decorate([t.property({type:[String,Number],json:{write:!0}})],e.CodedValue.prototype,"code",void 0);e.CodedValue=u=z.__decorate([L.subclass("esri.layers.support.CodedValue")],e.CodedValue);Object.defineProperty(e,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(e,B,z,y,t,G,H,M,L,u){z=new z.JSONMap({inherited:"inherited",codedValue:"coded-value",
range:"range"});y=function(n){function D(N){N=O.call(this,N);N.name=null;N.type=null;return N}e._inherits(D,n);var O=e._createSuper(D);return e._createClass(D)}(y.JSONSupport);B.__decorate([t.property({type:String,json:{write:!0}})],y.prototype,"name",void 0);B.__decorate([L.enumeration(z)],y.prototype,"type",void 0);return y=B.__decorate([u.subclass("esri.layers.support.Domain")],y)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(e,B,z,y,t,G,H,M,L,u){var n;z=n=function(D){function O(U){U=N.call(this,U);U.type="inherited";return U}e._inherits(O,D);var N=e._createSuper(O);O.prototype.clone=function(){return new n};return e._createClass(O)}(u);B.__decorate([M.enumeration({inherited:"inherited"})],z.prototype,"type",void 0);return z=n=B.__decorate([L.subclass("esri.layers.support.InheritedDomain")],z)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(e,B,z,y,t,G,H,M,L){var u;y=u=function(n){function D(N){N=O.call(this,N);N.maxValue=null;N.minValue=null;N.type="range";return N}e._inherits(D,n);var O=e._createSuper(D);D.prototype.clone=function(){return new u({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return e._createClass(D)}(L);B.__decorate([z.property({type:Number,json:{type:[Number],read:{source:"range",reader(n,D){return D.range&&D.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&
null==this.minValue}},target:"range",writer(n,D,O){D[O]=[this.minValue||0,n]}}}})],y.prototype,"maxValue",void 0);B.__decorate([z.property({type:Number,json:{type:[Number],read:{source:"range",reader(n,D){return D.range&&D.range[0]}},write:{target:"range",writer(n,D,O){D[O]=[n,this.maxValue||0]}}}})],y.prototype,"minValue",void 0);B.__decorate([H.enumeration({range:"range"})],y.prototype,"type",void 0);return y=u=B.__decorate([M.subclass("esri.layers.support.RangeDomain")],y)})},"esri/layers/support/fieldType":function(){define(["exports",
"../../core/jsonMap"],function(e,B){B=new B.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});e.kebabDict=B;Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["exports","../../core/has","../../core/maybe","../../geometry/support/spatialReferenceUtils"],function(e,B,z,y){function t(u,n){if(u===n)return!0;if(null==u||null==n||u.length!==n.length)return!1;for(let D=0;D<u.length;D++){const O=u[D],N=n[D];if(O.length!==N.length)return!1;for(let U=0;U<O.length;U++)if(O[U]!==N[U])return!1}return!0}function G(u,n){if(u===n)return!0;if(null==u||null==n||u.length!==n.length)return!1;
for(let D=0;D<u.length;D++)if(!t(u[D],n[D]))return!1;return!0}function H(u,n){return u===n||z.isSome(u)&&z.isSome(n)&&y.equals(u.spatialReference,n.spatialReference)&&u.x===n.x&&u.y===n.y&&u.z===n.z&&u.m===n.m}function M(u,n){if(u===n)return!0;if(z.isNone(u)||z.isNone(n)||u.type!==n.type)return!1;switch(u.type){case "point":return H(u,n);case "extent":return u=u.hasZ!==n.hasZ||u.hasM!==n.hasM?!1:y.equals(u.spatialReference,n.spatialReference)?u.xmin===n.xmin&&u.ymin===n.ymin&&u.zmin===n.zmin&&u.xmax===
n.xmax&&u.ymax===n.ymax&&u.zmax===n.zmax:!1,u;case "polyline":return u=u.hasZ!==n.hasZ||u.hasM!==n.hasM?!1:y.equals(u.spatialReference,n.spatialReference)?G(u.paths,n.paths):!1,u;case "polygon":return u=u.hasZ!==n.hasZ||u.hasM!==n.hasM?!1:y.equals(u.spatialReference,n.spatialReference)?G(u.rings,n.rings):!1,u;case "multipoint":return u=u.hasZ!==n.hasZ||u.hasM!==n.hasM?!1:y.equals(u.spatialReference,n.spatialReference)?t(u.points,n.points):!1,u;case "mesh":return!1}}function L(u,n){if(u===n)return!0;
if(!u||!n)return!1;const D=Object.keys(u),O=Object.keys(n);if(D.length!==O.length)return!1;for(const N of D)if(u[N]!==n[N])return!1;return!0}e.equals=function(u,n){return u===n?!0:null!=u&&null!=n&&u.objectId===n.objectId&&M(u.geometry,n.geometry)&&L(u.attributes,n.attributes)?!0:!1};e.pointEquals=H;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(e,B,z,y,t,G,H,M,L,u){function n(a,d){return a?d?4:3:d?3:2}function D(a,d,h,k){if(a){if(h)return d&&k?wa:ta;if(d&&k)return xa}else if(d&&k)return ta;return ya}function O({scale:a,translate:d},h){return Math.round((h-d[0])/a[0])}function N({scale:a,translate:d},h){return Math.round((d[1]-h)/a[1])}function U({scale:a,translate:d},h,k){return h*a[k]+d[k]}function b(a){a=a.coords;return{x:a[0],y:a[1]}}function c(a,d){a.coords[0]=d.x;a.coords[1]=d.y;return a}function m(a){a=a.coords;return{x:a[0],
y:a[1],z:a[2]}}function x(a,d){a.coords[0]=d.x;a.coords[1]=d.y;a.coords[2]=d.z;return a}function E(a){a=a.coords;return{x:a[0],y:a[1],m:a[2]}}function w(a,d){a.coords[0]=d.x;a.coords[1]=d.y;a.coords[2]=d.m;return a}function v(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function J(a,d){a.coords[0]=d.x;a.coords[1]=d.y;a.coords[2]=d.z;a.coords[3]=d.m;return a}function T(a,d){return a&&d?J:a?x:d?w:c}function g(a,d,h,k,p){h=T(h,k);for(const {geometry:r,attributes:A}of d)d=y.isSome(r)?h(new u,r):
null,a.push(new M.OptimizedFeature(d,A,null,p?A[p]:void 0));return a}function C(a,d,h,k){for(const {geometry:p,attributes:r}of d)a.push({attributes:r,geometry:y.isSome(p)?f(p,h,k):null});return a}function f(a,d,h){if(y.isNone(a))return null;const k=n(d,h),p=[];for(let r=0;r<a.coords.length;r+=k){const A=[];for(let F=0;F<k;F++)A.push(a.coords[r+F]);p.push(A)}return d?h?{points:p,hasZ:d,hasM:h}:{points:p,hasZ:d}:h?{points:p,hasM:h}:{points:p}}function l(a,d,h,k,p){h=n(h,k);for(const {geometry:r,attributes:A}of d)d=
y.isSome(r)?q(new u,r,h):null,a.push(new M.OptimizedFeature(d,A,null,p?A[p]:void 0));return a}function q(a,d,h=n(d.hasZ,d.hasM)){a.lengths[0]=d.points.length;const k=a.coords;let p=0;for(const r of d.points)for(d=0;d<h;d++)k[p++]=r[d];return a}function K(a,d,h){if(!a)return null;const k=n(d,h),{coords:p,lengths:r}=a;a=[];let A=0;for(const F of r){const I=[];for(let R=0;R<F;R++){const P=[];for(let S=0;S<k;S++)P.push(p[A++]);I.push(P)}a.push(I)}return d?h?{paths:a,hasZ:d,hasM:h}:{paths:a,hasZ:d}:h?
{paths:a,hasM:h}:{paths:a}}function Q(a,d,h,k,p){h=n(h,k);for(const {geometry:r,attributes:A}of d)d=y.isSome(r)?W(new u,r,h):null,a.push(new M.OptimizedFeature(d,A,null,p?A[p]:void 0));return a}function W(a,d,h=n(d.hasZ,d.hasM)){const {lengths:k,coords:p}=a;let r=0;for(const A of d.paths){for(const F of A)for(d=0;d<h;d++)p[r++]=F[d];k.push(A.length)}return a}function ca(a,d,h){if(!a)return null;const k=n(d,h),{coords:p,lengths:r}=a;a=[];let A=0;for(const F of r){const I=[];for(let R=0;R<F;R++){const P=
[];for(let S=0;S<k;S++)P.push(p[A++]);I.push(P)}a.push(I)}return d?h?{rings:a,hasZ:d,hasM:h}:{rings:a,hasZ:d}:h?{rings:a,hasM:h}:{rings:a}}function da(a,d,h,k,p){for(const {geometry:r,centroid:A,attributes:F}of d){d=y.isSome(r)?ea(new u,r,h,k):null;const I=p?F[p]:void 0;y.isSome(A)?a.push(new M.OptimizedFeature(d,F,c(new u,A),I)):a.push(new M.OptimizedFeature(d,F,null,I))}return a}function ea(a,d,h=d.hasZ,k=d.hasM){fa(a,d.rings,h,k);return a}function fa(a,d,h,k){h=n(h,k);const {lengths:p,coords:r}=
a;k=0;ia(a);for(const A of d){for(const F of A)for(d=0;d<h;d++)r[k++]=F[d];p.push(A.length)}return a}function ja(a,d,h,k,p,r){ha(a);if(!h){for(const A of d)a.push(new M.OptimizedFeature(null,A.attributes,null,r?A.attributes[r]:void 0));return a}switch(h){case "esriGeometryPoint":return g(a,d,k,p,r);case "esriGeometryMultipoint":return l(a,d,k,p,r);case "esriGeometryPolyline":return Q(a,d,k,p,r);case "esriGeometryPolygon":return da(a,d,k,p,r);default:la.error("convertToFeatureSet:unknown-geometry",
new B(`Unable to parse unknown geometry type '${h}'`)),ha(a)}return a}function ua(a,d,h,k){a=a&&("coords"in a?a:a.geometry);if(y.isNone(a))return null;switch(d){case "esriGeometryPoint":return d=b,h&&k?d=v:h?d=m:k&&(d=E),d(a);case "esriGeometryMultipoint":return f(a,h,k);case "esriGeometryPolyline":return K(a,h,k);case "esriGeometryPolygon":return ca(a,h,k);default:return la.error("convertToGeometry:unknown-geometry",new B(`Unable to parse unknown geometry type '${d}'`)),null}}function oa(a,d,h,k,
p){ha(a);if(y.isNone(h)){for(const A of d)a.push({attributes:A.attributes});return a}switch(h){case "esriGeometryPoint":h=b;k&&p?h=v:k?h=m:p&&(h=E);for(var r of d){const {geometry:A,attributes:F}=r;k=y.isSome(A)?h(A):null;a.push({attributes:F,geometry:k})}break;case "esriGeometryMultipoint":return C(a,d,k,p);case "esriGeometryPolyline":for(const {geometry:A,attributes:F}of d)a.push({attributes:F,geometry:y.isSome(A)?K(A,k,p):null});break;case "esriGeometryPolygon":for(const {geometry:A,attributes:F,
centroid:I}of d)r=y.isSome(A)?ca(A,k,p):null,y.isSome(I)?(d=b(I),a.push({attributes:F,centroid:d,geometry:r})):a.push({attributes:F,geometry:r});break;default:la.error("convertToFeatureSet:unknown-geometry",new B(`Unable to parse unknown geometry type '${h}'`))}return a}function pa(a,d,h,k,p,r,A=h,F=k){ia(a);if(y.isNone(d)||!d.coords.length)return null;p=qa[p];const {coords:I,lengths:R}=d;d=n(h,k);const P=n(h&&A,k&&F);h=D(h,k,A,F);if(!R.length)return h(a.coords,I,0,0,O(r,I[0]),N(r,I[1])),ia(a,d,0),
a;let S,V=0,X,Z=0;for(const aa of R){if(aa<p)continue;let Y=0;X=Z;F=k=O(r,I[V]);S=A=N(r,I[V+1]);h(a.coords,I,X,V,F,S);Y++;V+=d;X+=P;for(let ba=1;ba<aa;ba++,V+=d)if(F=O(r,I[V]),S=N(r,I[V+1]),F!==k||S!==A)h(a.coords,I,X,V,F-k,S-A),X+=P,Y++,k=F,A=S;Y>=p&&(a.lengths.push(Y),Z=X)}ha(a.coords,Z);return a.coords.length?a:null}function ra(a,d,h,k,p,r,A){let F=k,I=0;for(let P=r+h;P<A;P+=h){var R=d[P];const S=d[P+1],V=d[A],X=d[A+1];let Z=d[r],aa=d[r+1],Y=V-Z,ba=X-aa;if(0!==Y||0!==ba){const ka=((R-Z)*Y+(S-aa)*
ba)/(Y*Y+ba*ba);1<ka?(Z=V,aa=X):0<ka&&(Z+=Y*ka,aa+=ba*ka)}Y=R-Z;ba=S-aa;R=Y*Y+ba*ba;R>F&&(I=P,F=R)}F>k&&(I-r>h&&ra(a,d,h,k,p,r,I),p(a,d,a.length,I,d[I],d[I+1]),A-I>h&&ra(a,d,h,k,p,I,A))}function sa(a,d,h,k,p){const {coords:r,lengths:A}=d;h=n(h,k);if(!r.length)return a!==d&&ia(a),a;y.assertIsSome(p);const {originPosition:F,scale:I,translate:R}=p;p=za;p.originPosition=F;k=p.scale;k[0]=I[0]??1;k[1]=-(I[1]??1);k[2]=I[2]??1;k[3]=I[3]??1;var P=p.translate;P[0]=R[0]??0;P[1]=R[1]??0;P[2]=R[2]??0;P[3]=R[3]??
0;if(!A.length){for(k=0;k<h;++k)a.coords[k]=U(p,r[k],k);a!==d&&ia(a,h,0);return a}P=0;for(let V=0;V<A.length;V++){const X=A[V];a.lengths[V]=X;for(var S=0;S<h;++S)a.coords[P+S]=U(p,r[P+S],S);S=a.coords[P];let Z=a.coords[P+1];P+=h;for(let aa=1;aa<X;aa++,P+=h){S+=r[P]*k[0];Z+=r[P+1]*k[1];a.coords[P]=S;a.coords[P+1]=Z;for(let Y=2;Y<h;++Y)a.coords[P+Y]=U(p,r[P+Y],Y)}}a!==d&&ia(a,r.length,A.length);return a}function va(a,d,h,k){let p=0,r=a[k*d],A=a[k*(d+1)];for(let F=1;F<h;F++){const I=r+a[k*(d+F)],R=A+
a[k*(d+F)+1],P=(I-r)*(R+A);r=I;A=R;p+=P}return.5*p}function ia(a,d=0,h=0){ha(a.lengths,h);ha(a.coords,d)}function ha(a,d=0){a.length!==d&&(a.length=d)}const la=z.getLogger("esri.layers.graphics.featureConversionUtils"),qa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},ya=(a,d,h,k,p,r)=>{a[h]=p;a[h+1]=r},ta=(a,d,h,k,p,r)=>{a[h]=p;a[h+1]=r;a[h+2]=d[k+2]},xa=(a,d,h,k,p,r)=>{a[h]=p;a[h+1]=r;a[h+2]=d[k+3]},wa=(a,d,h,k,p,r)=>{a[h]=p;a[h+1]=r;a[h+2]=d[k+2];a[h+
3]=d[k+3]},ma=[],na=[],za={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};e.convertFromFeature=function(a,d,h,k,p){ma[0]=a;[a]=ja(na,ma,d,h,k,p);ha(ma);ha(na);return a};e.convertFromFeatureSet=function(a,d){const h=new L,{hasM:k,hasZ:p,features:r,objectIdFieldName:A,spatialReference:F,geometryType:I,exceededTransferLimit:R,transform:P,fields:S}=a;S&&(h.fields=S);h.geometryType=I??null;h.objectIdFieldName=A??d??null;h.spatialReference=F??null;if(!h.objectIdFieldName)return la.error(new B("optimized-features:invalid-objectIdFieldName",
"objectIdFieldName is missing")),h;r&&ja(h.features,r,I,p,k,h.objectIdFieldName);R&&(h.exceededTransferLimit=R);k&&(h.hasM=k);p&&(h.hasZ=p);P&&(h.transform=P);return h};e.convertFromFeatures=ja;e.convertFromGeometry=function(a,d,h){if(y.isNone(a))return null;const k=new u;"hasZ"in a&&null==d&&(d=a.hasZ);"hasM"in a&&null==h&&(h=a.hasM);if(H.isPoint(a))return T(null!=d?d:null!=a.z,null!=h?h:null!=a.m)(k,a);if(H.isPolygon(a))return ea(k,a,d,h);if(H.isPolyline(a))return W(k,a,n(d,h));if(H.isMultipoint(a))return q(k,
a,n(d,h));la.error("convertFromGeometry:unknown-geometry",new B(`Unable to parse unknown geometry type '${a}'`))};e.convertFromGraphics=function(a,d,h,k,p,r){const A=a.length;switch(h){case "esriGeometryPoint":g(a,d,k,p,r);break;case "esriGeometryMultipoint":l(a,d,k,p,r);break;case "esriGeometryPolyline":Q(a,d,k,p,r);break;case "esriGeometryPolygon":da(a,d,k,p,r);break;default:la.error("convertToFeatureSet:unknown-geometry",new B(`Unable to parse unknown geometry type '${h}'`))}for(k=0;k<d.length;k++)a[k+
A].geometryType=h,a[k+A].insertAfter=d[k].insertAfter,a[k+A].groupId=d[k].groupId;return a};e.convertFromMultipoint=q;e.convertFromMultipointFeatures=l;e.convertFromNestedArray=fa;e.convertFromPoint=function(a,d,h=T(null!=d.z,null!=d.m)){return h(a,d)};e.convertFromPointFeatures=g;e.convertFromPolygon=ea;e.convertFromPolyline=W;e.convertFromPolylineFeatures=Q;e.convertToFeature=function(a,d,h,k){na[0]=a;oa(ma,na,d,h,k);a=ma[0];ha(ma);ha(na);return a};e.convertToFeatureSet=function(a){const {objectIdFieldName:d,
spatialReference:h,transform:k,fields:p,hasM:r,hasZ:A,features:F,geometryType:I,exceededTransferLimit:R,uniqueIdField:P,queryGeometry:S,queryGeometryType:V}=a;a=oa([],F,I,A,r);const X=ua(S,V,!1,!1);a={features:a,fields:p,geometryType:I,objectIdFieldName:d,spatialReference:h,uniqueIdField:P,queryGeometry:X};k&&(a.transform=k);R&&(a.exceededTransferLimit=R);r&&(a.hasM=r);A&&(a.hasZ=A);return a};e.convertToFeatures=oa;e.convertToGeometry=ua;e.convertToMultipoint=f;e.convertToMultipointFeatures=C;e.convertToPoint=
function(a,d,h){return a?d?h?v(a):m(a):h?E(a):b(a):null};e.convertToPolygon=ca;e.convertToPolyline=K;e.deltaDecodeGeometry=function(a,d){if(y.isNone(a))return null;const h=a.clone(),k=a.coords;a=a.lengths;let p=0;for(let F=0;F<a.length;F++){const I=a[F];var r=k[d*p],A=k[d*p+1];for(let R=1;R<I;R++)r+=k[d*(p+R)],A+=k[d*(p+R)+1],h.coords[d*(p+R)]=r,h.coords[d*(p+R)+1]=A;p+=I}return h};e.deltaEncodeGeometry=function(a,d){const h=a.clone(),k=a.coords;a=a.lengths;let p=0;for(let A=0;A<a.length;A++){const F=
a[A];let I=k[d*p];var r=k[d*p+1];for(let R=1;R<F;R++){const P=k[d*(p+R)],S=k[d*(p+R)+1];r=S-r;h.coords[d*(p+R)]=P-I;h.coords[d*(p+R)+1]=r;I=P;r=S}p+=F}return h};e.generalizeOptimizedGeometry=function(a,d,h,k,p,r,A=h,F=k){ia(a);if(!d||!d.coords.length)return null;p=qa[p];const {coords:I,lengths:R}=d;d=n(h,k);const P=n(h&&A,k&&F);h=D(h,k,A,F);if(!R.length)return h(a.coords,I,0,0,I[0],I[1]),ia(a,d,0),a;k=0;r*=r;for(const S of R){if(S<p){k+=S*d;continue}A=a.coords.length/P;F=k;const V=k+(S-1)*d;h(a.coords,
I,a.coords.length,F,I[F],I[F+1]);ra(a.coords,I,d,r,h,F,V);h(a.coords,I,a.coords.length,V,I[V],I[V+1]);F=a.coords.length/P-A;F>=p?a.lengths.push(F):ha(a.coords,A*P);k+=S*d}return a.coords.length?a:null};e.getBoundsOptimizedGeometry=function(a,d,h,k){if(y.isNone(d)||!d.coords||!d.coords.length)return null;h=n(h,k);let p=k=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,A=Number.NEGATIVE_INFINITY;if(d&&d.coords){d=d.coords;for(let F=0;F<d.length;F+=h){const I=d[F],R=d[F+1];k=Math.min(k,I);r=Math.max(r,
I);p=Math.min(p,R);A=Math.max(A,R)}}t.is(a)?t.fromRectValues(a,k,p,r,A):G.fromValues(k,p,r,A,a);return a};e.getQuantizedArea=function(a,d){const {coords:h,lengths:k}=a;let p=a=0;for(let r=0;r<k.length;r++){const A=k[r];p+=va(h,a,A,d);a+=A}return Math.abs(p)};e.getQuantizedBoundsOptimizedGeometry=function(a,d,h,k){h=n(h,k);const {lengths:p,coords:r}=d;k=d=Number.POSITIVE_INFINITY;let A=Number.NEGATIVE_INFINITY,F=Number.NEGATIVE_INFINITY,I=0;for(const R of p){let P=r[I],S=r[I+1];d=Math.min(P,d);k=Math.min(S,
k);A=Math.max(P,A);F=Math.max(S,F);I+=h;for(let V=1;V<R;V++,I+=h){const X=r[I],Z=r[I+1];P+=X;S+=Z;0>X&&(d=Math.min(d,P));0<X&&(A=Math.max(A,P));0>Z?k=Math.min(k,S):0<Z&&(F=Math.max(F,S))}}a[0]=d;a[1]=k;a[2]=A;a[3]=F;return a};e.getSignedQuantizedRingArea=va;e.quantizeOptimizedFeatureSet=function(a,d){const {geometryType:h,features:k,hasM:p,hasZ:r}=d;if(!a)return d;for(let A=0;A<k.length;A++){const F=k[A],I=F.weakClone();I.geometry=new u;pa(I.geometry,F.geometry,p,r,h,a);F.centroid&&(I.centroid=new u,
pa(I.centroid,F.centroid,p,r,"esriGeometryPoint",a));k[A]=I}d.transform=a;return d};e.quantizeOptimizedGeometry=pa;e.quantizeX=O;e.quantizeY=N;e.removeCollinearVectices=function(a,d,h,k,p){if(!d||!d.coords||!d.coords.length)return null;h=qa[h];const {coords:r,lengths:A}=d;d=D(k,p,k,p);k=n(k,p);let F=p=0,I=0,R=0;for(const V of A){F=R;d(a.coords,r,F,p,r[p],r[p+1]);p+=k;var P=r[p];let X=r[p+1],Z=P,aa=X;var S=X/P;F+=k;d(a.coords,r,F,p,Z,aa);p+=k;for(let Y=2;Y<V;Y++){P=r[p];X=r[p+1];const ba=X/P,ka=S===
ba||!isFinite(S)&&!isFinite(ba);S=ka&&isFinite(ba)?0<=S&&0<=ba||0>=S&&0>=ba:0<=aa&&0<=X||0>=aa&&0>=X;ka&&S?(Z+=P,aa+=X):(Z=P,aa=X,F+=k);d(a.coords,r,F,p,Z,aa);p+=k;S=ba}F+=k;P=(F-R)/k;P>=h&&(a.lengths[I]=P,R=F,I++)}a.coords.length>R&&(a.coords.length=R);a.lengths.length>I&&(a.lengths.length=I);return a.coords.length&&a.lengths.length?a:null};e.removeZMValues=function(a,d,h,k,p,r){ia(a);a.lengths.push(...d.lengths);if(h===p&&k===r)for(var A=0;A<d.coords.length;A++)a.coords.push(d.coords[A]);else for(A=
n(h,k),h=D(h,k,p,r),d=d.coords,k=0;k<d.length;k+=A)h(a.coords,d,a.coords.length,k,d[k],d[k+1]);return a};e.unquantizeOptimizedFeatureSet=function(a){const {transform:d,features:h,hasM:k,hasZ:p}=a;if(!d)return a;for(const r of h)y.isSome(r.geometry)&&sa(r.geometry,r.geometry,k,p,d),y.isSome(r.centroid)&&sa(r.centroid,r.centroid,k,p,d);a.transform=null;return a};e.unquantizeOptimizedGeometry=sa;e.unquantizeValue=U;e.unquantizeX=function(a,d){return U(a,d,0)};e.unquantizeY=function(a,d){return U(a,-d,
1)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(e,B,z){let y=function(){function G(H=null,M={},L,u){this.geometry=H;this.attributes=M;this.centroid=L;this.objectId=u;this.geohashY=this.geohashX=this.displayId=0}G.prototype.weakClone=function(){const H=new G(this.geometry,this.attributes,this.centroid,this.objectId);H.displayId=this.displayId;
H.geohashX=this.geohashX;H.geohashY=this.geohashY;return H};return B._createClass(G)}(),t=function(G){function H(){return M.apply(this,arguments)}B._inherits(H,G);var M=B._createSuper(H);return B._createClass(H)}(y);e.OptimizedFeature=y;e.OptimizedFeatureWithGeometry=t;e.hasGeometry=function(G){return!(z.isNone(G.geometry)||!G.geometry.coords||!G.geometry.coords.length)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(e){return function(){function B(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}B.prototype.weakClone=function(){const z=new B;z.objectIdFieldName=this.objectIdFieldName;z.globalIdFieldName=this.globalIdFieldName;z.geohashFieldName=
this.geohashFieldName;z.geometryProperties=this.geometryProperties;z.geometryType=this.geometryType;z.spatialReference=this.spatialReference;z.hasZ=this.hasZ;z.hasM=this.hasM;z.features=this.features;z.fields=this.fields;z.transform=this.transform;z.exceededTransferLimit=this.exceededTransferLimit;z.uniqueIdField=this.uniqueIdField;z.queryGeometry=this.queryGeometry;z.queryGeometryType=this.queryGeometryType;return z};return e._createClass(B)}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(e){return function(){function B(y=[],t=[],G=!1){this.lengths=y??[];this.coords=t??[];this.hasIndeterminateRingOrder=G}B.fromRect=function(y){const [t,G,H,M]=y;y=H-t;const L=M-G;return new B([5],[t,G,y,0,0,L,-y,0,0,-L])};var z=B.prototype;z.forEachVertex=function(y){let t=0;this.lengths.length||y(this.coords[0],this.coords[1]);for(let G=0;G<this.lengths.length;G++){const H=this.lengths[G];for(let M=0;M<H;M++)y(this.coords[2*(M+t)],this.coords[2*(M+t)+1]);t+=H}};z.clone=function(y){return y?
(y.set(this.coords),new B(this.lengths.slice(),y,this.hasIndeterminateRingOrder)):new B(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};e._createClass(B,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((y,t)=>y+t)}}]);return B}()})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(e,
B){e.parsePBFFeatureQuery=function(z,y){var t=B.parseFeatureQuery(z,y);z=t.queryResult.featureResult;y=t.queryResult.queryGeometry;t=t.queryResult.queryGeometryType;if(z&&z.features&&z.features.length&&z.objectIdFieldName){const G=z.objectIdFieldName;for(const H of z.features)H.attributes&&(H.objectId=H.attributes[G])}z&&(z.queryGeometry=y,z.queryGeometryType=t);return z};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),
function(e,B,z,y,t,G){function H(g){return g>=v.length?null:v[g]}function M(g,C,f){g=g.asUnsafe();for(f=C.createPointGeometry(f);g.next();)switch(g.tag()){case 3:var l=g.getUInt32();l=g.pos()+l;let q=0;for(;g.pos()<l;)C.addCoordinatePoint(f,g.getSInt64(),q++);break;default:g.skip()}return f}function L(g,C,f){g=g.asUnsafe();const l=C.createGeometry(f);for(f=2+(f.hasZ?1:0)+(f.hasM?1:0);g.next();)switch(g.tag()){case 2:var q=g.getUInt32();q=g.pos()+q;for(var K=0;g.pos()<q;)C.addLength(l,g.getUInt32(),
K++);break;case 3:q=g.getUInt32();q=g.pos()+q;K=0;for(C.allocateCoordinates(l);g.pos()<q;)C.addCoordinate(l,g.getSInt64(),K),K++,K===f&&(K=0);break;default:g.skip()}return l}function u(g){g=g.asUnsafe();const C=new t;let f="esriGeometryPoint";for(;g.next();)switch(g.tag()){case 2:var l=g.getUInt32();for(l=g.pos()+l;g.pos()<l;)C.lengths.push(g.getUInt32());break;case 3:l=g.getUInt32();for(l=g.pos()+l;g.pos()<l;)C.coords.push(g.getSInt64());break;case 1:f=G.OPTIMIZED_GEOMETRY_TYPES[g.getEnum()];break;
default:g.skip()}return{queryGeometry:C,queryGeometryType:f}}function n(g){for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:return g.getString();case 2:return g.getFloat();case 3:return g.getDouble();case 4:return g.getSInt32();case 5:return g.getUInt32();case 6:return g.getInt64();case 7:return g.getUInt64();case 8:return g.getSInt64();case 9:return g.getBool();default:return g.skip(),null}return null}function D(g){g=g.asUnsafe();const C={type:H(0)};for(;g.next();)switch(g.tag()){case 1:C.name=
g.getString();break;case 2:C.type=H(g.getEnum());break;case 3:C.alias=g.getString();break;case 4:var f=g.getEnum();f=f>=J.length?null:J[f];C.sqlType=f;break;case 5:g.skip();break;case 6:C.defaultValue=g.getString();break;default:g.skip()}return C}function O(g){const C={};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:C.name=g.getString();break;case 2:C.isSystemMaintained=g.getBool();break;default:g.skip()}return C}function N(g,C,f,l){const q=C.createFeature(f);let K=0;for(;g.next();)switch(g.tag()){case 1:const Q=
l[K++].name;q.attributes[Q]=g.processMessage(n);break;case 2:q.geometry=g.processMessageWithArgs(L,C,f);break;case 4:q.centroid=g.processMessageWithArgs(M,C,f);break;default:g.skip()}return q}function U(g){const C=[1,1,1,1];for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:C[0]=g.getDouble();break;case 2:C[1]=g.getDouble();break;case 4:C[2]=g.getDouble();break;case 3:C[3]=g.getDouble();break;default:g.skip()}return C}function b(g){const C=[0,0,0,0];for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:C[0]=
g.getDouble();break;case 2:C[1]=g.getDouble();break;case 4:C[2]=g.getDouble();break;case 3:C[3]=g.getDouble();break;default:g.skip()}return C}function c(g){const C={originPosition:0>=T.length?null:T[0]};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:var f=g.getEnum();C.originPosition=f>=T.length?null:T[f];break;case 2:C.scale=g.processMessage(U);break;case 3:C.translate=g.processMessage(b);break;default:g.skip()}return C}function m(g){const C={};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:C.shapeAreaFieldName=
g.getString();break;case 2:C.shapeLengthFieldName=g.getString();break;case 3:C.units=g.getString();break;default:g.skip()}return C}function x(g,C){for(C=C.createSpatialReference();g.next();)switch(g.tag()){case 1:C.wkid=g.getUInt32();break;case 5:C.wkt=g.getString();break;case 2:C.latestWkid=g.getUInt32();break;case 3:C.vcsWkid=g.getUInt32();break;case 4:C.latestVcsWkid=g.getUInt32();break;default:g.skip()}return C}function E(g,C){const f=C.createFeatureResult();g=g.asUnsafe();f.geometryType=0>=C.geometryTypes.length?
null:C.geometryTypes[0];let l=!1;for(;g.next();)switch(g.tag()){case 1:f.objectIdFieldName=g.getString();break;case 3:f.globalIdFieldName=g.getString();break;case 4:f.geohashFieldName=g.getString();break;case 5:f.geometryProperties=g.processMessage(m);break;case 7:var q=g.getEnum();f.geometryType=q>=C.geometryTypes.length?null:C.geometryTypes[q];break;case 8:f.spatialReference=g.processMessageWithArgs(x,C);break;case 10:f.hasZ=g.getBool();break;case 11:f.hasM=g.getBool();break;case 12:f.transform=
g.processMessage(c);break;case 9:q=g.getBool();f.exceededTransferLimit=q;break;case 13:C.addField(f,g.processMessage(D));break;case 15:l||(C.prepareFeatures(f),l=!0);C.addFeature(f,g.processMessageWithArgs(N,C,f,f.fields));break;case 2:f.uniqueIdField=g.processMessage(O);break;default:g.skip()}C.finishFeatureResult(f);return f}function w(g,C){const f={};let l=null;for(;g.next();)switch(g.tag()){case 4:l=g.processMessageWithArgs(u);break;case 1:f.featureResult=g.processMessageWithArgs(E,C);break;default:g.skip()}z.isSome(l)&&
f.featureResult&&C.addQueryGeometry(f,l);return f}const v="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),J="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),
T=["upperLeft","lowerLeft"];e.parseFeatureQuery=function(g,C){try{const f=new y(new Uint8Array(g),new DataView(g));for(g={};f.next();)switch(f.tag()){case 2:g.queryResult=f.processMessageWithArgs(w,C);break;default:f.skip()}return g}catch(f){throw new B("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:f});}};e.parseFieldType=H;e.parseTransform=c;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(e,B,z,y,t,G,H){const M=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let L=function(){function u(D){this._options=D;this.geometryTypes=M;this._vertexDimension=this._coordinatePtr=0}var n=u.prototype;n.createFeatureResult=function(){return new G};n.prepareFeatures=function(D){this._vertexDimension=2;D.hasZ&&this._vertexDimension++;D.hasM&&this._vertexDimension++};n.finishFeatureResult=function(D){if(D&&D.features&&D.hasZ&&this._options.sourceSpatialReference&&
D.spatialReference&&!y.equals(D.spatialReference,this._options.sourceSpatialReference)&&!D.spatialReference.vcsWkid){var O=z.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),N=z.getMetersPerVerticalUnitForSR(D.spatialReference);O/=N;if(1!==O)for(const U of D.features)if(t.hasGeometry(U))for(D=U.geometry.coords,N=2;N<D.length;N+=3)D[N]*=O}};n.addFeature=function(D,O){D.features.push(O)};n.createFeature=function(){return new t.OptimizedFeature};n.createSpatialReference=function(){return{wkid:0}};
n.createGeometry=function(){return new H};n.addField=function(D,O){D.fields.push(O)};n.allocateCoordinates=function(D){D.coords.length=D.lengths.reduce((O,N)=>O+N,0)*this._vertexDimension;this._coordinatePtr=0};n.addCoordinate=function(D,O){D.coords[this._coordinatePtr++]=O};n.addCoordinatePoint=function(D,O){D.coords.push(O)};n.addLength=function(D,O){D.lengths.push(O)};n.addQueryGeometry=function(D,O){D.queryGeometry=O.queryGeometry;D.queryGeometryType=O.queryGeometryType};n.createPointGeometry=
function(){return new H};return B._createClass(u)}();e.OPTIMIZED_GEOMETRY_TYPES=M;e.OptimizedFeatureSetParserContext=L;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../chunks/_rollupPluginBabelHelpers","../../../rest/query/operations/pbfDehydratedFeatureSet","../../../rest/query/operations/pbfQueryUtils"],function(e,B,z){let y=function(){function t(){}t.prototype._parseFeatureQuery=function(G){G=z.parsePBFFeatureQuery(G.buffer,new B.DehydratedFeatureSetParserContext(G.options));G={...G,spatialReference:G.spatialReference?.toJSON(),fields:G.fields?G.fields.map(H=>H.toJSON()):void 0};return Promise.resolve(G)};return e._createClass(t)}();return function(){return new y}});