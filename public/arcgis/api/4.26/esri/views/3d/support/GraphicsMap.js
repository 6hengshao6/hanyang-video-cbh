// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/Evented","../../../core/MapUtils"],function(m,h,k,n){k=function(d){function g(){var a=p.apply(this,arguments);a._map=new Map;return a}h._inherits(g,d);var p=h._createSuper(g);d=g.prototype;d.clear=function(){if(0<this._map.size){const a=this.toArray();this._map.clear();this.emit("change",{added:[],removed:a})}};d.get=function(a){return this._map.get(a)};d.addMany=function(a){if(0!==a.length){var b=new Set;for(let c=0;c<a.length;c++){const e=
a[c],l=e.objectId,f=this._map.get(l);f?(b.add(l),e!==f&&(a[c]=f),f.refCount||(f.refCount=0),++f.refCount):(e.refCount=1,this._map.set(l,e))}a=0<b.size?a.filter(c=>!b.has(c.objectId)):a;0<a.length&&this.emit("change",{added:a,removed:[]})}};d.removeMany=function(a){const b=[];for(const c of a){a=c.objectId;const e=this._map.get(a);null!=e&&(!e.refCount||0>=--e.refCount)&&(this._map.delete(a),b.push(c))}0<b.length&&this.emit("change",{added:[],removed:b})};d.removeManyByObjectId=function(a){const b=
[];for(const c of a)a=this._map.get(c),null!=a&&(!a.refCount||0>=--a.refCount)&&(this._map.delete(c),b.push(a));0<b.length&&this.emit("change",{added:[],removed:b})};d.toArray=function(){return[...this._map.values()]};d.find=function(a){let b;n.someMap(this._map,c=>a(c)?(b=c,!0):!1);return b};d.forEach=function(a){this._map.forEach(b=>a(b))};h._createClass(g,[{key:"length",get:function(){return this._map.size}}]);return g}(k);m.GraphicsMap=k;Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});