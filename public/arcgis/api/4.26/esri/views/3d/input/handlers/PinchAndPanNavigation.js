// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../state/controllers/global/PinchAndPanController ../../state/controllers/local/PinchAndPanController ../../../input/InputHandler ../../../input/handlers/support".split(" "),function(h,f,k,l,g,m){g=function(d){function e(a,b,n){var c=p.call(this,!0);c._view=a;c.pointerAction=b;c._lastEndTimestamp=0;c._lastTimestamp=0;c.registerIncoming("drag",n,q=>c._handleDrag(q));return c}f._inherits(e,d);var p=f._createSuper(e);d=e.prototype;d._handleDrag=
function(a){if("mouse"!==a.data.pointerType||m.eventMatchesMousePointerAction(a.data,this.pointerAction)){var b=a.timestamp-this._lastEndTimestamp;b=this._momentum&&this._momentum.active&&40>b;switch(a.data.action){case "start":case "update":if(b)break;this._controller&&this._controller.active?2<a.data.timestamp-this._lastTimestamp&&(this._controller.update(a.data),this._lastTimestamp=a.timestamp):this._startController(a);break;case "end":case "removed":this._endController(a,!0);break;case "added":this._endController(a,
!1),this._startController(a)}a.stopPropagation()}};d._endController=function(a,b){this._controller&&this._controller.active&&(this._lastEndTimestamp=a.timestamp,a=this._controller.end(a.data),b&&a&&(this._momentum=a,this._view.state.switchCameraController(this._momentum)));this._controller=null};d._startController=function(a){this._controller=this._createController();this._view.state.switchCameraController(this._controller);this._controller.begin(a.data);this._lastTimestamp=a.timestamp};d._createController=
function(){return this._view.state.isGlobal?new k.PinchAndPanController({view:this._view}):new l.PinchAndPanController({view:this._view})};return f._createClass(e)}(g.InputHandler);h.PinchAndPanNavigation=g;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});