// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec4f32 ./Object3DVisualElement ../../support/engineContent/line ../../webgl-engine/lib/Material ../../webgl-engine/materials/LineMarkerMaterial".split(" "),function(k,g,c,n,p,l,h,m,q,r){h=function(d){function f(a,e){var b=t.call(this,a);b._hasExternalMaterial=!1;b._renderOccluded=q.RenderOccludedFlag.OccludeAndTransparent;b._width=1;b._color=l.fromValues(1,
0,1,1);b._placement="end";b._textureId=null;b._material=e;b._hasExternalMaterial=c.isSome(e);b.applyProps(a);return b}g._inherits(f,d);var t=g._createSuper(f);d=f.prototype;d.setGeometryFromSegment=function(a,e){const b=a.endRenderSpace;this.transform=n.fromTranslation(u,b);this._normal=e;({points:a}=a.createRenderGeometry(b,this.view.renderCoordsHelper));this.geometry=[a]};d.createExternalResources=function(){this._hasExternalMaterial||(this._material=new r.LineMarkerMaterial({width:this._width,
color:this._color,placement:this._placement,renderOccluded:this._renderOccluded,textureId:this._textureId}))};d.destroyExternalResources=function(){this._hasExternalMaterial||(this._material=null)};d.createGeometries=function(a){for(const e of m.lineStripsToParameters(this.geometry,this.normal)){const b=m.createGeometry(c.unwrap(this._material),e);a.addGeometry(b)}};d.forEachExternalMaterial=function(a){this._hasExternalMaterial||a(c.unwrap(this._material))};g._createClass(f,[{key:"renderOccluded",
get:function(){return c.isSome(this._material)?this._material.parameters.renderOccluded:this._renderOccluded},set:function(a){this._renderOccluded=a;c.isSome(this._material)&&this._material.setParameters({renderOccluded:a})}},{key:"geometry",get:function(){return this._geometry},set:function(a){this._geometry=a;this.recreateGeometry()}},{key:"normal",get:function(){return this._normal},set:function(a){this._normal=a;this.recreateGeometry()}},{key:"width",get:function(){return c.isSome(this._material)?
this._material.parameters.width:this._width},set:function(a){this._width=a;c.isSome(this._material)&&this._material.setParameters({width:a})}},{key:"color",get:function(){return c.isSome(this._material)?this._material.parameters.color:this._color},set:function(a){this._color=l.clone(a);c.isSome(this._material)&&this._material.setParameters({color:this._color})}},{key:"placement",get:function(){return c.isSome(this._material)?this._material.parameters.placement:this._placement},set:function(a){this._placement=
a;c.isSome(this._material)&&this._material.setParameters({placement:this._placement})}},{key:"textureId",get:function(){return c.isSome(this._material)?this._material.parameters.textureId:this._textureId},set:function(a){this._textureId=a;c.isSome(this._material)&&this._material.setParameters({textureId:a})}}]);return f}(h.Object3DVisualElement);const u=p.create();k.MarkerVisualElement=h;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});