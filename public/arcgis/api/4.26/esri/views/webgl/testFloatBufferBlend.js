// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../3d/webgl-engine/lib/OrderIndependentTransparency ./BufferObject ./context-util ./enums ./FramebufferObject ./renderState ./VertexArrayObject ./VertexElementDescriptor ./WebGLDriverTestModule".split(" "),function(h,d,n,p,q,c,r,t,u,v,f){f=function(w){function e(b){var a=x.call(this);a._rctx=b;if(!b.gl)return d._possibleConstructorReturn(a);if(b.type===q.ContextType.WEBGL1)return a._result=!(!b.capabilities.textureFloat?.textureFloat||!b.capabilities.colorBufferFloat?.textureFloat),
d._possibleConstructorReturn(a);if(!(b.capabilities.textureFloat?.textureFloat&&b.capabilities.colorBufferFloat?.textureFloat&&b.capabilities.colorBufferFloat?.floatBlend))return d._possibleConstructorReturn(a);a._program=b.programCache.acquire("\n    precision highp float;\n    attribute vec2 a_pos;\n\n    void main() {\n      gl_Position \x3d vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\n    }\n    ","\n     precision highp float;\n\n     void main() {\n      gl_FragColor \x3d vec4(0.5, 0.5, 0.5, 0.5);\n     }\n    ",
new Map([["a_pos",0]]));return a}d._inherits(e,w);var x=d._createSuper(e);e.prototype._test=function(b){const a=this._rctx,k=new r.FramebufferObject(a,{colorTarget:c.TargetType.TEXTURE,depthStencilTarget:c.DepthStencilTargetType.NONE},{target:c.TextureType.TEXTURE_2D,wrapMode:c.TextureWrapMode.CLAMP_TO_EDGE,pixelFormat:c.PixelFormat.RGBA,dataType:c.PixelType.FLOAT,internalFormat:c.SizedPixelFormat.RGBA32F,samplingMode:c.TextureSamplingMode.NEAREST,width:1,height:1}),l=p.BufferObject.createVertex(a,
c.Usage.STATIC_DRAW,new Uint16Array([0,0,1,0,0,1,1,1])),m=new u.VertexArrayObject(a,new Map([["a_pos",0]]),{geometry:[new v.VertexElementDescriptor("a_pos",2,c.DataType.UNSIGNED_SHORT,0,4)]},{geometry:l});a.useProgram(b);b=a.getBoundFramebufferObject();const {x:y,y:z,width:A,height:B}=a.getViewport();a.bindFramebuffer(k);a.setViewport(0,0,1,1);a.bindVAO(m);a.drawArrays(c.PrimitiveType.TRIANGLE_STRIP,0,4);var g=t.makePipelineState({blending:n.blendingAlpha});a.setPipelineState(g);a.drawArrays(c.PrimitiveType.TRIANGLE_STRIP,
0,4);g=a.gl.getError();a.setViewport(y,z,A,B);a.bindFramebuffer(b);m.dispose(!1);l.dispose();k.dispose();return 1282===g?(console.warn("Device claims support for WebGL extension EXT_float_blend but does not support it. Using fall back."),!1):!0};return d._createClass(e)}(f.WebGLDriverTestModule);h.FloatBufferBlend=f;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});