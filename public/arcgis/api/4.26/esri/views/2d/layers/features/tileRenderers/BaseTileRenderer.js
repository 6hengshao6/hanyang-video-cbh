// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/HandleOwner ../../../../../core/has ../../../../../core/accessorSupport/decorators/property ../../../../../core/accessorSupport/ensureType ../../../../../core/arrayUtils ../../../../../core/accessorSupport/decorators/subclass".split(" "),function(l,e,c,m,g,q,r,n){c=function(b){function f(a){a=p.call(this,a);a.tiles=new Map;return a}l._inherits(f,b);var p=l._createSuper(f);b=f.prototype;b.destroy=
function(){this.tiles.clear();this.layer=this.layerView=this.tileInfoView=this.tiles=null};b.acquireTile=function(a){const d=this.createTile(a);d.once("isReady",()=>this.notifyChange("updating"));this.tiles.set(a.id,d);this.notifyChange("updating");return d};b.forceAttributeTextureUpload=function(){};b.forEachTile=function(a){this.tiles.forEach(a)};b.releaseTile=function(a){this.tiles.delete(a.key.id);this.notifyChange("updating");this.disposeTile(a)};b.isUpdating=function(){let a=!0;this.tiles.forEach(h=>
{a=a&&h.isReady});const d=!a;if(m("esri-2d-log-updating")){let h="";this.tiles.forEach(k=>{h+=`-> ${k.key.id}: isReady: ${k.isReady} status: ${k.updateStatus}\n`;a=a&&k.isReady});console.log(`Updating BaseTileRenderer ${d}\n${h}`)}return d};b.setHighlight=function(){};b.invalidateLabels=function(){};b.requestUpdate=function(){this.layerView.requestUpdate()};l._createClass(f,[{key:"updating",get:function(){return this.isUpdating()}}]);return f}(c.HandleOwner);e.__decorate([g.property()],c.prototype,
"layer",void 0);e.__decorate([g.property()],c.prototype,"layerView",void 0);e.__decorate([g.property()],c.prototype,"tileInfoView",void 0);e.__decorate([g.property()],c.prototype,"updating",null);return c=e.__decorate([n.subclass("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],c)});