// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../engine/Bitmap","../../engine/BitmapContainer"],function(m,c,p,h){h=function(f){function e(b){var a=q.call(this);a.requestRender=a.requestRender.bind(c._assertThisInitialized(a));a._layerView=b;a._canvas=document.createElement("canvas");a._context=a._canvas.getContext("2d");a._bitmap=new p.Bitmap(null,{immutable:!1,requestRenderOnSourceChangedEnabled:!1});a.addChild(a._bitmap);return a}c._inherits(e,f);var q=c._createSuper(e);
f=e.prototype;f.doRender=function(b){const a=b.state,n=this._createCustomRenderParams(b),k=this._canvas,d=this._bitmap,g=window.devicePixelRatio;k.width=a.size[0]*g;k.height=a.size[1]*g;d.resolution=a.resolution;const l=a.clone();l.pixelRatio=g;d.pixelRatio=g;n.state=l;d.x=a.viewpoint.targetGeometry.x-Math.abs(a.extent.xmax-a.extent.xmin)/2;d.y=a.viewpoint.targetGeometry.y+Math.abs(a.extent.ymax-a.extent.ymin)/2;this._layerView.render(n);d.source=k;d.rotation=a.rotation;c._get(c._getPrototypeOf(e.prototype),
"doRender",this).call(this,{...b,state:l})};f._createCustomRenderParams=function(b){return{globalOpacity:b.globalOpacity,state:b.state,stationary:b.stationary,pixelRatio:window.devicePixelRatio,context:this._context}};return c._createClass(e)}(h.BitmapContainer);m.Display=h;Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});