// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Logger ../../../core/promiseUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../engine/BitmapContainer ./LayerView2D ./support/ExportStrategy ../../layers/LayerView ../../layers/RefreshableLayerView".split(" "),function(e,f,k,l,h,b,w,x,m,n,p,q,r,t){b=function(a){function c(){return u.apply(this,
arguments)}e._inherits(c,a);var u=e._createSuper(c);a=c.prototype;a.update=function(g){this._strategy.update(g).catch(d=>{l.isAbortError(d)||k.getLogger(this.declaredClass).error(d)});this.notifyChange("updating")};a.attach=function(){this._bitmapContainer=new n.BitmapContainer;this.container.addChild(this._bitmapContainer);this._strategy=new q({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})};a.detach=function(){this._strategy.destroy();
this._strategy=null;this.container.removeChild(this._bitmapContainer);this._bitmapContainer.removeAllChildren()};a.moveStart=function(){};a.viewChange=function(){};a.moveEnd=function(){this.requestUpdate()};a.fetchBitmapData=function(g,d,v){return this.layer.fetchImageBitmap(g,d,v)};a.doRefresh=async function(){this.requestUpdate()};a.isUpdating=function(){return this._strategy.updating||this.updateRequested};return e._createClass(c)}(t(p.LayerView2DMixin(r)));f.__decorate([h.property()],b.prototype,
"_strategy",void 0);f.__decorate([h.property()],b.prototype,"updating",void 0);return b=f.__decorate([m.subclass("esri.views.2d.layers.BaseDynamicLayerView2D")],b)});