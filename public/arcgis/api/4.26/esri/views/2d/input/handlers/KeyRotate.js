// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../input/InputHandler"],function(l,g,h){h=function(e){function f(b,c,d){var a=m.call(this,!0);a.view=b;a.keys=c;a._pressed=!1;a._keyToDirection={[c.clockwiseOption1]:"clockwise",[c.clockwiseOption2]:"clockwise",[c.counterClockwiseOption1]:"counterClockwise",[c.counterClockwiseOption2]:"counterClockwise",[c.resetOption1]:"reset",[c.resetOption2]:"reset"};a.registerIncoming("key-down",d,k=>a._handleKeyDown(k));a.registerIncoming("key-up",
d,k=>a._handleKeyUp(k));a.registerIncoming("blur",d,()=>a._handleBlur());return a}g._inherits(f,e);var m=g._createSuper(f);e=f.prototype;e._handleKeyDown=function(b){b.data.repeat||this._handleKey(b,!0)};e._handleKeyUp=function(b){this._handleKey(b,!1)};e._handleBlur=function(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())};e._handleKey=function(b,c){var d=b.modifiers;if(!(0<d.size&&!d.has("Shift")||!this.view.constraints.rotationEnabled)&&(d=this._keyToDirection[b.data.key],
this._pressed=null!=d)){if(c)switch(this.view.mapViewNavigation.begin(),d){case "clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case "counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case "reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();b.stopPropagation()}};return g._createClass(f)}(h.InputHandler);l.KeyRotate=h;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});