// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../../../chunks/_rollupPluginBabelHelpers ../../../../../../core/maybe ../../../../../../core/screenUtils ../../../../../../renderers/support/heatmapUtils ../Technique ../../../../../webgl/enums".split(" "),function(h,f,p,q,r,e,g){e=function(t){function c(){return u.apply(this,arguments)}f._inherits(c,t);var u=f._createSuper(c);c.getStorageSpec=function({field:b,valueExpression:d}){return{visualVariables:!1,attributes:b||d?[{field:b,valueExpression:d}]:null}};c._createRendererSchema=
function(){return{type:"heatmap",radius:-1,referenceScale:-1,isFieldActive:0,minDensity:-1,densityRange:-1,kernel:null,gradient:null,gradientHash:"invalid"}};c.createOrUpdateRendererSchema=function(b,d){const {radius:v,minDensity:k,maxDensity:w,referenceScale:x,field:y,valueExpression:z,colorStops:l}=d;d=w-k;const A=y||z?1:0,m=l.map(({color:B,ratio:C})=>`${C}:${B.toString()}`).join();let n=!0,a;p.isSome(b)&&"heatmap"===b.type?(a=b,n=m!==b.gradientHash):a=this._createRendererSchema();a.radius=q.pt2px(v);
a.minDensity=k;a.densityRange=d;a.referenceScale=x;a.isFieldActive=A;n&&(a.gradient=r.generateGradient(l),a.gradientHash=m);return a};return f._createClass(c)}(e.Technique);e.type="heatmap";e.programSpec={shader:"materials/icon/heatmapAccumulate",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:g.DataType.SHORT},{location:1,name:"a_vertexOffset",count:2,type:g.DataType.SHORT},{location:4,name:"a_id",count:4,type:g.DataType.UNSIGNED_BYTE}]}};h.HeatmapTechnique=e;Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"})});