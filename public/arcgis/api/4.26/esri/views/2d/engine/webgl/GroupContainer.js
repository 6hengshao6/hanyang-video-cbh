// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./WGLContainer","../../../webgl/enums"],function(n,f,m,p){m=function(e){function g(){var b=q.apply(this,arguments);b._prevFBO=void 0;b.requiresDedicatedFBO=!1;return b}f._inherits(g,e);var q=f._createSuper(g);e=g.prototype;e.dispose=function(){};e.doRender=function(b){const d=this.createRenderParams(b),{context:a,painter:c,profiler:l}=d;this._prevFBO=a.getBoundFramebufferObject();l.recordContainerStart(this.name);const h=this._getFbo(d),
r=c.getRenderTarget();a.bindFramebuffer(h);c.setRenderTarget(h);a.setDepthWriteEnabled(!0);a.setColorMask(!0,!0,!0,!0);a.setClearColor(0,0,0,0);a.setClearDepth(1);a.clear(a.gl.COLOR_BUFFER_BIT|a.gl.DEPTH_BUFFER_BIT);a.setDepthWriteEnabled(!1);for(const k of this.children)k.beforeRender(b);for(const k of this.children)k.processRender(d);for(const k of this.children)k.afterRender(b);c.setRenderTarget(r);c.releaseFbo(h);a.bindFramebuffer(this._prevFBO);c.beforeRenderLayer(d,this._clippingInfos?255:0,
this.computedOpacity);h.colorTexture&&(a.setStencilTestEnabled(!1),a.setStencilWriteMask(0),c.blitTexture(a,h.colorTexture,p.TextureSamplingMode.NEAREST));c.compositeLayer(d,this.computedOpacity);l.recordContainerEnd()};e.createRenderParams=function(b){return{...f._get(f._getPrototypeOf(g.prototype),"createRenderParams",this).call(this,b),blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1}};e._getFbo=function(b){const {context:d,painter:a}=b,{width:c,height:l}=d.getViewport();return a.acquireFbo(c,
l)};return f._createClass(g)}(m);n.GroupContainer=m;Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});