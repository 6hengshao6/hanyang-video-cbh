// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ./enums ./WGLContainer ./brushes/WGLBrushInfo ./brushes/WGLBrushStencil".split(" "),function(e,g,f,h,k,l){const m=(c,b)=>0!==c.key.level-b.key.level?c.key.level-b.key.level:0!==c.key.row-b.key.row?c.key.row-b.key.row:c.key.col-b.key.col;return function(c){function b(a){var d=n.call(this);d._tileInfoView=a;return d}e._inherits(b,c);var n=e._createSuper(b);c=b.prototype;c.renderChildren=function(a){this.sortChildren(m);this.setStencilReference(a);
e._get(e._getPrototypeOf(b.prototype),"renderChildren",this).call(this,a)};c.createRenderParams=function(a){const {state:d}=a;a=e._get(e._getPrototypeOf(b.prototype),"createRenderParams",this).call(this,a);a.requiredLevel=this._tileInfoView.getClosestInfoForScale(d.scale).level;a.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(d.scale);return a};c.prepareRenderPasses=function(a){const d=e._get(e._getPrototypeOf(b.prototype),"prepareRenderPasses",this).call(this,a);d.push(a.registerRenderPass({name:"stencil",
brushes:[l],drawPhase:f.WGLDrawPhase.DEBUG|f.WGLDrawPhase.MAP|f.WGLDrawPhase.HIGHLIGHT,target:()=>this.getStencilTarget()}));g("esri-tiles-debug")&&d.push(a.registerRenderPass({name:"tileInfo",brushes:[k],drawPhase:f.WGLDrawPhase.DEBUG,target:()=>this.children}));return d};c.getStencilTarget=function(){return this.children};c.setStencilReference=function(a){a=1;for(const d of this.children)d.stencilRef=a++};e._createClass(b,[{key:"requiresDedicatedFBO",get:function(){return!1}}]);return b}(h)});