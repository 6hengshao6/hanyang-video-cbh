// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./css ./content/tooltipContentFactory ../../../widgets/support/widgetUtils".split(" "),function(c,n,h,r,d,k,l,z,A,B,t,u,v,w){function x({container:b,contentWidget:g,
screenPoint:f}){const {style:a}=b;d.isSome(f)&&d.isSome(g)?(a.display="block",b=w.isRTL(b),f=`translate(${Math.round(f.x)+q[0]*(b?-1:1)}px, ${Math.round(f.y)+q[1]}px)`,a.transform=b?`translate(-100%, 0) ${f}`:f):a.display="none"}var y=`${u.BASE}`;c.Tooltip=function(b){function g(a){a=f.call(this,a);a.info=null;const e=document.createElement("div");e.classList.add(y);a._contentContainer=e;a._contentWidget=null;return a}n._inherits(g,b);var f=n._createSuper(g);b=g.prototype;b.initialize=function(){const a=
this._contentContainer;this.addHandles([k.watch(()=>this.view.overlay?.surface,e=>{a.remove();d.applySome(e,m=>m.appendChild(a))},k.syncAndInitial),k.watch(()=>this.info,(e,m)=>{d.isSome(this._contentWidget)&&d.isSome(e)&&d.isSome(m)&&e.type===m.type?this._contentWidget.info=e:(this._contentWidget=d.destroyMaybe(this._contentWidget),d.applySome(v.tooltipContentFactory(this,e),p=>{this._contentWidget=p;p.container&&a.appendChild(p.container)}))},k.syncAndInitial),k.watch(()=>({container:this._contentContainer,
contentWidget:this._contentWidget,screenPoint:this._screenPoint}),x,k.syncAndInitial)])};b.destroy=function(){this._contentWidget=d.destroyMaybe(this._contentWidget);this._contentContainer.remove()};b.clear=function(){this.info=null};n._createClass(g,[{key:"_screenPoint",get:function(){const a=this.view.inputManager;return a?.multiTouchActive?null:a?.latestPointerLocation}},{key:"test",get:function(){return{contentContainer:this._contentContainer,visible:"none"!==this._contentContainer?.style.display}}}]);
return g}(r);h.__decorate([l.property({nonNullable:!0})],c.Tooltip.prototype,"view",void 0);h.__decorate([l.property()],c.Tooltip.prototype,"info",void 0);h.__decorate([l.property()],c.Tooltip.prototype,"_contentContainer",void 0);h.__decorate([l.property()],c.Tooltip.prototype,"_contentWidget",void 0);h.__decorate([l.property()],c.Tooltip.prototype,"_screenPoint",null);c.Tooltip=h.__decorate([t.subclass("esri.views.interactive.tooltip.Tooltip")],c.Tooltip);const q=[20,20];Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})});