// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/support/lineSegment":function(){define("exports ../../core/mathUtils ../../core/ObjectStack ../../chunks/vec3 ../../chunks/vec3f64 ./vectorStacks".split(" "),function(d,b,W,F,I,y){function m(A){return A?{origin:I.clone(A.origin),vector:I.clone(A.vector)}:{origin:I.create(),vector:I.create()}}function n(A,f){const r=R.get();r.origin=A;r.vector=f;return r}function g(A,f,r=m()){F.copy(r.origin,A);F.copy(r.vector,f);return r}function k(A,f){f=F.subtract(y.sv3d.get(),f,A.origin);
var r=F.dot(A.vector,f);const z=F.dot(A.vector,A.vector);r=b.clamp(r/z,0,1);A=F.subtract(y.sv3d.get(),F.scale(y.sv3d.get(),A.vector,r),f);return F.dot(A,A)}function p(A,f,r,z,Q){const {vector:D,origin:C}=A;f=F.subtract(y.sv3d.get(),f,C);f=F.dot(D,f)/F.squaredLength(D);F.scale(Q,D,b.clamp(f,r,z));return F.add(Q,Q,A.origin)}function G(A,f,r,z){const Q=A.origin;var D=F.add(y.sv3d.get(),Q,A.vector);A=f.origin;var C=F.add(y.sv3d.get(),A,f.vector),J=y.sv3d.get();f=y.sv3d.get();J[0]=Q[0]-A[0];J[1]=Q[1]-
A[1];J[2]=Q[2]-A[2];f[0]=C[0]-A[0];f[1]=C[1]-A[1];f[2]=C[2]-A[2];if(1E-6>Math.abs(f[0])&&1E-6>Math.abs(f[1])&&1E-6>Math.abs(f[2]))return!1;C=y.sv3d.get();C[0]=D[0]-Q[0];C[1]=D[1]-Q[1];C[2]=D[2]-Q[2];if(1E-6>Math.abs(C[0])&&1E-6>Math.abs(C[1])&&1E-6>Math.abs(C[2]))return!1;D=J[0]*f[0]+J[1]*f[1]+J[2]*f[2];var u=f[0]*C[0]+f[1]*C[1]+f[2]*C[2];const M=f[0]*f[0]+f[1]*f[1]+f[2]*f[2],L=(C[0]*C[0]+C[1]*C[1]+C[2]*C[2])*M-u*u;if(1E-6>Math.abs(L))return!1;J=(D*u-(J[0]*C[0]+J[1]*C[1]+J[2]*C[2])*M)/L;D=(D+u*J)/
M;r&&(J=b.clamp(J,0,1),D=b.clamp(D,0,1));r=y.sv3d.get();u=y.sv3d.get();r[0]=Q[0]+J*C[0];r[1]=Q[1]+J*C[1];r[2]=Q[2]+J*C[2];u[0]=A[0]+D*f[0];u[1]=A[1]+D*f[1];u[2]=A[2]+D*f[2];z.tA=J;z.tB=D;z.pA=r;z.pB=u;z.distance2=F.squaredDistance(r,u);return!0}const K={tA:0,tB:0,pA:I.create(),pB:I.create(),distance2:0},R=new W.ObjectStack(()=>m());d.closestLineSegmentDistance2=function(A,f){return G(A,f,!0,K)?K.distance2:null};d.closestLineSegmentPoint=function(A,f,r){return G(A,f,!0,K)?(F.copy(r,K.pA),!0):!1};d.closestRayDistance2=
function(A,f){if(G(A,n(f.origin,f.direction),!1,K)){const {tA:r,pB:z,distance2:Q}=K;if(0<=r&&1>=r)return Q;if(0>r)return F.squaredDistance(A.origin,z);if(1<r)return F.squaredDistance(F.add(y.sv3d.get(),A.origin,A.vector),z)}return null};d.copy=function(A,f=m()){return g(A.origin,A.vector,f)};d.create=m;d.distance=function(A,f){return Math.sqrt(k(A,f))};d.distance2=k;d.fromPoints=function(A,f,r=m()){F.copy(r.origin,A);F.subtract(r.vector,f,A);return r};d.fromValues=g;d.pointAt=function(A,f,r){return F.add(r,
A.origin,F.scale(r,A.vector,f))};d.projectPoint=function(A,f,r){return p(A,f,0,1,r)};d.projectPointClamp=p;d.wrap=n;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObjectStack":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./nextTick"],function(d,b,W){let F=function(){function I(m){this._allocator=m;this._items=[];this._itemsPtr=0;this._grow()}var y=I.prototype;y.get=function(){0===this._itemsPtr&&W.nextTick(()=>this._reset());this._itemsPtr===this._items.length&&
this._grow();return this._items[this._itemsPtr++]};y._reset=function(){this._items.length=Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3072),this._items.length);this._itemsPtr=0};y._grow=function(){for(let m=0;m<Math.max(8,Math.min(this._items.length,1024));m++)this._items.push(this._allocator())};return b._createClass(I)}();d.ObjectStack=F;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports","../../core/VectorStack"],
function(d,b){const W=b.VectorStack.createVec2f64(),F=b.VectorStack.createVec3f64(),I=b.VectorStack.createVec4f64(),y=b.VectorStack.createMat3f64(),m=b.VectorStack.createMat4f64();b=b.VectorStack.createQuatf64();d.sm3d=y;d.sm4d=m;d.sq4d=b;d.sv2d=W;d.sv3d=F;d.sv4d=I;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./byteSizeEstimations ./nextTick ../chunks/mat3f64 ../chunks/mat4f64 ../chunks/quatf64 ../chunks/vec2f64 ../chunks/vec3f64 ../chunks/vec4f64".split(" "),
function(d,b,W,F,I,y,m,n,g,k){let p=function(){function K(A,f,r){this._itemByteSize=A;this._itemCreate=f;this._buffers=[];this._items=[];this._itemsPtr=0;this._itemsPerBuffer=Math.ceil(r/this._itemByteSize)}var R=K.prototype;R.get=function(){0===this._itemsPtr&&F.nextTick(()=>this._reset());const A=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=A;){const f=new ArrayBuffer(this._itemsPerBuffer*this._itemByteSize);for(let r=0;r<this._itemsPerBuffer;++r)this._items.push(this._itemCreate(f,
r*this._itemByteSize));this._buffers.push(f)}return this._items[this._itemsPtr++]};R._reset=function(){const A=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>A;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0};K.createVec2f64=function(A=G){return new K(16,n.createView,A)};K.createVec3f64=function(A=G){return new K(24,g.createView,A)};K.createVec4f64=function(A=G){return new K(32,k.createView,A)};K.createMat3f64=function(A=
G){return new K(72,I.createView,A)};K.createMat4f64=function(A=G){return new K(128,y.createView,A)};K.createQuatf64=function(A=G){return new K(32,m.createView,A)};b._createClass(K,[{key:"test",get:function(){return{size:this._buffers.length*this._itemsPerBuffer*this._itemByteSize}}}]);return K}();const G=4*W.ByteSizeUnit.KILOBYTES;d.VectorStack=p;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(d){function b(I){return 32+
I.length}function W(I){if(!I)return 0;if(Array.isArray(I)){var y=I.length;if(0===y||"number"===typeof I[0])I=32+8*y;else{var m=32;for(let n=0;n<y;n++)m+=F(I[n]);I=m}return I}m=32;for(y in I)I.hasOwnProperty(y)&&(m+=F(I[y]));return m}function F(I){switch(typeof I){case "object":return W(I);case "string":return b(I);case "number":return 16;case "boolean":return 4;default:return 8}}d.ByteSizeUnit=void 0;(function(I){I[I.KILOBYTES=1024]="KILOBYTES";I[I.MEGABYTES=1048576]="MEGABYTES";I[I.GIGABYTES=1073741824]=
"GIGABYTES"})(d.ByteSizeUnit||(d.ByteSizeUnit={}));d.estimateAttributesObjectSize=function(I){if(!I)return 0;let y=32;for(const m in I)if(I.hasOwnProperty(m)){const n=I[m];switch(typeof n){case "string":y+=b(n);break;case "number":y+=16;break;case "boolean":y+=4}}return y};d.estimateFixedArraySize=function(I,y){return 32+I.length*y};d.estimateNestedObjectSize=W;d.estimateNumberByteSize=function(I){return 16};d.estimateStringByteSize=b;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},
"esri/chunks/mat3f64":function(){define(["exports"],function(d){function b(){return[1,0,0,0,1,0,0,0,1]}function W(m){return[m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8]]}function F(m,n,g,k,p,G,K,R,A){return[m,n,g,k,p,G,K,R,A]}function I(m,n){return new Float64Array(m,n,9)}const y=Object.freeze(Object.defineProperty({__proto__:null,clone:W,create:b,createView:I,fromValues:F},Symbol.toStringTag,{value:"Module"}));d.clone=W;d.create=b;d.createView=I;d.fromValues=F;d.mat3f64=y})},"esri/chunks/mat4f64":function(){define(["exports"],
function(d){function b(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function W(n){return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]}function F(n,g,k,p,G,K,R,A,f,r,z,Q,D,C,J,u){return[n,g,k,p,G,K,R,A,f,r,z,Q,D,C,J,u]}function I(n,g){return new Float64Array(n,g,16)}const y=b(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:y,clone:W,create:b,createView:I,fromValues:F},Symbol.toStringTag,{value:"Module"}));d.IDENTITY=y;d.clone=W;d.create=b;d.createView=
I;d.fromValues=F;d.mat4f64=m})},"esri/chunks/quatf64":function(){define(["exports"],function(d){function b(){return[0,0,0,1]}function W(n){return[n[0],n[1],n[2],n[3]]}function F(n,g,k,p){return[n,g,k,p]}function I(n,g){return new Float64Array(n,g,4)}const y=b(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:y,clone:W,create:b,createView:I,fromValues:F},Symbol.toStringTag,{value:"Module"}));d.IDENTITY=y;d.clone=W;d.create=b;d.createView=I;d.fromValues=F;d.quatf64=m})},"esri/chunks/vec2f64":function(){define(["exports"],
function(d){function b(){return[0,0]}function W(f){return[f[0],f[1]]}function F(f,r){return[f,r]}function I(f){const r=[0,0],z=Math.min(2,f.length);for(let Q=0;Q<z;++Q)r[Q]=f[Q];return r}function y(f,r){return new Float64Array(f,r,2)}function m(){return[0,0]}function n(){return[1,1]}function g(){return[1,0]}function k(){return[0,1]}const p=[0,0],G=[1,1],K=[1,0],R=[0,1],A=Object.freeze(Object.defineProperty({__proto__:null,ONES:G,UNIT_X:K,UNIT_Y:R,ZEROS:p,clone:W,create:b,createView:y,fromArray:I,
fromValues:F,ones:n,unitX:g,unitY:k,zeros:m},Symbol.toStringTag,{value:"Module"}));d.ONES=G;d.UNIT_X=K;d.UNIT_Y=R;d.ZEROS=p;d.clone=W;d.create=b;d.createView=y;d.fromArray=I;d.fromValues=F;d.ones=n;d.unitX=g;d.unitY=k;d.vec2f64=A;d.zeros=m})},"esri/chunks/vec4f64":function(){define(["exports"],function(d){function b(){return[0,0,0,0]}function W(D){return[D[0],D[1],D[2],D[3]]}function F(D,C,J,u){return[D,C,J,u]}function I(D){const C=b(),J=Math.min(4,D.length);for(let u=0;u<J;++u)C[u]=D[u];return C}
function y(D,C){return new Float64Array(D,C,4)}function m(){return b()}function n(){return[1,1,1,1]}function g(){return[1,0,0,0]}function k(){return[0,1,0,0]}function p(){return[0,0,1,0]}function G(){return[0,0,0,1]}const K=b(),R=n(),A=g(),f=k(),r=p(),z=G(),Q=Object.freeze(Object.defineProperty({__proto__:null,ONES:R,UNIT_W:z,UNIT_X:A,UNIT_Y:f,UNIT_Z:r,ZEROS:K,clone:W,create:b,createView:y,fromArray:I,fromValues:F,ones:n,unitW:G,unitX:g,unitY:k,unitZ:p,zeros:m},Symbol.toStringTag,{value:"Module"}));
d.ONES=R;d.UNIT_W=z;d.UNIT_X=A;d.UNIT_Y=f;d.UNIT_Z=r;d.ZEROS=K;d.clone=W;d.create=b;d.createView=y;d.fromArray=I;d.fromValues=F;d.ones=n;d.unitW=G;d.unitX=g;d.unitY=k;d.unitZ=p;d.vec4f64=Q;d.zeros=m})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ../core/maybe ./mat4 ./vec3 ./vec3f64 ./vec4 ./vec4f64 ../geometry/support/Axis ../geometry/support/ray ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),function(d,b,W,F,I,y,m,n,g,k,p,
G,K,R){function A(){return k.create()}function f(ha,t=A()){return g.copy(t,ha)}function r(ha,t){return k.fromValues(ha[0],ha[1],ha[2],t)}function z(ha){return ha}function Q(ha){ha[0]=ha[1]=ha[2]=ha[3]=0}function D(ha,t){ha[0]=ha[1]=ha[2]=0;ha[3]=t;return ha}function C(ha){return ha[3]}function J(ha){return ha}function u(ha,t,ca,Ea){return k.fromValues(ha,t,ca,Ea)}function M(ha,t,ca){ha!==ca&&m.copy(ca,ha);ca[3]=ha[3]+t;return ca}function L(ha,t,ca){W.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported");
return ha===ca?ca:f(ha,ca)}function Y(ha,t,ca){if(I.isNone(t))return!1;const {origin:Ea,direction:Fa}=t;var Xa=S;Xa[0]=Ea[0]-ha[0];Xa[1]=Ea[1]-ha[1];Xa[2]=Ea[2]-ha[2];t=Fa[0]*Fa[0]+Fa[1]*Fa[1]+Fa[2]*Fa[2];if(0===t)return!1;const sa=2*(Fa[0]*Xa[0]+Fa[1]*Xa[1]+Fa[2]*Xa[2]);ha=sa*sa-4*t*(Xa[0]*Xa[0]+Xa[1]*Xa[1]+Xa[2]*Xa[2]-ha[3]*ha[3]);if(0>ha)return!1;Xa=Math.sqrt(ha);ha=(-sa-Xa)/(2*t);t=(-sa+Xa)/(2*t);if(0>ha||t<ha&&0<t)ha=t;if(0>ha)return!1;ca&&(ca[0]=Ea[0]+Fa[0]*ha,ca[1]=Ea[1]+Fa[1]*ha,ca[2]=Ea[2]+
Fa[2]*ha);return!0}function X(ha,t){return Y(ha,t,null)}function x(ha,t,ca){if(Y(ha,t,ca))return ca;ha=E(ha,t,R.sv3d.get());m.add(ca,t.origin,m.scale(R.sv3d.get(),t.direction,m.distance(t.origin,ha)/m.length(t.direction)));return ca}function E(ha,t,ca){const Ea=R.sv3d.get(),Fa=R.sm4d.get();m.cross(Ea,t.origin,t.direction);const Xa=ha[3];m.cross(ca,Ea,t.origin);m.scale(ca,ca,1/m.length(ca)*Xa);ha=O(ha,t.origin);t=K.angle(t.origin,ca);y.fromRotation(Fa,t+ha,Ea);m.transformMat4(ca,ca,Fa);return ca}function ka(ha,
t,ca){if(Y(ha,t,ca))return ca;G.closestPoint(t,ha,ca);return V(ha,ca,ca)}function V(ha,t,ca){t=m.subtract(R.sv3d.get(),t,ha);t=m.scale(R.sv3d.get(),t,ha[3]/m.length(t));return m.add(ca,t,ha)}function ea(ha,t){t=m.subtract(R.sv3d.get(),t,ha);t=m.squaredLength(t);return Math.sqrt(Math.abs(t-ha[3]*ha[3]))}function O(ha,t){t=m.subtract(R.sv3d.get(),t,ha);t=m.length(t);ha=ha[3];return F.acosClamped(ha/(ha+Math.abs(ha-t)))}function na(ha,t,ca,Ea){ha=m.subtract(T,t,ha);switch(ca){case p.Axis.X:return ca=
F.cartesianToSpherical(ha,T)[2],m.set(Ea,-Math.sin(ca),Math.cos(ca),0);case p.Axis.Y:return ha=F.cartesianToSpherical(ha,T),ca=ha[1],ha=ha[2],t=Math.sin(ca),m.set(Ea,-t*Math.cos(ha),-t*Math.sin(ha),Math.cos(ca));case p.Axis.Z:return m.normalize(Ea,ha)}}function ta(ha,t){t=m.subtract(w,t,ha);return m.length(t)-ha[3]}function xa(ha,t,ca,Ea){const Fa=ta(ha,t);ha=na(ha,t,p.Axis.Z,w);ca=m.scale(w,ha,ca-Fa);return m.add(Ea,t,ca)}function ja(ha,t){t=m.squaredDistance(ha,t);ha=ha[3];return t<=ha*ha}const S=
n.create(),T=n.create(),w=n.create();b=A();n=Object.freeze(Object.defineProperty({__proto__:null,altitudeAt:ta,angleToSilhouette:O,axisAt:na,clear:Q,closestPoint:ka,closestPointOnSilhouette:E,containsPoint:ja,copy:f,create:A,distanceToSilhouette:ea,elevate:M,fromCenterAndRadius:r,fromRadius:D,fromValues:u,getCenter:J,getRadius:C,intersectRay:Y,intersectRayClosestSilhouette:x,intersectsRay:X,projectPoint:V,setAltitudeAt:xa,setExtent:L,tmpSphere:b,wrap:z},Symbol.toStringTag,{value:"Module"}));d.altitudeAt=
ta;d.angleToSilhouette=O;d.axisAt=na;d.clear=Q;d.closestPoint=ka;d.closestPointOnSilhouette=E;d.containsPoint=ja;d.copy=f;d.create=A;d.distanceToSilhouette=ea;d.elevate=M;d.fromCenterAndRadius=r;d.fromRadius=D;d.fromValues=u;d.getCenter=J;d.getRadius=C;d.intersectRay=Y;d.intersectRayClosestSilhouette=x;d.intersectsRay=X;d.projectPoint=V;d.setAltitudeAt=xa;d.setExtent=L;d.sphere=n;d.tmpSphere=b;d.wrap=z})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(d,b,W){function F(e,
q){e[0]=q[0];e[1]=q[1];e[2]=q[2];e[3]=q[3];e[4]=q[4];e[5]=q[5];e[6]=q[6];e[7]=q[7];e[8]=q[8];e[9]=q[9];e[10]=q[10];e[11]=q[11];e[12]=q[12];e[13]=q[13];e[14]=q[14];e[15]=q[15];return e}function I(e,q,ia,pa,za,B,P,da,aa,ma,ra,ua,Ca,Ba,La,Ja,Ma){e[0]=q;e[1]=ia;e[2]=pa;e[3]=za;e[4]=B;e[5]=P;e[6]=da;e[7]=aa;e[8]=ma;e[9]=ra;e[10]=ua;e[11]=Ca;e[12]=Ba;e[13]=La;e[14]=Ja;e[15]=Ma;return e}function y(e){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=0;e[13]=0;e[14]=
0;e[15]=1;return e}function m(e,q){if(e===q){const ia=q[1],pa=q[2],za=q[3],B=q[6],P=q[7],da=q[11];e[1]=q[4];e[2]=q[8];e[3]=q[12];e[4]=ia;e[6]=q[9];e[7]=q[13];e[8]=pa;e[9]=B;e[11]=q[14];e[12]=za;e[13]=P;e[14]=da}else e[0]=q[0],e[1]=q[4],e[2]=q[8],e[3]=q[12],e[4]=q[1],e[5]=q[5],e[6]=q[9],e[7]=q[13],e[8]=q[2],e[9]=q[6],e[10]=q[10],e[11]=q[14],e[12]=q[3],e[13]=q[7],e[14]=q[11],e[15]=q[15];return e}function n(e,q){g(e,q)||y(e);return e}function g(e,q){const ia=q[0],pa=q[1],za=q[2],B=q[3],P=q[4],da=q[5],
aa=q[6],ma=q[7],ra=q[8],ua=q[9],Ca=q[10],Ba=q[11],La=q[12],Ja=q[13],Ma=q[14];q=q[15];const Ua=ia*da-pa*P,Ra=ia*aa-za*P,Wa=ia*ma-B*P,Va=pa*aa-za*da,Pa=pa*ma-B*da,Ya=za*ma-B*aa,bb=ra*Ja-ua*La,Da=ra*Ma-Ca*La,wb=ra*q-Ba*La,sb=ua*Ma-Ca*Ja,ib=ua*q-Ba*Ja,c=Ca*q-Ba*Ma;let hb=Ua*c-Ra*ib+Wa*sb+Va*wb-Pa*Da+Ya*bb;if(!hb)return null;hb=1/hb;e[0]=(da*c-aa*ib+ma*sb)*hb;e[1]=(za*ib-pa*c-B*sb)*hb;e[2]=(Ja*Ya-Ma*Pa+q*Va)*hb;e[3]=(Ca*Pa-ua*Ya-Ba*Va)*hb;e[4]=(aa*wb-P*c-ma*Da)*hb;e[5]=(ia*c-za*wb+B*Da)*hb;e[6]=(Ma*Wa-
La*Ya-q*Ra)*hb;e[7]=(ra*Ya-Ca*Wa+Ba*Ra)*hb;e[8]=(P*ib-da*wb+ma*bb)*hb;e[9]=(pa*wb-ia*ib-B*bb)*hb;e[10]=(La*Pa-Ja*Wa+q*Ua)*hb;e[11]=(ua*Wa-ra*Pa-Ba*Ua)*hb;e[12]=(da*Da-P*sb-aa*bb)*hb;e[13]=(ia*sb-pa*Da+za*bb)*hb;e[14]=(Ja*Ra-La*Va-Ma*Ua)*hb;e[15]=(ra*Va-ua*Ra+Ca*Ua)*hb;return e}function k(e,q){const ia=q[0],pa=q[1],za=q[2],B=q[3],P=q[4],da=q[5],aa=q[6],ma=q[7],ra=q[8],ua=q[9],Ca=q[10],Ba=q[11],La=q[12],Ja=q[13],Ma=q[14];q=q[15];e[0]=da*(Ca*q-Ba*Ma)-ua*(aa*q-ma*Ma)+Ja*(aa*Ba-ma*Ca);e[1]=-(pa*(Ca*q-
Ba*Ma)-ua*(za*q-B*Ma)+Ja*(za*Ba-B*Ca));e[2]=pa*(aa*q-ma*Ma)-da*(za*q-B*Ma)+Ja*(za*ma-B*aa);e[3]=-(pa*(aa*Ba-ma*Ca)-da*(za*Ba-B*Ca)+ua*(za*ma-B*aa));e[4]=-(P*(Ca*q-Ba*Ma)-ra*(aa*q-ma*Ma)+La*(aa*Ba-ma*Ca));e[5]=ia*(Ca*q-Ba*Ma)-ra*(za*q-B*Ma)+La*(za*Ba-B*Ca);e[6]=-(ia*(aa*q-ma*Ma)-P*(za*q-B*Ma)+La*(za*ma-B*aa));e[7]=ia*(aa*Ba-ma*Ca)-P*(za*Ba-B*Ca)+ra*(za*ma-B*aa);e[8]=P*(ua*q-Ba*Ja)-ra*(da*q-ma*Ja)+La*(da*Ba-ma*ua);e[9]=-(ia*(ua*q-Ba*Ja)-ra*(pa*q-B*Ja)+La*(pa*Ba-B*ua));e[10]=ia*(da*q-ma*Ja)-P*(pa*q-
B*Ja)+La*(pa*ma-B*da);e[11]=-(ia*(da*Ba-ma*ua)-P*(pa*Ba-B*ua)+ra*(pa*ma-B*da));e[12]=-(P*(ua*Ma-Ca*Ja)-ra*(da*Ma-aa*Ja)+La*(da*Ca-aa*ua));e[13]=ia*(ua*Ma-Ca*Ja)-ra*(pa*Ma-za*Ja)+La*(pa*Ca-za*ua);e[14]=-(ia*(da*Ma-aa*Ja)-P*(pa*Ma-za*Ja)+La*(pa*aa-za*da));e[15]=ia*(da*Ca-aa*ua)-P*(pa*Ca-za*ua)+ra*(pa*aa-za*da);return e}function p(e){const q=e[0],ia=e[1],pa=e[2],za=e[3],B=e[4],P=e[5],da=e[6],aa=e[7],ma=e[8],ra=e[9],ua=e[10],Ca=e[11],Ba=e[12],La=e[13],Ja=e[14];e=e[15];return(q*P-ia*B)*(ua*e-Ca*Ja)-(q*
da-pa*B)*(ra*e-Ca*La)+(q*aa-za*B)*(ra*Ja-ua*La)+(ia*da-pa*P)*(ma*e-Ca*Ba)-(ia*aa-za*P)*(ma*Ja-ua*Ba)+(pa*aa-za*da)*(ma*La-ra*Ba)}function G(e,q,ia){const pa=q[0],za=q[1],B=q[2],P=q[3],da=q[4],aa=q[5],ma=q[6],ra=q[7],ua=q[8],Ca=q[9],Ba=q[10],La=q[11],Ja=q[12],Ma=q[13],Ua=q[14];q=q[15];let Ra=ia[0],Wa=ia[1],Va=ia[2],Pa=ia[3];e[0]=Ra*pa+Wa*da+Va*ua+Pa*Ja;e[1]=Ra*za+Wa*aa+Va*Ca+Pa*Ma;e[2]=Ra*B+Wa*ma+Va*Ba+Pa*Ua;e[3]=Ra*P+Wa*ra+Va*La+Pa*q;Ra=ia[4];Wa=ia[5];Va=ia[6];Pa=ia[7];e[4]=Ra*pa+Wa*da+Va*ua+Pa*Ja;
e[5]=Ra*za+Wa*aa+Va*Ca+Pa*Ma;e[6]=Ra*B+Wa*ma+Va*Ba+Pa*Ua;e[7]=Ra*P+Wa*ra+Va*La+Pa*q;Ra=ia[8];Wa=ia[9];Va=ia[10];Pa=ia[11];e[8]=Ra*pa+Wa*da+Va*ua+Pa*Ja;e[9]=Ra*za+Wa*aa+Va*Ca+Pa*Ma;e[10]=Ra*B+Wa*ma+Va*Ba+Pa*Ua;e[11]=Ra*P+Wa*ra+Va*La+Pa*q;Ra=ia[12];Wa=ia[13];Va=ia[14];Pa=ia[15];e[12]=Ra*pa+Wa*da+Va*ua+Pa*Ja;e[13]=Ra*za+Wa*aa+Va*Ca+Pa*Ma;e[14]=Ra*B+Wa*ma+Va*Ba+Pa*Ua;e[15]=Ra*P+Wa*ra+Va*La+Pa*q;return e}function K(e,q,ia){const pa=ia[0],za=ia[1];ia=ia[2];if(q===e)e[12]=q[0]*pa+q[4]*za+q[8]*ia+q[12],e[13]=
q[1]*pa+q[5]*za+q[9]*ia+q[13],e[14]=q[2]*pa+q[6]*za+q[10]*ia+q[14],e[15]=q[3]*pa+q[7]*za+q[11]*ia+q[15];else{const B=q[0],P=q[1],da=q[2],aa=q[3],ma=q[4],ra=q[5],ua=q[6],Ca=q[7],Ba=q[8],La=q[9],Ja=q[10],Ma=q[11];e[0]=B;e[1]=P;e[2]=da;e[3]=aa;e[4]=ma;e[5]=ra;e[6]=ua;e[7]=Ca;e[8]=Ba;e[9]=La;e[10]=Ja;e[11]=Ma;e[12]=B*pa+ma*za+Ba*ia+q[12];e[13]=P*pa+ra*za+La*ia+q[13];e[14]=da*pa+ua*za+Ja*ia+q[14];e[15]=aa*pa+Ca*za+Ma*ia+q[15]}return e}function R(e,q,ia){const pa=ia[0],za=ia[1];ia=ia[2];e[0]=q[0]*pa;e[1]=
q[1]*pa;e[2]=q[2]*pa;e[3]=q[3]*pa;e[4]=q[4]*za;e[5]=q[5]*za;e[6]=q[6]*za;e[7]=q[7]*za;e[8]=q[8]*ia;e[9]=q[9]*ia;e[10]=q[10]*ia;e[11]=q[11]*ia;e[12]=q[12];e[13]=q[13];e[14]=q[14];e[15]=q[15];return e}function A(e,q,ia,pa){let za=pa[0],B=pa[1];pa=pa[2];let P=Math.sqrt(za*za+B*B+pa*pa);var da=void 0,aa=void 0;let ma=void 0,ra=void 0,ua=void 0,Ca=void 0,Ba=void 0,La=void 0,Ja=void 0,Ma=void 0,Ua=void 0,Ra=void 0,Wa=void 0,Va=void 0,Pa=void 0,Ya=void 0,bb=void 0,Da=void 0,wb=void 0,sb=void 0,ib=void 0,
c=void 0;aa=da=void 0;if(P<W.getEpsilon())return null;P=1/P;za*=P;B*=P;pa*=P;da=Math.sin(ia);aa=Math.cos(ia);ma=1-aa;ra=q[0];ua=q[1];Ca=q[2];Ba=q[3];La=q[4];Ja=q[5];Ma=q[6];Ua=q[7];Ra=q[8];Wa=q[9];Va=q[10];Pa=q[11];Ya=za*za*ma+aa;bb=B*za*ma+pa*da;Da=pa*za*ma-B*da;wb=za*B*ma-pa*da;sb=B*B*ma+aa;ib=pa*B*ma+za*da;c=za*pa*ma+B*da;da=B*pa*ma-za*da;aa=pa*pa*ma+aa;e[0]=ra*Ya+La*bb+Ra*Da;e[1]=ua*Ya+Ja*bb+Wa*Da;e[2]=Ca*Ya+Ma*bb+Va*Da;e[3]=Ba*Ya+Ua*bb+Pa*Da;e[4]=ra*wb+La*sb+Ra*ib;e[5]=ua*wb+Ja*sb+Wa*ib;e[6]=
Ca*wb+Ma*sb+Va*ib;e[7]=Ba*wb+Ua*sb+Pa*ib;e[8]=ra*c+La*da+Ra*aa;e[9]=ua*c+Ja*da+Wa*aa;e[10]=Ca*c+Ma*da+Va*aa;e[11]=Ba*c+Ua*da+Pa*aa;q!==e&&(e[12]=q[12],e[13]=q[13],e[14]=q[14],e[15]=q[15]);return e}function f(e,q,ia){const pa=Math.sin(ia);ia=Math.cos(ia);const za=q[4],B=q[5],P=q[6],da=q[7],aa=q[8],ma=q[9],ra=q[10],ua=q[11];q!==e&&(e[0]=q[0],e[1]=q[1],e[2]=q[2],e[3]=q[3],e[12]=q[12],e[13]=q[13],e[14]=q[14],e[15]=q[15]);e[4]=za*ia+aa*pa;e[5]=B*ia+ma*pa;e[6]=P*ia+ra*pa;e[7]=da*ia+ua*pa;e[8]=aa*ia-za*
pa;e[9]=ma*ia-B*pa;e[10]=ra*ia-P*pa;e[11]=ua*ia-da*pa;return e}function r(e,q,ia){const pa=Math.sin(ia);ia=Math.cos(ia);const za=q[0],B=q[1],P=q[2],da=q[3],aa=q[8],ma=q[9],ra=q[10],ua=q[11];q!==e&&(e[4]=q[4],e[5]=q[5],e[6]=q[6],e[7]=q[7],e[12]=q[12],e[13]=q[13],e[14]=q[14],e[15]=q[15]);e[0]=za*ia-aa*pa;e[1]=B*ia-ma*pa;e[2]=P*ia-ra*pa;e[3]=da*ia-ua*pa;e[8]=za*pa+aa*ia;e[9]=B*pa+ma*ia;e[10]=P*pa+ra*ia;e[11]=da*pa+ua*ia;return e}function z(e,q,ia){const pa=Math.sin(ia);ia=Math.cos(ia);const za=q[0],
B=q[1],P=q[2],da=q[3],aa=q[4],ma=q[5],ra=q[6],ua=q[7];q!==e&&(e[8]=q[8],e[9]=q[9],e[10]=q[10],e[11]=q[11],e[12]=q[12],e[13]=q[13],e[14]=q[14],e[15]=q[15]);e[0]=za*ia+aa*pa;e[1]=B*ia+ma*pa;e[2]=P*ia+ra*pa;e[3]=da*ia+ua*pa;e[4]=aa*ia-za*pa;e[5]=ma*ia-B*pa;e[6]=ra*ia-P*pa;e[7]=ua*ia-da*pa;return e}function Q(e,q){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=q[0];e[13]=q[1];e[14]=q[2];e[15]=1;return e}function D(e,q){e[0]=q[0];e[1]=0;e[2]=0;e[3]=0;e[4]=0;
e[5]=q[1];e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=q[2];e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}function C(e,q,ia){if(0===q)return y(e);let pa=ia[0],za=ia[1];ia=ia[2];let B=Math.sqrt(pa*pa+za*za+ia*ia),P=void 0,da=void 0,aa=void 0;if(B<W.getEpsilon())return null;B=1/B;pa*=B;za*=B;ia*=B;P=Math.sin(q);da=Math.cos(q);aa=1-da;e[0]=pa*pa*aa+da;e[1]=za*pa*aa+ia*P;e[2]=ia*pa*aa-za*P;e[3]=0;e[4]=pa*za*aa-ia*P;e[5]=za*za*aa+da;e[6]=ia*za*aa+pa*P;e[7]=0;e[8]=pa*ia*aa+za*P;e[9]=za*ia*aa-pa*P;e[10]=ia*ia*aa+
da;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}function J(e,q){const ia=Math.sin(q);q=Math.cos(q);e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=q;e[6]=ia;e[7]=0;e[8]=0;e[9]=-ia;e[10]=q;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}function u(e,q){const ia=Math.sin(q);q=Math.cos(q);e[0]=q;e[1]=0;e[2]=-ia;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=ia;e[9]=0;e[10]=q;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}function M(e,q){const ia=Math.sin(q);q=Math.cos(q);e[0]=q;e[1]=ia;e[2]=0;e[3]=0;e[4]=-ia;
e[5]=q;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}function L(e,q,ia){var pa=q[0],za=q[1],B=q[2],P=q[3],da=pa+pa,aa=za+za;const ma=B+B;q=pa*da;const ra=pa*aa;pa*=ma;const ua=za*aa;za*=ma;B*=ma;da*=P;aa*=P;P*=ma;e[0]=1-(ua+B);e[1]=ra+P;e[2]=pa-aa;e[3]=0;e[4]=ra-P;e[5]=1-(q+B);e[6]=za+da;e[7]=0;e[8]=pa+aa;e[9]=za-da;e[10]=1-(q+ua);e[11]=0;e[12]=ia[0];e[13]=ia[1];e[14]=ia[2];e[15]=1;return e}function Y(e,q){const ia=Ia,pa=-q[0],za=-q[1],B=-q[2],P=q[3],da=q[4],
aa=q[5],ma=q[6],ra=q[7],ua=pa*pa+za*za+B*B+P*P;0<ua?(ia[0]=2*(da*P+ra*pa+aa*B-ma*za)/ua,ia[1]=2*(aa*P+ra*za+ma*pa-da*B)/ua,ia[2]=2*(ma*P+ra*B+da*za-aa*pa)/ua):(ia[0]=2*(da*P+ra*pa+aa*B-ma*za),ia[1]=2*(aa*P+ra*za+ma*pa-da*B),ia[2]=2*(ma*P+ra*B+da*za-aa*pa));L(e,q,ia);return e}function X(e,q){e[0]=q[12];e[1]=q[13];e[2]=q[14];return e}function x(e,q){const ia=q[0],pa=q[1],za=q[2],B=q[4],P=q[5],da=q[6],aa=q[8],ma=q[9];q=q[10];e[0]=Math.sqrt(ia*ia+pa*pa+za*za);e[1]=Math.sqrt(B*B+P*P+da*da);e[2]=Math.sqrt(aa*
aa+ma*ma+q*q);return e}function E(e,q){const ia=q[0]+q[5]+q[10];let pa=0;0<ia?(pa=2*Math.sqrt(ia+1),e[3]=.25*pa,e[0]=(q[6]-q[9])/pa,e[1]=(q[8]-q[2])/pa,e[2]=(q[1]-q[4])/pa):q[0]>q[5]&&q[0]>q[10]?(pa=2*Math.sqrt(1+q[0]-q[5]-q[10]),e[3]=(q[6]-q[9])/pa,e[0]=.25*pa,e[1]=(q[1]+q[4])/pa,e[2]=(q[8]+q[2])/pa):q[5]>q[10]?(pa=2*Math.sqrt(1+q[5]-q[0]-q[10]),e[3]=(q[8]-q[2])/pa,e[0]=(q[1]+q[4])/pa,e[1]=.25*pa,e[2]=(q[6]+q[9])/pa):(pa=2*Math.sqrt(1+q[10]-q[0]-q[5]),e[3]=(q[1]-q[4])/pa,e[0]=(q[8]+q[2])/pa,e[1]=
(q[6]+q[9])/pa,e[2]=.25*pa);return e}function ka(e,q,ia,pa){var za=q[0],B=q[1],P=q[2],da=q[3],aa=za+za,ma=B+B,ra=P+P;q=za*aa;const ua=za*ma;za*=ra;const Ca=B*ma;B*=ra;P*=ra;aa*=da;ma*=da;da*=ra;ra=pa[0];const Ba=pa[1];pa=pa[2];e[0]=(1-(Ca+P))*ra;e[1]=(ua+da)*ra;e[2]=(za-ma)*ra;e[3]=0;e[4]=(ua-da)*Ba;e[5]=(1-(q+P))*Ba;e[6]=(B+aa)*Ba;e[7]=0;e[8]=(za+ma)*pa;e[9]=(B-aa)*pa;e[10]=(1-(q+Ca))*pa;e[11]=0;e[12]=ia[0];e[13]=ia[1];e[14]=ia[2];e[15]=1;return e}function V(e,q,ia,pa,za){var B=q[0],P=q[1],da=q[2],
aa=q[3],ma=B+B,ra=P+P,ua=da+da;q=B*ma;var Ca=B*ra,Ba=B*ua;B=P*ra;P*=ua;var La=da*ua;da=aa*ma;ra*=aa;const Ja=aa*ua;var Ma=pa[0],Ua=pa[1];ua=pa[2];pa=za[0];aa=za[1];za=za[2];ma=(1-(B+La))*Ma;const Ra=(Ca+Ja)*Ma;Ma*=Ba-ra;Ca=(Ca-Ja)*Ua;La=(1-(q+La))*Ua;Ua*=P+da;Ba=(Ba+ra)*ua;P=(P-da)*ua;q=(1-(q+B))*ua;e[0]=ma;e[1]=Ra;e[2]=Ma;e[3]=0;e[4]=Ca;e[5]=La;e[6]=Ua;e[7]=0;e[8]=Ba;e[9]=P;e[10]=q;e[11]=0;e[12]=ia[0]+pa-(ma*pa+Ca*aa+Ba*za);e[13]=ia[1]+aa-(Ra*pa+La*aa+P*za);e[14]=ia[2]+za-(Ma*pa+Ua*aa+q*za);e[15]=
1;return e}function ea(e,q){var ia=q[0],pa=q[1],za=q[2];q=q[3];var B=ia+ia,P=pa+pa;const da=za+za;ia*=B;const aa=pa*B;pa*=P;const ma=za*B,ra=za*P;za*=da;B*=q;P*=q;q*=da;e[0]=1-pa-za;e[1]=aa+q;e[2]=ma-P;e[3]=0;e[4]=aa-q;e[5]=1-ia-za;e[6]=ra+B;e[7]=0;e[8]=ma+P;e[9]=ra-B;e[10]=1-ia-pa;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}function O(e,q,ia,pa,za,B,P){const da=1/(ia-q),aa=1/(za-pa),ma=1/(B-P);e[0]=2*B*da;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=2*B*aa;e[6]=0;e[7]=0;e[8]=(ia+q)*da;e[9]=(za+pa)*aa;e[10]=
(P+B)*ma;e[11]=-1;e[12]=0;e[13]=0;e[14]=P*B*2*ma;e[15]=0;return e}function na(e,q,ia,pa,za){q=1/Math.tan(q/2);let B=void 0;e[0]=q/ia;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=q;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[11]=-1;e[12]=0;e[13]=0;e[15]=0;null!=za&&Infinity!==za?(B=1/(pa-za),e[10]=(za+pa)*B,e[14]=2*za*pa*B):(e[10]=-1,e[14]=-2*pa);return e}function ta(e,q,ia,pa){const za=Math.tan(q.upDegrees*Math.PI/180),B=Math.tan(q.downDegrees*Math.PI/180),P=Math.tan(q.leftDegrees*Math.PI/180);q=Math.tan(q.rightDegrees*Math.PI/
180);const da=2/(P+q),aa=2/(za+B);e[0]=da;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=aa;e[6]=0;e[7]=0;e[8]=-((P-q)*da*.5);e[9]=(za-B)*aa*.5;e[10]=pa/(ia-pa);e[11]=-1;e[12]=0;e[13]=0;e[14]=pa*ia/(ia-pa);e[15]=0;return e}function xa(e,q,ia,pa,za,B,P){const da=1/(q-ia),aa=1/(pa-za),ma=1/(B-P);e[0]=-2*da;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=-2*aa;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=2*ma;e[11]=0;e[12]=(q+ia)*da;e[13]=(za+pa)*aa;e[14]=(P+B)*ma;e[15]=1;return e}function ja(e,q,ia,pa){var za=void 0;let B=void 0;var P=void 0,
da=void 0;let aa=void 0,ma=void 0;var ra=void 0,ua=void 0;let Ca=void 0,Ba=void 0;const La=q[0],Ja=q[1];q=q[2];P=pa[0];da=pa[1];pa=pa[2];ra=ia[0];ua=ia[1];ia=ia[2];za=W.getEpsilon();if(Math.abs(La-ra)<za&&Math.abs(Ja-ua)<za&&Math.abs(q-ia)<za)return y(e);ra=La-ra;ua=Ja-ua;Ca=q-ia;Ba=1/Math.sqrt(ra*ra+ua*ua+Ca*Ca);ra*=Ba;ua*=Ba;Ca*=Ba;za=da*Ca-pa*ua;B=pa*ra-P*Ca;P=P*ua-da*ra;(Ba=Math.sqrt(za*za+B*B+P*P))?(Ba=1/Ba,za*=Ba,B*=Ba,P*=Ba):P=B=za=0;da=ua*P-Ca*B;aa=Ca*za-ra*P;ma=ra*B-ua*za;(Ba=Math.sqrt(da*
da+aa*aa+ma*ma))?(Ba=1/Ba,da*=Ba,aa*=Ba,ma*=Ba):ma=aa=da=0;e[0]=za;e[1]=da;e[2]=ra;e[3]=0;e[4]=B;e[5]=aa;e[6]=ua;e[7]=0;e[8]=P;e[9]=ma;e[10]=Ca;e[11]=0;e[12]=-(za*La+B*Ja+P*q);e[13]=-(da*La+aa*Ja+ma*q);e[14]=-(ra*La+ua*Ja+Ca*q);e[15]=1;return e}function S(e,q,ia,pa){const za=q[0],B=q[1];q=q[2];var P=pa[0];const da=pa[1];var aa=pa[2];pa=za-ia[0];let ma=B-ia[1];ia=q-ia[2];let ra=pa*pa+ma*ma+ia*ia;0<ra&&(ra=1/Math.sqrt(ra),pa*=ra,ma*=ra,ia*=ra);let ua=da*ia-aa*ma;aa=aa*pa-P*ia;P=P*ma-da*pa;ra=ua*ua+
aa*aa+P*P;0<ra&&(ra=1/Math.sqrt(ra),ua*=ra,aa*=ra,P*=ra);e[0]=ua;e[1]=aa;e[2]=P;e[3]=0;e[4]=ma*P-ia*aa;e[5]=ia*ua-pa*P;e[6]=pa*aa-ma*ua;e[7]=0;e[8]=pa;e[9]=ma;e[10]=ia;e[11]=0;e[12]=za;e[13]=B;e[14]=q;e[15]=1;return e}function T(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function w(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**
2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function ha(e,q,ia){e[0]=q[0]+ia[0];e[1]=q[1]+ia[1];e[2]=q[2]+ia[2];e[3]=q[3]+ia[3];e[4]=q[4]+ia[4];e[5]=q[5]+ia[5];e[6]=q[6]+ia[6];e[7]=q[7]+ia[7];e[8]=q[8]+ia[8];e[9]=q[9]+ia[9];e[10]=q[10]+ia[10];e[11]=q[11]+ia[11];e[12]=q[12]+ia[12];e[13]=q[13]+ia[13];e[14]=q[14]+ia[14];e[15]=q[15]+ia[15];return e}function t(e,q,ia){e[0]=q[0]-ia[0];e[1]=q[1]-ia[1];e[2]=q[2]-ia[2];e[3]=q[3]-ia[3];e[4]=q[4]-ia[4];e[5]=q[5]-ia[5];e[6]=q[6]-
ia[6];e[7]=q[7]-ia[7];e[8]=q[8]-ia[8];e[9]=q[9]-ia[9];e[10]=q[10]-ia[10];e[11]=q[11]-ia[11];e[12]=q[12]-ia[12];e[13]=q[13]-ia[13];e[14]=q[14]-ia[14];e[15]=q[15]-ia[15];return e}function ca(e,q,ia){e[0]=q[0]*ia;e[1]=q[1]*ia;e[2]=q[2]*ia;e[3]=q[3]*ia;e[4]=q[4]*ia;e[5]=q[5]*ia;e[6]=q[6]*ia;e[7]=q[7]*ia;e[8]=q[8]*ia;e[9]=q[9]*ia;e[10]=q[10]*ia;e[11]=q[11]*ia;e[12]=q[12]*ia;e[13]=q[13]*ia;e[14]=q[14]*ia;e[15]=q[15]*ia;return e}function Ea(e,q,ia,pa){e[0]=q[0]+ia[0]*pa;e[1]=q[1]+ia[1]*pa;e[2]=q[2]+ia[2]*
pa;e[3]=q[3]+ia[3]*pa;e[4]=q[4]+ia[4]*pa;e[5]=q[5]+ia[5]*pa;e[6]=q[6]+ia[6]*pa;e[7]=q[7]+ia[7]*pa;e[8]=q[8]+ia[8]*pa;e[9]=q[9]+ia[9]*pa;e[10]=q[10]+ia[10]*pa;e[11]=q[11]+ia[11]*pa;e[12]=q[12]+ia[12]*pa;e[13]=q[13]+ia[13]*pa;e[14]=q[14]+ia[14]*pa;e[15]=q[15]+ia[15]*pa;return e}function Fa(e,q){return e[0]===q[0]&&e[1]===q[1]&&e[2]===q[2]&&e[3]===q[3]&&e[4]===q[4]&&e[5]===q[5]&&e[6]===q[6]&&e[7]===q[7]&&e[8]===q[8]&&e[9]===q[9]&&e[10]===q[10]&&e[11]===q[11]&&e[12]===q[12]&&e[13]===q[13]&&e[14]===q[14]&&
e[15]===q[15]}function Xa(e,q){if(e===q)return!0;const ia=e[0],pa=e[1],za=e[2],B=e[3],P=e[4],da=e[5],aa=e[6],ma=e[7],ra=e[8],ua=e[9],Ca=e[10],Ba=e[11],La=e[12],Ja=e[13],Ma=e[14];e=e[15];const Ua=q[0],Ra=q[1],Wa=q[2],Va=q[3],Pa=q[4],Ya=q[5],bb=q[6],Da=q[7],wb=q[8],sb=q[9],ib=q[10],c=q[11],hb=q[12],Ib=q[13],Rb=q[14];q=q[15];const nb=W.getEpsilon();return Math.abs(ia-Ua)<=nb*Math.max(1,Math.abs(ia),Math.abs(Ua))&&Math.abs(pa-Ra)<=nb*Math.max(1,Math.abs(pa),Math.abs(Ra))&&Math.abs(za-Wa)<=nb*Math.max(1,
Math.abs(za),Math.abs(Wa))&&Math.abs(B-Va)<=nb*Math.max(1,Math.abs(B),Math.abs(Va))&&Math.abs(P-Pa)<=nb*Math.max(1,Math.abs(P),Math.abs(Pa))&&Math.abs(da-Ya)<=nb*Math.max(1,Math.abs(da),Math.abs(Ya))&&Math.abs(aa-bb)<=nb*Math.max(1,Math.abs(aa),Math.abs(bb))&&Math.abs(ma-Da)<=nb*Math.max(1,Math.abs(ma),Math.abs(Da))&&Math.abs(ra-wb)<=nb*Math.max(1,Math.abs(ra),Math.abs(wb))&&Math.abs(ua-sb)<=nb*Math.max(1,Math.abs(ua),Math.abs(sb))&&Math.abs(Ca-ib)<=nb*Math.max(1,Math.abs(Ca),Math.abs(ib))&&Math.abs(Ba-
c)<=nb*Math.max(1,Math.abs(Ba),Math.abs(c))&&Math.abs(La-hb)<=nb*Math.max(1,Math.abs(La),Math.abs(hb))&&Math.abs(Ja-Ib)<=nb*Math.max(1,Math.abs(Ja),Math.abs(Ib))&&Math.abs(Ma-Rb)<=nb*Math.max(1,Math.abs(Ma),Math.abs(Rb))&&Math.abs(e-q)<=nb*Math.max(1,Math.abs(e),Math.abs(q))}function sa(e){const q=W.getEpsilon(),ia=e[0],pa=e[1],za=e[2],B=e[4],P=e[5],da=e[6],aa=e[8],ma=e[9];e=e[10];return Math.abs(1-(ia*ia+B*B+aa*aa))<=q&&Math.abs(1-(pa*pa+P*P+ma*ma))<=q&&Math.abs(1-(za*za+da*da+e*e))<=q}function ya(e){return 1===
e[0]&&0===e[1]&&0===e[2]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[8]&&0===e[9]&&1===e[10]}const Ia=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:ha,adjoint:k,copy:F,determinant:p,equals:Xa,exactEquals:Fa,frob:w,fromQuat:ea,fromQuat2:Y,fromRotation:C,fromRotationTranslation:L,fromRotationTranslationScale:ka,fromRotationTranslationScaleOrigin:V,fromScaling:D,fromTranslation:Q,fromXRotation:J,fromYRotation:u,fromZRotation:M,frustum:O,getRotation:E,getScaling:x,getTranslation:X,hasIdentityRotation:ya,
identity:y,invert:g,invertOrIdentity:n,isOrthoNormal:sa,lookAt:ja,mul:G,multiply:G,multiplyScalar:ca,multiplyScalarAndAdd:Ea,ortho:xa,perspective:na,perspectiveFromFieldOfView:ta,rotate:A,rotateX:f,rotateY:r,rotateZ:z,scale:R,set:I,str:T,sub:t,subtract:t,targetTo:S,translate:K,transpose:m},Symbol.toStringTag,{value:"Module"}));d.add=ha;d.adjoint=k;d.copy=F;d.determinant=p;d.equals=Xa;d.exactEquals=Fa;d.frob=w;d.fromQuat=ea;d.fromQuat2=Y;d.fromRotation=C;d.fromRotationTranslation=L;d.fromRotationTranslationScale=
ka;d.fromRotationTranslationScaleOrigin=V;d.fromScaling=D;d.fromTranslation=Q;d.fromXRotation=J;d.fromYRotation=u;d.fromZRotation=M;d.frustum=O;d.getRotation=E;d.getScaling=x;d.getTranslation=X;d.hasIdentityRotation=ya;d.identity=y;d.invert=g;d.invertOrIdentity=n;d.isOrthoNormal=sa;d.lookAt=ja;d.mat4=b;d.mul=G;d.multiply=G;d.multiplyScalar=ca;d.multiplyScalarAndAdd=Ea;d.ortho=xa;d.perspective=na;d.perspectiveFromFieldOfView=ta;d.rotate=A;d.rotateX=f;d.rotateY=r;d.rotateZ=z;d.scale=R;d.set=I;d.str=
T;d.sub=t;d.subtract=t;d.targetTo=S;d.translate=K;d.transpose=m})},"esri/geometry/support/Axis":function(){define(["exports"],function(d){d.Axis=void 0;var b=d.Axis||(d.Axis={});b[b.X=0]="X";b[b.Y=1]="Y";b[b.Z=2]="Z";Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../chunks/vec3 ../../chunks/vec3f64 ./vectorStacks".split(" "),function(d,b,W,F,I,y){function m(G){return G?n(I.clone(G.origin),
I.clone(G.direction)):n(I.create(),I.create())}function n(G,K){return{origin:G,direction:K}}function g(G,K,R=m()){F.copy(R.origin,G);F.copy(R.direction,K);return R}function k(G,K){G=F.cross(y.sv3d.get(),F.normalize(y.sv3d.get(),G.direction),F.subtract(y.sv3d.get(),K,G.origin));return F.dot(G,G)}const p=new W.ObjectStack(()=>m());d.closestPoint=function(G,K,R){K=F.dot(G.direction,F.subtract(R,K,G.origin));F.add(R,G.origin,F.scale(R,G.direction,K));return R};d.copy=function(G,K=m()){return g(G.origin,
G.direction,K)};d.create=m;d.distance=function(G,K){return Math.sqrt(k(G,K))};d.distance2=k;d.equals=function(G,K){return b.equals(G.origin,K.origin)&&b.equals(G.direction,K.direction)};d.fromPoints=function(G,K,R=m()){F.copy(R.origin,G);F.subtract(R.direction,K,G);return R};d.fromValues=g;d.wrap=function(G,K){const R=p.get();R.origin=G;R.direction=K;return R};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vector":function(){define(["exports","../../core/mathUtils",
"../../chunks/vec3","../../chunks/vec3f64"],function(d,b,W,F){const I=F.create(),y=F.create();d.angle=function(m,n){m=W.dot(m,n)/(W.length(m)*W.length(n));return-b.acosClamped(m)};d.angleAroundAxis=function(m,n,g){W.normalize(I,m);W.normalize(y,n);m=W.dot(I,y);m=b.acosClamped(m);n=W.cross(I,I,y);return 0>W.dot(n,g)?2*Math.PI-m:m};d.projectPoint=function(m,n,g){n=W.dot(m,n)/W.dot(m,m);return W.scale(g,m,n)};d.projectPointSignedLength=function(m,n){return W.dot(m,n)/W.length(m)};Object.defineProperty(d,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/QueryEngineResult":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../geometry/support/centroid ../../../geometry/support/extentUtils ../../../geometry/support/quantizationUtils ../../../geometry/support/spatialReferenceUtils ./AttributesBuilder ./projectionSupport ./SnappingCandidate ./utils ../../support/fieldUtils ../../../statistics/utils ../../../support/arcadeOnDemand".split(" "),
function(d,b,W,F,I,y,m,n,g,k,p,G,K,R,A){function f(D,C,J,u){const M=u.x-J.x;u=u.y-J.y;C=Math.min(1,Math.max(0,((C.x-J.x)*M+(C.y-J.y)*u)/(M*M+u*u)));D.x=J.x+M*C;D.y=J.y+u*C}function r(D,C){return D?C?4:3:C?3:2}let z=function(){function D(J,u,M){this.items=J;this.query=u;this.geometryType=M.geometryType;this.hasM=M.hasM;this.hasZ=M.hasZ;this.fieldsIndex=M.fieldsIndex;this.objectIdField=M.objectIdField;this.spatialReference=M.spatialReference;this.featureAdapter=M.featureAdapter}var C=D.prototype;C.createQueryResponseForCount=
function(){const J=new g(this.query,this.featureAdapter,this.fieldsIndex);if(!this.query.outStatistics)return J.countDistinctValues(this.items);const {groupByFieldsForStatistics:u,having:M,outStatistics:L}=this.query;if(!u?.length)return 1;const Y=new Map,X=new Map,x=new Set;for(const V of L){var {statisticType:E}=V;E="exceedslimit"!==E?V.onStatisticField:void 0;if(!X.has(E)){var ka=[];for(const ea of u){const O=this._getAttributeValues(J,ea,Y);ka.push(O)}X.set(E,this._calculateUniqueValues(ka,J.returnDistinctValues))}E=
X.get(E);for(const ea in E){const {data:O,items:na}=E[ea];ka=O.join(",");M&&!J.validateItems(na,M)||x.add(ka)}}return x.size};C.createQueryResponse=async function(){let J;J=this.query.outStatistics?this.query.outStatistics.some(u=>"exceedslimit"===u.statisticType)?this._createExceedsLimitQueryResponse(this.query):await this._createStatisticsQueryResponse(this.query):this._createFeatureQueryResponse(this.query);if(this.query.returnQueryGeometry){const u=this.query.geometry;n.isValid(this.query.outSR)&&
!n.equals(u.spatialReference,this.query.outSR)?J.queryGeometry=G.cleanFromGeometryEngine({spatialReference:this.query.outSR,...k.project(u,u.spatialReference,this.query.outSR)}):J.queryGeometry=G.cleanFromGeometryEngine({spatialReference:this.query.outSR,...u})}return J};C.createSnappingResponse=function(J,u){const M=this.featureAdapter,L=r(this.hasZ,this.hasM),{point:Y,mode:X}=J,x="number"===typeof J.distance?J.distance:J.distance.x,E="number"===typeof J.distance?J.distance:J.distance.y,ka={candidates:[]},
V="esriGeometryPolygon"===this.geometryType;u=this._getPointCreator(X,this.spatialReference,u);const ea=new Q(null,0),O=new Q(null,0),na={x:0,y:0,z:0};for(const ha of this.items){var ta=M.getGeometry(ha);if(F.isNone(ta))continue;const {coords:t,lengths:ca}=ta;ea.coords=t;O.coords=t;if(J.types&b.SnappingTypes.EDGE){ta=0;for(var xa=0;xa<ca.length;xa++){var ja=ca[xa];for(var S=0;S<ja;S++,ta+=L){var T=ea;T.coordsIndex=ta;if(S!==ja-1){const Ea=O;Ea.coordsIndex=ta+L;const Fa=na;f(na,Y,T,Ea);var w=(Y.x-
Fa.x)/x;const Xa=(Y.y-Fa.y)/E;w=w*w+Xa*Xa;1>=w&&ka.candidates.push(p.makeEdgeCandidate(M.getObjectId(ha),u(Fa),Math.sqrt(w),u(T),u(Ea)))}}}}if(J.types&b.SnappingTypes.VERTEX)for(ta=V?t.length-L:t.length,xa=0;xa<ta;xa+=L)ja=ea,ja.coordsIndex=xa,S=(Y.x-ja.x)/x,T=(Y.y-ja.y)/E,S=S*S+T*T,1>=S&&ka.candidates.push(p.makeVertexCandidate(M.getObjectId(ha),u(ja),Math.sqrt(S)))}ka.candidates.sort((ha,t)=>ha.distance-t.distance);return ka};C._getPointCreator=function(J,u,M){const L=F.isSome(M)&&!n.equals(u,M)?
X=>k.project(X,u,M):X=>X,{hasZ:Y}=this;return"3d"===J?Y?({x:X,y:x,z:E})=>L({x:X,y:x,z:E}):({x:X,y:x})=>L({x:X,y:x,z:0}):({x:X,y:x})=>L({x:X,y:x})};C.createSummaryStatisticsResponse=async function(J){const {field:u,valueExpression:M,normalizationField:L,normalizationType:Y,normalizationTotal:X,minValue:x,maxValue:E,scale:ka}=J;J=this.fieldsIndex.isDateField(u);var V=await this._getDataValues({field:u,valueExpression:M,normalizationField:L,normalizationType:Y,normalizationTotal:X,scale:ka});const ea=
R.isNullCountSupported({normalizationType:Y,normalizationField:L,minValue:x,maxValue:E}),O=this.fieldsIndex.get(u),na={value:.5,fieldType:O?.type};V=K.isStringField(O)?R.calculateStringStatistics({values:V,supportsNullCount:ea,percentileParams:na}):R.calculateStatistics({values:V,minValue:x,maxValue:E,useSampleStdDev:!Y,supportsNullCount:ea,percentileParams:na});return R.processSummaryStatisticsResult(V,J)};C.createUniqueValuesResponse=async function(J){const {field:u,valueExpression:M,domains:L,
returnAllCodedValues:Y,scale:X}=J;var x=await this._getDataValues({field:u,field2:J.field2,field3:J.field3,fieldDelimiter:J.fieldDelimiter,valueExpression:M,scale:X});x=R.calculateUniqueValuesCount(x);return R.createUVResult(x,L,Y,J.fieldDelimiter)};C.createClassBreaksResponse=async function(J){const {field:u,valueExpression:M,normalizationField:L,normalizationType:Y,normalizationTotal:X,classificationMethod:x,standardDeviationInterval:E,minValue:ka,maxValue:V,numClasses:ea,scale:O}=J;J=await this._getDataValues({field:u,
valueExpression:M,normalizationField:L,normalizationType:Y,normalizationTotal:X,scale:O});J=R.calculateClassBreaks(J,{field:u,normalizationField:L,normalizationType:Y,normalizationTotal:X,classificationMethod:x,standardDeviationInterval:E,minValue:ka,maxValue:V,numClasses:ea});return R.resolveCBResult(J,x)};C.createHistogramResponse=async function(J){const {field:u,valueExpression:M,normalizationField:L,normalizationType:Y,normalizationTotal:X,classificationMethod:x,standardDeviationInterval:E,minValue:ka,
maxValue:V,numBins:ea,scale:O}=J;J=await this._getDataValues({field:u,valueExpression:M,normalizationField:L,normalizationType:Y,normalizationTotal:X,scale:O});return R.calculateHistogram(J,{field:u,normalizationField:L,normalizationType:Y,normalizationTotal:X,classificationMethod:x,standardDeviationInterval:E,minValue:ka,maxValue:V,numBins:ea})};C._sortFeatures=function(J,u,M){if(1<J.length&&u&&u.length)for(const L of u.reverse()){u=L.split(" ");const Y=u[0],X=this.fieldsIndex.get(Y);u=u[1]?"desc"===
u[1].toLowerCase():!1;const x=R.getAttributeComparator(X?.type,u);J.sort((E,ka)=>{E=M(E,Y,X);ka=M(ka,Y,X);return x(E,ka)})}};C._createFeatureQueryResponse=function(J){const u=this.items,{geometryType:M,hasM:L,hasZ:Y,objectIdField:X,spatialReference:x}=this,{outFields:E,outSR:ka,quantizationParameters:V,resultRecordCount:ea,resultOffset:O,returnZ:na,returnM:ta}=J,xa=null!=ea?u.length>(O||0)+ea:!1,ja=E&&(E.includes("*")?[...this.fieldsIndex.fields]:E.map(S=>this.fieldsIndex.get(S)));return{exceededTransferLimit:xa,
features:this._createFeatures(J,u),fields:ja,geometryType:M,hasM:L&&ta,hasZ:Y&&na,objectIdFieldName:X,spatialReference:G.cleanFromGeometryEngine(ka||x),transform:V&&m.toQuantizationTransform(V)||null}};C._createFeatures=function(J,u){const M=new g(J,this.featureAdapter,this.fieldsIndex),{hasM:L,hasZ:Y}=this,{orderByFields:X,quantizationParameters:x,returnGeometry:E,returnCentroid:ka,maxAllowableOffset:V,resultOffset:ea,resultRecordCount:O,returnZ:na=!1,returnM:ta=!1}=J,xa=Y&&na,ja=L&&ta;J=[];var S=
0;u=[...u];this._sortFeatures(u,X,(ha,t,ca)=>M.getFieldValue(ha,t,ca));if(E||ka){var T=m.toQuantizationTransform(x)??void 0;if(E&&!ka)for(var w of u)J[S++]={attributes:M.getAttributes(w),geometry:G.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(w),V,T,xa,ja)};else if(!E&&ka)for(const ha of u)J[S++]={attributes:M.getAttributes(ha),centroid:G.transformCentroid(this,this.featureAdapter.getCentroid(ha,this),T)};else for(const ha of u)J[S++]={attributes:M.getAttributes(ha),
centroid:G.transformCentroid(this,this.featureAdapter.getCentroid(ha,this),T),geometry:G.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(ha),V,T,xa,ja)}}else for(T of u)(w=M.getAttributes(T))&&(J[S++]={attributes:w});S=ea||0;null!=O&&(J=J.slice(S,Math.min(J.length,S+O)));return J};C._createExceedsLimitQueryResponse=function(J){var u=!1;let M=Number.POSITIVE_INFINITY,L=Number.POSITIVE_INFINITY;u=Number.POSITIVE_INFINITY;for(const Y of J.outStatistics??[])if("exceedslimit"===
Y.statisticType){M=null!=Y.maxPointCount?Y.maxPointCount:Number.POSITIVE_INFINITY;L=null!=Y.maxRecordCount?Y.maxRecordCount:Number.POSITIVE_INFINITY;u=null!=Y.maxVertexCount?Y.maxVertexCount:Number.POSITIVE_INFINITY;break}if("esriGeometryPoint"===this.geometryType)u=this.items.length>M;else if(this.items.length>L)u=!0;else{J=r(this.hasZ,this.hasM);const Y=this.featureAdapter;u=this.items.reduce((X,x)=>{x=Y.getGeometry(x);return X+(F.isSome(x)&&x.coords.length||0)},0)/J>u}return{fields:[{name:"exceedslimit",
type:"esriFieldTypeInteger",alias:"exceedslimit",sqlType:"sqlTypeInteger",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(u)}}]}};C._createStatisticsQueryResponse=async function(J){var u={attributes:{}};const M=[],L=new Map,Y=new Map,X=new Map,x=new Map,E=new g(J,this.featureAdapter,this.fieldsIndex);var ka=J.outStatistics;const {groupByFieldsForStatistics:V,having:ea,orderByFields:O}=J;J=V&&V.length;const na=!!J,ta=na?V[0]:null,xa=na&&!this.fieldsIndex.get(ta);for(const ha of ka??
[]){const {outStatisticFieldName:t,statisticType:ca}=ha;ka=ha;var ja="exceedslimit"!==ca?ha.onStatisticField:void 0;const Ea="percentile_disc"===ca||"percentile_cont"===ca,Fa="EnvelopeAggregate"===ca||"CentroidAggregate"===ca||"ConvexHullAggregate"===ca,Xa=na&&1===J&&(ja===ta||xa)&&"count"===ca;if(na){if(!X.has(ja)){var S=[];for(const sa of V){var T=this._getAttributeValues(E,sa,L);S.push(T)}X.set(ja,this._calculateUniqueValues(S,Fa?!1:E.returnDistinctValues))}S=X.get(ja);for(const sa in S){const {count:ya,
data:Ia,items:e,itemPositions:q}=S[sa];T=Ia.join(",");if(!ea||E.validateItems(e,ea)){const ia=x.get(T)||{attributes:{}};if(Fa){ia.aggregateGeometries||(ia.aggregateGeometries={});const {aggregateGeometries:za,outStatisticFieldName:B}=await this._getAggregateGeometry(ka,e);ia.aggregateGeometries[B]=za}else{var w=null;if(Xa)w=ya;else{const za=this._getAttributeValues(E,ja,L);w=q.map(B=>za[B]);w=Ea&&"statisticParameters"in ka?this._getPercentileValue(ka,w):this._getStatisticValue(ka,w,null,E.returnDistinctValues)}ia.attributes[t]=
w}let pa=0;V.forEach((za,B)=>ia.attributes[this.fieldsIndex.get(za)?za:`EXPR_${++pa}`]=Ia[B]);x.set(T,ia)}}}else if(Fa){u.aggregateGeometries||(u.aggregateGeometries={});const {aggregateGeometries:sa,outStatisticFieldName:ya}=await this._getAggregateGeometry(ka,this.items);u.aggregateGeometries[ya]=sa}else ja=this._getAttributeValues(E,ja,L),u.attributes[t]=Ea&&"statisticParameters"in ka?this._getPercentileValue(ka,ja):this._getStatisticValue(ka,ja,Y,E.returnDistinctValues);M.push({name:t,alias:t,
type:"esriFieldTypeDouble"})}u=na?Array.from(x.values()):[u];this._sortFeatures(u,O,(ha,t)=>ha.attributes[t]);return{fields:M,features:u}};C._getAggregateGeometry=async function(J,u){var M=await new Promise((O,na)=>d(["../../../geometry/geometryEngineJSON"],O,na));const {statisticType:L,outStatisticFieldName:Y}=J,{featureAdapter:X,spatialReference:x,geometryType:E,hasZ:ka,hasM:V}=this;u=u.map(O=>G.getGeometry(E,ka,V,X.getGeometry(O)));const ea=M.convexHull(x,u,!0)[0];J={aggregateGeometries:null,outStatisticFieldName:null};
"EnvelopeAggregate"===L?(M=ea?y.getPolygonExtent(ea):y.getGeometryExtent(M.union(x,u)),J.aggregateGeometries={...M,spatialReference:x},J.outStatisticFieldName=Y||"extent"):"CentroidAggregate"===L?(M=ea?I.polygonCentroid(ea):I.extentCentroid(y.getGeometryExtent(M.union(x,u))),J.aggregateGeometries={x:M[0],y:M[1],spatialReference:x},J.outStatisticFieldName=Y||"centroid"):"ConvexHullAggregate"===L&&(J.aggregateGeometries=ea,J.outStatisticFieldName=Y||"convexHull");return J};C._getStatisticValue=function(J,
u,M,L){const {onStatisticField:Y,statisticType:X}=J;J=null;J=M?.has(Y)?M.get(Y):K.isStringField(this.fieldsIndex.get(Y))?R.calculateStringStatistics({values:u,returnDistinct:L}):R.calculateStatistics({values:L?[...(new Set(u))]:u,minValue:null,maxValue:null,useSampleStdDev:!0});M&&M.set(Y,J);return J["var"===X?"variance":X]};C._getPercentileValue=function(J,u){const {onStatisticField:M,statisticParameters:L,statisticType:Y}=J,{value:X,orderBy:x}=L;J=this.fieldsIndex.get(M);return R.calculatePercentile(u,
{value:X,orderBy:x,fieldType:J?.type,isDiscrete:"percentile_disc"===Y})};C._getAttributeValues=function(J,u,M){if(M.has(u))return M.get(u);const L=this.fieldsIndex.get(u),Y=this.items.map(X=>J.getFieldValue(X,u,L));M.set(u,Y);return Y};C._getAttributeDataValues=function(J,u){return this.items.map(M=>J.getDataValue(M,{field:u.field,field2:u.field2,field3:u.field3,fieldDelimiter:u.fieldDelimiter,normalizationField:u.normalizationField,normalizationType:u.normalizationType,normalizationTotal:u.normalizationTotal}))};
C._getAttributeExpressionValues=async function(J,u,M){const {arcadeUtils:L}=await A.loadArcade();u=L.createFunction(u);M=M&&L.getViewInfo(M);return J.getExpressionValues(this.items,u,M,L)};C._calculateUniqueValues=function(J,u){const M={},L=this.items,Y=L.length;for(let X=0;X<Y;X++){const x=L[X],E=[];for(const V of J)E.push(V[X]);const ka=E.join(",");null==M[ka]?M[ka]={count:1,data:E,items:[x],itemPositions:[X]}:(u||M[ka].count++,M[ka].items.push(x),M[ka].itemPositions.push(X))}return M};C._getDataValues=
async function(J){const u=new g(this.query,this.featureAdapter,this.fieldsIndex),{valueExpression:M,field:L,normalizationField:Y,normalizationType:X,normalizationTotal:x,scale:E}=J,ka=M?{viewingMode:"map",scale:E,spatialReference:this.query.outSR||this.spatialReference}:null;return M?this._getAttributeExpressionValues(u,M,ka):this._getAttributeDataValues(u,{field:L,field2:J.field2,field3:J.field3,fieldDelimiter:J.fieldDelimiter,normalizationField:Y,normalizationType:X,normalizationTotal:x})};W._createClass(D,
[{key:"size",get:function(){return this.items.length}}]);return D}();b.SnappingTypes=void 0;(function(D){D[D.NONE=0]="NONE";D[D.EDGE=1]="EDGE";D[D.VERTEX=2]="VERTEX"})(b.SnappingTypes||(b.SnappingTypes={}));let Q=function(){function D(C,J){this.coords=C;this.coordsIndex=J}W._createClass(D,[{key:"x",get:function(){return this.coords[this.coordsIndex]}},{key:"y",get:function(){return this.coords[this.coordsIndex+1]}},{key:"z",get:function(){return this.coords[this.coordsIndex+2]}}]);return D}();b.QueryEngineResult=
z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","../../core/maybe","./jsonUtils"],function(d,b,W){function F({scale:X,translate:x},E){return Math.round((E-x[0])/X[0])}function I({scale:X,translate:x},E){return Math.round((x[1]-E)/X[1])}function y(X,x,E){const ka=[];let V,ea,O,na;for(let ta=0;ta<E.length;ta++){const xa=E[ta];if(0<ta){if(O=F(X,xa[0]),na=I(X,xa[1]),O!==V||na!==ea)ka.push(x(xa,O-V,na-ea)),V=O,ea=
na}else V=F(X,xa[0]),ea=I(X,xa[1]),ka.push(x(xa,V,ea))}return 0<ka.length?ka:null}function m(X,x,E,ka){return y(X,E?ka?Y:L:ka?L:M,x)}function n(X,x,E,ka){const V=[];E=E?ka?Y:L:ka?L:M;for(ka=0;ka<x.length;ka++){const ea=y(X,E,x[ka]);ea&&3<=ea.length&&V.push(ea)}return V.length?V:null}function g(X,x,E,ka){const V=[];E=E?ka?Y:L:ka?L:M;for(ka=0;ka<x.length;ka++){const ea=y(X,E,x[ka]);ea&&2<=ea.length&&V.push(ea)}return V.length?V:null}function k({scale:X,translate:x},E){return E*X[0]+x[0]}function p({scale:X,
translate:x},E){return x[1]-E*X[1]}function G(X,x,E){const ka=Array(E.length);if(!E.length)return ka;const [V,ea]=X.scale;let O=k(X,E[0][0]);X=p(X,E[0][1]);ka[0]=x(E[0],O,X);for(let na=1;na<E.length;na++){const ta=E[na];O+=ta[0]*V;X-=ta[1]*ea;ka[na]=x(ta,O,X)}return ka}function K(X,x,E){const ka=Array(E.length);for(let V=0;V<E.length;V++)ka[V]=G(X,x,E[V]);return ka}function R(X,x,E,ka){return G(X,E?ka?Y:L:ka?L:M,x)}function A(X,x,E,ka){return K(X,E?ka?Y:L:ka?L:M,x)}function f(X,x,E,ka){return K(X,
E?ka?Y:L:ka?L:M,x)}function r(X,x,E){let [ka,V]=E[0],ea=Math.min(ka,x[0]),O=Math.min(V,x[1]),na=Math.max(ka,x[2]);x=Math.max(V,x[3]);for(let ta=1;ta<E.length;ta++){const [xa,ja]=E[ta];ka+=xa;V+=ja;0>xa&&(ea=Math.min(ea,ka));0<xa&&(na=Math.max(na,ka));0>ja?O=Math.min(O,V):0<ja&&(x=Math.max(x,V))}X[0]=ea;X[1]=O;X[2]=na;X[3]=x;return X}function z(X,x){if(!x.length)return null;X[0]=X[1]=Number.POSITIVE_INFINITY;X[2]=X[3]=Number.NEGATIVE_INFINITY;for(let E=0;E<x.length;E++)r(X,X,x[E]);return X}function Q(X,
x,E,ka,V){x.xmin=F(X,E.xmin);x.ymin=I(X,E.ymin);x.xmax=F(X,E.xmax);x.ymax=I(X,E.ymax);x!==E&&(ka&&(x.zmin=E.zmin,x.zmax=E.zmax),V&&(x.mmin=E.mmin,x.mmax=E.mmax));return x}function D(X,x,E,ka,V){x.points=m(X,E.points,ka,V)??[];return x}function C(X,x,E,ka,V){x.x=F(X,E.x);x.y=I(X,E.y);x!==E&&(ka&&(x.z=E.z),V&&(x.m=E.m));return x}function J(X,x,E,ka,V){X=n(X,E.rings,ka,V);if(!X)return null;x.rings=X;return x}function u(X,x,E,ka,V){X=g(X,E.paths,ka,V);if(!X)return null;x.paths=X;return x}const M=(X,x,
E)=>[x,E],L=(X,x,E)=>[x,E,X[2]],Y=(X,x,E)=>[x,E,X[2],X[3]];d.equals=function(X,x){if(X===x||null==X&&null==x)return!0;if(null==X||null==x)return!1;let E,ka,V,ea;X&&"upperLeft"===X.originPosition?(E=X.translate[0],ka=X.translate[1],X=X.scale[0]):(E=b.isSome(X.extent)?X.extent.xmin:0,ka=b.isSome(X.extent)?X.extent.ymax:0,X=X.tolerance);x&&"upperLeft"===x.originPosition?(V=x.translate[0],ea=x.translate[1],x=x.scale[0]):(V=b.isSome(x.extent)?x.extent.xmin:0,ea=b.isSome(x.extent)?x.extent.ymax:0,x=x.tolerance);
return E===V&&ka===ea&&X===x};d.getQuantizedBoundsCoordsArray=r;d.getQuantizedBoundsCoordsArrayArray=z;d.getQuantizedBoundsPaths=function(X){return z([0,0,0,0],X)};d.getQuantizedBoundsPoints=function(X){const x=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return r(x,x,X)};d.getQuantizedBoundsRings=function(X){return z([0,0,0,0],X)};d.quantizeBounds=function(X,x,E){x[0]=F(X,E[0]);x[3]=I(X,E[1]);x[2]=F(X,E[2]);x[1]=I(X,E[3]);return x};d.quantizeExtent=
Q;d.quantizeGeometry=function(X,x){return X&&x?W.isPoint(x)?C(X,{},x,!1,!1):W.isPolyline(x)?u(X,{},x,!1,!1):W.isPolygon(x)?J(X,{},x,!1,!1):W.isMultipoint(x)?D(X,{},x,!1,!1):W.isExtent(x)?Q(X,{},x,!1,!1):null:null};d.quantizeMultipoint=D;d.quantizePaths=g;d.quantizePoint=C;d.quantizePoints=m;d.quantizePolygon=J;d.quantizePolyline=u;d.quantizeRings=n;d.quantizeX=F;d.quantizeY=I;d.toQuantizationTransform=function(X){return X?{originPosition:"upper-left"===X.originPosition?"upperLeft":"lower-left"===
X.originPosition?"lowerLeft":X.originPosition,scale:X.tolerance?[X.tolerance,X.tolerance]:[1,1],translate:b.isSome(X.extent)?[X.extent.xmin,X.extent.ymax]:[0,0]}:null};d.unquantizeBounds=function(X,x,E){return E?(x[0]=k(X,E[0]),x[1]=p(X,E[3]),x[2]=k(X,E[2]),x[3]=p(X,E[1]),x):[k(X,x[0]),p(X,x[3]),k(X,x[2]),p(X,x[1])]};d.unquantizeCoordsArray=G;d.unquantizeCoordsArrayArray=K;d.unquantizeExtent=function(X,x,E,ka,V){x.xmin=k(X,E.xmin);x.ymin=p(X,E.ymin);x.xmax=k(X,E.xmax);x.ymax=p(X,E.ymax);x!==E&&(ka&&
(x.zmin=E.zmin,x.zmax=E.zmax),V&&(x.mmin=E.mmin,x.mmax=E.mmax));return x};d.unquantizeMultipoint=function(X,x,E,ka,V){b.isSome(E)&&(x.points=R(X,E.points,ka,V));return x};d.unquantizePaths=A;d.unquantizePoint=function(X,x,E,ka,V){if(b.isNone(E))return x;x.x=k(X,E.x);x.y=p(X,E.y);x!==E&&(ka&&(x.z=E.z),V&&(x.m=E.m));return x};d.unquantizePoints=R;d.unquantizePolygon=function(X,x,E,ka,V){b.isSome(E)&&(x.rings=f(X,E.rings,ka,V));return x};d.unquantizePolyline=function(X,x,E,ka,V){b.isSome(E)&&(x.paths=
A(X,E.paths,ka,V));return x};d.unquantizeRings=f;d.unquantizeX=k;d.unquantizeY=p;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/AttributesBuilder":function(){define(["../../../chunks/_rollupPluginBabelHelpers","../../../core/maybe","./attributeSupport","../../../statistics/utils"],function(d,b,W,F){return function(){function I(m,n,g){this._fieldDataCache=new Map;this._returnDistinctMap=new Map;this.returnDistinctValues=m.returnDistinctValues??!1;this.fieldsIndex=
g;this.featureAdapter=n;if((n=m.outFields)&&!n.includes("*")){this.outFields=n;m=0;for(const p of n){var k=W.getExpressionFromFieldName(p);k=(n=this.fieldsIndex.get(k))?null:W.getWhereClause(k,g);n=n?n.name:W.getAliasFromFieldName(p)||`FIELD_EXP_${m++}`;this._fieldDataCache.set(p,{alias:n,clause:k})}}}var y=I.prototype;y.countDistinctValues=function(m){if(!this.returnDistinctValues)return m.length;m.forEach(n=>this.getAttributes(n));return this._returnDistinctMap.size};y.getAttributes=function(m){m=
this._processAttributesForOutFields(m);return this._processAttributesForDistinctValues(m)};y.getFieldValue=function(m,n,g){const k=g?g.name:n;let p=null;this._fieldDataCache.has(k)?p=this._fieldDataCache.get(k)?.clause:g||(p=W.getWhereClause(n,this.fieldsIndex),this._fieldDataCache.set(k,{alias:k,clause:p}));return g?this.featureAdapter.getAttribute(m,k):p?.calculateValue(m,this.featureAdapter)};y.getDataValue=function(m,n){const g=n.normalizationType,k=n.normalizationTotal;let p=n.field&&this.getFieldValue(m,
n.field,this.fieldsIndex.get(n.field));n.field2&&(p=`${F.processNullValue(p)}${n.fieldDelimiter}${F.processNullValue(this.getFieldValue(m,n.field2,this.fieldsIndex.get(n.field2)))}`,n.field3&&(p=`${p}${n.fieldDelimiter}${F.processNullValue(this.getFieldValue(m,n.field3,this.fieldsIndex.get(n.field3)))}`));g&&Number.isFinite(p)&&(m="field"===g&&n.normalizationField?this.getFieldValue(m,n.normalizationField,this.fieldsIndex.get(n.normalizationField)):null,p=F.getNormalizedValue(p,g,m,k));return p};
y.getExpressionValue=function(m,n,g,k){m={attributes:this.featureAdapter.getAttributes(m),layer:{fields:this.fieldsIndex.fields}};g=k.createExecContext(m,g);return k.executeFunction(n,g)};y.getExpressionValues=function(m,n,g,k){const p={fields:this.fieldsIndex.fields};return m.map(G=>{G={attributes:this.featureAdapter.getAttributes(G),layer:p};G=k.createExecContext(G,g);return k.executeFunction(n,G)})};y.validateItem=function(m,n){this._fieldDataCache.has(n)||this._fieldDataCache.set(n,{alias:n,clause:W.getWhereClause(n,
this.fieldsIndex)});return this._fieldDataCache.get(n)?.clause?.testFeature(m,this.featureAdapter)??!1};y.validateItems=function(m,n){this._fieldDataCache.has(n)||this._fieldDataCache.set(n,{alias:n,clause:W.getWhereClause(n,this.fieldsIndex)});return this._fieldDataCache.get(n)?.clause?.testSet(m,this.featureAdapter)??!1};y._processAttributesForOutFields=function(m){const n=this.outFields;if(!n||!n.length)return this.featureAdapter.getAttributes(m);const g={};for(const k of n){const {alias:p,clause:G}=
this._fieldDataCache.get(k);g[p]=G?G.calculateValue(m,this.featureAdapter):this.featureAdapter.getAttribute(m,p)}return g};y._processAttributesForDistinctValues=function(m){if(b.isNone(m)||!this.returnDistinctValues)return m;var n=this.outFields,g=[];if(n)for(const p of n){var {alias:k}=this._fieldDataCache.get(p);g.push(m[k])}else for(k in m)g.push(m[k]);n=`${(n||["*"]).join(",")}=${g.join(",")}`;g=this._returnDistinctMap.get(n)||0;this._returnDistinctMap.set(n,++g);return 1<g?null:m};return d._createClass(I)}()})},
"esri/layers/graphics/data/attributeSupport":function(){define(["exports","../../../core/Error","../../../core/sql/WhereClauseCache"],function(d,b,W){function F(g,k){return g?m.get(g,k):null}function I(g,k,p,G=!0){const K=[];for(const R of k)if("*"!==R&&!g.has(R))if(G){k=y(R);try{const A=F(k,g);if(!A)throw new b("feature-store:unsupported-query","invalid SQL expression",{where:k});if(!A.isStandardized)throw new b("feature-store:unsupported-query","expression is not standard",{clause:A});I(g,A.fieldNames,
"expression contains missing fields")}catch(A){if((k=A&&A.details)&&(k.clause||k.where))throw A;k&&k.missingFields?K.push(...k.missingFields):K.push(R)}}else K.push(R);if(K.length)throw new b("feature-store:unsupported-query",p,{missingFields:K});}function y(g){return g.split(" as ")[0]}const m=new W.WhereClauseCache(50,500),n=new Set("esriFieldTypeOID esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeLong esriFieldTypeDate".split(" "));d.getAliasFromFieldName=
function(g){return g.split(" as ")[1]};d.getExpressionFromFieldName=y;d.getWhereClause=F;d.hasInvalidFieldType=function(g,k){return(g=k.get(g))?!n.has(g.type):!1};d.validateFields=I;d.validateHaving=function(g,k,p){if(!k)return!0;const G=m.get(k,g);if(!G)throw new b("feature-store:unsupported-query","invalid SQL expression",{having:k});if(!G.isAggregate)throw new b("feature-store:unsupported-query","having does not contain a valid aggregate function",{having:k});I(g,G.fieldNames,"having contains missing fields");
if(!G.getExpressions().every(K=>{const {aggregateType:R,field:A}=K,f=g.get(A)?.name;return p.some(r=>{const {onStatisticField:z,statisticType:Q}=r;return g.get(z)?.name===f&&Q.toLowerCase().trim()===R})}))throw new b("feature-store:unsupported-query","expressions in having should also exist in outStatistics",{having:k});return!0};d.validateWhere=function(g,k){if(!k)return!0;const p=m.get(k,g);if(!p)throw new b("feature-store:unsupported-query","invalid SQL expression",{where:k});if(!p.isStandardized)throw new b("feature-store:unsupported-query",
"where clause is not standard",{where:k});I(g,p.fieldNames,"where clause contains missing fields");return!0};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/WhereClauseCache":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../ItemCache","./WhereClause"],function(d,b,W,F){let I=function(){function y(m,n){this._cache=new W(m);this._invalidCache=new W(n)}y.prototype.get=function(m,n){const g=`${n.uid}:${m}`,k=this._cache.get(g);if(k)return k;if(void 0!==
this._invalidCache.get(g))return null;try{const p=F.WhereClause.create(m,n);this._cache.put(g,p);return p}catch{return this._invalidCache.put(g,null),null}};return b._createClass(y)}();d.WhereClauseCache=I;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/ItemCache":function(){define(["../chunks/_rollupPluginBabelHelpers","./MemCache"],function(d,b){return function(){function W(I,y){this._storage=new b.MemCacheStorage;this._storage.maxSize=I;y&&this._storage.registerRemoveFunc("",
y)}var F=W.prototype;F.put=function(I,y){this._storage.put(I,y,1,1)};F.pop=function(I){return this._storage.pop(I)};F.get=function(I){return this._storage.get(I)};F.clear=function(){this._storage.clearAll()};F.destroy=function(){this._storage.destroy()};return d._createClass(W)}()})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./PooledArray"],function(d,b,W,F){d.RemoveMode=void 0;(function(m){m[m.ALL=0]="ALL";m[m.SOME=1]="SOME"})(d.RemoveMode||
(d.RemoveMode={}));let I=function(){function m(g,k,p){this._namespace=g;this._storage=k;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";p&&(this._storage.registerRemoveFunc(this._namespace,p),this._removeFunc=!0)}var n=m.prototype;n.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this);this._storage=null};n.resetHitRate=function(){this._hit=this._miss=
0};n.put=function(g,k,p,G=0){this._storage.put(this._namespace+g,k,p,G)};n.get=function(g){g=this._storage.get(this._namespace+g);void 0===g?++this._miss:++this._hit;return g};n.pop=function(g){g=this._storage.pop(this._namespace+g);void 0===g?++this._miss:++this._hit;return g};n.updateSize=function(g,k,p){this._storage.updateSize(this._namespace+g,k,p)};n.clear=function(){this._storage.clear(this._namespace)};n.clearAll=function(){this._storage.clearAll()};n.getStats=function(){return this._storage.getStats()};
n.resetStats=function(){this._storage.resetStats()};b._createClass(m,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}}]);return m}(),y=function(){function m(g=10485760){this._maxSize=g;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new F;this._users=new F}var n=m.prototype;
n.destroy=function(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null};n.register=function(g){this._users.push(g)};n.deregister=function(g){this._users.removeUnordered(g)};n.registerRemoveFunc=function(g,k){this._removeFuncs.push([g,k])};n.deregisterRemoveFunc=function(g){this._removeFuncs.filterInPlace(k=>k[0]!==g)};n.put=function(g,k,p,G){const K=this._db.get(g);K&&(this._size-=K.size,this._db.delete(g),K.entry!==k&&this._notifyRemove(g,K.entry,d.RemoveMode.ALL));p>this._maxSize?
this._notifyRemove(g,k,d.RemoveMode.ALL):void 0===k?console.warn("Refusing to cache undefined entry "):!p||0>p?console.warn("Refusing to cache entry with invalid size "+p):(G=1+Math.max(G,-3)- -3,this._db.set(g,{entry:k,size:p,lifetime:G,lives:G}),this._size+=p,this._checkSizeLimit())};n.updateSize=function(g,k,p){const G=this._db.get(g);if(G&&G.entry===k){for(this._size-=G.size;p>this._maxSize;)if(p=this._notifyRemove(g,k,d.RemoveMode.SOME),!(W.isSome(p)&&0<p)){this._db.delete(g);return}G.size=p;
this._size+=p;this._checkSizeLimit()}};n.pop=function(g){const k=this._db.get(g);if(k)return this._size-=k.size,this._db.delete(g),++this._hit,k.entry;++this._miss};n.get=function(g){const k=this._db.get(g);if(void 0===k)++this._miss;else return this._db.delete(g),k.lives=k.lifetime,this._db.set(g,k),++this._hit,k.entry};n.getStats=function(){const g={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},
k={},p=[];this._db.forEach((R,A)=>{const f=R.lifetime;p[f]=(p[f]||0)+R.size;this._users.forAll(r=>{r=r.namespace;A.startsWith(r)&&(k[r]=(k[r]||0)+R.size)})});const G={};this._users.forAll(R=>{const A=R.namespace;!isNaN(R.hitRate)&&0<R.hitRate?(k[A]=k[A]||0,G[A]=Math.round(100*R.hitRate)+"%"):G[A]="0%"});var K=Object.keys(k);K.sort((R,A)=>k[A]-k[R]);K.forEach(R=>g[R]=Math.round(k[R]/2**20)+"MB / "+G[R]);for(K=p.length-1;0<=K;--K){const R=p[K];R&&(g["Priority "+(K+-3-1)]=Math.round(R/this.size*100)+
"%")}return g};n.resetStats=function(){this._hit=this._miss=0;this._users.forAll(g=>g.resetHitRate())};n.clear=function(g){this._db.forEach((k,p)=>{p.startsWith(g)&&(this._size-=k.size,this._db.delete(p),this._notifyRemove(p,k.entry,d.RemoveMode.ALL))})};n.clearAll=function(){this._db.forEach((g,k)=>this._notifyRemove(k,g.entry,d.RemoveMode.ALL));this._size=0;this._db.clear()};n._getHitRate=function(){return this._hit/(this._hit+this._miss)};n._notifyRemove=function(g,k,p){let G;this._removeFuncs.some(K=>
g.startsWith(K[0])?(K=K[1](k,p),"number"===typeof K&&(G=K),!0):!1);return G};n._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [g,k]of this._db){this._db.delete(g);if(1>=k.lives){this._size-=k.size;const p=this._notifyRemove(g,k.entry,d.RemoveMode.SOME);W.isSome(p)&&0<p&&(this._size+=p,k.lives=k.lifetime,k.size=p,this._db.set(g,k))}else--k.lives,this._db.set(g,k);if(this._size<=.9*this.maxSize)break}};b._createClass(m,[{key:"size",get:function(){return this._size}},{key:"sizeMB",
get:function(){return this._size/1024/1024}},{key:"maxSize",get:function(){return this._maxSize},set:function(g){this._maxSize=Math.max(g,0);this._checkSizeLimit()}}]);return m}();d.MIN_PRIORITY=-3;d.MemCache=I;d.MemCacheStorage=y;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/WhereClause":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../has ./AggregateFunctions ./StandardizedFunctions ./WhereGrammar".split(" "),function(d,b,W,F,I,y){function m(V,
ea){V+="";return V.length>=ea?V:Array(ea-V.length+1).join("0")+V}function n(V,ea,O="0",na="0",ta="0",xa="0",ja="",S="0",T="0"){return"+"===ja||"-"===ja?(V=`${m(parseInt(V,10),4)}-${m(parseInt(ea,10),2)}-${m(parseInt(O,10),2)}`,ea="",10>parseFloat(xa)&&(ea="0"),na=`${m(parseInt(na,10),2)}:${m(parseInt(ta,10),2)}:${ea+parseFloat(xa).toString()}`,ja=`${ja}${m(parseInt(S,10),2)}:${m(parseInt(T,10),2)}`,new Date(V+"T"+na+ja)):new Date(parseInt(V,10),parseInt(ea,10)-1,parseInt(O,10),parseInt(na,10),parseInt(ta,
10),parseFloat(xa))}function g(V){let ea=J.exec(V);if(null!==ea){const [,O,na,ta,xa,ja,S]=ea;return n(O,na,ta,xa,ja,S)}ea=u.exec(V);if(null!==ea){const [,O,na,ta,xa,ja,S,T,w,ha]=ea;return n(O,na,ta,xa,ja,S,T,w,ha)}ea=M.exec(V);if(null!==ea){const [,O,na,ta,xa,ja,S,T,w]=ea;return n(O,na,ta,xa,ja,"0",S,T,w)}ea=L.exec(V);if(null!==ea){const [,O,na,ta,xa,ja]=ea;return n(O,na,ta,xa,ja)}ea=C.exec(V);if(null!==ea){const [,O,na,ta]=ea;return n(O,na,ta)}throw Error("SQL Invalid Timestamp");}function k(V){const ea=
C.exec(V);if(null===ea)try{return g(V)}catch{throw Error("SQL Invalid Date");}const [,O,na,ta]=ea;return new Date(parseInt(O,10),parseInt(na,10)-1,parseInt(ta,10))}function p(V){return Array.isArray(V)?V:[V]}function G(V){return null!==V?!0!==V:null}function K(V,ea){return null!=V&&null!=ea?!0===V&&!0===ea:!1===V||!1===ea?!1:null}function R(V,ea){return null!=V&&null!=ea?!0===V||!0===ea:!0===V||!0===ea?!0:null}function A(V,ea){if(null==V)return null;let O=!1;for(const na of ea)if(null==na)O=null;
else if(V===na){O=!0;break}return O}function f(V,ea,O){if(null==V)return null;let na="",ta=E.Normal;for(let xa=0;xa<ea.length;xa++){const ja=ea.charAt(xa);switch(ta){case E.Normal:ja===O?ta=E.Escaped:na="-[]/{}()*+?.\\^$|".includes(ja)?na+("\\"+ja):"%"===ja?na+".*":"_"===ja?na+".":na+ja;break;case E.Escaped:na="-[]/{}()*+?.\\^$|".includes(ja)?na+("\\"+ja):na+ja,ta=E.Normal}}return(new RegExp("^"+na+"$","m")).test(V)}function r(V){return V instanceof Date?V.valueOf():V}function z(V,ea,O){if(null==
ea||null==O)return null;ea=r(ea);O=r(O);switch(V){case "\x3c\x3e":return ea!==O;case "\x3d":return ea===O;case "\x3e":return ea>O;case "\x3c":return ea<O;case "\x3e\x3d":return ea>=O;case "\x3c\x3d":return ea<=O}}function Q(V,ea,O){if("||"===V)return I.evaluateFunction("concat",[ea,O]);if(ea instanceof I.SqlInterval)if(O instanceof Date)switch(V){case "+":return new Date(ea.valueInMilliseconds()+O.getTime());case "-":return ea.valueInMilliseconds()-O.getTime();case "*":return ea.valueInMilliseconds()*
O.getTime();case "/":return ea.valueInMilliseconds()/O.getTime()}else if(O instanceof I.SqlInterval)switch(V){case "+":return I.SqlInterval.createFromMilliseconds(ea.valueInMilliseconds()+O.valueInMilliseconds());case "-":return I.SqlInterval.createFromMilliseconds(ea.valueInMilliseconds()-O.valueInMilliseconds());case "*":return ea.valueInMilliseconds()*O.valueInMilliseconds();case "/":return ea.valueInMilliseconds()/O.valueInMilliseconds()}else ea=ea.valueInMilliseconds();else if(O instanceof I.SqlInterval)if(ea instanceof
Date)switch(V){case "+":return new Date(O.valueInMilliseconds()+ea.getTime());case "-":return new Date(ea.getTime()-O.valueInMilliseconds());case "*":return ea.getTime()*O.valueInMilliseconds();case "/":return ea.getTime()/O.valueInMilliseconds()}else O=O.valueInMilliseconds();else if(ea instanceof Date&&"number"===typeof O)switch(O*=864E5,ea=ea.getTime(),V){case "+":return new Date(ea+O);case "-":return new Date(ea-O);case "*":return new Date(ea*O);case "/":return new Date(ea/O)}else if(O instanceof
Date&&"number"===typeof ea)switch(ea*=864E5,O=O.getTime(),V){case "+":return new Date(ea+O);case "-":return new Date(ea-O);case "*":return new Date(ea*O);case "/":return new Date(ea/O)}switch(V){case "+":return ea+O;case "-":return ea-O;case "*":return ea*O;case "/":return ea/O}}function D(V,ea,O,na){V=na.getAttribute(V,ea);return null!=V&&1===O[ea]?new Date(V):V}const C=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,J=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,u=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,
M=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,L=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/,Y=new Set(["current_timestamp","current_date","current_time"]);let X=function(){function V(){}V.makeBool=function(ea){return!0===ea};V.featureValue=function(ea,O,na,ta){return D(ea,O,na,ta)};V.equalsNull=function(ea){return null===ea};V.applyLike=function(ea,O,na){return f(ea,O,na)};V.ensureArray=function(ea){return p(ea)};V.applyIn=function(ea,O){return A(ea,O)};V.currentDate=
function(){const ea=new Date;ea.setHours(0,0,0,0);return ea};V.makeSqlInterval=function(ea,O,na){return I.SqlInterval.createFromValueAndQualifer(ea,O,na)};V.convertInterval=function(ea){return ea instanceof I.SqlInterval?ea.valueInMilliseconds():ea};V.currentTimestamp=function(){return new Date};V.compare=function(ea,O,na){return z(ea,O,na)};V.calculate=function(ea,O,na){return Q(ea,O,na)};V.makeComparable=function(ea){return r(ea)};V.evaluateFunction=function(ea,O){return I.evaluateFunction(ea,O)};
V.lookup=function(ea,O){ea=O[ea];return void 0===ea?null:ea};V.between=function(ea,O){return null==ea||null==O[0]||null==O[1]?null:ea>=O[0]&&ea<=O[1]};V.notbetween=function(ea,O){return null==ea||null==O[0]||null==O[1]?null:ea<O[0]||ea>O[1]};V.ternaryNot=function(ea){return G(ea)};V.ternaryAnd=function(ea,O){return K(ea,O)};V.ternaryOr=function(ea,O){return R(ea,O)};return b._createClass(V)}(),x=function(){function V(O,na){this.fieldsIndex=na;this._datefields={};this.parameters={};this._hasDateFunctions=
void 0;this.parseTree=y.WhereGrammar.parse(O);const {isStandardized:ta,isAggregate:xa,referencedFieldNames:ja}=this._extractExpressionInfo(na);this._referencedFieldNames=ja;this.isStandardized=ta;this.isAggregate=xa}V.create=function(O,na){return new V(O,na)};var ea=V.prototype;ea.testSet=function(O,na=ka){const ta={};for(const xa of this.fieldNames)ta[xa]=O.map(ja=>na.getAttribute(ja,xa));return!!this._evaluateNode(this.parseTree,{attributes:ta},ka)};ea.calculateValue=function(O,na=ka){O=this._evaluateNode(this.parseTree,
O,na);return O instanceof I.SqlInterval?O.valueInMilliseconds()/864E5:O};ea.calculateValueCompiled=function(O,na=ka){if(null!=this.parseTree._compiledVersion)return this.parseTree._compiledVersion(O,this.parameters,na,this._datefields);if(W("esri-csp-restrictions"))return this.calculateValue(O,na);this._compileMe();return this.parseTree._compiledVersion(O,this.parameters,na,this._datefields)};ea.testFeature=function(O,na=ka){return!!this._evaluateNode(this.parseTree,O,na)};ea.testFeatureCompiled=
function(O,na=ka){if(null!=this.parseTree._compiledVersion)return!!this.parseTree._compiledVersion(O,this.parameters,na,this._datefields);if(W("esri-csp-restrictions"))return this.testFeature(O,na);this._compileMe();return!!this.parseTree._compiledVersion(O,this.parameters,na,this._datefields)};ea.getFunctions=function(){const O=new Set;this._visitAll(this.parseTree,na=>{"function"===na.type&&O.add(na.name.toLowerCase())});return Array.from(O)};ea.getExpressions=function(){const O=new Map;this._visitAll(this.parseTree,
na=>{if("function"===na.type){const ta=na.name.toLowerCase();na=na.args.value[0];if("column-reference"===na.type){na=na.column;const xa=`${ta}-${na}`;O.has(xa)||O.set(xa,{aggregateType:ta,field:na})}}});return[...O.values()]};ea.getVariables=function(){const O=new Set;this._visitAll(this.parseTree,na=>{"parameter"===na.type&&O.add(na.value.toLowerCase())});return Array.from(O)};ea._compileMe=function(){const O="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=
(new Function("feature","lookups","attributeAdapter","datefields",O)).bind(X)};ea._extractExpressionInfo=function(O){const na=[],ta=new Set;let xa=!0,ja=!0;this._visitAll(this.parseTree,S=>{switch(S.type){case "column-reference":const T=O?.get(S.column);let w,ha;T?w=ha=T.name??"":(ha=S.column,w=ha.toLowerCase());T&&T.name&&("date"===T.type||"esriFieldTypeDate"===T.type)&&(this._datefields[T.name]=1);ta.has(w)||(ta.add(w),na.push(ha));S.column=ha;break;case "function":const {name:t,args:ca}=S;S=ca.value.length;
xa&&(xa=I.isStandardized(t,S));ja&&(ja=F.isAggregate(t,S))}});return{referencedFieldNames:Array.from(na),isStandardized:xa,isAggregate:ja}};ea._visitAll=function(O,na){if(null!=O)switch(na(O),O.type){case "when-clause":this._visitAll(O.operand,na);this._visitAll(O.value,na);break;case "case-expression":for(const ta of O.clauses)this._visitAll(ta,na);"simple"===O.format&&this._visitAll(O.operand,na);null!==O.else&&this._visitAll(O.else,na);break;case "expression-list":for(const ta of O.value)this._visitAll(ta,
na);break;case "unary-expression":this._visitAll(O.expr,na);break;case "binary-expression":this._visitAll(O.left,na);this._visitAll(O.right,na);break;case "function":this._visitAll(O.args,na)}};ea.evaluateNodeToJavaScript=function(O){switch(O.type){case "interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(O.value)+", "+JSON.stringify(O.qualifier)+","+JSON.stringify(O.op)+")";case "case-expression":var na="";if("simple"===O.format){var ta="this.makeComparable("+this.evaluateNodeToJavaScript(O.operand)+
")";na="( ";for(let xa=0;xa<O.clauses.length;xa++)na+=" ("+ta+" \x3d\x3d\x3d this.makeComparable("+this.evaluateNodeToJavaScript(O.clauses[xa].operand)+")) ? ("+this.evaluateNodeToJavaScript(O.clauses[xa].value)+") : "}else for(na="( ",ta=0;ta<O.clauses.length;ta++)na+=" this.makeBool("+this.evaluateNodeToJavaScript(O.clauses[ta].operand)+")\x3d\x3d\x3dtrue ? ("+this.evaluateNodeToJavaScript(O.clauses[ta].value)+") : ";na=null!==O.else?na+this.evaluateNodeToJavaScript(O.else):na+"null";return na+
" )";case "parameter":return"this.lookup("+JSON.stringify(O.value.toLowerCase())+",lookups)";case "expression-list":na="[";for(ta of O.value)"["!==na&&(na+=","),na+=this.evaluateNodeToJavaScript(ta);return na+"]";case "unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(O.expr)+")";case "binary-expression":switch(O.operator){case "AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(O.left)+","+this.evaluateNodeToJavaScript(O.right)+" )";case "OR":return"this.ternaryOr("+
this.evaluateNodeToJavaScript(O.left)+","+this.evaluateNodeToJavaScript(O.right)+" )";case "IS":if("null"!==O.right.type)throw Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(O.left)+")";case "ISNOT":if("null"!==O.right.type)throw Error("Unsupported RHS for IS");return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(O.left)+")))";case "IN":return"this.applyIn("+this.evaluateNodeToJavaScript(O.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(O.right)+
"))";case "NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(O.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(O.right)+")))";case "BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(O.left)+","+this.evaluateNodeToJavaScript(O.right)+")";case "NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(O.left)+","+this.evaluateNodeToJavaScript(O.right)+")";case "LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(O.left)+","+this.evaluateNodeToJavaScript(O.right)+
","+JSON.stringify(O.escape)+")";case "NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(O.left)+","+this.evaluateNodeToJavaScript(O.right)+","+JSON.stringify(O.escape)+"))";case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return"this.compare("+JSON.stringify(O.operator)+","+this.evaluateNodeToJavaScript(O.left)+","+this.evaluateNodeToJavaScript(O.right)+")";case "*":case "-":case "+":case "/":case "||":return"this.calculate("+JSON.stringify(O.operator)+
","+this.evaluateNodeToJavaScript(O.left)+","+this.evaluateNodeToJavaScript(O.right)+")"}throw Error("Not Supported Operator "+O.operator);case "null":case "boolean":case "string":case "number":return JSON.stringify(O.value);case "date":return"(new Date("+k(O.value).getTime().toString()+"))";case "timestamp":return"(new Date("+g(O.value).getTime().toString()+"))";case "current-time":return"date"===O.mode?"this.currentDate()":"this.currentTimestamp()";case "column-reference":return"this.featureValue(feature,"+
JSON.stringify(O.column)+",datefields,attributeAdapter)";case "function":return"this.evaluateFunction("+JSON.stringify(O.name)+","+this.evaluateNodeToJavaScript(O.args)+")"}throw Error("Unsupported sql syntax "+O.type);};ea._evaluateNode=function(O,na,ta){switch(O.type){case "interval":return na=this._evaluateNode(O.value,na,ta),I.SqlInterval.createFromValueAndQualifer(na,O.qualifier,O.op);case "case-expression":if("simple"===O.format){var xa=r(this._evaluateNode(O.operand,na,ta));for(var ja=0;ja<
O.clauses.length;ja++)if(xa===r(this._evaluateNode(O.clauses[ja].operand,na,ta)))return this._evaluateNode(O.clauses[ja].value,na,ta)}else for(xa=0;xa<O.clauses.length;xa++)if(!0===this._evaluateNode(O.clauses[xa].operand,na,ta))return this._evaluateNode(O.clauses[xa].value,na,ta);return null!==O.else?this._evaluateNode(O.else,na,ta):null;case "parameter":return this.parameters[O.value.toLowerCase()];case "expression-list":xa=[];for(ja of O.value)xa.push(this._evaluateNode(ja,na,ta));return xa;case "unary-expression":return G(this._evaluateNode(O.expr,
na,ta));case "binary-expression":switch(O.operator){case "AND":return K(this._evaluateNode(O.left,na,ta),this._evaluateNode(O.right,na,ta));case "OR":return R(this._evaluateNode(O.left,na,ta),this._evaluateNode(O.right,na,ta));case "IS":if("null"!==O.right.type)throw Error("Unsupported RHS for IS");return null===this._evaluateNode(O.left,na,ta);case "ISNOT":if("null"!==O.right.type)throw Error("Unsupported RHS for IS");return null!==this._evaluateNode(O.left,na,ta);case "IN":return xa=p(this._evaluateNode(O.right,
na,ta)),A(this._evaluateNode(O.left,na,ta),xa);case "NOT IN":return xa=p(this._evaluateNode(O.right,na,ta)),G(A(this._evaluateNode(O.left,na,ta),xa));case "BETWEEN":return xa=this._evaluateNode(O.left,na,ta),O=this._evaluateNode(O.right,na,ta),null==xa||null==O[0]||null==O[1]?null:xa>=r(O[0])&&xa<=r(O[1]);case "NOTBETWEEN":return xa=this._evaluateNode(O.left,na,ta),O=this._evaluateNode(O.right,na,ta),null==xa||null==O[0]||null==O[1]?null:xa<r(O[0])||xa>r(O[1]);case "LIKE":return f(this._evaluateNode(O.left,
na,ta),this._evaluateNode(O.right,na,ta),O.escape);case "NOT LIKE":return G(f(this._evaluateNode(O.left,na,ta),this._evaluateNode(O.right,na,ta),O.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return z(O.operator,this._evaluateNode(O.left,na,ta),this._evaluateNode(O.right,na,ta));case "-":case "+":case "*":case "/":case "||":return Q(O.operator,this._evaluateNode(O.left,na,ta),this._evaluateNode(O.right,na,ta))}case "null":case "boolean":case "string":case "number":return O.value;
case "date":return k(O.value);case "timestamp":return g(O.value);case "current-time":return na=new Date,"date"===O.mode&&na.setHours(0,0,0,0),na;case "column-reference":return D(na,O.column,this._datefields,ta);case "data-type":return O.value;case "function":return na=this._evaluateNode(O.args,na,ta),this.isAggregate?F.aggregateFunction(O.name,na):I.evaluateFunction(O.name,na)}throw Error("Unsupported sql syntax "+O.type);};b._createClass(V,[{key:"fieldNames",get:function(){return this._referencedFieldNames}},
{key:"hasDateFunctions",get:function(){if(null!=this._hasDateFunctions)return this._hasDateFunctions;this._hasDateFunctions=!1;this._visitAll(this.parseTree,O=>{"current-time"===O.type?this._hasDateFunctions=!0:"function"===O.type&&(this._hasDateFunctions=this._hasDateFunctions||Y.has(O.name.toLowerCase()))});return this._hasDateFunctions}}]);return V}();var E;(function(V){V[V.Normal=0]="Normal";V[V.Escaped=1]="Escaped"})(E||(E={}));const ka={getAttribute(V,ea){return(V&&"object"===typeof V.attributes?
V.attributes:V)[ea]}};d.WhereClause=x;d.defaultAttributeAdapter=ka;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/AggregateFunctions":function(){define(["exports"],function(d){function b(I){let y=0;for(let m=0;m<I.length;m++)y+=I[m];return y/I.length}function W(I){const y=b(I),m=I.length;let n=0;for(const g of I)n+=(g-y)**2;return 1<m?n/(m-1):0}const F={min:{minParams:1,maxParams:1,evaluate:I=>null==I[0]?null:Math.min.apply(Math,I[0])},max:{minParams:1,maxParams:1,
evaluate:I=>null==I[0]?null:Math.max.apply(Math,I[0])},avg:{minParams:1,maxParams:1,evaluate:I=>null==I[0]?null:b(I[0])},sum:{minParams:1,maxParams:1,evaluate:I=>{if(null==I[0])I=null;else{I=I[0];let y=0;for(let m=0;m<I.length;m++)y+=I[m];I=y}return I}},stddev:{minParams:1,maxParams:1,evaluate:I=>null==I[0]?null:Math.sqrt(W(I[0]))},count:{minParams:1,maxParams:1,evaluate:I=>null==I[0]?null:I[0].length},var:{minParams:1,maxParams:1,evaluate:I=>null==I[0]?null:W(I[0])}};d.aggregateFunction=function(I,
y){const m=F[I.toLowerCase()];if(null==m)throw Error("Function Not Recognised");if(y.length<m.minParams||y.length>m.maxParams)throw Error(`Invalid Parameter count for call to ${I.toUpperCase()}`);return m.evaluate(y)};d.isAggregate=function(I,y){I=F[I.toLowerCase()];return null!=I&&y>=I.minParams&&y<=I.maxParams};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/StandardizedFunctions":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../arcade/featureset/support/errorsupport",
"../string","../../chunks/datetime"],function(d,b,W,F,I){function y(k){k=new Date(k.getTime());k.setHours(0,0,0,0);return k}function m(k,p){if(k instanceof Date)return p?y(k):k;if("string"===typeof k||k instanceof String)if(k=I.DateTime.fromSQL(k),k.isValid)return p?y(k.toJSDate()):k.toJSDate();throw new W.SqlError(W.SqlErrorCodes.CannotCastValue);}let n=function(){function k(){this.op="+";this.millis=this.minute=this.year=this.month=this.hour=this.second=this.day=0}k._fixDefaults=function(p){if(null!==
p.precision||null!==p.secondary)throw Error("Primary and Secondary SqlInterval qualifiers not supported");};k._parseSecondsComponent=function(p,G){G.includes(".")?(G=G.split("."),p.second=parseFloat(G[0]),p.millis=parseInt(G[1],10)):p.second=parseFloat(G)};k.createFromMilliseconds=function(p){const G=new k;G.second=p/1E3;return G};k.createFromValueAndQualifer=function(p,G,K){let R=null;const A=new k;A.op="-"===K?"-":"+";if("interval-period"===G.type){k._fixDefaults(G);K=RegExp("^[0-9]{1,}$");if("year"===
G.period||"month"===G.period)throw Error("Year-Month Intervals not supported");if("second"===G.period)if(/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(p))k._parseSecondsComponent(A,p);else throw Error("Illegal Interval");else if(K.test(p))A[G.period]=parseFloat(p);else throw Error("Illegal Interval");}else{k._fixDefaults(G.start);k._fixDefaults(G.end);if("year"===G.start.period||"month"===G.start.period)throw Error("Year-Month Intervals not supported");if("year"===G.end.period||"month"===G.end.period)throw Error("Year-Month Intervals not supported");
switch(G.start.period){case "day":switch(G.end.period){case "hour":R=RegExp("^[0-9]{1,} [0-9]{1,}$");if(R.test(p))A[G.start.period]=parseFloat(p.split(" ")[0]),A[G.end.period]=parseFloat(p.split(" ")[1]);else throw Error("Illegal Interval");break;case "minute":R=RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$");if(R.test(p))A[G.start.period]=parseFloat(p.split(" ")[0]),p=p.split(" ")[1].split(":"),A.hour=parseFloat(p[0]),A.minute=parseFloat(p[1]);else throw Error("Illegal Interval");break;case "second":R=
RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(R.test(p))A[G.start.period]=parseFloat(p.split(" ")[0]),p=p.split(" ")[1].split(":"),A.hour=parseFloat(p[0]),A.minute=parseFloat(p[1]),k._parseSecondsComponent(A,p[2]);else throw Error("Illegal Interval");break;default:throw Error("Invalid Interval.");}break;case "hour":switch(G.end.period){case "minute":R=RegExp("^[0-9]{1,}:[0-9]{1,}$");if(R.test(p))A.hour=parseFloat(p.split(":")[0]),A.minute=parseFloat(p.split(":")[1]);
else throw Error("Illegal Interval");break;case "second":R=RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(R.test(p))p=p.split(":"),A.hour=parseFloat(p[0]),A.minute=parseFloat(p[1]),k._parseSecondsComponent(A,p[2]);else throw Error("Illegal Interval");break;default:throw Error("Invalid Interval.");}break;case "minute":switch(G.end.period){case "second":R=RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(R.test(p))p=p.split(":"),A.minute=parseFloat(p[0]),k._parseSecondsComponent(A,
p[1]);else throw Error("Illegal Interval");break;default:throw Error("Invalid Interval.");}break;default:throw Error("Invalid Interval.");}}return A};k.prototype.valueInMilliseconds=function(){return("-"===this.op?-1:1)*(this.millis+1E3*this.second+6E4*this.minute+36E5*this.hour+864E5*this.day+365/12*this.month*864E5+31536E6*this.year)};return b._createClass(k)}();const g={extract:{minParams:2,maxParams:2,evaluate:([k,p])=>{if(null==p)return null;if(p instanceof Date)switch(k.toUpperCase()){case "SECOND":return p.getSeconds();
case "MINUTE":return p.getMinutes();case "HOUR":return p.getHours();case "DAY":return p.getDate();case "MONTH":return p.getMonth()+1;case "YEAR":return p.getFullYear()}throw Error("Invalid Parameter for call to EXTRACT");}},substring:{minParams:2,maxParams:3,evaluate:k=>{if(2===k.length){const [p,G]=k;return null==p||null==G?null:p.toString().substring(G-1)}if(3===k.length){const [p,G,K]=k;return null==p||null==G||null==K?null:0>=K?"":p.toString().substring(G-1,G+K-1)}}},position:{minParams:2,maxParams:2,
evaluate:([k,p])=>null==k||null==p?null:p.indexOf(k)+1},trim:{minParams:2,maxParams:3,evaluate:k=>{var p=3===k.length,G=p?k[1]:" ";p=p?k[2]:k[1];if(null==G||null==p)return null;G=`(${F.escapeRegExpString(G)})`;switch(k[0]){case "BOTH":return p.replace(new RegExp(`^${G}*|${G}*$`,"g"),"");case "LEADING":return p.replace(new RegExp(`^${G}*`,"g"),"");case "TRAILING":return p.replace(new RegExp(`${G}*$`,"g"),"")}throw Error("Invalid Parameter for call to TRIM");}},abs:{minParams:1,maxParams:1,evaluate:k=>
null==k[0]?null:Math.abs(k[0])},ceiling:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.ceil(k[0])},floor:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.floor(k[0])},log:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.log(k[0])},log10:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.log(k[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.sin(k[0])},cos:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.cos(k[0])},tan:{minParams:1,
maxParams:1,evaluate:k=>null==k[0]?null:Math.tan(k[0])},asin:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.asin(k[0])},acos:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.acos(k[0])},atan:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.atan(k[0])},sign:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:0<k[0]?1:0>k[1]?-1:0},power:{minParams:2,maxParams:2,evaluate:k=>null==k[0]||null==k[1]?null:k[0]**k[1]},mod:{minParams:2,maxParams:2,evaluate:k=>null==k[0]||null==
k[1]?null:k[0]%k[1]},round:{minParams:1,maxParams:2,evaluate:k=>{const p=k[0];k=2===k.length?10**k[1]:1;return null==p?null:Math.round(p*k)/k}},truncate:{minParams:1,maxParams:2,evaluate:k=>null==k[0]?null:1===k.length?parseInt(k[0].toFixed(0),10):parseFloat(k[0].toFixed(k[1]))},char_length:{minParams:1,maxParams:1,evaluate:k=>"string"===typeof k[0]||k[0]instanceof String?k[0].length:0},concat:{minParams:1,maxParams:Infinity,evaluate:k=>{let p="";for(let G=0;G<k.length;G++){if(null==k[G])return null;
p+=k[G].toString()}return p}},lower:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:k[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:k[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:Infinity,evaluate:k=>{for(const p of k)if(null!==p)return p;return null}},cosh:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.cosh(k[0])},sinh:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.sinh(k[0])},tanh:{minParams:1,maxParams:1,evaluate:k=>
null==k[0]?null:Math.tanh(k[0])},nullif:{minParams:2,maxParams:2,evaluate:k=>{const p=k[0];k=k[1];return(p instanceof Date?p.valueOf():p)===(k instanceof Date?k.valueOf():k)?null:p}},cast:{minParams:2,maxParams:2,evaluate:k=>{var p=k[0];k=k[1];if(null===p)return null;switch(k.type){case "integer":p=parseInt(p,10);if(isNaN(p))throw new W.SqlError(W.SqlErrorCodes.CannotCastValue);return p;case "smallint":p=parseInt(p,10);if(isNaN(p))throw new W.SqlError(W.SqlErrorCodes.CannotCastValue);if(32767<p||
-32767>p)throw new W.SqlError(W.SqlErrorCodes.CannotCastValue);return p;case "float":case "real":p=parseFloat(p);if(isNaN(p))throw new W.SqlError(W.SqlErrorCodes.CannotCastValue);return p;case "date":return m(p,!0);case "timestamp":return m(p,!1);case "varchar":p=p.toString();if(p.length>k.size)throw new W.SqlError(W.SqlErrorCodes.CannotCastValue);return p;default:throw new W.SqlError(W.SqlErrorCodes.InvalidDataType);}}}};d.SqlInterval=n;d.evaluateFunction=function(k,p){const G=g[k.toLowerCase()];
if(null==G)throw Error("Function Not Recognised");if(p.length<G.minParams||p.length>G.maxParams)throw Error(`Invalid Parameter count for call to ${k.toUpperCase()}`);return G.evaluate(p)};d.isStandardized=function(k,p){k=g[k.toLowerCase()];return null!=k&&p>=k.minParams&&p<=k.maxParams};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/arcade/featureset/support/errorsupport":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../executionError"],function(d,
b,W){d.SqlErrorCodes=void 0;(function(n){n.InvalidFunctionParameters="InvalidFunctionParameters";n.UnsupportedSqlFunction="UnsupportedSqlFunction";n.UnsupportedOperator="UnsupportedOperator";n.UnsupportedSyntax="UnsupportedSyntax";n.UnsupportedIsRhs="UnsupportedIsRhs";n.UnsupportedIsLhs="UnsupportedIsLhs";n.InvalidDataType="InvalidDataType";n.CannotCastValue="CannotCastValue";n.MissingStatisticParameters="MissingStatisticParameters"})(d.SqlErrorCodes||(d.SqlErrorCodes={}));const F={[d.SqlErrorCodes.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",
[d.SqlErrorCodes.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[d.SqlErrorCodes.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[d.SqlErrorCodes.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[d.SqlErrorCodes.UnsupportedOperator]:"Unsupported operator - {operator}",[d.SqlErrorCodes.UnsupportedSyntax]:"Unsupported syntax - {node}",[d.SqlErrorCodes.UnsupportedSqlFunction]:"Sql function not found \x3d {function}",[d.SqlErrorCodes.InvalidDataType]:"Invalid sql data type",
[d.SqlErrorCodes.CannotCastValue]:"Cannot cast value to the required data type"};let I=function(n){function g(p,G){p=k.call(this,W.doSubstitutions(F[p],G));p.declaredRootClass="esri.arcade.featureset.support.sqlerror";Error.captureStackTrace&&Error.captureStackTrace(b._assertThisInitialized(p),g);return p}b._inherits(g,n);var k=b._createSuper(g);return b._createClass(g)}(b._wrapNativeSuper(Error));d.FeatureSetErrorCodes=void 0;(function(n){n.NeverReach="NeverReach";n.NotImplemented="NotImplemented";
n.Cancelled="Cancelled";n.InvalidStatResponse="InvalidStatResponse";n.InvalidRequest="InvalidRequest";n.RequestFailed="RequestFailed";n.MissingFeatures="MissingFeatures";n.AggregationFieldNotFound="AggregationFieldNotFound";n.DataElementsNotFound="DataElementsNotFound"})(d.FeatureSetErrorCodes||(d.FeatureSetErrorCodes={}));const y={[d.FeatureSetErrorCodes.Cancelled]:"Cancelled",[d.FeatureSetErrorCodes.InvalidStatResponse]:"Invalid statistics response from service",[d.FeatureSetErrorCodes.InvalidRequest]:"Invalid request",
[d.FeatureSetErrorCodes.RequestFailed]:"Request failed - {reason}",[d.FeatureSetErrorCodes.MissingFeatures]:"Missing features",[d.FeatureSetErrorCodes.AggregationFieldNotFound]:"Aggregation field not found",[d.FeatureSetErrorCodes.DataElementsNotFound]:"Data elements not found on service",[d.FeatureSetErrorCodes.NeverReach]:"Encountered unreachable logic",[d.FeatureSetErrorCodes.NotImplemented]:"Not implemented"};let m=function(n){function g(p,G){p=k.call(this,W.doSubstitutions(y[p],G));p.declaredRootClass=
"esri.arcade.featureset.support.featureseterror";Error.captureStackTrace&&Error.captureStackTrace(b._assertThisInitialized(p),g);return p}b._inherits(g,n);var k=b._createSuper(g);return b._createClass(g)}(b._wrapNativeSuper(Error));d.FeatureSetError=m;d.FeatureSetErrorMessages=y;d.SqlError=I;d.SqlErrorMessages=F;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/arcade/executionError":function(){define(["exports","../chunks/_rollupPluginBabelHelpers"],function(d,b){function W(K){return K&&
K.loc?`Line : ${K.loc.start?.line}, ${K.loc.start?.column}: `:""}function F(K,R){try{if(!R)return K;for(const A in R){let f=R[A];f||(f="");K=K.replace("{"+A+"}",R[A])}}catch(A){}return K}d.ExecutionErrorCodes=void 0;(function(K){K.AsyncNotEnabled="AsyncNotEnabled";K.ModulesNotSupported="ModulesNotSupported";K.CircularModules="CircularModules";K.NeverReach="NeverReach";K.UnsupportedHashType="UnsupportedHashType";K.InvalidParameter="InvalidParameter";K.UnexpectedToken="UnexpectedToken";K.Unrecognised=
"Unrecognised";K.UnrecognisedType="UnrecognisedType";K.MaximumCallDepth="MaximumCallDepth";K.BooleanConditionRequired="BooleanConditionRequired";K.TypeNotAllowedInFeature="TypeNotAllowedInFeature";K.KeyMustBeString="KeyMustBeString";K.WrongNumberOfParameters="WrongNumberOfParameters";K.CallNonFunction="CallNonFunction";K.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral";K.NoFunctionInDictionary="NoFunctionInDictionary";K.NoFunctionInArray="NoFunctionInArray";K.AssignModuleFunction="AssignModuleFunction";
K.LogicExpressionOrAnd="LogicExpressionOrAnd";K.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean";K.FuncionNotFound="FunctionNotFound";K.InvalidMemberAccessKey="InvalidMemberAccessKey";K.UnsupportedUnaryOperator="UnsupportUnaryOperator";K.InvalidIdentifier="InvalidIdentifier";K.MemberOfNull="MemberOfNull";K.UnsupportedOperator="UnsupportedOperator";K.Cancelled="Cancelled";K.ModuleAccessorMustBeString="ModuleAccessorMustBeString";K.ModuleExportNotFound="ModuleExportNotFound";K.Immutable=
"Immutable";K.OutOfBounds="OutOfBounds";K.IllegalResult="IllegalResult";K.FieldNotFound="FieldNotFound";K.PortalRequired="PortalRequired";K.LogicError="LogicError";K.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber";K.KeyAccessorMustBeString="KeyAccessorMustBeString";K.WrongSpatialReference="WrongSpatialReference"})(d.ExecutionErrorCodes||(d.ExecutionErrorCodes={}));const I={[d.ExecutionErrorCodes.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[d.ExecutionErrorCodes.LogicError]:"Logic error - {reason}",
[d.ExecutionErrorCodes.NeverReach]:"Encountered unreachable logic",[d.ExecutionErrorCodes.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[d.ExecutionErrorCodes.ModuleAccessorMustBeString]:"Module accessor must be a string",[d.ExecutionErrorCodes.ModuleExportNotFound]:"Module has no export with provided identifier",[d.ExecutionErrorCodes.ModulesNotSupported]:"Current profile does not support modules",[d.ExecutionErrorCodes.ArrayAccessorMustBeNumber]:"Array accessor must be a number",
[d.ExecutionErrorCodes.FuncionNotFound]:"Function not found",[d.ExecutionErrorCodes.FieldNotFound]:"Key not found - {key}",[d.ExecutionErrorCodes.CircularModules]:"Circular module dependencies are not allowed",[d.ExecutionErrorCodes.Cancelled]:"Execution cancelled",[d.ExecutionErrorCodes.UnsupportedHashType]:"Type not supported in hash function",[d.ExecutionErrorCodes.IllegalResult]:"Value is not a supported return type",[d.ExecutionErrorCodes.PortalRequired]:"Portal is required",[d.ExecutionErrorCodes.InvalidParameter]:"Invalid parameter",
[d.ExecutionErrorCodes.WrongNumberOfParameters]:"Call with wrong number of parameters",[d.ExecutionErrorCodes.Unrecognised]:"Unrecognised code structure",[d.ExecutionErrorCodes.UnrecognisedType]:"Unrecognised type",[d.ExecutionErrorCodes.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[d.ExecutionErrorCodes.BooleanConditionRequired]:"Conditions must use booleans",[d.ExecutionErrorCodes.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",
[d.ExecutionErrorCodes.NoFunctionInArray]:"Arrays cannot contain functions.",[d.ExecutionErrorCodes.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[d.ExecutionErrorCodes.KeyAccessorMustBeString]:"Accessor must be a string",[d.ExecutionErrorCodes.KeyMustBeString]:"Object keys must be a string",[d.ExecutionErrorCodes.Immutable]:"Object is immutable",[d.ExecutionErrorCodes.InvalidParameter]:"Invalid parameter",[d.ExecutionErrorCodes.UnexpectedToken]:"Unexpected token",
[d.ExecutionErrorCodes.MemberOfNull]:"Cannot access property of null object",[d.ExecutionErrorCodes.MaximumCallDepth]:"Exceeded maximum function depth",[d.ExecutionErrorCodes.OutOfBounds]:"Out of bounds",[d.ExecutionErrorCodes.InvalidIdentifier]:"Identifier not recognised",[d.ExecutionErrorCodes.FuncionNotFound]:"Function not found",[d.ExecutionErrorCodes.CallNonFunction]:"Expression is not a function",[d.ExecutionErrorCodes.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[d.ExecutionErrorCodes.AssignModuleFunction]:"Cannot assign function to module variable",
[d.ExecutionErrorCodes.UnsupportedUnaryOperator]:"Unsupported unary operator",[d.ExecutionErrorCodes.UnsupportedOperator]:"Unsupported operator",[d.ExecutionErrorCodes.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[d.ExecutionErrorCodes.LogicExpressionOrAnd]:"Logical expression can only be combined with || or \x26\x26"};let y=function(K){function R(...f){return A.call(this,...f)}b._inherits(R,K);var A=b._createSuper(R);return b._createClass(R)}(b._wrapNativeSuper(Error)),m=function(K){function R(f,
r){f=A.call(this,W(r)+f.message,{cause:f});f.loc=null;Error.captureStackTrace&&Error.captureStackTrace(b._assertThisInitialized(f),R);r&&r.loc&&(f.loc=r.loc);return f}b._inherits(R,K);var A=b._createSuper(R);return b._createClass(R)}(y),n=function(K){function R(f,r,z,Q){f=A.call(this,"Execution error - "+W(z)+F(I[r],Q));f.loc=null;f.declaredRootClass="esri.arcade.arcadeexecutionerror";Error.captureStackTrace&&Error.captureStackTrace(b._assertThisInitialized(f),R);z&&z.loc&&(f.loc=z.loc);return f}
b._inherits(R,K);var A=b._createSuper(R);return b._createClass(R)}(b._wrapNativeSuper(Error)),g=function(K){function R(f,r,z,Q){f=A.call(this,"Compilation error - "+W(z)+F(I[r],Q));f.loc=null;f.declaredRootClass="esri.arcade.arcadecompilationerror";Error.captureStackTrace&&Error.captureStackTrace(b._assertThisInitialized(f),R);z&&z.loc&&(f.loc=z.loc);return f}b._inherits(R,K);var A=b._createSuper(R);return b._createClass(R)}(b._wrapNativeSuper(Error)),k=function(K){function R(){var f=A.call(this,
"Uncompilable code structures");f.declaredRootClass="esri.arcade.arcadeuncompilableerror";Error.captureStackTrace&&Error.captureStackTrace(b._assertThisInitialized(f),R);return f}b._inherits(R,K);var A=b._createSuper(R);return b._createClass(R)}(b._wrapNativeSuper(Error));d.ModuleErrorCodes=void 0;(function(K){K.UnrecognisedUri="UnrecognisedUri";K.UnsupportedUriProtocol="UnsupportedUriProtocol"})(d.ModuleErrorCodes||(d.ModuleErrorCodes={}));const p={[d.ModuleErrorCodes.UnrecognisedUri]:"Unrecognised uri - {uri}",
[d.ModuleErrorCodes.UnsupportedUriProtocol]:"Unrecognised uri protocol"};let G=function(K){function R(f,r){f=A.call(this,F(p[f],r));f.declaredRootClass="esri.arcade.arcademoduleerror";Error.captureStackTrace&&Error.captureStackTrace(b._assertThisInitialized(f),R);return f}b._inherits(R,K);var A=b._createSuper(R);return b._createClass(R)}(b._wrapNativeSuper(Error));d.ArcadeCompilationError=g;d.ArcadeExecutionError=n;d.ArcadeUncompilableError=k;d.ErrorWithCause=y;d.ExecutionErrorMessages=I;d.LocatableArcadeExecutionError=
m;d.ModuleError=G;d.ModuleErrorMessages=p;d.doSubstitutions=F;d.ensureArcadeExecutionError=function(K,R,A){return"esri.arcade.arcadeexecutionerror"===A.declaredRootClass||"esri.arcade.arcadecompilationerror"===A.declaredRootClass?null===A.loc&&R&&R.loc?new m(A,{cause:A}):A:R&&R.loc?new m(A,{cause:A}):A};d.parsingValidationMessage=function(K,R,A){return"Parsing error - "+W(K)+F(I[R],A)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],
function(d){function b(a,l={}){const N=JSON.stringify([a,l]);let fa=hd[N];fa||(fa=new Intl.ListFormat(a,l),hd[N]=fa);return fa}function W(a,l={}){const N=JSON.stringify([a,l]);let fa=Hc[N];fa||(fa=new Intl.DateTimeFormat(a,l),Hc[N]=fa);return fa}function F(a,l={}){const N=JSON.stringify([a,l]);let fa=Ic[N];fa||(fa=new Intl.NumberFormat(a,l),Ic[N]=fa);return fa}function I(a,l={}){const {base:N,...fa}=l,oa=JSON.stringify([a,fa]);let wa=Jc[oa];wa||(wa=new Intl.RelativeTimeFormat(a,l),Jc[oa]=wa);return wa}
function y(a){const l=[];for(let N=1;12>=N;N++){const fa=cb.utc(2016,N,1);l.push(a(fa))}return l}function m(a){const l=[];for(let N=1;7>=N;N++){const fa=cb.utc(2016,11,13+N);l.push(a(fa))}return l}function n(a,l,N,fa,oa){a=a.listingMode(N);return"error"===a?null:"en"===a?fa(l):oa(l)}function g(a,l){if(k(a)||null===a)return l;if(a instanceof hc)return a;if("string"===typeof a){const N=a.toLowerCase();return"default"===N?l:"local"===N||"system"===N?nc.instance:"utc"===N||"gmt"===N?Fb.utcInstance:Fb.parseSpecifier(N)||
Ub.create(a)}return p(a)?Fb.instance(a):"object"===typeof a&&a.offset&&"number"===typeof a.offset?a:new me(a)}function k(a){return"undefined"===typeof a}function p(a){return"number"===typeof a}function G(a){return"number"===typeof a&&0===a%1}function K(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(a){return!1}}function R(a,l,N){if(0!==a.length)return a.reduce((fa,oa)=>{oa=[l(oa),oa];return fa?N(fa[0],oa[0])===fa[0]?fa:oa:oa},null)[1]}function A(a,l){return l.reduce((N,fa)=>
{N[fa]=a[fa];return N},{})}function f(a,l){return Object.prototype.hasOwnProperty.call(a,l)}function r(a,l,N){return G(a)&&a>=l&&a<=N}function z(a,l=2){return 0>a?"-"+(""+-a).padStart(l,"0"):(""+a).padStart(l,"0")}function Q(a){if(!k(a)&&null!==a&&""!==a)return parseInt(a,10)}function D(a){if(!k(a)&&null!==a&&""!==a)return parseFloat(a)}function C(a){if(!k(a)&&null!==a&&""!==a)return a=1E3*parseFloat("0."+a),Math.floor(a)}function J(a,l,N=!1){l=10**l;return(N?Math.trunc:Math.round)(a*l)/l}function u(a){return 0===
a%4&&(0!==a%100||0===a%400)}function M(a,l){var N=l-1;N=N-12*Math.floor(N/12)+1;return 2===N?u(a+(l-N)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][N-1]}function L(a){let l=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);100>a.year&&0<=a.year&&(l=new Date(l),l.setUTCFullYear(a.year,a.month-1,a.day));return+l}function Y(a){var l=a-1;l=(l+Math.floor(l/4)-Math.floor(l/100)+Math.floor(l/400))%7;return 4===(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7||3===l?53:
52}function X(a){return 99<a?a:a>xb.twoDigitCutoffYear?1900+a:2E3+a}function x(a,l,N,fa=null){a=new Date(a);const oa={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};fa&&(oa.timeZone=fa);return(l=(new Intl.DateTimeFormat(N,{timeZoneName:l,...oa})).formatToParts(a).find(wa=>"timezonename"===wa.type.toLowerCase()))?l.value:null}function E(a,l){a=parseInt(a,10);Number.isNaN(a)&&(a=0);l=parseInt(l,10)||0;l=0>a||Object.is(a,-0)?-l:l;return 60*a+l}function ka(a){const l=
Number(a);if("boolean"===typeof a||""===a||Number.isNaN(l))throw new Ka(`Invalid unit value ${a}`);return l}function V(a,l){const N={};for(const fa in a)if(f(a,fa)){const oa=a[fa];void 0!==oa&&null!==oa&&(N[l(fa)]=ka(oa))}return N}function ea(a,l){const N=Math.trunc(Math.abs(a/60)),fa=Math.trunc(Math.abs(a%60));a=0<=a?"+":"-";switch(l){case "short":return`${a}${z(N,2)}:${z(fa,2)}`;case "narrow":return`${a}${N}${0<fa?`:${fa}`:""}`;case "techie":return`${a}${z(N,2)}${z(fa,2)}`;default:throw new RangeError(`Value format ${l} is out of range for property format`);
}}function O(a){return A(a,["hour","minute","second","millisecond"])}function na(a){switch(a){case "narrow":return[...ne];case "short":return[...Kc];case "long":return[...oe];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function ta(a){switch(a){case "narrow":return[...pe];case "short":return[...id];case "long":return[...Lc];case "numeric":return"1234567".split("");default:return null}}function xa(a){switch(a){case "narrow":return[...qe];
case "short":return[...re];case "long":return[...se];default:return null}}function ja(a,l,N="always",fa=!1){const oa={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var wa=-1===["hours","minutes","seconds"].indexOf(a);if("auto"===N&&wa)switch(N="days"===a,l){case 1:return N?"tomorrow":`next ${oa[a][0]}`;case -1:return N?"yesterday":`last ${oa[a][0]}`;case 0:return N?
"today":`this ${oa[a][0]}`}N=Object.is(l,-0)||0>l;l=Math.abs(l);wa=1===l;const Ha=oa[a];a=fa?wa?Ha[1]:Ha[2]||Ha[1]:wa?oa[a][0]:a;return N?`${l} ${a} ago`:`in ${l} ${a}`}function S(a,l){let N="";for(const fa of a)N=fa.literal?N+fa.val:N+l(fa.val);return N}function T(...a){a=a.reduce((l,N)=>l+N.source,"");return RegExp(`^${a}$`)}function w(...a){return l=>a.reduce(([N,fa,oa],wa)=>{const [Ha,Oa,Sa]=wa(l,oa);return[{...N,...Ha},Oa||fa,Sa]},[{},null,1]).slice(0,2)}function ha(a,...l){if(null==a)return[null,
null];for(const [N,fa]of l)if(l=N.exec(a))return fa(l);return[null,null]}function t(...a){return(l,N)=>{const fa={};let oa;for(oa=0;oa<a.length;oa++)fa[a[oa]]=Q(l[N+oa]);return[fa,null,N+oa]}}function ca(a,l,N){a=a[l];return k(a)?N:Q(a)}function Ea(a,l){return[{hours:ca(a,l,0),minutes:ca(a,l+1,0),seconds:ca(a,l+2,0),milliseconds:C(a[l+3])},null,l+4]}function Fa(a,l){const N=!a[l]&&!a[l+1];a=E(a[l+1],a[l+2]);return[{},N?null:Fb.instance(a),l+3]}function Xa(a,l){return[{},a[l]?Ub.create(a[l]):null,
l+1]}function sa(a){const [l,N,fa,oa,wa,Ha,Oa,Sa,db]=a,h="-"===l[0];a=Sa&&"-"===Sa[0];const eb=(ab,zb=!1)=>void 0!==ab&&(zb||ab&&h)?-ab:ab;return[{years:eb(D(N)),months:eb(D(fa)),weeks:eb(D(oa)),days:eb(D(wa)),hours:eb(D(Ha)),minutes:eb(D(Oa)),seconds:eb(D(Sa),"-0"===Sa),milliseconds:eb(C(db),a)}]}function ya(a,l,N,fa,oa,wa,Ha){l={year:2===l.length?X(Q(l)):Q(l),month:Kc.indexOf(N)+1,day:Q(fa),hour:Q(oa),minute:Q(wa)};Ha&&(l.second=Q(Ha));a&&(l.weekday=3<a.length?Lc.indexOf(a)+1:id.indexOf(a)+1);return l}
function Ia(a){const [,l,N,fa,oa,wa,Ha,Oa,Sa,db,h,eb]=a;a=ya(l,oa,fa,N,wa,Ha,Oa);let ab;ab=Sa?te[Sa]:db?0:E(h,eb);return[a,new Fb(ab)]}function e(a){const [,l,N,fa,oa,wa,Ha,Oa]=a;return[ya(l,oa,fa,N,wa,Ha,Oa),Fb.utcInstance]}function q(a){const [,l,N,fa,oa,wa,Ha,Oa]=a;return[ya(l,Oa,N,fa,oa,wa,Ha),Fb.utcInstance]}function ia(a,l,N=!1){a={values:N?l.values:{...a.values,...(l.values||{})},loc:a.loc.clone(l.loc),conversionAccuracy:l.conversionAccuracy||a.conversionAccuracy,matrix:l.matrix||a.matrix};
return new jb(a)}function pa(a,l,N,fa,oa){a=a[oa][N];var wa=l[N]/a;wa=Math.sign(wa)!==Math.sign(fa[oa])&&0!==fa[oa]&&1>=Math.abs(wa)?0>wa?Math.floor(wa):Math.ceil(wa):Math.trunc(wa);fa[oa]+=wa;l[N]-=wa*a}function za(a,l){ue.reduce((N,fa)=>{if(k(l[fa]))return N;N&&pa(a,l,N,l,fa);return fa},null)}function B(a,l){a=l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(jb.fromMillis(a).as("days"))}function P(a,l,N){const fa=[["years",
(Sa,db)=>db.year-Sa.year],["quarters",(Sa,db)=>db.quarter-Sa.quarter+4*(db.year-Sa.year)],["months",(Sa,db)=>db.month-Sa.month+12*(db.year-Sa.year)],["weeks",(Sa,db)=>{Sa=B(Sa,db);return(Sa-Sa%7)/7}],["days",B]],oa={},wa=a;let Ha,Oa;for(const [Sa,db]of fa)0<=N.indexOf(Sa)&&(Ha=Sa,oa[Sa]=db(a,l),Oa=wa.plus(oa),Oa>l?(oa[Sa]--,a=wa.plus(oa)):a=Oa);return[a,oa,Oa,Ha]}function da(a,l,N,fa){let [oa,wa,Ha,Oa]=P(a,l,N);a=l-oa;N=N.filter(Sa=>0<=["hours","minutes","seconds","milliseconds"].indexOf(Sa));0===
N.length&&(Ha<l&&(Ha=oa.plus({[Oa]:1})),Ha!==oa&&(wa[Oa]=(wa[Oa]||0)+a/(Ha-oa)));l=jb.fromObject(wa,fa);return 0<N.length?jb.fromMillis(a,fa).shiftTo(...N).plus(l):l}function aa({numberingSystem:a},l=""){return new RegExp(`${Mc[a||"latn"]}${l}`)}function ma(a,l=N=>N){return{regex:a,deser:([N])=>{{let fa=parseInt(N,10);if(isNaN(fa)){fa="";for(let oa=0;oa<N.length;oa++){const wa=N.charCodeAt(oa);if(-1!==N[oa].search(Mc.hanidec))fa+=ve.indexOf(N[oa]);else for(const Ha in jd){const [Oa,Sa]=jd[Ha];wa>=
Oa&&wa<=Sa&&(fa+=wa-Oa)}}N=parseInt(fa,10)}else N=fa}return l(N)}}}function ra(a){return a.replace(/\./g,"\\.?").replace(Nc,kd)}function ua(a,l){return null===a?null:{regex:RegExp(a.map(ra).join("|")),deser:([N])=>a.findIndex(fa=>N.replace(/\./g,"").replace(Nc," ").toLowerCase()===fa.replace(/\./g,"").replace(Nc," ").toLowerCase())+l}}function Ca(a,l){return{regex:a,deser:([,N,fa])=>E(N,fa),groups:l}}function Ba(a){return{regex:a,deser:([l])=>l}}function La(a,l){const N=aa(l),fa=aa(l,"{2}"),oa=aa(l,
"{3}"),wa=aa(l,"{4}"),Ha=aa(l,"{6}"),Oa=aa(l,"{1,2}"),Sa=aa(l,"{1,3}"),db=aa(l,"{1,6}"),h=aa(l,"{1,9}"),eb=aa(l,"{2,4}"),ab=aa(l,"{4,6}"),zb=Vb=>({regex:RegExp(Vb.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([v])=>v,literal:!0}),Aa=(Vb=>{if(a.literal)return zb(Vb);switch(Vb.val){case "G":return ua(l.eras("short",!1),0);case "GG":return ua(l.eras("long",!1),0);case "y":return ma(db);case "yy":return ma(eb,X);case "yyyy":return ma(wa);case "yyyyy":return ma(ab);case "yyyyyy":return ma(Ha);
case "M":return ma(Oa);case "MM":return ma(fa);case "MMM":return ua(l.months("short",!0,!1),1);case "MMMM":return ua(l.months("long",!0,!1),1);case "L":return ma(Oa);case "LL":return ma(fa);case "LLL":return ua(l.months("short",!1,!1),1);case "LLLL":return ua(l.months("long",!1,!1),1);case "d":return ma(Oa);case "dd":return ma(fa);case "o":return ma(Sa);case "ooo":return ma(oa);case "HH":return ma(fa);case "H":return ma(Oa);case "hh":return ma(fa);case "h":return ma(Oa);case "mm":return ma(fa);case "m":return ma(Oa);
case "q":return ma(Oa);case "qq":return ma(fa);case "s":return ma(Oa);case "ss":return ma(fa);case "S":return ma(Sa);case "SSS":return ma(oa);case "u":return Ba(h);case "uu":return Ba(Oa);case "uuu":return ma(N);case "a":return ua(l.meridiems(),0);case "kkkk":return ma(wa);case "kk":return ma(eb,X);case "W":return ma(Oa);case "WW":return ma(fa);case "E":case "c":return ma(N);case "EEE":return ua(l.weekdays("short",!1,!1),1);case "EEEE":return ua(l.weekdays("long",!1,!1),1);case "ccc":return ua(l.weekdays("short",
!0,!1),1);case "cccc":return ua(l.weekdays("long",!0,!1),1);case "Z":case "ZZ":return Ca(new RegExp(`([+-]${Oa.source})(?::(${fa.source}))?`),2);case "ZZZ":return Ca(new RegExp(`([+-]${Oa.source})(${fa.source})?`),2);case "z":return Ba(/[a-z_+-/]{1,256}?/i);case " ":return Ba(/[^\S\n\r]/);default:return zb(Vb)}})(a)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};Aa.token=a;return Aa}function Ja(a){return[`^${a.map(l=>l.regex).reduce((l,N)=>`${l}(${N.source})`,"")}$`,a]}function Ma(a,
l,N){if(a=a.match(l)){l={};let fa=1;for(const oa in N)if(f(N,oa)){const wa=N[oa],Ha=wa.groups?wa.groups+1:1;!wa.literal&&wa.token&&(l[wa.token.val[0]]=wa.deser(a.slice(fa,fa+Ha)));fa+=Ha}return[a,l]}return[a,{}]}function Ua(a){const l=oa=>{switch(oa){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";
case "k":return"weekYear";case "q":return"quarter";default:return null}};let N=null,fa;k(a.z)||(N=Ub.create(a.z));k(a.Z)||(N||(N=new Fb(a.Z)),fa=a.Z);k(a.q)||(a.M=3*(a.q-1)+1);k(a.h)||(12>a.h&&1===a.a?a.h+=12:12===a.h&&0===a.a&&(a.h=0));0===a.G&&a.y&&(a.y=-a.y);k(a.u)||(a.S=C(a.u));return[Object.keys(a).reduce((oa,wa)=>{const Ha=l(wa);Ha&&(oa[Ha]=a[wa]);return oa},{}),N,fa]}function Ra(a,l){return Array.prototype.concat(...a.map(N=>{if(!N.literal){var fa=Ab.macroTokenToFormatOpts(N.val);fa=Va(fa,
l);N=null==fa||fa.includes(void 0)?N:fa}return N}))}function Wa(a,l,N){N=Ra(Ab.parseFormat(N),a);var fa=N.map(ab=>La(ab,a));const oa=fa.find(ab=>ab.invalidReason);if(oa)return{input:l,tokens:N,invalidReason:oa.invalidReason};const [wa,Ha]=Ja(fa);fa=RegExp(wa,"i");const [Oa,Sa]=Ma(l,fa,Ha),[db,h,eb]=Sa?Ua(Sa):[null,null,void 0];if(f(Sa,"a")&&f(Sa,"H"))throw new Z("Can't include meridiem when specifying 24-hour format");return{input:l,tokens:N,regex:fa,rawMatches:Oa,matches:Sa,result:db,zone:h,specificOffset:eb}}
function Va(a,l){if(!a)return null;l=Ab.create(l,a);var N=l.formatDateTimeParts;Oc||(Oc=cb.fromMillis(1555555555555));return N.call(l,Oc).map(fa=>{{const {type:wa,value:Ha}=fa;if("literal"===wa)fa=/^\s+$/.test(Ha),fa={literal:!fa,val:fa?" ":Ha};else{fa=a[wa];var oa=we[wa];"object"===typeof oa&&(oa=oa[fa]);fa=oa?{literal:!1,val:oa}:void 0}}return fa})}function Pa(a,l){return new Qb("unit out of range",`you specified ${l} (of type ${typeof l}) as a ${a}, which is invalid`)}function Ya(a,l,N){l=new Date(Date.UTC(a,
l-1,N));100>a&&0<=a&&l.setUTCFullYear(l.getUTCFullYear()-1900);a=l.getUTCDay();return 0===a?7:a}function bb(a,l){a=u(a)?Pc:Qc;const N=a.findIndex(fa=>fa<l);return{month:N+1,day:l-a[N]}}function Da(a){const {year:l,month:N,day:fa}=a;var oa=fa+(u(l)?Pc:Qc)[N-1];const wa=Ya(l,N,fa);oa=Math.floor((oa-wa+10)/7);let Ha;1>oa?(Ha=l-1,oa=Y(Ha)):oa>Y(l)?(Ha=l+1,oa=1):Ha=l;return{weekYear:Ha,weekNumber:oa,weekday:wa,...O(a)}}function wb(a){const {weekYear:l,weekNumber:N,weekday:fa}=a;var oa=Ya(l,1,4),wa=u(l)?
366:365;oa=7*N+fa-oa-3;1>oa?(wa=l-1,oa+=u(wa)?366:365):oa>wa?(wa=l+1,oa-=u(l)?366:365):wa=l;const {month:Ha,day:Oa}=bb(wa,oa);return{year:wa,month:Ha,day:Oa,...O(a)}}function sb(a){const {year:l,month:N,day:fa}=a;var oa=fa+(u(l)?Pc:Qc)[N-1];return{year:l,ordinal:oa,...O(a)}}function ib(a){const {year:l,ordinal:N}=a,{month:fa,day:oa}=bb(l,N);return{year:l,month:fa,day:oa,...O(a)}}function c(a){const l=G(a.year),N=r(a.month,1,12),fa=r(a.day,1,M(a.year,a.month));return l?N?fa?!1:Pa("day",a.day):Pa("month",
a.month):Pa("year",a.year)}function hb(a){const {hour:l,minute:N,second:fa,millisecond:oa}=a;a=r(l,0,23)||24===l&&0===N&&0===fa&&0===oa;const wa=r(N,0,59),Ha=r(fa,0,59),Oa=r(oa,0,999);return a?wa?Ha?Oa?!1:Pa("millisecond",oa):Pa("second",fa):Pa("minute",N):Pa("hour",l)}function Ib(a){return new Qb("unsupported zone",`the zone "${a.name}" is not supported`)}function Rb(a){null===a.weekData&&(a.weekData=Da(a.c));return a.weekData}function nb(a,l){a={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};
return new cb({...a,...l,old:a})}function qa(a,l,N){let fa=a-6E4*l;const oa=N.offset(fa);if(l===oa)return[fa,l];fa-=6E4*(oa-l);l=N.offset(fa);return oa===l?[fa,oa]:[a-6E4*Math.min(oa,l),Math.max(oa,l)]}function ic(a,l){a=new Date(a+6E4*l);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function Sb(a,l,N){return qa(L(a),l,N)}function Db(a,l){const N=a.o;var fa=a.c.year+
Math.trunc(l.years);const oa=a.c.month+Math.trunc(l.months)+3*Math.trunc(l.quarters);fa={...a.c,year:fa,month:oa,day:Math.min(a.c.day,M(fa,oa))+Math.trunc(l.days)+7*Math.trunc(l.weeks)};l=jb.fromObject({years:l.years-Math.trunc(l.years),quarters:l.quarters-Math.trunc(l.quarters),months:l.months-Math.trunc(l.months),weeks:l.weeks-Math.trunc(l.weeks),days:l.days-Math.trunc(l.days),hours:l.hours,minutes:l.minutes,seconds:l.seconds,milliseconds:l.milliseconds}).as("milliseconds");fa=L(fa);let [wa,Ha]=
qa(fa,N,a.zone);0!==l&&(wa+=l,Ha=a.zone.offset(wa));return{ts:wa,o:Ha}}function Jb(a,l,N,fa,oa,wa){const {setZone:Ha,zone:Oa}=N;return a&&0!==Object.keys(a).length||l?(a=cb.fromObject(a,{...N,zone:l||Oa,specificOffset:wa}),Ha?a:a.setZone(Oa)):cb.invalid(new Qb("unparsable",`the input "${oa}" can't be parsed as ${fa}`))}function ac(a,l,N=!0){return a.isValid?Ab.create(rb.create("en-US"),{allowZ:N,forceSimple:!0}).formatDateTimeFromString(a,l):null}function Yb(a,l){const N=9999<a.c.year||0>a.c.year;
let fa="";N&&0<=a.c.year&&(fa+="+");fa+=z(a.c.year,N?6:4);l?(fa=fa+"-"+z(a.c.month),fa=fa+"-"+z(a.c.day)):(fa+=z(a.c.month),fa+=z(a.c.day));return fa}function jc(a,l,N,fa,oa,wa){let Ha=z(a.c.hour);l?(Ha=Ha+":"+z(a.c.minute),0===a.c.second&&N||(Ha+=":")):Ha+=z(a.c.minute);0===a.c.second&&N||(Ha+=z(a.c.second),0===a.c.millisecond&&fa||(Ha=Ha+"."+z(a.c.millisecond,3)));oa&&(a.isOffsetFixed&&0===a.offset&&!wa?Ha+="Z":0>a.o?(Ha=Ha+"-"+z(Math.trunc(-a.o/60)),Ha=Ha+":"+z(Math.trunc(-a.o%60))):(Ha=Ha+"+"+
z(Math.trunc(a.o/60)),Ha=Ha+":"+z(Math.trunc(a.o%60))));wa&&(Ha+="["+a.zone.ianaName+"]");return Ha}function Eb(a){const l={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",
weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!l)throw new va(a);return l}function Tb(a,l){const N=g(l.zone,xb.defaultZone);l=rb.fromObject(l);const fa=xb.now();var oa;if(k(a.year))a=fa;else{for(const wa of ld)k(a[wa])&&(a[wa]=md[wa]);if(oa=c(a)||hb(a))return cb.invalid(oa);oa=N.offset(fa);[a,oa]=Sb(a,oa,N)}return new cb({ts:a,zone:N,loc:l,o:oa})}function kb(a,l,N){const fa=k(N.round)?!0:N.round,oa=(Ha,Oa)=>{Ha=J(Ha,fa||N.calendary?0:2,!0);return l.loc.clone(N).relFormatter(N).format(Ha,
Oa)},wa=Ha=>N.calendary?l.hasSame(a,Ha)?0:l.startOf(Ha).diff(a.startOf(Ha),Ha).get(Ha):l.diff(a,Ha).get(Ha);if(N.unit)return oa(wa(N.unit),N.unit);for(const Ha of N.units){const Oa=wa(Ha);if(1<=Math.abs(Oa))return oa(Oa,Ha)}return oa(a>l?-0:0,N.units[N.units.length-1])}function Gb(a){let l={};0<a.length&&"object"===typeof a[a.length-1]?(l=a[a.length-1],a=Array.from(a).slice(0,a.length-1)):a=Array.from(a);return[l,a]}function Hb(a){if(cb.isDateTime(a))return a;if(a&&a.valueOf&&p(a.valueOf()))return cb.fromJSDate(a);
if(a&&"object"===typeof a)return cb.fromObject(a);throw new Ka(`Unknown datetime argument: ${a}, of type ${typeof a}`);}class $a extends Error{}class bc extends $a{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}class U extends $a{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class la extends $a{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class Z extends $a{}class va extends $a{constructor(a){super(`Invalid unit ${a}`)}}class Ka extends $a{}class Na extends $a{constructor(){super("Zone is an abstract class")}}
const Ta={year:"numeric",month:"numeric",day:"numeric"},Za={year:"numeric",month:"short",day:"numeric"},ob={year:"numeric",month:"short",day:"numeric",weekday:"short"},mb={year:"numeric",month:"long",day:"numeric"},lb={year:"numeric",month:"long",day:"numeric",weekday:"long"},yb={hour:"numeric",minute:"numeric"},Kb={hour:"numeric",minute:"numeric",second:"numeric"},nd={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},od={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},
pd={hour:"numeric",minute:"numeric",hourCycle:"h23"},qd={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},rd={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},sd={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},td={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},ud={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},vd={year:"numeric",
month:"short",day:"numeric",hour:"numeric",minute:"numeric"},wd={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},xe={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},xd={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},yd={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},zd={year:"numeric",month:"long",
day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},Ad={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"};class hc{get type(){throw new Na;}get name(){throw new Na;}get ianaName(){return this.name}get isUniversal(){throw new Na;}offsetName(a,l){throw new Na;}formatOffset(a,l){throw new Na;}offset(a){throw new Na;}equals(a){throw new Na;}get isValid(){throw new Na;}}let Rc=null;class nc extends hc{static get instance(){null===
Rc&&(Rc=new nc);return Rc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,{format:l,locale:N}){return x(a,l,N)}formatOffset(a,l){return ea(this.offset(a),l)}offset(a){return-(new Date(a)).getTimezoneOffset()}equals(a){return"system"===a.type}get isValid(){return!0}}let oc={};const ye={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let pc={};class Ub extends hc{static create(a){pc[a]||(pc[a]=new Ub(a));return pc[a]}static resetCache(){pc=
{};oc={}}static isValidSpecifier(a){return this.isValidZone(a)}static isValidZone(a){if(!a)return!1;try{return(new Intl.DateTimeFormat("en-US",{timeZone:a})).format(),!0}catch(l){return!1}}constructor(a){super();this.zoneName=a;this.valid=Ub.isValidZone(a)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(a,{format:l,locale:N}){return x(a,l,N,this.name)}formatOffset(a,l){return ea(this.offset(a),l)}offset(a){a=new Date(a);if(isNaN(a))return NaN;var l=this.name;
oc[l]||(oc[l]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}));l=oc[l];if(l.formatToParts){l=l.formatToParts(a);var N=[];for(let h=0;h<l.length;h++){const {type:eb,value:ab}=l[h],zb=ye[eb];"era"===eb?N[zb]=ab:k(zb)||(N[zb]=parseInt(ab,10))}l=N}else{l=l.format(a).replace(/\u200E/g,"");l=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(l);const [,h,eb,ab,zb,Aa,Vb,v]=l;l=[ab,h,eb,zb,
Aa,Vb,v]}let [fa,oa,wa,Ha,Oa,Sa,db]=l;"BC"===Ha&&(fa=-Math.abs(fa)+1);l=L({year:fa,month:oa,day:wa,hour:24===Oa?0:Oa,minute:Sa,second:db,millisecond:0});a=+a;N=a%1E3;return(l-(a-(0<=N?N:1E3+N)))/6E4}equals(a){return"iana"===a.type&&a.name===this.name}get isValid(){return this.valid}}let hd={},Hc={},Ic={},Jc={},qc=null;class ze{constructor(a,l,N){this.padTo=N.padTo||0;this.floor=N.floor||!1;const {padTo:fa,floor:oa,...wa}=N;if(!l||0<Object.keys(wa).length)l={useGrouping:!1,...N},0<N.padTo&&(l.minimumIntegerDigits=
N.padTo),this.inf=F(a,l)}format(a){if(this.inf)return this.inf.format(this.floor?Math.floor(a):a);a=this.floor?Math.floor(a):J(a,3);return z(a,this.padTo)}}class Ae{constructor(a,l,N){this.opts=N;N=this.originalZone=void 0;this.opts.timeZone?this.dt=a:"fixed"===a.zone.type?(N=a.offset/60*-1,N=0<=N?`Etc/GMT+${N}`:`Etc/GMT${N}`,0!==a.offset&&Ub.create(N).valid?this.dt=a:(N="UTC",this.dt=0===a.offset?a:a.setZone("UTC").plus({minutes:a.offset}),this.originalZone=a.zone)):"system"===a.zone.type?this.dt=
a:"iana"===a.zone.type?(this.dt=a,N=a.zone.name):(N="UTC",this.dt=a.setZone("UTC").plus({minutes:a.offset}),this.originalZone=a.zone);a={...this.opts};a.timeZone=a.timeZone||N;this.dtf=W(l,a)}format(){return this.originalZone?this.formatToParts().map(({value:a})=>a).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const a=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?a.map(l=>{if("timeZoneName"===l.type){const N=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,
format:this.opts.timeZoneName});return{...l,value:N}}return l}):a}resolvedOptions(){return this.dtf.resolvedOptions()}}class Be{constructor(a,l,N){this.opts={style:"long",...N};!l&&K()&&(this.rtf=I(a,N))}format(a,l){return this.rtf?this.rtf.format(a,l):ja(l,a,this.opts.numeric,"long"!==this.opts.style)}formatToParts(a,l){return this.rtf?this.rtf.formatToParts(a,l):[]}}class rb{static fromOpts(a){return rb.create(a.locale,a.numberingSystem,a.outputCalendar,a.defaultToEN)}static create(a,l,N,fa=!1){a=
a||xb.defaultLocale;var oa;(oa=a)||(fa?fa="en-US":(qc||(qc=(new Intl.DateTimeFormat).resolvedOptions().locale),fa=qc),oa=fa);return new rb(oa,l||xb.defaultNumberingSystem,N||xb.defaultOutputCalendar,a)}static resetCache(){qc=null;Hc={};Ic={};Jc={}}static fromObject({locale:a,numberingSystem:l,outputCalendar:N}={}){return rb.create(a,l,N)}constructor(a,l,N,fa){var oa=a.indexOf("-x-");-1!==oa&&(a=a.substring(0,oa));oa=a.indexOf("-u-");if(-1===oa)var wa=[a];else{try{wa=W(a).resolvedOptions();var Ha=
a}catch(ab){Ha=a.substring(0,oa),wa=W(Ha).resolvedOptions()}const {numberingSystem:h,calendar:eb}=wa;wa=[Ha,h,eb]}const [Oa,Sa,db]=wa;this.locale=Oa;this.numberingSystem=l||Sa||null;this.outputCalendar=N||db||null;l=this.locale;N=this.numberingSystem;if((wa=this.outputCalendar)||N)l.includes("-u-")||(l+="-u"),wa&&(l+=`-ca-${wa}`),N&&(l+=`-nu-${N}`);this.intl=l;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=
fa;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var a=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=a}return this.fastNumbersCached}listingMode(){const a=this.isEnglish(),l=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);
return a&&l?"en":"intl"}clone(a){return a&&0!==Object.getOwnPropertyNames(a).length?rb.create(a.locale||this.specifiedLocale,a.numberingSystem||this.numberingSystem,a.outputCalendar||this.outputCalendar,a.defaultToEN||!1):this}redefaultToEN(a={}){return this.clone({...a,defaultToEN:!0})}redefaultToSystem(a={}){return this.clone({...a,defaultToEN:!1})}months(a,l=!1,N=!0){return n(this,a,N,na,()=>{const fa=l?{month:a,day:"numeric"}:{month:a},oa=l?"format":"standalone";this.monthsCache[oa][a]||(this.monthsCache[oa][a]=
y(wa=>this.extract(wa,fa,"month")));return this.monthsCache[oa][a]})}weekdays(a,l=!1,N=!0){return n(this,a,N,ta,()=>{const fa=l?{weekday:a,year:"numeric",month:"long",day:"numeric"}:{weekday:a},oa=l?"format":"standalone";this.weekdaysCache[oa][a]||(this.weekdaysCache[oa][a]=m(wa=>this.extract(wa,fa,"weekday")));return this.weekdaysCache[oa][a]})}meridiems(a=!0){return n(this,void 0,a,()=>Bd,()=>{if(!this.meridiemCache){const l={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[cb.utc(2016,11,13,
9),cb.utc(2016,11,13,19)].map(N=>this.extract(N,l,"dayperiod"))}return this.meridiemCache})}eras(a,l=!0){return n(this,a,l,xa,()=>{const N={era:a};this.eraCache[a]||(this.eraCache[a]=[cb.utc(-40,1,1),cb.utc(2017,1,1)].map(fa=>this.extract(fa,N,"era")));return this.eraCache[a]})}extract(a,l,N){return(a=this.dtFormatter(a,l).formatToParts().find(fa=>fa.type.toLowerCase()===N))?a.value:null}numberFormatter(a={}){return new ze(this.intl,a.forceSimple||this.fastNumbers,a)}dtFormatter(a,l={}){return new Ae(a,
this.intl,l)}relFormatter(a={}){return new Be(this.intl,this.isEnglish(),a)}listFormatter(a={}){return b(this.intl,a)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(a){return this.locale===a.locale&&this.numberingSystem===a.numberingSystem&&this.outputCalendar===a.outputCalendar}}let Sc=null;class Fb extends hc{static get utcInstance(){null===Sc&&(Sc=new Fb(0));return Sc}static instance(a){return 0===
a?Fb.utcInstance:new Fb(a)}static parseSpecifier(a){return a&&(a=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Fb(E(a[1],a[2])):null}constructor(a){super();this.fixed=a}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ea(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${ea(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(a,l){return ea(this.fixed,l)}get isUniversal(){return!0}offset(){return this.fixed}equals(a){return"fixed"===
a.type&&a.fixed===this.fixed}get isValid(){return!0}}class me extends hc{constructor(a){super();this.zoneName=a}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Tc=()=>Date.now(),Cd="system",Dd=null,Ed=null,Uc=null,Fd=60,Gd;class xb{static get now(){return Tc}static set now(a){Tc=a}static set defaultZone(a){Cd=a}static get defaultZone(){return g(Cd,
nc.instance)}static get defaultLocale(){return Dd}static set defaultLocale(a){Dd=a}static get defaultNumberingSystem(){return Ed}static set defaultNumberingSystem(a){Ed=a}static get defaultOutputCalendar(){return Uc}static set defaultOutputCalendar(a){Uc=a}static get twoDigitCutoffYear(){return Fd}static set twoDigitCutoffYear(a){Fd=a%100}static get throwOnInvalid(){return Gd}static set throwOnInvalid(a){Gd=a}static resetCaches(){rb.resetCache();Ub.resetCache()}}const oe="January February March April May June July August September October November December".split(" "),
Kc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ne="JFMAMJJASOND".split(""),Lc="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),id="Mon Tue Wed Thu Fri Sat Sun".split(" "),pe="MTWTFSS".split(""),Bd=["AM","PM"],se=["Before Christ","Anno Domini"],re=["BC","AD"],qe=["B","A"],Vc={D:Ta,DD:Za,DDD:mb,DDDD:lb,t:yb,tt:Kb,ttt:nd,tttt:od,T:pd,TT:qd,TTT:rd,TTTT:sd,f:td,ff:vd,fff:xd,ffff:zd,F:ud,FF:wd,FFF:yd,FFFF:Ad};class Ab{static create(a,l={}){return new Ab(a,l)}static parseFormat(a){let l=
null,N="",fa=!1;const oa=[];for(let wa=0;wa<a.length;wa++){const Ha=a.charAt(wa);"'"===Ha?(0<N.length&&oa.push({literal:fa||/^\s+$/.test(N),val:N}),l=null,N="",fa=!fa):fa?N+=Ha:Ha===l?N+=Ha:(0<N.length&&oa.push({literal:/^\s+$/.test(N),val:N}),l=N=Ha)}0<N.length&&oa.push({literal:fa||/^\s+$/.test(N),val:N});return oa}static macroTokenToFormatOpts(a){return Vc[a]}constructor(a,l){this.opts=l;this.loc=a;this.systemLoc=null}formatWithSystemDefault(a,l){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());
return this.systemLoc.dtFormatter(a,{...this.opts,...l}).format()}formatDateTime(a,l={}){return this.loc.dtFormatter(a,{...this.opts,...l}).format()}formatDateTimeParts(a,l={}){return this.loc.dtFormatter(a,{...this.opts,...l}).formatToParts()}formatInterval(a,l={}){return this.loc.dtFormatter(a.start,{...this.opts,...l}).dtf.formatRange(a.start.toJSDate(),a.end.toJSDate())}resolvedOptions(a,l={}){return this.loc.dtFormatter(a,{...this.opts,...l}).resolvedOptions()}num(a,l=0){if(this.opts.forceSimple)return z(a,
l);const N={...this.opts};0<l&&(N.padTo=l);return this.loc.numberFormatter(N).format(a)}formatDateTimeFromString(a,l){const N="en"===this.loc.listingMode(),fa=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,oa=(h,eb)=>this.loc.extract(a,h,eb),wa=h=>a.isOffsetFixed&&0===a.offset&&h.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,h.format):"",Ha=(h,eb)=>N?na(h)[a.month-1]:oa(eb?{month:h}:{month:h,day:"numeric"},"month"),Oa=(h,eb)=>N?ta(h)[a.weekday-1]:oa(eb?{weekday:h}:{weekday:h,month:"long",
day:"numeric"},"weekday"),Sa=h=>{const eb=Ab.macroTokenToFormatOpts(h);return eb?this.formatWithSystemDefault(a,eb):h},db=h=>N?xa(h)[0>a.year?0:1]:oa({era:h},"era");return S(Ab.parseFormat(l),h=>{switch(h){case "S":return this.num(a.millisecond);case "u":case "SSS":return this.num(a.millisecond,3);case "s":return this.num(a.second);case "ss":return this.num(a.second,2);case "uu":return this.num(Math.floor(a.millisecond/10),2);case "uuu":return this.num(Math.floor(a.millisecond/100));case "m":return this.num(a.minute);
case "mm":return this.num(a.minute,2);case "h":return this.num(0===a.hour%12?12:a.hour%12);case "hh":return this.num(0===a.hour%12?12:a.hour%12,2);case "H":return this.num(a.hour);case "HH":return this.num(a.hour,2);case "Z":return wa({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return wa({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return wa({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return a.zone.offsetName(a.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return a.zone.offsetName(a.ts,
{format:"long",locale:this.loc.locale});case "z":return a.zoneName;case "a":return N?Bd[12>a.hour?0:1]:oa({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return fa?oa({day:"numeric"},"day"):this.num(a.day);case "dd":return fa?oa({day:"2-digit"},"day"):this.num(a.day,2);case "c":return this.num(a.weekday);case "ccc":return Oa("short",!0);case "cccc":return Oa("long",!0);case "ccccc":return Oa("narrow",!0);case "E":return this.num(a.weekday);case "EEE":return Oa("short",!1);case "EEEE":return Oa("long",
!1);case "EEEEE":return Oa("narrow",!1);case "L":return fa?oa({month:"numeric",day:"numeric"},"month"):this.num(a.month);case "LL":return fa?oa({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case "LLL":return Ha("short",!0);case "LLLL":return Ha("long",!0);case "LLLLL":return Ha("narrow",!0);case "M":return fa?oa({month:"numeric"},"month"):this.num(a.month);case "MM":return fa?oa({month:"2-digit"},"month"):this.num(a.month,2);case "MMM":return Ha("short",!1);case "MMMM":return Ha("long",
!1);case "MMMMM":return Ha("narrow",!1);case "y":return fa?oa({year:"numeric"},"year"):this.num(a.year);case "yy":return fa?oa({year:"2-digit"},"year"):this.num(a.year.toString().slice(-2),2);case "yyyy":return fa?oa({year:"numeric"},"year"):this.num(a.year,4);case "yyyyyy":return fa?oa({year:"numeric"},"year"):this.num(a.year,6);case "G":return db("short");case "GG":return db("long");case "GGGGG":return db("narrow");case "kk":return this.num(a.weekYear.toString().slice(-2),2);case "kkkk":return this.num(a.weekYear,
4);case "W":return this.num(a.weekNumber);case "WW":return this.num(a.weekNumber,2);case "o":return this.num(a.ordinal);case "ooo":return this.num(a.ordinal,3);case "q":return this.num(a.quarter);case "qq":return this.num(a.quarter,2);case "X":return this.num(Math.floor(a.ts/1E3));case "x":return this.num(a.ts);default:return Sa(h)}})}formatDurationFromString(a,l){const N=oa=>{switch(oa[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";
case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};l=Ab.parseFormat(l);const fa=l.reduce((oa,{literal:wa,val:Ha})=>wa?oa:oa.concat(Ha),[]);a=a.shiftTo(...fa.map(N).filter(oa=>oa));return S(l,(oa=>wa=>{const Ha=N(wa);return Ha?this.num(oa.get(Ha),wa.length):wa})(a))}}class Qb{constructor(a,l){this.reason=a;this.explanation=l}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Hd=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,
Id=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Wc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Jd=RegExp(`${Wc.source}${`(?:${Id.source}?(?:\\[(${Hd.source})\\])?)?`}`),Xc=RegExp(`(?:T${Jd.source})?`),Ce=t("weekYear","weekNumber","weekDay"),Kd=t("year","ordinal"),Ld=RegExp(`${Wc.source} ?(?:${Id.source}|(${Hd.source}))?`),Md=RegExp(`(?: ${Ld.source})?`),Nd=RegExp(`^T?${Wc.source}$`),De=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,
te={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},Ee=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,Fe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ge=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
He=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,Ie=T(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Xc),Je=T(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Xc),Ke=T(/(\d{4})-?(\d{3})/,Xc),Le=T(Jd),Od=w(function(a,l){return[{year:ca(a,l),month:ca(a,l+1,1),day:ca(a,l+2,1)},null,l+3]},Ea,Fa,Xa),Me=w(Ce,Ea,Fa,Xa),Ne=w(Kd,Ea,Fa,Xa),Oe=w(Ea,Fa,Xa),Pe=w(Ea),Qe=T(/(\d{4})-(\d\d)-(\d\d)/,Md),Re=T(Ld),Se=w(Ea,Fa,Xa),Pd={weeks:{days:7,hours:168,minutes:10080,
seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},Te={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},
...Pd},Ue={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Pd},cc="years quarters months weeks days hours minutes seconds milliseconds".split(" "),ue=cc.slice(0).reverse();class jb{constructor(a){const l=
"longterm"===a.conversionAccuracy||!1;let N=l?Ue:Te;a.matrix&&(N=a.matrix);this.values=a.values;this.loc=a.loc||rb.create();this.conversionAccuracy=l?"longterm":"casual";this.invalid=a.invalid||null;this.matrix=N;this.isLuxonDuration=!0}static fromMillis(a,l){return jb.fromObject({milliseconds:a},l)}static fromObject(a,l={}){if(null==a||"object"!==typeof a)throw new Ka(`Duration.fromObject: argument expected to be an object, got ${null===a?"null":typeof a}`);return new jb({values:V(a,jb.normalizeUnit),
loc:rb.fromObject(l),conversionAccuracy:l.conversionAccuracy,matrix:l.matrix})}static fromDurationLike(a){if(p(a))return jb.fromMillis(a);if(jb.isDuration(a))return a;if("object"===typeof a)return jb.fromObject(a);throw new Ka(`Unknown duration argument ${a} of type ${typeof a}`);}static fromISO(a,l){const [N]=ha(a,[De,sa]);return N?jb.fromObject(N,l):jb.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,l){const [N]=ha(a,[Nd,Pe]);return N?jb.fromObject(N,l):
jb.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,l=null){if(!a)throw new Ka("need to specify a reason the Duration is invalid");a=a instanceof Qb?a:new Qb(a,l);if(xb.throwOnInvalid)throw new la(a);return new jb({invalid:a})}static normalizeUnit(a){const l={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",
second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[a?a.toLowerCase():a];if(!l)throw new va(a);return l}static isDuration(a){return a&&a.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(a,l={}){l={...l,floor:!1!==l.round&&!1!==l.floor};return this.isValid?Ab.create(this.loc,l).formatDurationFromString(this,a):"Invalid Duration"}toHuman(a={}){const l=cc.map(N=>
{const fa=this.values[N];return k(fa)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...a,unit:N.slice(0,-1)}).format(fa)}).filter(N=>N);return this.loc.listFormatter({type:"conjunction",style:a.listStyle||"narrow",...a}).format(l)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let a="P";0!==this.years&&(a+=this.years+"Y");if(0!==this.months||0!==this.quarters)a+=this.months+3*this.quarters+"M";0!==this.weeks&&(a+=this.weeks+"W");0!==this.days&&
(a+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)a+="T";0!==this.hours&&(a+=this.hours+"H");0!==this.minutes&&(a+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)a+=J(this.seconds+this.milliseconds/1E3,3)+"S";"P"===a&&(a+="T0S");return a}toISOTime(a={}){if(!this.isValid)return null;var l=this.toMillis();if(0>l||864E5<=l)return null;a={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...a};l=this.shiftTo("hours",
"minutes","seconds","milliseconds");let N="basic"===a.format?"hhmm":"hh:mm";a.suppressSeconds&&0===l.seconds&&0===l.milliseconds||(N+="basic"===a.format?"ss":":ss",a.suppressMilliseconds&&0===l.milliseconds||(N+=".SSS"));l=l.toFormat(N);a.includePrefix&&(l="T"+l);return l}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(a){if(!this.isValid)return this;a=jb.fromDurationLike(a);const l={};for(const N of cc)if(f(a.values,
N)||f(this.values,N))l[N]=a.get(N)+this.get(N);return ia(this,{values:l},!0)}minus(a){if(!this.isValid)return this;a=jb.fromDurationLike(a);return this.plus(a.negate())}mapUnits(a){if(!this.isValid)return this;const l={};for(const N of Object.keys(this.values))l[N]=ka(a(this.values[N],N));return ia(this,{values:l},!0)}get(a){return this[jb.normalizeUnit(a)]}set(a){if(!this.isValid)return this;a={...this.values,...V(a,jb.normalizeUnit)};return ia(this,{values:a})}reconfigure({locale:a,numberingSystem:l,
conversionAccuracy:N,matrix:fa}={}){a={loc:this.loc.clone({locale:a,numberingSystem:l}),matrix:fa,conversionAccuracy:N};return ia(this,a)}as(a){return this.isValid?this.shiftTo(a).get(a):NaN}normalize(){if(!this.isValid)return this;const a=this.toObject();za(this.matrix,a);return ia(this,{values:a},!0)}rescale(){if(!this.isValid)return this;var a=this.normalize().shiftToAll().toObject();const l={};for(const [N,fa]of Object.entries(a))0!==fa&&(l[N]=fa);return ia(this,{values:l},!0)}shiftTo(...a){if(!this.isValid||
0===a.length)return this;a=a.map(wa=>jb.normalizeUnit(wa));const l={},N={},fa=this.toObject();let oa;for(const wa of cc)if(0<=a.indexOf(wa)){oa=wa;let Ha=0;for(const Sa in N)Ha+=this.matrix[Sa][wa]*N[Sa],N[Sa]=0;p(fa[wa])&&(Ha+=fa[wa]);const Oa=Math.trunc(Ha);l[wa]=Oa;N[wa]=(1E3*Ha-1E3*Oa)/1E3;for(const Sa in fa)cc.indexOf(Sa)>cc.indexOf(wa)&&pa(this.matrix,fa,Sa,l,wa)}else p(fa[wa])&&(N[wa]=fa[wa]);for(const wa in N)0!==N[wa]&&(l[oa]+=wa===oa?N[wa]:N[wa]/this.matrix[oa][wa]);return ia(this,{values:l},
!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const a={};for(const l of Object.keys(this.values))a[l]=0===this.values[l]?0:-this.values[l];return ia(this,{values:a},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?
this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:
null}equals(a){if(!this.isValid||!a.isValid||!this.loc.equals(a.loc))return!1;for(const fa of cc){var l=this.values[fa];var N=a.values[fa];l=void 0===l||0===l?void 0===N||0===N:l===N;if(!l)return!1}return!0}}class vb{constructor(a){this.s=a.start;this.e=a.end;this.invalid=a.invalid||null;this.isLuxonInterval=!0}static invalid(a,l=null){if(!a)throw new Ka("need to specify a reason the Interval is invalid");a=a instanceof Qb?a:new Qb(a,l);if(xb.throwOnInvalid)throw new U(a);return new vb({invalid:a})}static fromDateTimes(a,
l){a=Hb(a);l=Hb(l);var N=a&&a.isValid?l&&l.isValid?l<a?vb.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${l.toISO()}`):null:vb.invalid("missing or invalid end"):vb.invalid("missing or invalid start");return null==N?new vb({start:a,end:l}):N}static after(a,l){l=jb.fromDurationLike(l);a=Hb(a);return vb.fromDateTimes(a,a.plus(l))}static before(a,l){l=jb.fromDurationLike(l);a=Hb(a);return vb.fromDateTimes(a.minus(l),a)}static fromISO(a,
l){const [N,fa]=(a||"").split("/",2);if(N&&fa){let Ha;try{var oa=cb.fromISO(N,l);Ha=oa.isValid}catch(Sa){Ha=!1}let Oa;try{var wa=cb.fromISO(fa,l);Oa=wa.isValid}catch(Sa){Oa=!1}if(Ha&&Oa)return vb.fromDateTimes(oa,wa);if(Ha){if(wa=jb.fromISO(fa,l),wa.isValid)return vb.after(oa,wa)}else if(Oa&&(oa=jb.fromISO(N,l),oa.isValid))return vb.before(wa,oa)}return vb.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static isInterval(a){return a&&a.isLuxonInterval||!1}get start(){return this.isValid?
this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(a="milliseconds"){return this.isValid?this.toDuration(...[a]).get(a):NaN}count(a="milliseconds"){if(!this.isValid)return NaN;const l=this.start.startOf(a),N=this.end.startOf(a);return Math.floor(N.diff(l,a).get(a))+(N.valueOf()!==this.end.valueOf())}hasSame(a){return this.isValid?
this.isEmpty()||this.e.minus(1).hasSame(this.s,a):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(a){return this.isValid?this.s>a:!1}isBefore(a){return this.isValid?this.e<=a:!1}contains(a){return this.isValid?this.s<=a&&this.e>a:!1}set({start:a,end:l}={}){return this.isValid?vb.fromDateTimes(a||this.s,l||this.e):this}splitAt(...a){if(!this.isValid)return[];a=a.map(Hb).filter(wa=>this.contains(wa)).sort();const l=[];let {s:N}=this,fa=0;for(;N<this.e;){var oa=a[fa]||this.e;oa=+oa>+this.e?
this.e:oa;l.push(vb.fromDateTimes(N,oa));N=oa;fa+=1}return l}splitBy(a){a=jb.fromDurationLike(a);if(!this.isValid||!a.isValid||0===a.as("milliseconds"))return[];let {s:l}=this,N=1;const fa=[];for(;l<this.e;){var oa=this.start.plus(a.mapUnits(wa=>wa*N));oa=+oa>+this.e?this.e:oa;fa.push(vb.fromDateTimes(l,oa));l=oa;N+=1}return fa}divideEqually(a){return this.isValid?this.splitBy(this.length()/a).slice(0,a):[]}overlaps(a){return this.e>a.s&&this.s<a.e}abutsStart(a){return this.isValid?+this.e===+a.s:
!1}abutsEnd(a){return this.isValid?+a.e===+this.s:!1}engulfs(a){return this.isValid?this.s<=a.s&&this.e>=a.e:!1}equals(a){return this.isValid&&a.isValid?this.s.equals(a.s)&&this.e.equals(a.e):!1}intersection(a){if(!this.isValid)return this;const l=this.s>a.s?this.s:a.s;a=this.e<a.e?this.e:a.e;return l>=a?null:vb.fromDateTimes(l,a)}union(a){return this.isValid?vb.fromDateTimes(this.s<a.s?this.s:a.s,this.e>a.e?this.e:a.e):this}static merge(a){const [l,N]=a.sort((fa,oa)=>fa.s-oa.s).reduce(([fa,oa],wa)=>
oa?oa.overlaps(wa)||oa.abutsStart(wa)?[fa,oa.union(wa)]:[fa.concat([oa]),wa]:[fa,wa],[[],null]);N&&l.push(N);return l}static xor(a){let l=null,N=0;const fa=[];a=a.map(oa=>[{time:oa.s,type:"s"},{time:oa.e,type:"e"}]);a=Array.prototype.concat(...a).sort((oa,wa)=>oa.time-wa.time);for(const oa of a)N+="s"===oa.type?1:-1,1===N?l=oa.time:(l&&+l!==+oa.time&&fa.push(vb.fromDateTimes(l,oa.time)),l=null);return vb.merge(fa)}difference(...a){return vb.xor([this].concat(a)).map(l=>this.intersection(l)).filter(l=>
l&&!l.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toLocaleString(a=Ta,l={}){return this.isValid?Ab.create(this.s.loc.clone(l),a).formatInterval(this):"Invalid Interval"}toISO(a){return this.isValid?`${this.s.toISO(a)}/${this.e.toISO(a)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(a){return this.isValid?`${this.s.toISOTime(a)}/${this.e.toISOTime(a)}`:"Invalid Interval"}toFormat(a,
{separator:l=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(a)}${l}${this.e.toFormat(a)}`:"Invalid Interval"}toDuration(a,l){return this.isValid?this.e.diff(this.s,a,l):jb.invalid(this.invalidReason)}mapEndpoints(a){return vb.fromDateTimes(a(this.s),a(this.e))}}class lc{static hasDST(a=xb.defaultZone){const l=cb.now().setZone(a).set({month:12});return!a.isUniversal&&l.offset!==l.set({month:6}).offset}static isValidIANAZone(a){return Ub.isValidZone(a)}static normalizeZone(a){return g(a,xb.defaultZone)}static months(a=
"long",{locale:l=null,numberingSystem:N=null,locObj:fa=null,outputCalendar:oa="gregory"}={}){return(fa||rb.create(l,N,oa)).months(a)}static monthsFormat(a="long",{locale:l=null,numberingSystem:N=null,locObj:fa=null,outputCalendar:oa="gregory"}={}){return(fa||rb.create(l,N,oa)).months(a,!0)}static weekdays(a="long",{locale:l=null,numberingSystem:N=null,locObj:fa=null}={}){return(fa||rb.create(l,N,null)).weekdays(a)}static weekdaysFormat(a="long",{locale:l=null,numberingSystem:N=null,locObj:fa=null}=
{}){return(fa||rb.create(l,N,null)).weekdays(a,!0)}static meridiems({locale:a=null}={}){return rb.create(a).meridiems()}static eras(a="short",{locale:l=null}={}){return rb.create(l,null,"gregory").eras(a)}static features(){return{relative:K()}}}const Mc={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",
khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},jd={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,
3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ve=Mc.hanidec.replace(/[\[|\]]/g,"").split(""),kd=`[ ${String.fromCharCode(160)}]`,Nc=new RegExp(kd,"g"),we={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s",
"2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Oc=null;const Qc=[0,31,59,90,120,151,181,212,243,273,304,334],Pc=[0,31,60,91,121,152,182,213,244,274,305,335],md={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ve={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},We={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ld="year month day hour minute second millisecond".split(" "),Xe="weekYear weekNumber weekday hour minute second millisecond".split(" "),Ye="year ordinal hour minute second millisecond".split(" ");
class cb{constructor(a){const l=a.zone||xb.defaultZone;let N=a.invalid||(Number.isNaN(a.ts)?new Qb("invalid input"):null)||(l.isValid?null:Ib(l));this.ts=k(a.ts)?xb.now():a.ts;let fa=null;var oa=null;N||(a.old&&a.old.ts===this.ts&&a.old.zone.equals(l)?[fa,oa]=[a.old.c,a.old.o]:(oa=l.offset(this.ts),fa=ic(this.ts,oa),fa=(N=Number.isNaN(fa.year)?new Qb("invalid input"):null)?null:fa,oa=N?null:oa));this._zone=l;this.loc=a.loc||rb.create();this.invalid=N;this.weekData=null;this.c=fa;this.o=oa;this.isLuxonDateTime=
!0}static now(){return new cb({})}static local(){const [a,l]=Gb(arguments),[N,fa,oa,wa,Ha,Oa,Sa]=l;return Tb({year:N,month:fa,day:oa,hour:wa,minute:Ha,second:Oa,millisecond:Sa},a)}static utc(){const [a,l]=Gb(arguments),[N,fa,oa,wa,Ha,Oa,Sa]=l;a.zone=Fb.utcInstance;return Tb({year:N,month:fa,day:oa,hour:wa,minute:Ha,second:Oa,millisecond:Sa},a)}static fromJSDate(a,l={}){a="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(a))return cb.invalid("invalid input");const N=
g(l.zone,xb.defaultZone);return N.isValid?new cb({ts:a,zone:N,loc:rb.fromObject(l)}):cb.invalid(Ib(N))}static fromMillis(a,l={}){if(p(a))return-864E13>a||864E13<a?cb.invalid("Timestamp out of range"):new cb({ts:a,zone:g(l.zone,xb.defaultZone),loc:rb.fromObject(l)});throw new Ka(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`);}static fromSeconds(a,l={}){if(p(a))return new cb({ts:1E3*a,zone:g(l.zone,xb.defaultZone),loc:rb.fromObject(l)});throw new Ka("fromSeconds requires a numerical input");
}static fromObject(a,l={}){a=a||{};var N=g(l.zone,xb.defaultZone);if(!N.isValid)return cb.invalid(Ib(N));var fa=xb.now();const oa=k(l.specificOffset)?N.offset(fa):l.specificOffset,wa=V(a,Eb);var Ha=!k(wa.ordinal),Oa=!k(wa.year),Sa=!k(wa.month)||!k(wa.day);Oa=Oa||Sa;var db=wa.weekYear||wa.weekNumber;l=rb.fromObject(l);if((Oa||Ha)&&db)throw new Z("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Sa&&Ha)throw new Z("Can't mix ordinal dates with month/day");Sa=db||wa.weekday&&
!Oa;let h=ic(fa,oa);Sa?(fa=Xe,db=Ve,h=Da(h)):Ha?(fa=Ye,db=We,h=sb(h)):(fa=ld,db=md);let eb=!1;for(var ab of fa)k(wa[ab])?wa[ab]=eb?db[ab]:h[ab]:eb=!0;Sa?(ab=G(wa.weekYear),fa=r(wa.weekNumber,1,Y(wa.weekYear)),db=r(wa.weekday,1,7),ab=ab?fa?db?!1:Pa("weekday",wa.weekday):Pa("week",wa.week):Pa("weekYear",wa.weekYear)):Ha?(ab=G(wa.year),fa=r(wa.ordinal,1,u(wa.year)?366:365),ab=ab?fa?!1:Pa("ordinal",wa.ordinal):Pa("year",wa.year)):ab=c(wa);if(ab=ab||hb(wa))return cb.invalid(ab);Ha=Sa?wb(wa):Ha?ib(wa):
wa;const [zb,Aa]=Sb(Ha,oa,N);N=new cb({ts:zb,zone:N,o:Aa,loc:l});return wa.weekday&&Oa&&a.weekday!==N.weekday?cb.invalid("mismatched weekday",`you can't specify both a weekday of ${wa.weekday} and a date of ${N.toISO()}`):N}static fromISO(a,l={}){const [N,fa]=ha(a,[Ie,Od],[Je,Me],[Ke,Ne],[Le,Oe]);return Jb(N,fa,l,"ISO 8601",a)}static fromRFC2822(a,l={}){const [N,fa]=ha(a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Ee,Ia]);return Jb(N,fa,l,"RFC 2822",a)}static fromHTTP(a,l={}){const [N,
fa]=ha(a,[Fe,e],[Ge,e],[He,q]);return Jb(N,fa,l,"HTTP",l)}static fromFormat(a,l,N={}){if(k(a)||k(l))throw new Ka("fromFormat requires an input string and a format");const {locale:fa=null,numberingSystem:oa=null}=N,wa=rb.fromOpts({locale:fa,numberingSystem:oa,defaultToEN:!0}),{result:Ha,zone:Oa,specificOffset:Sa,invalidReason:db}=Wa(wa,a,l),[h,eb,ab,zb]=[Ha,Oa,Sa,db];return zb?cb.invalid(zb):Jb(h,eb,N,`format ${l}`,a,ab)}static fromString(a,l,N={}){return cb.fromFormat(a,l,N)}static fromSQL(a,l={}){const [N,
fa]=ha(a,[Qe,Od],[Re,Se]);return Jb(N,fa,l,"SQL",a)}static invalid(a,l=null){if(!a)throw new Ka("need to specify a reason the DateTime is invalid");a=a instanceof Qb?a:new Qb(a,l);if(xb.throwOnInvalid)throw new bc(a);return new cb({invalid:a})}static isDateTime(a){return a&&a.isLuxonDateTime||!1}static parseFormatForOpts(a,l={}){return(a=Va(a,rb.fromObject(l)))?a.map(N=>N?N.val:null).join(""):null}static expandFormat(a,l={}){return Ra(Ab.parseFormat(a),rb.fromObject(l)).map(N=>N.val).join("")}get(a){return this[a]}get isValid(){return null===
this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?
Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Rb(this).weekYear:NaN}get weekNumber(){return this.isValid?Rb(this).weekNumber:NaN}get weekday(){return this.isValid?Rb(this).weekday:
NaN}get ordinal(){return this.isValid?sb(this.c).ordinal:NaN}get monthShort(){return this.isValid?lc.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?lc.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?lc.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?lc.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?
this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return u(this.year)}get daysInMonth(){return M(this.year,this.month)}get daysInYear(){return this.isValid?
u(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?Y(this.weekYear):NaN}resolvedLocaleOptions(a={}){const {locale:l,numberingSystem:N,calendar:fa}=Ab.create(this.loc.clone(a),a).resolvedOptions(this);return{locale:l,numberingSystem:N,outputCalendar:fa}}toUTC(a=0,l={}){return this.setZone(Fb.instance(a),l)}toLocal(){return this.setZone(xb.defaultZone)}setZone(a,{keepLocalTime:l=!1,keepCalendarTime:N=!1}={}){a=g(a,xb.defaultZone);if(a.equals(this.zone))return this;if(a.isValid){let fa=
this.ts;if(l||N)l=a.offset(this.ts),N=this.toObject(),[fa]=Sb(N,l,a);return nb(this,{ts:fa,zone:a})}return cb.invalid(Ib(a))}reconfigure({locale:a,numberingSystem:l,outputCalendar:N}={}){a=this.loc.clone({locale:a,numberingSystem:l,outputCalendar:N});return nb(this,{loc:a})}setLocale(a){return this.reconfigure({locale:a})}set(a){if(!this.isValid)return this;a=V(a,Eb);var l=!k(a.weekYear)||!k(a.weekNumber)||!k(a.weekday);const N=!k(a.ordinal),fa=!k(a.year),oa=!k(a.month)||!k(a.day),wa=a.weekYear||
a.weekNumber;if((fa||oa||N)&&wa)throw new Z("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(oa&&N)throw new Z("Can't mix ordinal dates with month/day");l?l=wb({...Da(this.c),...a}):k(a.ordinal)?(l={...this.toObject(),...a},k(a.day)&&(l.day=Math.min(M(l.year,l.month),l.day))):l=ib({...sb(this.c),...a});const [Ha,Oa]=Sb(l,this.o,this.zone);return nb(this,{ts:Ha,o:Oa})}plus(a){if(!this.isValid)return this;a=jb.fromDurationLike(a);return nb(this,Db(this,a))}minus(a){if(!this.isValid)return this;
a=jb.fromDurationLike(a).negate();return nb(this,Db(this,a))}startOf(a){if(!this.isValid)return this;const l={};a=jb.normalizeUnit(a);switch(a){case "years":l.month=1;case "quarters":case "months":l.day=1;case "weeks":case "days":l.hour=0;case "hours":l.minute=0;case "minutes":l.second=0;case "seconds":l.millisecond=0}"weeks"===a&&(l.weekday=1);"quarters"===a&&(l.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(l)}endOf(a){return this.isValid?this.plus({[a]:1}).startOf(a).minus(1):this}toFormat(a,
l={}){return this.isValid?Ab.create(this.loc.redefaultToEN(l)).formatDateTimeFromString(this,a):"Invalid DateTime"}toLocaleString(a=Ta,l={}){return this.isValid?Ab.create(this.loc.clone(l),a).formatDateTime(this):"Invalid DateTime"}toLocaleParts(a={}){return this.isValid?Ab.create(this.loc.clone(a),a).formatDateTimeParts(this):[]}toISO({format:a="extended",suppressSeconds:l=!1,suppressMilliseconds:N=!1,includeOffset:fa=!0,extendedZone:oa=!1}={}){if(!this.isValid)return null;a="extended"===a;let wa=
Yb(this,a);return wa=wa+"T"+jc(this,a,l,N,fa,oa)}toISODate({format:a="extended"}={}){return this.isValid?Yb(this,"extended"===a):null}toISOWeekDate(){return ac(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:a=!1,suppressSeconds:l=!1,includeOffset:N=!0,includePrefix:fa=!1,extendedZone:oa=!1,format:wa="extended"}={}){return this.isValid?(fa?"T":"")+jc(this,"extended"===wa,l,a,N,oa):null}toRFC2822(){return ac(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ac(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?
Yb(this,!0):null}toSQLTime({includeOffset:a=!0,includeZone:l=!1,includeOffsetSpace:N=!0}={}){let fa="HH:mm:ss.SSS";if(l||a)N&&(fa+=" "),l?fa+="z":a&&(fa+="ZZ");return ac(this,fa,!0)}toSQL(a={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/
1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(a={}){if(!this.isValid)return{};const l={...this.c};a.includeConfig&&(l.outputCalendar=this.outputCalendar,l.numberingSystem=this.loc.numberingSystem,l.locale=this.loc.locale);return l}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(a,l="milliseconds",N={}){if(!this.isValid||!a.isValid)return jb.invalid("created by diffing an invalid DateTime");N={locale:this.locale,numberingSystem:this.numberingSystem,...N};
const fa=(Array.isArray(l)?l:[l]).map(jb.normalizeUnit);l=a.valueOf()>this.valueOf();a=da(l?this:a,l?a:this,fa,N);return l?a.negate():a}diffNow(a="milliseconds",l={}){return this.diff(cb.now(),a,l)}until(a){return this.isValid?vb.fromDateTimes(this,a):this}hasSame(a,l){if(!this.isValid)return!1;const N=a.valueOf();a=this.setZone(a.zone,{keepLocalTime:!0});return a.startOf(l)<=N&&N<=a.endOf(l)}equals(a){return this.isValid&&a.isValid&&this.valueOf()===a.valueOf()&&this.zone.equals(a.zone)&&this.loc.equals(a.loc)}toRelative(a=
{}){if(!this.isValid)return null;const l=a.base||cb.fromObject({},{zone:this.zone}),N=a.padding?this<l?-a.padding:a.padding:0;let fa="years months days hours minutes seconds".split(" "),oa=a.unit;Array.isArray(a.unit)&&(fa=a.unit,oa=void 0);return kb(l,this.plus(N),{...a,numeric:"always",units:fa,unit:oa})}toRelativeCalendar(a={}){return this.isValid?kb(a.base||cb.fromObject({},{zone:this.zone}),this,{...a,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...a){if(!a.every(cb.isDateTime))throw new Ka("min requires all arguments be DateTimes");
return R(a,l=>l.valueOf(),Math.min)}static max(...a){if(!a.every(cb.isDateTime))throw new Ka("max requires all arguments be DateTimes");return R(a,l=>l.valueOf(),Math.max)}static fromFormatExplain(a,l,N={}){const {locale:fa=null,numberingSystem:oa=null}=N;N=rb.fromOpts({locale:fa,numberingSystem:oa,defaultToEN:!0});return Wa(N,a,l)}static fromStringExplain(a,l,N={}){return cb.fromFormatExplain(a,l,N)}static get DATE_SHORT(){return Ta}static get DATE_MED(){return Za}static get DATE_MED_WITH_WEEKDAY(){return ob}static get DATE_FULL(){return mb}static get DATE_HUGE(){return lb}static get TIME_SIMPLE(){return yb}static get TIME_WITH_SECONDS(){return Kb}static get TIME_WITH_SHORT_OFFSET(){return nd}static get TIME_WITH_LONG_OFFSET(){return od}static get TIME_24_SIMPLE(){return pd}static get TIME_24_WITH_SECONDS(){return qd}static get TIME_24_WITH_SHORT_OFFSET(){return rd}static get TIME_24_WITH_LONG_OFFSET(){return sd}static get DATETIME_SHORT(){return td}static get DATETIME_SHORT_WITH_SECONDS(){return ud}static get DATETIME_MED(){return vd}static get DATETIME_MED_WITH_SECONDS(){return wd}static get DATETIME_MED_WITH_WEEKDAY(){return xe}static get DATETIME_FULL(){return xd}static get DATETIME_FULL_WITH_SECONDS(){return yd}static get DATETIME_HUGE(){return zd}static get DATETIME_HUGE_WITH_SECONDS(){return Ad}}
d.DateTime=cb;d.Duration=jb;d.FixedOffsetZone=Fb;d.IANAZone=Ub;d.Info=lc;d.Interval=vb;d.SystemZone=nc;d.Zone=hc})},"esri/core/sql/WhereGrammar":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../chunks/_commonjsHelpers"],function(d,b,W){var F={};(function(y){(function(m,n){y.exports&&(y.exports=n())})(W.commonjsGlobal,function(){function m(g,k,p,G){g=Error.call(this,g);Object.setPrototypeOf&&Object.setPrototypeOf(g,m.prototype);g.expected=k;g.found=p;g.location=G;g.name=
"SyntaxError";return g}function n(g,k,p){p=p||" ";if(g.length>k)return g;k-=g.length;p+=p.repeat(k);return g+p.slice(0,k)}(function(g,k){function p(){this.constructor=g}p.prototype=k.prototype;g.prototype=new p})(m,Error);m.prototype.format=function(g){var k="Error: "+this.message;if(this.location){var p=null,G;for(G=0;G<g.length;G++)if(g[G].source===this.location.source){p=g[G].text.split(/\r\n|\n|\r/g);break}g=this.location.start;G=this.location.source&&"function"===typeof this.location.source.offset?
this.location.source.offset(g):g;var K=this.location.source+":"+G.line+":"+G.column;if(p){var R=this.location.end,A=n("",G.line.toString().length," ");p=p[g.line-1];R=(g.line===R.line?R.column:p.length+1)-g.column||1;k+="\n --\x3e "+K+"\n"+A+" |\n"+G.line+" | "+p+"\n"+A+" | "+n("",g.column-1," ")+n("",R,"^")}else k+="\n at "+K}return k};m.buildMessage=function(g,k){function p(f){return f.charCodeAt(0).toString(16).toUpperCase()}function G(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,
"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+p(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+p(r)})}function K(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+p(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+p(r)})}function R(f){return A[f.type](f)}
var A={literal:function(f){return'"'+G(f.text)+'"'},class:function(f){var r=f.parts.map(function(z){return Array.isArray(z)?K(z[0])+"-"+K(z[1]):K(z)});return"["+(f.inverted?"^":"")+r.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(f){return f.description}};return"Expected "+function(f){f=f.map(R);var r,z;f.sort();if(0<f.length){for(z=r=1;r<f.length;r++)f[r-1]!==f[r]&&(f[z]=f[r],z++);f.length=z}switch(f.length){case 1:return f[0];case 2:return f[0]+
" or "+f[1];default:return f.slice(0,-1).join(", ")+", or "+f[f.length-1]}}(g)+" but "+(k?'"'+G(k)+'"':"end of input")+" found."};return{SyntaxError:m,parse:function(g,k){function p(v,H){return{type:"literal",text:v,ignoreCase:H}}function G(v,H,ba){return{type:"class",parts:v,inverted:H,ignoreCase:ba}}function K(v){var H=eb[v],ba;if(!H){for(ba=v-1;!eb[ba];)ba--;H=eb[ba];for(H={line:H.line,column:H.column};ba<v;)10===g.charCodeAt(ba)?(H.line++,H.column=1):H.column++,ba++;eb[v]=H}return H}function R(v,
H,ba){var Ga=K(v),Qa=K(H);v={source:hb,start:{offset:v,line:Ga.line,column:Ga.column},end:{offset:H,line:Qa.line,column:Qa.column}};ba&&hb&&"function"===typeof hb.offset&&(v.start=hb.offset(v.start),v.end=hb.offset(v.end));return v}function A(v){h<ab||(h>ab&&(ab=h,zb=[]),zb.push(v))}function f(){var v=h;Da();var H=z();H!==c?(Da(),v=H):(h=v,v=c);return v}function r(){var v=h;var H=z();if(H!==c){v=[];var ba=h;var Ga=Da();var Qa=Pa();if(Qa!==c){var fb=Da();var gb=z();gb!==c?ba=Ga=[Ga,Qa,fb,gb]:(h=ba,
ba=c)}else h=ba,ba=c;for(;ba!==c;)v.push(ba),ba=h,Ga=Da(),Qa=Pa(),Qa!==c?(fb=Da(),gb=z(),gb!==c?ba=Ga=[Ga,Qa,fb,gb]:(h=ba,ba=c)):(h=ba,ba=c);ba={type:"expression-list"};H=[H];for(Ga=0;Ga<v.length;Ga++)H.push(v[Ga][3]);ba.value=H;v=ba}else h=v,v=c;return v}function z(){var v=h;var H=Q();if(H!==c){v=[];var ba=h;var Ga=Da();var Qa=za();if(Qa!==c){var fb=Da();var gb=Q();gb!==c?ba=Ga=[Ga,Qa,fb,gb]:(h=ba,ba=c)}else h=ba,ba=c;for(;ba!==c;)v.push(ba),ba=h,Ga=Da(),Qa=za(),Qa!==c?(fb=Da(),gb=Q(),gb!==c?ba=
Ga=[Ga,Qa,fb,gb]:(h=ba,ba=c)):(h=ba,ba=c);v=ib(H,v)}else h=v,v=c;return v}function Q(){var v=h;var H=D();if(H!==c){v=[];var ba=h;var Ga=Da();var Qa=pa();if(Qa!==c){var fb=Da();var gb=D();gb!==c?ba=Ga=[Ga,Qa,fb,gb]:(h=ba,ba=c)}else h=ba,ba=c;for(;ba!==c;)v.push(ba),ba=h,Ga=Da(),Qa=pa(),Qa!==c?(fb=Da(),gb=D(),gb!==c?ba=Ga=[Ga,Qa,fb,gb]:(h=ba,ba=c)):(h=ba,ba=c);v=ib(H,v)}else h=v,v=c;return v}function D(){var v=h;var H=ia();if(H===c){H=h;if(33===g.charCodeAt(h)){var ba=nb;h++}else ba=c,0===Aa&&A(ne);
if(ba!==c){var Ga=h;Aa++;if(61===g.charCodeAt(h)){var Qa=qa;h++}else Qa=c,0===Aa&&A(Lc);Aa--;Qa===c?Ga=void 0:(h=Ga,Ga=c);Ga!==c?H=ba=[ba,Ga]:(h=H,H=c)}else h=H,H=c}H!==c?(ba=Da(),Ga=D(),Ga!==c?v={type:"unary-expression",operator:"NOT",expr:Ga}:(h=v,v=c)):(h=v,v=c);if(v===c){H=h;v=M();if(v!==c){Da();H=[];ba=h;Ga=Da();Qa=C();if(Qa!==c){var fb=Da();var gb=M();gb!==c?ba=Ga=[Ga,Qa,fb,gb]:(h=ba,ba=c)}else h=ba,ba=c;if(ba!==c)for(;ba!==c;)H.push(ba),ba=h,Ga=Da(),Qa=C(),Qa!==c?(fb=Da(),gb=M(),gb!==c?ba=
Ga=[Ga,Qa,fb,gb]:(h=ba,ba=c)):(h=ba,ba=c);else H=c;H!==c&&(H={type:"arithmetic",tail:H});H===c&&(H=h,ba=u(),ba!==c?(Da(),Ga=Ya(),Ga!==c?(Da(),Ga=r(),Ga!==c?(Da(),Qa=bb(),Qa!==c?H={op:ba,right:Ga}:(h=H,H=c)):(h=H,H=c)):(h=H,H=c)):(h=H,H=c),H===c&&(H=h,ba=u(),ba!==c?(Da(),Ga=Ya(),Ga!==c?(Da(),Ga=bb(),Ga!==c?H={op:ba,right:{type:"expression-list",value:[]}}:(h=H,H=c)):(h=H,H=c)):(h=H,H=c),H===c&&(H=h,ba=u(),ba!==c?(Da(),Ga=O(),Ga!==c?H={op:ba,right:Ga}:(h=H,H=c)):(h=H,H=c))),H===c&&(H=h,Qa=ia(),Qa!==
c?(Da(),ba=B(),ba!==c?(Da(),Ga=M(),Ga!==c?(Da(),fb=pa(),fb!==c?(Da(),Qa=M(),Qa!==c?H={op:"NOT"+ba,right:{type:"expression-list",value:[Ga,Qa]}}:(h=H,H=c)):(h=H,H=c)):(h=H,H=c)):(h=H,H=c)):(h=H,H=c),H===c&&(H=h,Qa=B(),Qa!==c?(Da(),ba=M(),ba!==c?(Da(),Ga=pa(),Ga!==c?(Da(),fb=M(),fb!==c?H={op:Qa,right:{type:"expression-list",value:[ba,fb]}}:(h=H,H=c)):(h=H,H=c)):(h=H,H=c)):(h=H,H=c)),H===c&&(H=h,ba=e(),ba!==c?(Da(),Ga=ia(),Ga!==c?(Da(),Ga=M(),Ga!==c?H={op:ba+"NOT",right:Ga}:(h=H,H=c)):(h=H,H=c)):(h=
H,H=c),H===c&&(H=h,ba=e(),ba!==c?(Da(),Ga=M(),Ga!==c?H={op:ba,right:Ga}:(h=H,H=c)):(h=H,H=c)),H===c&&(H=h,ba=J(),ba!==c?(Da(),Ga=T(),Ga!==c?(Da(),Qa=h,g.substr(h,6).toLowerCase()===ob?(fb=g.substr(h,6),h+=6):(fb=c,0===Aa&&A(Od)),fb!==c?(fb=h,Aa++,gb=V(),Aa--,gb===c?fb=void 0:(h=fb,fb=c),fb!==c?Qa="ESCAPE":(h=Qa,Qa=c)):(h=Qa,Qa=c),Qa!==c?(Da(),Qa=w(),Qa!==c?H={op:ba,right:Ga,escape:Qa.value}:(h=H,H=c)):(h=H,H=c)):(h=H,H=c)):(h=H,H=c),H===c&&(H=h,ba=J(),ba!==c?(Da(),Ga=T(),Ga!==c?H={op:ba,right:Ga,
escape:""}:(h=H,H=c)):(h=H,H=c))))));H===c&&(H=null);""==H||void 0==H||null==H?H=v:(ba=null,H=ba="arithmetic"==H.type?ib(v,H.tail):sb(H.op,v,H.right,H.escape))}else h=H,H=c;v=H}return v}function C(){if(g.substr(h,2)===ic){var v=ic;h+=2}else v=c,0===Aa&&A(id);v===c&&(62===g.charCodeAt(h)?(v=Sb,h++):(v=c,0===Aa&&A(pe)),v===c&&(g.substr(h,2)===Db?(v=Db,h+=2):(v=c,0===Aa&&A(Bd)),v===c&&(g.substr(h,2)===Jb?(v=Jb,h+=2):(v=c,0===Aa&&A(se)),v===c&&(60===g.charCodeAt(h)?(v=ac,h++):(v=c,0===Aa&&A(re)),v===
c&&(61===g.charCodeAt(h)?(v=qa,h++):(v=c,0===Aa&&A(Lc)),v===c&&(g.substr(h,2)===Yb?(v=Yb,h+=2):(v=c,0===Aa&&A(qe))))))));return v}function J(){var v=v=h;var H=ia();if(H!==c){var ba=Da();var Ga=q();Ga!==c?v=H=[H,ba,Ga]:(h=v,v=c)}else h=v,v=c;v!==c&&(v=v[0]+" "+v[2]);v===c&&(v=q());return v}function u(){var v=v=h;var H=ia();if(H!==c){var ba=Da();var Ga=Ia();Ga!==c?v=H=[H,ba,Ga]:(h=v,v=c)}else h=v,v=c;v!==c&&(v=v[0]+" "+v[2]);v===c&&(v=Ia());return v}function M(){var v=h;var H=Y();if(H!==c){v=[];var ba=
h;var Ga=Da();var Qa=L();if(Qa!==c){var fb=Da();var gb=Y();gb!==c?ba=Ga=[Ga,Qa,fb,gb]:(h=ba,ba=c)}else h=ba,ba=c;for(;ba!==c;)v.push(ba),ba=h,Ga=Da(),Qa=L(),Qa!==c?(fb=Da(),gb=Y(),gb!==c?ba=Ga=[Ga,Qa,fb,gb]:(h=ba,ba=c)):(h=ba,ba=c);v=ib(H,v)}else h=v,v=c;return v}function L(){if(43===g.charCodeAt(h)){var v=jc;h++}else v=c,0===Aa&&A(Vc);v===c&&(45===g.charCodeAt(h)?(v=Eb,h++):(v=c,0===Aa&&A(Ab)),v===c&&(g.substr(h,2)===Tb?(v=Tb,h+=2):(v=c,0===Aa&&A(Qb))));return v}function Y(){var v=h;var H=x();if(H!==
c){v=[];var ba=h;var Ga=Da();var Qa=X();if(Qa!==c){var fb=Da();var gb=x();gb!==c?ba=Ga=[Ga,Qa,fb,gb]:(h=ba,ba=c)}else h=ba,ba=c;for(;ba!==c;)v.push(ba),ba=h,Ga=Da(),Qa=X(),Qa!==c?(fb=Da(),gb=x(),gb!==c?ba=Ga=[Ga,Qa,fb,gb]:(h=ba,ba=c)):(h=ba,ba=c);v=ib(H,v)}else h=v,v=c;return v}function X(){if(42===g.charCodeAt(h)){var v=kb;h++}else v=c,0===Aa&&A(Hd);v===c&&(47===g.charCodeAt(h)?(v=Gb,h++):(v=c,0===Aa&&A(Id)));return v}function x(){var v=w();if(v===c){var H=h;var ba=h;var Ga=Ea();if(Ga!==c){var Qa=
Fa();if(Qa!==c){var fb=Xa();fb!==c?ba=parseFloat(Ga+Qa+fb):(h=ba,ba=c)}else h=ba,ba=c}else h=ba,ba=c;ba===c&&(ba=h,Ga=Ea(),Ga!==c?(Qa=Fa(),Qa!==c?ba=parseFloat(Ga+Qa):(h=ba,ba=c)):(h=ba,ba=c),ba===c&&(ba=h,Ga=Ea(),Ga!==c?(Qa=Xa(),Qa!==c?ba=parseFloat(Ga+Qa):(h=ba,ba=c)):(h=ba,ba=c),ba===c&&(ba=h,Ga=Ea(),Ga!==c&&(Ga=parseFloat(Ga)),ba=Ga)));var gb=ba;if(gb!==c){var Qd=h;Aa++;var Lf=ka();Aa--;Lf===c?Qd=void 0:(h=Qd,Qd=c);Qd!==c?H={type:"number",value:gb}:(h=H,H=c)}else h=H,H=c;v=H;if(v===c){var Yc=
h;var rc=h;if(g.substr(h,4).toLowerCase()===va){var Rd=g.substr(h,4);h+=4}else Rd=c,0===Aa&&A(He);if(Rd!==c){var Zc=h;Aa++;var Mf=V();Aa--;Mf===c?Zc=void 0:(h=Zc,Zc=c);Zc!==c?rc=Rd=[Rd,Zc]:(h=rc,rc=c)}else h=rc,rc=c;var mc=rc;mc!==c&&(mc={type:"boolean",value:!0});Yc=mc;if(Yc===c){Yc=h;var sc=h;if(g.substr(h,5).toLowerCase()===Ka){var Sd=g.substr(h,5);h+=5}else Sd=c,0===Aa&&A(Ie);if(Sd!==c){var $c=h;Aa++;var Nf=V();Aa--;Nf===c?$c=void 0:(h=$c,$c=c);$c!==c?sc=Sd=[Sd,$c]:(h=sc,sc=c)}else h=sc,sc=c;
mc=sc;mc!==c&&(mc={type:"boolean",value:!1});Yc=mc}v=Yc;if(v===c){var tc=h;if(g.substr(h,4).toLowerCase()===Z){var Td=g.substr(h,4);h+=4}else Td=c,0===Aa&&A(Ge);if(Td!==c){var ad=h;Aa++;var Of=V();Aa--;Of===c?ad=void 0:(h=ad,ad=c);ad!==c?tc=Td=[Td,ad]:(h=tc,tc=c)}else h=tc,tc=c;var Ze=tc;Ze!==c&&(Ze={type:"null",value:null});v=Ze;if(v===c){var uc=h;if(ma()!==c){Da();var lf=T();lf!==c?uc={type:"date",value:lf.value}:(h=uc,uc=c)}else h=uc,uc=c;v=uc;if(v===c){var vc=h;if(aa()!==c){Da();var mf=T();mf!==
c?vc={type:"timestamp",value:mf.value}:(h=vc,vc=c)}else h=vc,vc=c;v=vc;if(v===c){var Bb=h;var $e=ra();if($e!==c){Da();if(45===g.charCodeAt(h)){var dc=Eb;h++}else dc=c,0===Aa&&A(Ab);dc===c&&(43===g.charCodeAt(h)?(dc=jc,h++):(dc=c,0===Aa&&A(Vc)));if(dc!==c){Da();var bd=T();if(bd!==c){Da();var nf=ta();nf!==c?Bb={type:"interval",value:bd,qualifier:nf,op:dc}:(h=Bb,Bb=c)}else h=Bb,Bb=c}else h=Bb,Bb=c}else h=Bb,Bb=c;Bb===c&&(Bb=h,$e=ra(),$e!==c?(Da(),dc=T(),dc!==c?(Da(),bd=ta(),bd!==c?Bb={type:"interval",
value:dc,qualifier:bd,op:""}:(h=Bb,Bb=c)):(h=Bb,Bb=c)):(h=Bb,Bb=c));v=Bb}}}}}}var pb=v;if(pb===c){var Mb=h;var wc=h;if(g.substr(h,7).toLowerCase()===qd){var of=g.substr(h,7);h+=7}else of=c,0===Aa&&A(Pd);if(of!==c){var Ud=h;Aa++;var Pf=V();Aa--;Pf===c?Ud=void 0:(h=Ud,Ud=c);Ud!==c?wc="EXTRACT":(h=wc,wc=c)}else h=wc,wc=c;if(wc!==c){Da();var Qf=Ya();if(Qf!==c){Da();var Wb=ua();Wb===c&&(Wb=Ca(),Wb===c&&(Wb=Ba(),Wb===c&&(Wb=La(),Wb===c&&(Wb=Ja(),Wb===c&&(Wb=Ma())))));var pf=Wb;if(pf!==c){Da();var Rf=P();
if(Rf!==c){Da();var qf=z();if(qf!==c){Da();var Sf=bb();Sf!==c?Mb={type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:pf},qf]}}:(h=Mb,Mb=c)}else h=Mb,Mb=c}else h=Mb,Mb=c}else h=Mb,Mb=c}else h=Mb,Mb=c}else h=Mb,Mb=c;pb=Mb;if(pb===c){var Nb=h;var xc=h;if(g.substr(h,9).toLowerCase()===pd){var rf=g.substr(h,9);h+=9}else rf=c,0===Aa&&A(Se);if(rf!==c){var Vd=h;Aa++;var Tf=V();Aa--;Tf===c?Vd=void 0:(h=Vd,Vd=c);Vd!==c?xc="SUBSTRING":(h=xc,xc=c)}else h=xc,xc=c;if(xc!==c){Da();
var Uf=Ya();if(Uf!==c){Da();var af=z();if(af!==c){Da();var Vf=P();if(Vf!==c){Da();var bf=z();if(bf!==c){Da();var ec=h;var yc=h;if(g.substr(h,3).toLowerCase()===od){var sf=g.substr(h,3);h+=3}else sf=c,0===Aa&&A(Re);if(sf!==c){var Wd=h;Aa++;var Wf=V();Aa--;Wf===c?Wd=void 0:(h=Wd,Wd=c);Wd!==c?yc="FOR":(h=yc,yc=c)}else h=yc,yc=c;var cd=yc;if(cd!==c){var Xf=Da();var tf=z();if(tf!==c){var Yf=Da();ec=cd=[cd,Xf,tf,Yf]}else h=ec,ec=c}else h=ec,ec=c;ec===c&&(ec=null);cd=bb();cd!==c?Nb={type:"function",name:"substring",
args:{type:"expression-list",value:ec?[af,bf,ec[2]]:[af,bf]}}:(h=Nb,Nb=c)}else h=Nb,Nb=c}else h=Nb,Nb=c}else h=Nb,Nb=c}else h=Nb,Nb=c}else h=Nb,Nb=c;pb=Nb;if(pb===c){var tb=h;var cf=da();if(cf!==c){Da();var df=Ya();if(df!==c){Da();var fc=na();fc===c&&(fc=null);Da();var dd=z();if(dd!==c){Da();var ef=P();if(ef!==c){Da();var uf=z();if(uf!==c){Da();var Zf=bb();Zf!==c?tb={type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null==fc?"BOTH":fc},dd,uf]}}:(h=tb,tb=c)}else h=
tb,tb=c}else h=tb,tb=c}else h=tb,tb=c}else h=tb,tb=c}else h=tb,tb=c;tb===c&&(tb=h,cf=da(),cf!==c?(Da(),df=Ya(),df!==c?(Da(),fc=na(),fc===c&&(fc=null),Da(),dd=z(),dd!==c?(Da(),ef=bb(),ef!==c?tb={type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null==fc?"BOTH":fc},dd]}}:(h=tb,tb=c)):(h=tb,tb=c)):(h=tb,tb=c)):(h=tb,tb=c));pb=tb;if(pb===c){var Ob=h;var zc=h;if(g.substr(h,8).toLowerCase()===sd){var vf=g.substr(h,8);h+=8}else vf=c,0===Aa&&A(Ue);if(vf!==c){var Xd=h;Aa++;
var $f=V();Aa--;$f===c?Xd=void 0:(h=Xd,Xd=c);Xd!==c?zc="POSITION":(h=zc,zc=c)}else h=zc,zc=c;if(zc!==c){Da();var ag=Ya();if(ag!==c){Da();var wf=z();if(wf!==c){Da();var bg=Ia();if(bg!==c){Da();var xf=z();if(xf!==c){Da();var cg=bb();cg!==c?Ob={type:"function",name:"position",args:{type:"expression-list",value:[wf,xf]}}:(h=Ob,Ob=c)}else h=Ob,Ob=c}else h=Ob,Ob=c}else h=Ob,Ob=c}else h=Ob,Ob=c}else h=Ob,Ob=c;pb=Ob;if(pb===c){var Pb=h;var Ac=h;if(g.substr(h,4).toLowerCase()===xd){var yf=g.substr(h,4);h+=
4}else yf=c,0===Aa&&A(Mc);if(yf!==c){var Yd=h;Aa++;var dg=V();Aa--;dg===c?Yd=void 0:(h=Yd,Yd=c);Yd!==c?Ac="CAST":(h=Ac,Ac=c)}else h=Ac,Ac=c;if(Ac!==c){Da();var eg=Ya();if(eg!==c){Da();var zf=z();if(zf!==c){Da();var Bc=h;if(g.substr(h,2).toLowerCase()===yd){var Af=g.substr(h,2);h+=2}else Af=c,0===Aa&&A(jd);if(Af!==c){var Zd=h;Aa++;var fg=V();Aa--;fg===c?Zd=void 0:(h=Zd,Zd=c);Zd!==c?Bc="AS":(h=Bc,Bc=c)}else h=Bc,Bc=c;var gg=Bc;if(gg!==c){Da();var qb=h;var Cc=h;if(g.substr(h,7).toLowerCase()===zd){var Bf=
g.substr(h,7);h+=7}else Bf=c,0===Aa&&A(ve);if(Bf!==c){var $d=h;Aa++;var hg=V();Aa--;hg===c?$d=void 0:(h=$d,$d=c);$d!==c?Cc="INTEGER":(h=Cc,Cc=c)}else h=Cc,Cc=c;var ub=Cc;ub!==c&&(ub={type:"data-type",value:{type:"integer"}});qb=ub;if(qb===c){qb=h;var Dc=h;if(g.substr(h,8).toLowerCase()===Ad){var Cf=g.substr(h,8);h+=8}else Cf=c,0===Aa&&A(kd);if(Cf!==c){var ae=h;Aa++;var ig=V();Aa--;ig===c?ae=void 0:(h=ae,ae=c);ae!==c?Dc="SMALLINT":(h=Dc,Dc=c)}else h=Dc,Dc=c;ub=Dc;ub!==c&&(ub={type:"data-type",value:{type:"smallint"}});
qb=ub;if(qb===c){qb=h;var Ec=h;if(g.substr(h,5).toLowerCase()===hc){var Df=g.substr(h,5);h+=5}else Df=c,0===Aa&&A(Nc);if(Df!==c){var be=h;Aa++;var jg=V();Aa--;jg===c?be=void 0:(h=be,be=c);be!==c?Ec="FLOAT":(h=Ec,Ec=c)}else h=Ec,Ec=c;ub=Ec;ub!==c&&(ub={type:"data-type",value:{type:"float"}});qb=ub;if(qb===c){qb=h;var Fc=h;if(g.substr(h,4).toLowerCase()===Rc){var Ef=g.substr(h,4);h+=4}else Ef=c,0===Aa&&A(we);if(Ef!==c){var ce=h;Aa++;var kg=V();Aa--;kg===c?ce=void 0:(h=ce,ce=c);ce!==c?Fc="REAL":(h=Fc,
Fc=c)}else h=Fc,Fc=c;ub=Fc;ub!==c&&(ub={type:"data-type",value:{type:"real"}});qb=ub;if(qb===c&&(qb=h,ub=ma(),ub!==c&&(ub={type:"data-type",value:{type:"date"}}),qb=ub,qb===c&&(qb=h,ub=aa(),ub!==c&&(ub={type:"data-type",value:{type:"timestamp"}}),qb=ub,qb===c))){qb=h;var Gc=h;if(g.substr(h,7).toLowerCase()===nc){var Ff=g.substr(h,7);h+=7}else Ff=c,0===Aa&&A(Oc);if(Ff!==c){var de=h;Aa++;var lg=V();Aa--;lg===c?de=void 0:(h=de,de=c);de!==c?Gc="VARCHAR":(h=Gc,Gc=c)}else h=Gc,Gc=c;ub=Gc;if(ub!==c){Da();
var mg=Ya();if(mg!==c){Da();var Gf=sa();if(Gf!==c){Da();var ng=bb();ng!==c?qb={type:"data-type",value:{type:"varchar",size:parseInt(Gf)}}:(h=qb,qb=c)}else h=qb,qb=c}else h=qb,qb=c}else h=qb,qb=c}}}}var Hf=qb;if(Hf!==c){Da();var og=bb();og!==c?Pb={type:"function",name:"cast",args:{type:"expression-list",value:[zf,Hf]}}:(h=Pb,Pb=c)}else h=Pb,Pb=c}else h=Pb,Pb=c}else h=Pb,Pb=c}else h=Pb,Pb=c}else h=Pb,Pb=c;pb=Pb;if(pb===c){var kc=h;var ee;var Xb=h;Xb=ee=E();if(Xb===c)if(Xb=h,96===g.charCodeAt(h)?(ee=
Tc,h++):(ee=c,0===Aa&&A(Sa)),ee!==c){var fe=[];if(Kc.test(g.charAt(h))){var gc=g.charAt(h);h++}else gc=c,0===Aa&&A(db);if(gc!==c)for(;gc!==c;)fe.push(gc),Kc.test(g.charAt(h))?(gc=g.charAt(h),h++):(gc=c,0===Aa&&A(db));else fe=c;fe!==c?(96===g.charCodeAt(h)?(gc=Tc,h++):(gc=c,0===Aa&&A(Sa)),gc!==c?Xb=fe.join(""):(h=Xb,Xb=c)):(h=Xb,Xb=c)}else h=Xb,Xb=c;var If=Xb;if(If!==c){Da();var pg=Ya();if(pg!==c){Da();var ge=r();ge===c&&(ge=null);Da();var qg=bb();qg!==c?kc={type:"function",name:If,args:ge?ge:{type:"expression-list",
value:[]}}:(h=kc,kc=c)}else h=kc,kc=c}else h=kc,kc=c;pb=kc;if(pb===c){var Zb;var Cb=h;var ff=Ua();if(ff!==c){Da();var ed=z();if(ed!==c){Da();var fd=[];for(Zb=t();Zb!==c;)fd.push(Zb),Zb=t();Zb=Da();var he=Ra();he!==c?Cb={type:"case-expression",format:"simple",operand:ed,clauses:fd,else:null}:(h=Cb,Cb=c)}else h=Cb,Cb=c}else h=Cb,Cb=c;if(Cb===c)if(Cb=h,ff=Ua(),ff!==c)if(Da(),ed=z(),ed!==c){Da();fd=[];for(Zb=t();Zb!==c;)fd.push(Zb),Zb=t();Zb=Da();he=ca();if(he!==c){Da();var rg=Ra();rg!==c?Cb={type:"case-expression",
format:"simple",operand:ed,clauses:fd,else:he.value}:(h=Cb,Cb=c)}else h=Cb,Cb=c}else h=Cb,Cb=c;else h=Cb,Cb=c;var gf=Cb;if(gf===c){var $b;var Lb=h;var hf=Ua();if(hf!==c){Da();var gd=[];for($b=ha();$b!==c;)gd.push($b),$b=ha();$b=Da();var ie=Ra();ie!==c?Lb={type:"case-expression",format:"searched",clauses:gd,else:null}:(h=Lb,Lb=c)}else h=Lb,Lb=c;if(Lb===c)if(Lb=h,hf=Ua(),hf!==c){Da();gd=[];for($b=ha();$b!==c;)gd.push($b),$b=ha();$b=Da();ie=ca();if(ie!==c){Da();var sg=Ra();sg!==c?Lb={type:"case-expression",
format:"searched",clauses:gd,else:ie.value}:(h=Lb,Lb=c)}else h=Lb,Lb=c}else h=Lb,Lb=c;gf=Lb}pb=gf;if(pb===c){var je;var ke=h;var Jf=ka();if(Jf!==c){var Kf=[];for(je=ea();je!==c;)Kf.push(je),je=ea();ke=Jf+Kf.join("")}else h=ke,ke=c;var le=ke;if(le!==c){var jf=le;le=/^CURRENT_DATE$/i.test(jf)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(jf)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:jf}}pb=le;if(pb===c&&(pb=O(),pb===c)){pb=h;var tg=Ya();if(tg!==
c){Da();var kf=z();if(kf!==c){Da();var ug=bb();ug!==c?(kf.paren=!0,pb=kf):(h=pb,pb=c)}else h=pb,pb=c}else h=pb,pb=c}}}}}}}}}return pb}function E(){var v;var H=h;var ba=ka();if(ba!==c){H=[];for(v=V();v!==c;)H.push(v),v=V();H=ba+H.join("")}else h=H,H=c;return H}function ka(){if(Cd.test(g.charAt(h))){var v=g.charAt(h);h++}else v=c,0===Aa&&A(Wc);return v}function V(){if(Dd.test(g.charAt(h))){var v=g.charAt(h);h++}else v=c,0===Aa&&A(Jd);return v}function ea(){if(Ed.test(g.charAt(h))){var v=g.charAt(h);
h++}else v=c,0===Aa&&A(Xc);return v}function O(){var v=h;if(64===g.charCodeAt(h)){var H=Hb;h++}else H=c,0===Aa&&A(Ce);if(H!==c){var ba=E();ba!==c?v=H=[H,ba]:(h=v,v=c)}else h=v,v=c;v!==c&&(v={type:"parameter",value:v[1]});return v}function na(){var v=h;if(g.substr(h,7).toLowerCase()===vd){var H=g.substr(h,7);h+=7}else H=c,0===Aa&&A(jb);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="LEADING":(h=v,v=c)}else h=v,v=c;v===c&&(v=h,g.substr(h,8).toLowerCase()===wd?(H=g.substr(h,8),
h+=8):(H=c,0===Aa&&A(vb)),H!==c?(H=h,Aa++,ba=V(),Aa--,ba===c?H=void 0:(h=H,H=c),H!==c?v="TRAILING":(h=v,v=c)):(h=v,v=c),v===c&&(v=h,g.substr(h,4).toLowerCase()===xe?(H=g.substr(h,4),h+=4):(H=c,0===Aa&&A(lc)),H!==c?(H=h,Aa++,ba=V(),Aa--,ba===c?H=void 0:(h=H,H=c),H!==c?v="BOTH":(h=v,v=c)):(h=v,v=c)));return v}function ta(){var v=h;var H=h;var ba=xa();if(ba!==c){Da();var Ga=Ya();if(Ga!==c)if(Da(),Ga=S(),Ga!==c){Da();var Qa=bb();Qa!==c?H={type:"interval-period",period:ba.value,precision:Ga,secondary:null}:
(h=H,H=c)}else h=H,H=c;else h=H,H=c}else h=H,H=c;H===c&&(H=h,ba=xa(),ba!==c&&(ba={type:"interval-period",period:ba.value,precision:null,secondary:null}),H=ba);if(H!==c)if(Da(),ba=h,g.substr(h,2).toLowerCase()===oc?(Ga=g.substr(h,2),h+=2):(Ga=c,0===Aa&&A(Qc)),Ga!==c?(Ga=h,Aa++,Qa=V(),Aa--,Qa===c?Ga=void 0:(h=Ga,Ga=c),Ga!==c?ba="TO":(h=ba,ba=c)):(h=ba,ba=c),ba!==c){Da();ba=h;Ga=xa();Ga!==c&&(Ga={type:"interval-period",period:Ga.value,precision:null,secondary:null});ba=Ga;if(ba===c){ba=h;Ga=Ma();if(Ga!==
c)if(Da(),Ga=Ya(),Ga!==c)if(Da(),Ga=S(),Ga!==c)if(Da(),Qa=Pa(),Qa!==c)if(Da(),Qa=ja(),Qa!==c){Da();var fb=bb();fb!==c?ba={type:"interval-period",period:"second",precision:Ga,secondary:Qa}:(h=ba,ba=c)}else h=ba,ba=c;else h=ba,ba=c;else h=ba,ba=c;else h=ba,ba=c;else h=ba,ba=c;ba===c&&(ba=h,Ga=Ma(),Ga!==c?(Da(),Ga=Ya(),Ga!==c?(Da(),Ga=S(),Ga!==c?(Da(),Qa=bb(),Qa!==c?ba={type:"interval-period",period:"second",precision:Ga,secondary:null}:(h=ba,ba=c)):(h=ba,ba=c)):(h=ba,ba=c)):(h=ba,ba=c),ba===c&&(ba=
h,Ga=Ma(),Ga!==c&&(Ga={type:"interval-period",period:"second",precision:null,secondary:null}),ba=Ga))}ba!==c?v={type:"interval-qualifier",start:H,end:ba}:(h=v,v=c)}else h=v,v=c;else h=v,v=c;v===c&&(v=h,ba=xa(),ba!==c?(Da(),H=Ya(),H!==c?(Da(),H=ja(),H!==c?(Da(),Ga=bb(),Ga!==c?v={type:"interval-period",period:ba.value,precision:H,secondary:null}:(h=v,v=c)):(h=v,v=c)):(h=v,v=c)):(h=v,v=c),v===c&&(v=h,ba=xa(),ba!==c&&(ba={type:"interval-period",period:ba.value,precision:null,secondary:null}),v=ba,v===
c&&(v=h,ba=Ma(),ba!==c?(Da(),H=Ya(),H!==c?(Da(),H=S(),H!==c?(Da(),Ga=Pa(),Ga!==c?(Da(),ba=ja(),ba!==c?(Da(),Ga=bb(),Ga!==c?v={type:"interval-period",period:"second",precision:H,secondary:ba}:(h=v,v=c)):(h=v,v=c)):(h=v,v=c)):(h=v,v=c)):(h=v,v=c)):(h=v,v=c),v===c&&(v=h,ba=Ma(),ba!==c?(Da(),H=Ya(),H!==c?(Da(),H=ja(),H!==c?(Da(),Ga=bb(),Ga!==c?v={type:"interval-period",period:"second",precision:H,secondary:null}:(h=v,v=c)):(h=v,v=c)):(h=v,v=c)):(h=v,v=c),v===c&&(v=h,ba=Ma(),ba!==c&&(ba={type:"interval-period",
period:"second",precision:null,secondary:null}),v=ba)))));return v}function xa(){var v=h;v=Ba();v!==c&&(v={type:"string",value:"day"});v===c&&(v=h,v=La(),v!==c&&(v={type:"string",value:"hour"}),v===c&&(v=h,v=Ja(),v!==c&&(v={type:"string",value:"minute"}),v===c&&(v=h,v=Ca(),v!==c&&(v={type:"string",value:"month"}),v===c&&(v=h,v=ua(),v!==c&&(v={type:"string",value:"year"})))));return v}function ja(){var v=sa();v!==c&&(v=parseFloat(v));return v}function S(){var v=sa();v!==c&&(v=parseFloat(v));return v}
function T(){var v=w();v===c&&(v=O());return v}function w(){var v=h;if(39===g.charCodeAt(h)){var H=$a;h++}else H=c,0===Aa&&A(Kd);H===c&&(g.substr(h,2)===bc?(H=bc,h+=2):(H=c,0===Aa&&A(Ld)));if(H!==c){H=[];var ba=h;g.substr(h,2)===U?(ba=U,h+=2):(ba=c,0===Aa&&A(Md));ba!==c&&(ba="'");ba===c&&(Uc.test(g.charAt(h))?(ba=g.charAt(h),h++):(ba=c,0===Aa&&A(Nd)));for(;ba!==c;)H.push(ba),ba=h,g.substr(h,2)===U?(ba=U,h+=2):(ba=c,0===Aa&&A(Md)),ba!==c&&(ba="'"),ba===c&&(Uc.test(g.charAt(h))?(ba=g.charAt(h),h++):
(ba=c,0===Aa&&A(Nd)));39===g.charCodeAt(h)?(ba=$a,h++):(ba=c,0===Aa&&A(Kd));ba!==c?v={type:"string",value:H.join("")}:(h=v,v=c)}else h=v,v=c;return v}function ha(){var v=h;if(Wa()!==c){Da();var H=z();if(H!==c){Da();var ba=Va();ba!==c?(Da(),ba=z(),ba!==c?v={type:"when-clause",operand:H,value:ba}:(h=v,v=c)):(h=v,v=c)}else h=v,v=c}else h=v,v=c;return v}function t(){var v=h;if(Wa()!==c){Da();var H=z();if(H!==c){Da();var ba=Va();ba!==c?(Da(),ba=z(),ba!==c?v={type:"when-clause",operand:H,value:ba}:(h=v,
v=c)):(h=v,v=c)}else h=v,v=c}else h=v,v=c;return v}function ca(){var v=h;var H=h;if(g.substr(h,4).toLowerCase()===rb){var ba=g.substr(h,4);h+=4}else ba=c,0===Aa&&A(fa);if(ba!==c){ba=h;Aa++;var Ga=V();Aa--;Ga===c?ba=void 0:(h=ba,ba=c);ba!==c?H="ELSE":(h=H,H=c)}else h=H,H=c;H!==c?(Da(),H=z(),H!==c?v={type:"else-clause",value:H}:(h=v,v=c)):(h=v,v=c);return v}function Ea(){var v=sa();if(v===c){v=h;if(45===g.charCodeAt(h)){var H=Eb;h++}else H=c,0===Aa&&A(Ab);H===c&&(43===g.charCodeAt(h)?(H=jc,h++):(H=
c,0===Aa&&A(Vc)));if(H!==c){var ba=sa();ba!==c?v=H[0]+ba:(h=v,v=c)}else h=v,v=c}return v}function Fa(){var v=h;if(46===g.charCodeAt(h)){var H=la;h++}else H=c,0===Aa&&A(De);H!==c?(v=sa(),v===c&&(v=null),v="."+(null!=v?v:"")):(h=v,v=c);return v}function Xa(){var v;var H=v=h;if(Gd.test(g.charAt(h))){var ba=g.charAt(h);h++}else ba=c,0===Aa&&A(Ee);ba!==c?(xb.test(g.charAt(h))?(H=g.charAt(h),h++):(H=c,0===Aa&&A(Fe)),H===c&&(H=null),H="e"+(null===H?"":H)):(h=H,H=c);H!==c?(ba=sa(),ba!==c?v=H+ba:(h=v,v=c)):
(h=v,v=c);return v}function sa(){var v=[];var H=ya();if(H!==c)for(;H!==c;)v.push(H),H=ya();else v=c;v!==c&&(v=v.join(""));return v}function ya(){if(Fd.test(g.charAt(h))){var v=g.charAt(h);h++}else v=c,0===Aa&&A(te);return v}function Ia(){var v=h;if(g.substr(h,2).toLowerCase()===Na){var H=g.substr(h,2);h+=2}else H=c,0===Aa&&A(Je);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="IN":(h=v,v=c)}else h=v,v=c;return v}function e(){var v=h;if(g.substr(h,2).toLowerCase()===Ta){var H=
g.substr(h,2);h+=2}else H=c,0===Aa&&A(Ke);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="IS":(h=v,v=c)}else h=v,v=c;return v}function q(){var v=h;if(g.substr(h,4).toLowerCase()===Za){var H=g.substr(h,4);h+=4}else H=c,0===Aa&&A(Le);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="LIKE":(h=v,v=c)}else h=v,v=c;return v}function ia(){var v=h;if(g.substr(h,3).toLowerCase()===mb){var H=g.substr(h,3);h+=3}else H=c,0===Aa&&A(Me);if(H!==c){H=h;Aa++;var ba=V();Aa--;
ba===c?H=void 0:(h=H,H=c);H!==c?v="NOT":(h=v,v=c)}else h=v,v=c;return v}function pa(){var v=h;if(g.substr(h,3).toLowerCase()===lb){var H=g.substr(h,3);h+=3}else H=c,0===Aa&&A(Ne);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="AND":(h=v,v=c)}else h=v,v=c;return v}function za(){var v=h;if(g.substr(h,2).toLowerCase()===yb){var H=g.substr(h,2);h+=2}else H=c,0===Aa&&A(Oe);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="OR":(h=v,v=c)}else h=v,v=c;return v}function B(){var v=
h;if(g.substr(h,7).toLowerCase()===Kb){var H=g.substr(h,7);h+=7}else H=c,0===Aa&&A(Pe);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="BETWEEN":(h=v,v=c)}else h=v,v=c;return v}function P(){var v=h;if(g.substr(h,4).toLowerCase()===nd){var H=g.substr(h,4);h+=4}else H=c,0===Aa&&A(Qe);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="FROM":(h=v,v=c)}else h=v,v=c;return v}function da(){var v=h;if(g.substr(h,4).toLowerCase()===rd){var H=g.substr(h,4);h+=4}else H=
c,0===Aa&&A(Te);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="TRIM":(h=v,v=c)}else h=v,v=c;return v}function aa(){var v=h;if(g.substr(h,9).toLowerCase()===td){var H=g.substr(h,9);h+=9}else H=c,0===Aa&&A(cc);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="TIMESTAMP":(h=v,v=c)}else h=v,v=c;return v}function ma(){var v=h;if(g.substr(h,4).toLowerCase()===ud){var H=g.substr(h,4);h+=4}else H=c,0===Aa&&A(ue);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:
(h=H,H=c);H!==c?v="DATE":(h=v,v=c)}else h=v,v=c;return v}function ra(){var v=h;if(g.substr(h,8).toLowerCase()===ye){var H=g.substr(h,8);h+=8}else H=c,0===Aa&&A(Pc);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="INTERVAL":(h=v,v=c)}else h=v,v=c;return v}function ua(){var v=h;if(g.substr(h,4).toLowerCase()===pc){var H=g.substr(h,4);h+=4}else H=c,0===Aa&&A(md);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="YEAR":(h=v,v=c)}else h=v,v=c;return v}function Ca(){var v=
h;if(g.substr(h,5).toLowerCase()===Ub){var H=g.substr(h,5);h+=5}else H=c,0===Aa&&A(Ve);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="MONTH":(h=v,v=c)}else h=v,v=c;return v}function Ba(){var v=h;if(g.substr(h,3).toLowerCase()===hd){var H=g.substr(h,3);h+=3}else H=c,0===Aa&&A(We);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="DAY":(h=v,v=c)}else h=v,v=c;return v}function La(){var v=h;if(g.substr(h,4).toLowerCase()===Hc){var H=g.substr(h,4);h+=4}else H=
c,0===Aa&&A(ld);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="HOUR":(h=v,v=c)}else h=v,v=c;return v}function Ja(){var v=h;if(g.substr(h,6).toLowerCase()===Ic){var H=g.substr(h,6);h+=6}else H=c,0===Aa&&A(Xe);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="MINUTE":(h=v,v=c)}else h=v,v=c;return v}function Ma(){var v=h;if(g.substr(h,6).toLowerCase()===Jc){var H=g.substr(h,6);h+=6}else H=c,0===Aa&&A(Ye);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=
H,H=c);H!==c?v="SECOND":(h=v,v=c)}else h=v,v=c;return v}function Ua(){var v=h;if(g.substr(h,4).toLowerCase()===qc){var H=g.substr(h,4);h+=4}else H=c,0===Aa&&A(cb);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="CASE":(h=v,v=c)}else h=v,v=c;return v}function Ra(){var v=h;if(g.substr(h,3).toLowerCase()===ze){var H=g.substr(h,3);h+=3}else H=c,0===Aa&&A(a);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="END":(h=v,v=c)}else h=v,v=c;return v}function Wa(){var v=
h;if(g.substr(h,4).toLowerCase()===Ae){var H=g.substr(h,4);h+=4}else H=c,0===Aa&&A(l);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="WHEN":(h=v,v=c)}else h=v,v=c;return v}function Va(){var v=h;if(g.substr(h,4).toLowerCase()===Be){var H=g.substr(h,4);h+=4}else H=c,0===Aa&&A(N);if(H!==c){H=h;Aa++;var ba=V();Aa--;ba===c?H=void 0:(h=H,H=c);H!==c?v="THEN":(h=v,v=c)}else h=v,v=c;return v}function Pa(){if(44===g.charCodeAt(h)){var v=Sc;h++}else v=c,0===Aa&&A(oa);return v}function Ya(){if(40===
g.charCodeAt(h)){var v=Fb;h++}else v=c,0===Aa&&A(wa);return v}function bb(){if(41===g.charCodeAt(h)){var v=me;h++}else v=c,0===Aa&&A(Ha);return v}function Da(){var v;var H=[];for(v=wb();v!==c;)H.push(v),v=wb();return H}function wb(){if(oe.test(g.charAt(h))){var v=g.charAt(h);h++}else v=c,0===Aa&&A(Oa);return v}function sb(v,H,ba,Ga){v={type:"binary-expression",operator:v,left:H,right:ba};void 0!==Ga&&(v.escape=Ga);return v}function ib(v,H){for(var ba=0;ba<H.length;ba++)v=sb(H[ba][1],v,H[ba][3]);return v}
k=void 0!==k?k:{};var c={},hb=k.grammarSource,Ib={start:f},Rb=f,nb="!",qa="\x3d",ic="\x3e\x3d",Sb="\x3e",Db="\x3c\x3d",Jb="\x3c\x3e",ac="\x3c",Yb="!\x3d",jc="+",Eb="-",Tb="||",kb="*",Gb="/",Hb="@",$a="'",bc="N'",U="''",la=".",Z="null",va="true",Ka="false",Na="in",Ta="is",Za="like",ob="escape",mb="not",lb="and",yb="or",Kb="between",nd="from",od="for",pd="substring",qd="extract",rd="trim",sd="position",td="timestamp",ud="date",vd="leading",wd="trailing",xe="both",xd="cast",yd="as",zd="integer",Ad="smallint",
hc="float",Rc="real",nc="varchar",oc="to",ye="interval",pc="year",Ub="month",hd="day",Hc="hour",Ic="minute",Jc="second",qc="case",ze="end",Ae="when",Be="then",rb="else",Sc=",",Fb="(",me=")",Tc="`",Cd=/^[A-Za-z_\x80-\uFFFF]/,Dd=/^[A-Za-z0-9_]/,Ed=/^[A-Za-z0-9_.\x80-\uFFFF]/,Uc=/^[^']/,Fd=/^[0-9]/,Gd=/^[eE]/,xb=/^[+\-]/,oe=/^[ \t\n\r]/,Kc=/^[^`]/,ne=p("!",!1),Lc=p("\x3d",!1),id=p("\x3e\x3d",!1),pe=p("\x3e",!1),Bd=p("\x3c\x3d",!1),se=p("\x3c\x3e",!1),re=p("\x3c",!1),qe=p("!\x3d",!1),Vc=p("+",!1),Ab=
p("-",!1),Qb=p("||",!1),Hd=p("*",!1),Id=p("/",!1),Wc=G([["A","Z"],["a","z"],"_",["\u0080","\uffff"]],!1,!1),Jd=G([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Xc=G([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],!1,!1),Ce=p("@",!1),Kd=p("'",!1),Ld=p("N'",!1),Md=p("''",!1),Nd=G(["'"],!0,!1),De=p(".",!1),te=G([["0","9"]],!1,!1),Ee=G(["e","E"],!1,!1),Fe=G(["+","-"],!1,!1),Ge=p("NULL",!0),He=p("TRUE",!0),Ie=p("FALSE",!0),Je=p("IN",!0),Ke=p("IS",!0),Le=p("LIKE",!0),Od=p("ESCAPE",!0),Me=p("NOT",
!0),Ne=p("AND",!0),Oe=p("OR",!0),Pe=p("BETWEEN",!0),Qe=p("FROM",!0),Re=p("FOR",!0),Se=p("SUBSTRING",!0),Pd=p("EXTRACT",!0),Te=p("TRIM",!0),Ue=p("POSITION",!0),cc=p("TIMESTAMP",!0),ue=p("DATE",!0),jb=p("LEADING",!0),vb=p("TRAILING",!0),lc=p("BOTH",!0),Mc=p("CAST",!0),jd=p("AS",!0),ve=p("INTEGER",!0),kd=p("SMALLINT",!0),Nc=p("FLOAT",!0),we=p("REAL",!0),Oc=p("VARCHAR",!0),Qc=p("TO",!0),Pc=p("INTERVAL",!0),md=p("YEAR",!0),Ve=p("MONTH",!0),We=p("DAY",!0),ld=p("HOUR",!0),Xe=p("MINUTE",!0),Ye=p("SECOND",
!0),cb=p("CASE",!0),a=p("END",!0),l=p("WHEN",!0),N=p("THEN",!0),fa=p("ELSE",!0),oa=p(",",!1),wa=p("(",!1),Ha=p(")",!1),Oa=G([" ","\t","\n","\r"],!1,!1),Sa=p("`",!1),db=G(["`"],!0,!1),h=0,eb=[{line:1,column:1}],ab=0,zb=[],Aa=0;if("startRule"in k){if(!(k.startRule in Ib))throw Error("Can't start parsing from rule \""+k.startRule+'".');Rb=Ib[k.startRule]}var Vb=Rb();if(Vb!==c&&h===g.length)return Vb;Vb!==c&&h<g.length&&A({type:"end"});throw function(v,H,ba){return new m(m.buildMessage(v,H),v,H,ba)}(zb,
ab<g.length?g.charAt(ab):null,ab<g.length?R(ab,ab+1):R(ab,ab));}}})})({get exports(){return F},set exports(y){F=y}});let I=function(){function y(){}y.parse=function(m){return F.parse(m)};return b._createClass(y)}();d.WhereGrammar=I;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(d){d.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==
typeof self?self:{};d.getDefaultExportFromCjs=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}})},"esri/statistics/utils":function(){define(["exports","../rest/support/ClassBreaksDefinition","../rest/support/generateRendererUtils"],function(d,b,W){function F(u){return null==u||"string"===typeof u&&!u?"\x3cNull\x3e":u}function I(u){const M=null!=u.minValue||null!=u.maxValue,L=!!u.sqlExpression&&u.supportsSQLExpression;return!(null!=u.normalizationField||
null!=u.normalizationType)&&!M&&!L}function y(u){const {values:M,useSampleStdDev:L,supportsNullCount:Y}=u;var X=Number.POSITIVE_INFINITY;let x=Number.NEGATIVE_INFINITY,E=null,ka=null;var V=null;let ea=null,O=0;const na=null==u.minValue?-Infinity:u.minValue,ta=null==u.maxValue?Infinity:u.maxValue;for(const xa of M)Number.isFinite(xa)?xa>=na&&xa<=ta&&(E=null===E?xa:E+xa,X=Math.min(X,xa),x=Math.max(x,xa),O++):"string"===typeof xa&&O++;if(O&&null!=E){ka=E/O;V=0;for(const xa of M)Number.isFinite(xa)&&
xa>=na&&xa<=ta&&(V+=(xa-ka)**2);ea=L?1<O?V/(O-1):0:0<O?V/O:0;V=Math.sqrt(ea)}else x=X=null;X={avg:ka,count:O,max:x,min:X,stddev:V,sum:E,variance:ea};Y&&(X.nullcount=M.length-O);u.percentileParams&&(X.median=m(M,u.percentileParams));return X}function m(u,M){const {fieldType:L,value:Y,orderBy:X,isDiscrete:x}=M,E=n(L,"desc"===X);u=[...u].filter(O=>null!=O).sort((O,na)=>E(O,na));if(0===u.length)return null;if(0>=Y)return u[0];if(1<=Y)return u[u.length-1];var ka=(u.length-1)*Y,V=Math.floor(ka);M=V+1;ka%=
1;V=u[V];const ea=u[M];return M>=u.length||x||"string"===typeof V||"string"===typeof ea?V:V*(1-ka)+ea*ka}function n(u,M){const L=M?1:-1,Y=p(M),X=k(M);if(!u||!["esriFieldTypeDate","esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID",...C].includes(u))return(x,E)=>"number"===typeof x&&"number"===typeof E?Y(x,E):"string"===typeof x&&"string"===typeof E?X(x,E):L;if("esriFieldTypeDate"===u)return(x,E)=>{x=(new Date(x)).getTime();E=(new Date(E)).getTime();return isNaN(x)||isNaN(E)?L:Y(x,E)};
if(C.has(u))return(x,E)=>Y(x,E);if("esriFieldTypeString"===u)return(x,E)=>X(x,E);if("esriFieldTypeGUID"===u||"esriFieldTypeGlobalID"===u){const x=k(M);return(E,ka)=>x(G(E),G(ka))}return M?(x,E)=>1:(x,E)=>-1}function g(u,M,L){if(L){if(null==u)return null==M?0:1;if(null==M)return-1}else{if(null==u)return null==M?0:-1;if(null==M)return 1}return null}function k(u){return u?(M,L)=>{const Y=g(M,L,!0);if(null!=Y)return Y;M=M.toUpperCase();L=L.toUpperCase();return M>L?-1:M<L?1:0}:(M,L)=>{const Y=g(M,L,!1);
if(null!=Y)return Y;M=M.toUpperCase();L=L.toUpperCase();return M<L?-1:M>L?1:0}}function p(u){return u?(M,L)=>{const Y=g(M,L,!0);return null!=Y?Y:L-M}:(M,L)=>{const Y=g(M,L,!1);return null!=Y?Y:M-L}}function G(u){return u.substr(24,12)+u.substr(19,4)+u.substr(16,2)+u.substr(14,2)+u.substr(11,2)+u.substr(9,2)+u.substr(6,2)+u.substr(4,2)+u.substr(2,2)+u.substr(0,2)}function K(u){return"coded-value"!==u?.type?[]:u.codedValues.map(M=>M.code)}function R(u,M){const L=f({field:M.field,normalizationType:M.normalizationType,
normalizationField:M.normalizationField,classificationMethod:M.classificationMethod,standardDeviationInterval:M.standardDeviationInterval,breakCount:M.numClasses||5});u=A(u,M.minValue,M.maxValue);return W.createGenerateRendererClassBreaks({definition:L,values:u,normalizationTotal:M.normalizationTotal})}function A(u,M,L){const Y=null==M?-Infinity:M,X=null==L?Infinity:L;return u.filter(x=>Number.isFinite(x)&&x>=Y&&x<=X)}function f(u){const {breakCount:M,field:L,normalizationField:Y,normalizationType:X}=
u,x=u.classificationMethod||"equal-interval";return new b({breakCount:M,classificationField:L,classificationMethod:x,normalizationField:"field"===X?Y:void 0,normalizationType:X,standardDeviationInterval:"standard-deviation"===x?u.standardDeviationInterval||1:void 0})}function r(u,M){const {field:L,classificationMethod:Y,standardDeviationInterval:X,normalizationType:x,normalizationField:E,normalizationTotal:ka,minValue:V,maxValue:ea}=M,O=M.numBins||10;let na=M=null,ta=null;Y&&"equal-interval"!==Y||
x?({classBreaks:u}=R(u,{field:L,normalizationType:x,normalizationField:E,normalizationTotal:ka,classificationMethod:Y,standardDeviationInterval:X,minValue:V,maxValue:ea,numClasses:O}),M=u[0].minValue,na=u[u.length-1].maxValue,ta=u.map(xa=>[xa.minValue,xa.maxValue])):(null!=V&&null!=ea?(M=V,na=ea):(u=y({values:u,minValue:V,maxValue:ea,useSampleStdDev:!x,supportsNullCount:I({normalizationType:x,normalizationField:E,minValue:V,maxValue:ea})}),M=u.min??null,na=u.max??null),ta=Q(M??0,na??0,O));return{min:M,
max:na,intervals:ta}}function z(u,M){let L=-1;for(let Y=u.length-1;0<=Y;Y--)if(M>=u[Y][0]){L=Y;break}return L}function Q(u,M,L){const Y=(M-u)/L,X=[];let x;for(let E=1;E<=L;E++)x=u+Y,x=Number(x.toFixed(16)),X.push([u,E===L?M:x]),u=x;return X}const D=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,C=new Set(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),J="min max avg stddev count sum variance nullcount median".split(" ");d.calculateClassBreaks=R;d.calculateHistogram=
function(u,M){var L=r(u,M);const Y=L.intervals,X=L.min??0;L=L.max??0;const x=Y.map((E,ka)=>({minValue:Y[ka][0],maxValue:Y[ka][1],count:0}));for(const E of u)null!=E&&E>=X&&E<=L&&(u=z(Y,E),-1<u&&x[u].count++);return{bins:x,minValue:X,maxValue:L,normalizationTotal:M.normalizationTotal}};d.calculatePercentile=m;d.calculateStatistics=y;d.calculateStringStatistics=function(u){const M=u.returnDistinct?[...(new Set(u.values))]:u.values,L=M.filter(X=>null!=X).length,Y={count:L};u.supportsNullCount&&(Y.nullcount=
M.length-L);u.percentileParams&&(Y.median=m(M,u.percentileParams));return Y};d.calculateUniqueValuesCount=function(u){const M={};for(let L of u){if(null==L||"string"===typeof L&&""===L.trim())L=null;null==M[L]?M[L]={count:1,data:L}:M[L].count++}return{count:M}};d.createClassBreaksDefinition=f;d.createUVResult=function(u,M,L,Y){u=u.count;const X=[];if(L&&M){L=[];var x=K(M[0]);for(const E of x)if(M[1]){x=K(M[1]);for(const ka of x)if(M[2]){x=K(M[2]);for(const V of x)L.push(`${F(E)}${Y}${F(ka)}${Y}${F(V)}`)}else L.push(`${F(E)}${Y}${F(ka)}`)}else L.push(E);
for(const E of L)u.hasOwnProperty(E)||(u[E]={data:E,count:0})}for(const E in u)M=u[E],X.push({value:M.data,count:M.count,label:M.label});return{uniqueValueInfos:X}};d.getAttributeComparator=n;d.getEqualIntervalBins=Q;d.getNormalizedValue=function(u,M,L,Y){let X=null;switch(M){case "log":0!==u&&(X=Math.log(u)*Math.LOG10E);break;case "percent-of-total":Number.isFinite(Y)&&0!==Y&&(X=u/Y*100);break;case "field":Number.isFinite(L)&&0!==L&&(X=u/L);break;case "natural-log":0<u&&(X=Math.log(u));break;case "square-root":0<
u&&(X=u**.5)}return X};d.isNullCountSupported=I;d.processNullValue=F;d.processSummaryStatisticsResult=function(u,M){let L;for(L in u)J.includes(L)&&(Number.isFinite(u[L])||(u[L]=null));if(!M)return u;["avg","stddev","variance"].forEach(Y=>{null!=u[Y]&&(u[Y]=Math.ceil(u[Y]))});return u};d.resolveCBResult=function(u,M){let L=u.classBreaks;const Y=L[0].minValue,X=L[L.length-1].maxValue,x="standard-deviation"===M;L=L.map(E=>{const ka=E.label;E={minValue:E.minValue,maxValue:E.maxValue,label:ka};if(x&&
ka){const V=ka.match(D)?.map(ea=>+ea.trim())??[];2===V.length?(E.minStdDev=V[0],E.maxStdDev=V[1],0>V[0]&&0<V[1]&&(E.hasAvg=!0)):1===V.length&&(ka.includes("\x3c")?(E.minStdDev=null,E.maxStdDev=V[0]):ka.includes("\x3e")&&(E.minStdDev=V[0],E.maxStdDev=null))}return E});return{minValue:Y,maxValue:X,classBreakInfos:L,normalizationTotal:u.normalizationTotal}};d.statisticTypes=J;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/ClassBreaksDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(d,b,W,F,I,y,m,n,g,k){y=new W.JSONMap({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"});W=new W.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});F=function(p){function G(R){R=K.call(this,R);R.type="class-breaks-definition";R.breakCount=
null;R.classificationField=null;R.classificationMethod=null;R.normalizationField=null;R.normalizationType=null;return R}d._inherits(G,p);var K=d._createSuper(G);d._createClass(G,[{key:"standardDeviationInterval",set:function(R){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",R)}},{key:"definedInterval",set:function(R){"defined-interval"===this.classificationMethod&&this._set("definedInterval",R)}}]);return G}(F.JSONSupport);b.__decorate([g.enumeration({classBreaksDef:"class-breaks-definition"})],
F.prototype,"type",void 0);b.__decorate([I.property({json:{write:!0}})],F.prototype,"breakCount",void 0);b.__decorate([I.property({json:{write:!0}})],F.prototype,"classificationField",void 0);b.__decorate([I.property({type:String,json:{read:y.read,write:y.write}})],F.prototype,"classificationMethod",void 0);b.__decorate([I.property({json:{write:!0}})],F.prototype,"normalizationField",void 0);b.__decorate([I.property({json:{read:W.read,write:W.write}})],F.prototype,"normalizationType",void 0);b.__decorate([I.property({value:null,
json:{write:!0}})],F.prototype,"standardDeviationInterval",null);b.__decorate([I.property({value:null,json:{write:!0}})],F.prototype,"definedInterval",null);return F=b.__decorate([k.subclass("esri.rest.support.ClassBreaksDefinition")],F)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(d,b,W){d.enumeration=function(F,I={}){F=F instanceof b.JSONMap?F:new b.JSONMap(F,I);F={type:I?.ignoreUnknown??!0?F.apiValues:String,json:{type:F.jsonValues,
read:I?.readOnly?!1:{reader:F.read},write:{writer:F.write}}};void 0!==I?.readOnly&&(F.readOnly=!!I.readOnly);void 0!==I?.default&&(F.json.default=I.default);void 0!==I?.name&&(F.json.name=I.name);void 0!==I?.nonNullable&&(F.nonNullable=I.nonNullable);return W.property(F)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/generateRendererUtils":function(){define(["exports","../../core/Logger"],function(d,b){function W(K){var R=K.definition;const {classificationMethod:A,
normalizationType:f,definedInterval:r}=R;R=R.breakCount??1;const z=[];var Q=K.values;if(0===Q.length)return[];Q=Q.sort((L,Y)=>L-Y);var D=Q[0],C=Q[Q.length-1];if("equal-interval"===A)if(Q.length>=R){Q=(C-D)/R;K=D;for(var J=1;J<R;J++){var u=Number((D+J*Q).toFixed(6));z.push({minValue:K,maxValue:u,label:F(K,u,f)});K=u}z.push({minValue:K,maxValue:C,label:F(K,C,f)})}else Q.forEach(L=>{z.push({minValue:L,maxValue:L,label:F(L,L,f)})});else if("natural-breaks"===A){Q=I(Q);K=y(Q.uniqueValues,K.valueFrequency||
Q.valueFrequency,R);for(J=1;J<R;J++)Q.uniqueValues.length>J&&(u=Number(Q.uniqueValues[K[J]].toFixed(6)),z.push({minValue:D,maxValue:u,label:F(D,u,f)}),D=u);z.push({minValue:D,maxValue:C,label:F(D,C,f)})}else if("quantile"===A)if(Q.length>=R&&D!==C){K=Math.ceil(Q.length/R);J=0;for(u=1;u<R;u++){var M=K+J-1;M>Q.length&&(M=Q.length-1);0>M&&(M=0);z.push({minValue:D,maxValue:Q[M],label:F(D,Q[M],f)});D=Q[M];J+=K;K=Math.ceil((Q.length-J)/(R-u))}z.push({minValue:D,maxValue:C,label:F(D,C,f)})}else for(R=-1,
C=0;C<Q.length;C++)D=Q[C],D!==R&&(R=D,z.push({minValue:R,maxValue:D,label:F(R,D,f)}),R=D);else if("standard-deviation"===A)if(K=g(Q),J=k(Q,K),0===J)z.push({minValue:Q[0],maxValue:Q[0],label:F(Q[0],Q[0],f)});else{Q=n(D,C,R,K,J)*J;J=0;for(u=R;1<=u;u--)M=Number((K-(u-.5)*Q).toFixed(6)),z.push({minValue:D,maxValue:M,label:F(D,M,f)}),D=M,J++;u=Number((K+.5*Q).toFixed(6));z.push({minValue:D,maxValue:u,label:F(D,u,f)});D=u;J++;for(M=1;M<=R;M++)u=J===2*R?C:Number((K+(M+.5)*Q).toFixed(6)),z.push({minValue:D,
maxValue:u,label:F(D,u,f)}),D=u,J++}else if("defined-interval"===A){if(!r)return z;R=Q[0];C=Q[Q.length-1];Q=Math.ceil((C-R)/r);D=R;for(K=1;K<Q;K++)J=Number((R+K*r).toFixed(6)),z.push({minValue:D,maxValue:J,label:F(D,J,f)}),D=J;z.push({minValue:D,maxValue:C,label:F(D,C,f)})}return z}function F(K,R,A){let f=null;return f=K===R?A&&"percent-of-total"===A?K+"%":K.toString():A&&"percent-of-total"===A?K+"% - "+R+"%":K+" - "+R}function I(K){const R=[],A=[];let f=Number.MIN_VALUE,r=1,z=-1;for(let Q=0;Q<K.length;Q++){const D=
K[Q];D===f?(r++,A[z]=r):null!==D&&(R.push(D),f=D,r=1,A.push(r),z++)}return{uniqueValues:R,valueFrequency:A}}function y(K,R,A){var f=K.length;const r=[];A>f&&(A=f);for(var z=0;z<A;z++)r.push(Math.round(z*f/A-1));r.push(f-1);z=m(r,K,R,A);f=z.mean;z=z.sdcm;var Q=A,D=0,C=0;let J=0,u=0,M=!0;for(let Y=0;2>Y&&M;Y++){0===Y&&(M=!1);for(var L=0;L<Q-1;L++)for(;r[L+1]+1!==r[L+2];)if(r[L+1]+=1,D=p(L,r,K,R),J=D.sbMean,D=D.sbSdcm,C=p(L+1,r,K,R),u=C.sbMean,C=C.sbSdcm,D+C<z[L]+z[L+1])z[L]=D,z[L+1]=C,f[L]=J,f[L+1]=
u,M=!0;else{--r[L+1];break}for(L=Q-1;0<L;L--)for(;r[L]!==r[L-1]+1;)if(--r[L],D=p(L-1,r,K,R),J=D.sbMean,D=D.sbSdcm,C=p(L,r,K,R),u=C.sbMean,C=C.sbSdcm,D+C<z[L-1]+z[L])z[L-1]=D,z[L]=C,f[L-1]=J,f[L]=u,M=!0;else{r[L]+=1;break}}M&&(z=m(r,K,R,A));return r}function m(K,R,A,f){let r=[];var z=[],Q=[];let D=0;const C=[],J=[];for(var u=0;u<f;u++){var M=p(u,K,R,A);C.push(M.sbMean);J.push(M.sbSdcm);D+=J[u]}M=D;for(u=!0;u||D<M;){u=!1;r=[];for(z=0;z<f;z++)r.push(K[z]);for(Q=0;Q<f;Q++)for(M=K[Q]+1;M<=K[Q+1];M++)if(z=
R[M],0<Q&&M!==K[Q+1]&&Math.abs(z-C[Q])>Math.abs(z-C[Q-1]))K[Q]=M;else if(Q<f-1&&K[Q]!==M-1&&Math.abs(z-C[Q])>Math.abs(z-C[Q+1])){K[Q+1]=M-1;break}M=D;D=0;z=[];Q=[];for(let L=0;L<f;L++){z.push(C[L]);Q.push(J[L]);const Y=p(L,K,R,A);C[L]=Y.sbMean;J[L]=Y.sbSdcm;D+=J[L]}}if(D>M){for(R=0;R<f;R++)K[R]=r[R],C[R]=z[R],J[R]=Q[R];D=M}return{mean:C,sdcm:J}}function n(K,R,A,f,r){K=Math.max(f-K,R-f)/r/A;return 1<=K?1:.5<=K?.5:.25}function g(K){let R=0;for(let A=0;A<K.length;A++)R+=K[A];return R/=K.length}function k(K,
R){let A=0;for(let f=0;f<K.length;f++){const r=K[f];A+=(r-R)*(r-R)}A/=K.length;return Math.sqrt(A)}function p(K,R,A,f){var r=0,z=0;for(var Q=R[K]+1;Q<=R[K+1];Q++){const D=f[Q];r+=A[Q]*D;z+=D}0>=z&&G.warn("Exception in Natural Breaks calculation");r/=z;z=0;for(Q=R[K]+1;Q<=R[K+1];Q++)z+=f[Q]*(A[Q]-r)**2;return{sbMean:r,sbSdcm:z}}const G=b.getLogger("esri.rest.support.generateRendererUtils");d.createGenerateRendererClassBreaks=function(K){const {normalizationTotal:R}=K;return{classBreaks:W(K),normalizationTotal:R}};
d.createGenerateRendererUniqueValues=function(K){K=I(K);const R=[],A=K.uniqueValues.length;for(let f=0;f<A;f++){const r=K.uniqueValues[f];R.push({value:r,count:K.valueFrequency[f],label:r.toString()})}return{uniqueValues:R}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/projectionSupport":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../geometry/projection ../../../geometry/geometryAdapters/json ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/webMercatorUtils".split(" "),
function(d,b,W,F,I,y,m){function n(A,f){if(!f)return null;if("x"in f){var r={x:0,y:0};[r.x,r.y]=A(f.x,f.y,p);null!=f.z&&(r.z=f.z);null!=f.m&&(r.m=f.m);return r}return"xmin"in f?(r={xmin:0,ymin:0,xmax:0,ymax:0},[r.xmin,r.ymin]=A(f.xmin,f.ymin,p),[r.xmax,r.ymax]=A(f.xmax,f.ymax,p),f.hasZ&&(r.zmin=f.zmin,r.zmax=f.zmax,r.hasZ=!0),f.hasM&&(r.mmin=f.mmin,r.mmax=f.mmax,r.hasM=!0),r):"rings"in f?{rings:g(f.rings,A),hasM:f.hasM,hasZ:f.hasZ}:"paths"in f?{paths:g(f.paths,A),hasM:f.hasM,hasZ:f.hasZ}:"points"in
f?{points:k(f.points,A),hasM:f.hasM,hasZ:f.hasZ}:null}function g(A,f){const r=[];for(const z of A)r.push(k(z,f));return r}function k(A,f){const r=[];for(const z of A)A=f(z[0],z[1],[0,0]),r.push(A),2<z.length&&A.push(z[2]),3<z.length&&A.push(z[3]);return r}const p=[0,0],G=n.bind(null,m.lngLatToXY),K=n.bind(null,m.xyToLngLat),R=new (function(){function A(){this._jobs=[];this._timer=null;this._process=this._process.bind(this)}var f=A.prototype;f.push=async function(r,z,Q){if(!(r&&r.length&&z&&Q)||y.equals(z,
Q))return r;const D={geometries:r,inSpatialReference:z,outSpatialReference:Q,resolve:null};this._jobs.push(D);return new Promise(C=>{D.resolve=C;null===this._timer&&(this._timer=setTimeout(this._process,10))})};f._process=function(){this._timer=null;const r=this._jobs.shift();if(r){var {geometries:z,inSpatialReference:Q,outSpatialReference:D,resolve:C}=r;m.canProject(Q,D)?y.isWebMercator(D)?C(z.map(G)):C(z.map(K)):C(F.projectMany(I.jsonAdapter,z,Q,D,null,null));0<this._jobs.length&&(this._timer=setTimeout(this._process,
10))}};return b._createClass(A)}());d.checkProjectionSupport=async function(A,f){A&&f&&(A=Array.isArray(A)?A.map(r=>W.isSome(r.geometry)?r.geometry.spatialReference:null).filter(W.isSome):[A],await F.initializeProjection(A.map(r=>({source:r,dest:f}))))};d.project=function(A,f,r,z){if(!A)return A;r||(r=f,f=A.spatialReference);return y.isValid(f)&&y.isValid(r)&&!y.equals(f,r)?m.canProject(f,r)?(A=y.isWebMercator(r)?G(A):K(A),A.spatialReference=r,A):F.projectMany(I.jsonAdapter,[A],f,r,null,z)[0]:A};
d.projectMany=function(A,f,r){return R.push(A,f,r)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(d,b,W,F,I,y,m,n,g,k,p,G,K,R,A,f,r,z,Q,D,C,J,u,M,L,Y,X){function x(){return!!ib&&r.isLoaded()}function E(U){y.isNone(hb)&&(hb=Promise.all([r.load(),(new Promise((la,Z)=>d(["../chunks/geometryEngineBase"],la,Z))).then(la=>la.geometryEngineBase),new Promise((la,Z)=>d(["./geometryAdapters/hydrated"],la,Z))]));return hb.then(([,la,{hydratedAdapter:Z}])=>{m.throwIfAborted(U);c=Z;ib=la.default;ib._enableProjection(r.pe);Rb.notify()})}function ka(U,la,Z=null,va=null){return Array.isArray(U)?0===
U.length?[]:V(c,U,U[0].spatialReference,la,Z,va):V(c,[U],U.spatialReference,la,Z,va)[0]}function V(U,la,Z,va,Ka=null,Na=null){if(y.isNone(Z)||y.isNone(va))return la;if(ta(Z,va,Ka))return la.map(Ta=>y.unwrap(xa(Ta,Z,va)));if(y.isNone(Ka)){const Ta=M.cacheKey(Z,va);void 0!==Ib[Ta]?Ka=Ib[Ta]:(Ka=O(Z,va,void 0),y.isNone(Ka)&&(Ka=new M),Ib[Ta]=Ka)}if(y.isNone(ib)||y.isNone(U))throw new nb;return y.isSome(Na)?ib._project(U,la,Z,va,Ka,Na):ib._project(U,la,Z,va,Ka)}function ea(U,la){if(!x())for(const Z of U)if(y.isSome(Z)&&
!L.equals(Z.spatialReference,la)&&L.isValid(Z.spatialReference)&&L.isValid(la)&&!ta(Z.spatialReference,la))return g.trackAccess(Rb),{pending:E(),geometries:null};return{pending:null,geometries:U.map(Z=>y.isNone(Z)?null:L.equals(Z.spatialReference,la)?Z:L.isValid(Z.spatialReference)&&L.isValid(la)?na(Z,la):null)}}function O(U,la,Z=null){if(y.isNone(U)||y.isNone(la))return null;if(y.isNone(ib)||y.isNone(c))throw new nb;U=ib._getTransformation(c,U,la,Z,Z?.spatialReference);return null!==U?M.fromGE(U):
null}function na(U,la){try{const Z=ka(U,la);if(null==Z)return null;"xmin"in U&&"xmin"in Z&&(Z.zmin=U.zmin,Z.zmax=U.zmax);const va=X.getGeometryZScaler(Z.type,U.spatialReference,la);y.isSome(va)&&va(Z);return Z}catch(Z){if(!(Z instanceof nb))throw Z;return null}}function ta(U,la,Z){return Z?!1:L.equals(U,la)?!0:L.isValid(U)&&L.isValid(la)&&!!Da(U,la,Yb)}function xa(U,la,Z){return U?"x"in U?ja(U,la,new z,Z,0):"xmin"in U?ha(U,la,new A,Z,0):"rings"in U?w(U,la,new Q,Z,0):"paths"in U?T(U,la,new D,Z,0):
"points"in U?S(U,la,new f,Z,0):null:null}function ja(U,la,Z,va,Ka){$a[0]=U.x;$a[1]=U.y;const Na=U.z;$a[2]=void 0!==Na?Na:Ka;if(!Fa($a,la,0,$a,va,0,1))return null;Z.x=$a[0];Z.y=$a[1];Z.spatialReference=va;void 0===Na?(Z.z=void 0,Z.hasZ=!1):(Z.z=$a[2],Z.hasZ=!0);void 0===U.m?(Z.m=void 0,Z.hasM=!1):(Z.m=U.m,Z.hasM=!0);return Z}function S(U,la,Z,va,Ka){const {points:Na,hasZ:Ta,hasM:Za}=U;U=[];const ob=Na.length,mb=[];for(var lb of Na)mb.push(lb[0],lb[1],Ta?lb[2]:Ka);if(!Fa(mb,la,0,mb,va,0,ob))return null;
for(la=0;la<ob;++la){Ka=3*la;lb=mb[Ka];const yb=mb[Ka+1];Ta&&Za?U.push([lb,yb,mb[Ka+2],Na[la][3]]):Ta?U.push([lb,yb,mb[Ka+2]]):Za?U.push([lb,yb,Na[la][2]]):U.push([lb,yb])}Z.points=U;Z.spatialReference=va;Z.hasZ=Ta;Z.hasM=Za;return Z}function T(U,la,Z,va,Ka){const {paths:Na,hasZ:Ta,hasM:Za}=U;U=[];if(!Xa(Na,Ta??!1,Za??!1,la,U,va,Ka))return null;Z.paths=U;Z.spatialReference=va;Z.hasZ=Ta;Z.hasM=Za;return Z}function w(U,la,Z,va,Ka){const {rings:Na,hasZ:Ta,hasM:Za}=U;U=[];if(!Xa(Na,Ta??!1,Za??!1,la,U,
va,Ka))return null;Z.rings=U;Z.spatialReference=va;Z.hasZ=Ta;Z.hasM=Za;return Z}function ha(U,la,Z,va,Ka){const {xmin:Na,ymin:Ta,xmax:Za,ymax:ob,hasZ:mb,hasM:lb}=U;if(!t(Na,Ta,mb?U.zmin:Ka,la,$a,va))return null;Z.xmin=$a[0];Z.ymin=$a[1];mb&&(Z.zmin=$a[2]);if(!t(Za,ob,mb?U.zmax:Ka,la,$a,va))return null;Z.xmax=$a[0];Z.ymax=$a[1];mb&&(Z.zmax=$a[2]);lb&&(Z.mmin=U.mmin,Z.mmax=U.mmax);Z.spatialReference=va;return Z}function t(U,la,Z,va,Ka,Na){kb[0]=U;kb[1]=la;kb[2]=Z;return Fa(kb,va,0,Ka,Na,0,1)}function ca(U,
la,Z,va){if(y.isNone(la)||y.isNone(va)||2>U.length)return!1;2===U.length&&(kb[0]=U[0],kb[1]=U[1],kb[2]=0,U=kb);return Fa(U,la,0,Z,va,0,1)}function Ea(U,la,Z){if(y.isNone(la))return!1;la=e(la,Jb);la=Db[la][qa.WGS84_COMPARABLE_LON_LAT];if(y.isNone(la))return!1;la(U,0,kb,0);Z!==kb&&(Z[0]=kb[0],Z[1]=kb[1],2<Z.length&&(Z[2]=kb[2]));return!0}function Fa(U,la,Z,va,Ka,Na,Ta=1){la=Da(la,Ka,Yb);if(y.isNone(la))return!1;if(la===q){if(U===va&&Z===Na)return!0;Ta=Z+3*Ta;for(let Za=Z,ob=Na;Za<Ta;Za++,ob++)va[ob]=
U[Za];return!0}Ta=Z+3*Ta;for(let Za=Z,ob=Na;Za<Ta;Za+=3,ob+=3)la(U,Za,va,ob);return!0}function Xa(U,la,Z,va,Ka,Na,Ta=0){const Za=[];for(const ob of U)for(const mb of ob)Za.push(mb[0],mb[1],la?mb[2]:Ta);if(!Fa(Za,va,0,Za,Na,0,Za.length/3))return!1;va=0;Ka.length=0;for(const ob of U){U=[];for(const mb of ob)la&&Z?U.push([Za[va++],Za[va++],Za[va++],mb[3]]):la?U.push([Za[va++],Za[va++],Za[va++]]):(Z?U.push([Za[va++],Za[va++],mb[2]]):U.push([Za[va++],Za[va++]]),va++);Ka.push(U)}return!0}function sa(U,
la,Z,va){la=va+la;if(la<va/2||Z>la)return Number.MAX_VALUE;U=Math.abs(Eb*U)+Math.asin(Z/la);return U>=Math.PI/2?Number.MAX_VALUE:Z/Math.cos(U)}function ya(U,la,Z){const va=Math.sin(U);U=Math.cos(U);const Ka=Math.sin(la);la=Math.cos(la);Z[0]=-va;Z[4]=-Ka*U;Z[8]=la*U;Z[12]=0;Z[1]=U;Z[5]=-Ka*va;Z[9]=la*va;Z[13]=0;Z[2]=0;Z[6]=la;Z[10]=Ka;Z[14]=0;Z[3]=0;Z[7]=0;Z[11]=0;Z[15]=1;return Z}function Ia(U,la,Z){ya(U,la,Z);p.transpose(Z,Z);return Z}function e(U,la){if(!U)return qa.UNKNOWN;if(la.spatialReference===
U)return la.spatialReferenceId;la.spatialReference=U;"metersPerUnit"in la&&(la.metersPerUnit=n.getMetersPerUnitForSR(U,1));return U.wkt===R.SphericalECEFSpatialReferenceLike.wkt?la.spatialReferenceId=qa.SPHERICAL_ECEF:L.isWGS84(U)?la.spatialReferenceId=qa.WGS84:L.isWebMercator(U)?la.spatialReferenceId=qa.WEB_MERCATOR:L.isPlateCarree(U)?la.spatialReferenceId=qa.PLATE_CARREE:U.wkt===R.WGS84ECEFSpatialReferenceLike.wkt?la.spatialReferenceId=qa.WGS84_ECEF:U.wkid===Y.SupportedGCSWkids.CGCS2000?la.spatialReferenceId=
qa.CGCS2000:U.wkt===R.SphericalPCPFMarsLike.wkt?la.spatialReferenceId=qa.SPHERICAL_MARS_PCPF:U.wkt===R.SphericalPCPFMoonLike.wkt?la.spatialReferenceId=qa.SPHERICAL_MOON_PCPF:L.isMars(U)?la.spatialReferenceId=qa.GCSMARS2000:L.isMoon(U)?la.spatialReferenceId=qa.GCSMOON2000:la.spatialReferenceId=qa.UNKNOWN}function q(U,la,Z,va){U!==Z&&(Z[va++]=U[la++],Z[va++]=U[la++],Z[va]=U[la])}function ia(U,la,Z,va){Z[va++]=Tb*(U[la++]/J.earth.radius);Z[va++]=Tb*(Math.PI/2-2*Math.atan(Math.exp(-U[la++]/J.earth.radius)));
Z[va]=U[la]}function pa(U,la,Z,va){ia(U,la,Z,va);Ba(Z,va,Z,va)}function za(U,la,Z,va){ia(U,la,Z,va);Va(Z,va,Z,va)}function B(U,la,Z,va,Ka){var Na=.4999999*Math.PI;Na=I.clamp(Eb*U[la+1],-Na,Na);Na=Math.sin(Na);Z[va++]=Eb*U[la]*Ka.radius;Z[va++]=Ka.halfSemiMajorAxis*Math.log((1+Na)/(1-Na));Z[va]=U[la+2]}function P(U,la,Z,va){B(U,la,Z,va,J.earth)}function da(U,la,Z,va){Z[va]=U[la]*ic;Z[va+1]=U[la+1]*ic;Z[va+2]=U[la+2]}function aa(U,la,Z,va){Z[va]=U[la]*Sb;Z[va+1]=U[la+1]*Sb;Z[va+2]=U[la+2]}function ma(U,
la,Z,va){ia(U,la,Z,va);da(Z,va,Z,va)}function ra(U,la,Z,va,Ka){Ka+=U[la+2];const Na=Eb*U[la+1];U=Eb*U[la];la=Math.cos(Na);Z[va++]=Math.cos(U)*la*Ka;Z[va++]=Math.sin(U)*la*Ka;Z[va]=Math.sin(Na)*Ka}function ua(U,la,Z,va){ra(U,la,Z,va,J.moon.radius)}function Ca(U,la,Z,va){ra(U,la,Z,va,J.mars.radius)}function Ba(U,la,Z,va){ra(U,la,Z,va,J.earth.radius)}function La(U,la,Z,va,Ka){var Na=U[la];const Ta=U[la+1];la=U[la+2];U=Math.sqrt(Na*Na+Ta*Ta+la*la);la=I.asinClamped(la/(0===U?1:U));Na=Math.atan2(Ta,Na);
Z[va++]=Tb*Na;Z[va++]=Tb*la;Z[va]=U-Ka}function Ja(U,la,Z,va){La(U,la,Z,va,J.moon.radius)}function Ma(U,la,Z,va){La(U,la,Z,va,J.mars.radius)}function Ua(U,la,Z,va){La(U,la,Z,va,J.earth.radius)}function Ra(U,la,Z,va){Ua(U,la,Z,va);P(Z,va,Z,va)}function Wa(U,la,Z,va){Ua(U,la,Z,va);Va(Z,va,Z,va)}function Va(U,la,Z,va){var Ka=J.earth;const Na=Eb*U[la];var Ta=Eb*U[la+1];U=U[la+2];la=Math.sin(Ta);Ta=Math.cos(Ta);const Za=Ka.radius/Math.sqrt(1-Ka.eccentricitySquared*la*la);Z[va++]=(Za+U)*Ta*Math.cos(Na);
Z[va++]=(Za+U)*Ta*Math.sin(Na);Z[va++]=(Za*(1-Ka.eccentricitySquared)+U)*la}function Pa(U,la,Z,va){var Ka=u.earthEllipsoidConstants,Na=U[la],Ta=U[la+1];U=U[la+2];let Za;la=Math.abs(U);var ob=Na*Na+Ta*Ta;var mb=Math.sqrt(ob);var lb=ob+U*U;var yb=Math.sqrt(lb);Na=Math.atan2(Ta,Na);var Kb=U*U/lb;lb=ob/lb;Ta=Ka.a2/yb;ob=Ka.a3-Ka.a4/yb;.3<lb?(Kb=la/yb*(1+lb*(Ka.a1+Ta+Kb*ob)/yb),yb=Math.asin(Kb),Ta=Kb*Kb,lb=Math.sqrt(1-Ta)):(lb=mb/yb*(1-Kb*(Ka.a5-Ta-lb*ob)/yb),yb=Math.acos(lb),Ta=1-lb*lb,Kb=Math.sqrt(Ta));
Za=1-J.earth.eccentricitySquared*Ta;Ta=J.earth.radius/Math.sqrt(Za);Ka=Ka.a6*Ta;Ta=mb-Ta*lb;ob=la-Ka*Kb;la=lb*Ta+Kb*ob;mb=lb*ob-Kb*Ta;Ka=mb/(Ka/Za+la);yb+=Ka;0>U&&(yb=-yb);Z[va++]=Tb*Na;Z[va++]=Tb*yb;Z[va]=la+mb*Ka/2}function Ya(U,la,Z,va){Pa(U,la,Z,va);Ba(Z,va,Z,va)}function bb(U,la,Z,va){Pa(U,la,Z,va);P(Z,va,Z,va)}function Da(U,la,Z=sb()){return y.isNone(U)||y.isNone(la)?null:wb(U,la,Z).projector}function wb(U,la,Z){if(y.isNone(U)||y.isNone(la)||Z.source.spatialReference===U&&Z.dest.spatialReference===
la)return Z;const va=e(U,Z.source),Ka=e(la,Z.dest);va===qa.UNKNOWN&&Ka===qa.UNKNOWN?L.equals(U,la)?Z.projector=q:Z.projector=null:Z.projector=Db[va][Ka];return Z}function sb(){return{source:{spatialReference:null,spatialReferenceId:qa.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:qa.UNKNOWN,metersPerUnit:1},projector:q}}let ib=null,c=null,hb=null,Ib={};const Rb=new k.SimpleObservable;let nb=function(U){function la(){return Z.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")}
W._inherits(la,U);var Z=W._createSuper(la);return W._createClass(la)}(F);var qa;(function(U){U[U.UNKNOWN=0]="UNKNOWN";U[U.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";U[U.WGS84=2]="WGS84";U[U.WEB_MERCATOR=3]="WEB_MERCATOR";U[U.WGS84_ECEF=4]="WGS84_ECEF";U[U.CGCS2000=5]="CGCS2000";U[U.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";U[U.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";U[U.GCSMARS2000=8]="GCSMARS2000";U[U.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";U[U.GCSMOON2000=10]="GCSMOON2000";U[U.LON_LAT=
11]="LON_LAT";U[U.PLATE_CARREE=12]="PLATE_CARREE"})(qa||(qa={}));const ic=J.earth.radius*Math.PI/180,Sb=180/(J.earth.radius*Math.PI),Db={[qa.WGS84]:{[qa.CGCS2000]:null,[qa.GCSMARS2000]:null,[qa.GCSMOON2000]:null,[qa.LON_LAT]:q,[qa.WGS84_COMPARABLE_LON_LAT]:q,[qa.SPHERICAL_ECEF]:Ba,[qa.SPHERICAL_MARS_PCPF]:null,[qa.SPHERICAL_MOON_PCPF]:null,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:P,[qa.PLATE_CARREE]:da,[qa.WGS84]:q,[qa.WGS84_ECEF]:Va},[qa.CGCS2000]:{[qa.CGCS2000]:q,[qa.GCSMARS2000]:null,[qa.GCSMOON2000]:null,
[qa.LON_LAT]:q,[qa.WGS84_COMPARABLE_LON_LAT]:q,[qa.SPHERICAL_ECEF]:Ba,[qa.SPHERICAL_MARS_PCPF]:null,[qa.SPHERICAL_MOON_PCPF]:null,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:null,[qa.PLATE_CARREE]:da,[qa.WGS84]:null,[qa.WGS84_ECEF]:Va},[qa.GCSMARS2000]:{[qa.CGCS2000]:null,[qa.GCSMARS2000]:q,[qa.GCSMOON2000]:null,[qa.LON_LAT]:q,[qa.WGS84_COMPARABLE_LON_LAT]:null,[qa.SPHERICAL_ECEF]:null,[qa.SPHERICAL_MARS_PCPF]:Ca,[qa.SPHERICAL_MOON_PCPF]:null,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:null,[qa.PLATE_CARREE]:null,
[qa.WGS84]:null,[qa.WGS84_ECEF]:null},[qa.GCSMOON2000]:{[qa.CGCS2000]:null,[qa.GCSMARS2000]:null,[qa.GCSMOON2000]:q,[qa.LON_LAT]:q,[qa.WGS84_COMPARABLE_LON_LAT]:null,[qa.SPHERICAL_ECEF]:null,[qa.SPHERICAL_MARS_PCPF]:null,[qa.SPHERICAL_MOON_PCPF]:ua,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:null,[qa.PLATE_CARREE]:null,[qa.WGS84]:null,[qa.WGS84_ECEF]:null},[qa.WEB_MERCATOR]:{[qa.CGCS2000]:null,[qa.GCSMARS2000]:null,[qa.GCSMOON2000]:null,[qa.LON_LAT]:ia,[qa.WGS84_COMPARABLE_LON_LAT]:ia,[qa.SPHERICAL_ECEF]:pa,
[qa.SPHERICAL_MARS_PCPF]:null,[qa.SPHERICAL_MOON_PCPF]:null,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:q,[qa.PLATE_CARREE]:ma,[qa.WGS84]:ia,[qa.WGS84_ECEF]:za},[qa.WGS84_ECEF]:{[qa.CGCS2000]:Pa,[qa.GCSMARS2000]:null,[qa.GCSMOON2000]:null,[qa.LON_LAT]:Pa,[qa.WGS84_COMPARABLE_LON_LAT]:Pa,[qa.SPHERICAL_ECEF]:Ya,[qa.SPHERICAL_MARS_PCPF]:null,[qa.SPHERICAL_MOON_PCPF]:null,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:bb,[qa.PLATE_CARREE]:function(U,la,Z,va){Pa(U,la,Z,va);da(Z,va,Z,va)},[qa.WGS84]:Pa,[qa.WGS84_ECEF]:q},
[qa.SPHERICAL_ECEF]:{[qa.CGCS2000]:Ua,[qa.GCSMARS2000]:null,[qa.GCSMOON2000]:null,[qa.LON_LAT]:Ua,[qa.WGS84_COMPARABLE_LON_LAT]:Ua,[qa.SPHERICAL_ECEF]:q,[qa.SPHERICAL_MARS_PCPF]:null,[qa.SPHERICAL_MOON_PCPF]:null,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:Ra,[qa.PLATE_CARREE]:function(U,la,Z,va){Ua(U,la,Z,va);da(Z,va,Z,va)},[qa.WGS84]:Ua,[qa.WGS84_ECEF]:Wa},[qa.SPHERICAL_MARS_PCPF]:{[qa.CGCS2000]:null,[qa.GCSMARS2000]:Ma,[qa.GCSMOON2000]:null,[qa.LON_LAT]:Ma,[qa.WGS84_COMPARABLE_LON_LAT]:null,[qa.SPHERICAL_ECEF]:null,
[qa.SPHERICAL_MARS_PCPF]:q,[qa.SPHERICAL_MOON_PCPF]:null,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:null,[qa.PLATE_CARREE]:null,[qa.WGS84]:null,[qa.WGS84_ECEF]:null},[qa.SPHERICAL_MOON_PCPF]:{[qa.CGCS2000]:null,[qa.GCSMARS2000]:null,[qa.GCSMOON2000]:Ja,[qa.LON_LAT]:Ja,[qa.WGS84_COMPARABLE_LON_LAT]:null,[qa.SPHERICAL_ECEF]:null,[qa.SPHERICAL_MARS_PCPF]:null,[qa.SPHERICAL_MOON_PCPF]:q,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:null,[qa.PLATE_CARREE]:null,[qa.WGS84]:null,[qa.WGS84_ECEF]:null},[qa.UNKNOWN]:{[qa.CGCS2000]:null,
[qa.GCSMARS2000]:null,[qa.GCSMOON2000]:null,[qa.LON_LAT]:null,[qa.WGS84_COMPARABLE_LON_LAT]:null,[qa.SPHERICAL_ECEF]:null,[qa.SPHERICAL_MARS_PCPF]:null,[qa.SPHERICAL_MOON_PCPF]:null,[qa.UNKNOWN]:q,[qa.WEB_MERCATOR]:null,[qa.PLATE_CARREE]:null,[qa.WGS84]:null,[qa.WGS84_ECEF]:null},[qa.LON_LAT]:{[qa.CGCS2000]:q,[qa.GCSMARS2000]:q,[qa.GCSMOON2000]:q,[qa.LON_LAT]:q,[qa.WGS84_COMPARABLE_LON_LAT]:q,[qa.SPHERICAL_ECEF]:Ba,[qa.SPHERICAL_MARS_PCPF]:Ca,[qa.SPHERICAL_MOON_PCPF]:ua,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:P,
[qa.PLATE_CARREE]:da,[qa.WGS84]:q,[qa.WGS84_ECEF]:Va},[qa.WGS84_COMPARABLE_LON_LAT]:{[qa.CGCS2000]:null,[qa.GCSMARS2000]:null,[qa.GCSMOON2000]:null,[qa.LON_LAT]:q,[qa.WGS84_COMPARABLE_LON_LAT]:q,[qa.SPHERICAL_ECEF]:Ba,[qa.SPHERICAL_MARS_PCPF]:null,[qa.SPHERICAL_MOON_PCPF]:null,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:null,[qa.PLATE_CARREE]:da,[qa.WGS84]:q,[qa.WGS84_ECEF]:Va},[qa.PLATE_CARREE]:{[qa.CGCS2000]:aa,[qa.GCSMARS2000]:null,[qa.GCSMOON2000]:null,[qa.LON_LAT]:aa,[qa.WGS84_COMPARABLE_LON_LAT]:aa,
[qa.SPHERICAL_ECEF]:function(U,la,Z,va){aa(U,la,Z,va);Ba(Z,va,Z,va)},[qa.SPHERICAL_MARS_PCPF]:null,[qa.SPHERICAL_MOON_PCPF]:null,[qa.UNKNOWN]:null,[qa.WEB_MERCATOR]:function(U,la,Z,va){aa(U,la,Z,va);P(Z,va,Z,va)},[qa.PLATE_CARREE]:q,[qa.WGS84]:aa,[qa.WGS84_ECEF]:function(U,la,Z,va){aa(U,la,Z,va);Va(Z,va,Z,va)}}},Jb={spatialReference:null,spatialReferenceId:qa.UNKNOWN},ac={spatialReference:null,spatialReferenceId:qa.UNKNOWN},Yb=sb(),jc=sb(),Eb=I.deg2rad(1),Tb=I.rad2deg(1),kb=K.create(),Gb=K.create(),
Hb=K.create(),$a=K.create(),bc=K.create();b.canProjectToWGS84ComparableLonLat=function(U){if(y.isNone(U))return!1;U=e(U,Jb);return!!Db[U][qa.WGS84_COMPARABLE_LON_LAT]};b.canProjectWithoutEngine=ta;b.computeENUToSphericalPCPFLocalRotation=ya;b.computeSphericalPCPFToENULocalRotation=Ia;b.computeTranslationToOriginAndRotation=function(U,la,Z,va){if(y.isNone(U)||y.isNone(va))return!1;var Ka=e(U,Jb),Na=e(va,ac);if(Ka===Na&&Na!==qa.SPHERICAL_ECEF&&Na!==qa.SPHERICAL_MARS_PCPF&&Na!==qa.SPHERICAL_MOON_PCPF&&
(Ka!==qa.UNKNOWN||L.equals(U,va)))return p.fromTranslation(Z,la),!0;if(Na===qa.SPHERICAL_ECEF||Na===qa.SPHERICAL_MARS_PCPF||Na===qa.SPHERICAL_MOON_PCPF){Ka=Db[Ka][qa.LON_LAT];Na=Db[qa.LON_LAT][Na];if(y.isNone(Ka)||y.isNone(Na))return!1;Ka(la,0,Gb,0);Na(Gb,0,Hb,0);ya(Eb*Gb[0],Eb*Gb[1],Z);Z[12]=Hb[0];Z[13]=Hb[1];Z[14]=Hb[2];return!0}if((Na===qa.WEB_MERCATOR||Na===qa.PLATE_CARREE)&&(Ka===qa.WGS84||Ka===qa.CGCS2000&&Na===qa.PLATE_CARREE||Ka===qa.SPHERICAL_ECEF||Ka===qa.WEB_MERCATOR)){U=Db[Ka][qa.LON_LAT];
Na=Db[qa.LON_LAT][Na];if(y.isNone(U)||y.isNone(Na))return!1;U(la,0,Gb,0);Na(Gb,0,Hb,0);Ka===qa.SPHERICAL_ECEF?Ia(Eb*Gb[0],Eb*Gb[1],Z):p.identity(Z);Z[12]=Hb[0];Z[13]=Hb[1];Z[14]=Hb[2];return!0}return!1};b.getProjectorName=function(U,la){switch(Da(U,la,Yb)){case q:return"copy3";case Ba:return"wgs84ToSphericalECEF";case P:return"wgs84ToWebMercator";case da:return"wgs84ToPlateCarree";case Va:return"wgs84ToWGS84ECEF";case ia:return"webMercatorToWGS84";case pa:return"webMercatorToSphericalECEF";case za:return"webMercatorToWGS84ECEF";
case ma:return"webMercatorToPlateCarree";case Pa:return"wgs84ECEFToWGS84";case Ya:return"wgs84ECEFToSphericalECEF";case bb:return"wgs84ECEFToWebMercator";case Ua:return"sphericalECEFToWGS84";case Ra:return"sphericalECEFToWebMercator";case Ma:return"sphericalMarsPCPFToMars2000";case Ja:return"sphericalMoonPCPFToMoon2000";case Wa:return"sphericalECEFToWGS84ECEF";case Ca:return"mars2000ToSphericalPCPF";case ua:return"moon2000ToSphericalPCPF";default:return null}};b.getTransformation=O;b.getTransformations=
function(U,la,Z=null){if(y.isNone(ib)||y.isNone(c))throw new nb;U=ib._getTransformationBySuitability(c,U,la,Z,Z?.spatialReference);if(null!==U){la=[];for(const va of U)la.push(M.fromGE(va));return la}return[]};b.initializeProjection=async function(U,la,Z,va){if(x())return m.waitTick(va);if(Array.isArray(U))for(const {source:Ka,dest:Na,geographicTransformation:Ta}of U){if(!ta(Ka,Na,Ta))return E(va)}else if(!ta(U,la,Z))return E(va);return m.waitTick(va)};b.isLoaded=x;b.load=E;b.localLinearScaleFactors=
function(U,la,Z,va){if(y.isNone(la)||y.isNone(va))return!1;const Ka=e(la,Jb);var Na=e(va,ac);if(Ka===Na&&Ka!==qa.UNKNOWN||L.equals(la,va))return Z[0]=1,Z[1]=1,Z[2]=1,!0;if(Ka===qa.SPHERICAL_ECEF){la=G.length(U);U=la/Math.sqrt(U[0]*U[0]+U[1]*U[1]);la/=J.earth.radius;if(Na===qa.WEB_MERCATOR)return Z[0]=U*la,Z[1]=U*la,Z[2]=1,!0;if(Na===qa.WGS84||Na===qa.CGCS2000)return Na=Sb,Z[0]=Na*U*la,Z[1]=Na*la,Z[2]=1,!0}else if(Ka===qa.PLATE_CARREE){if(Na===qa.WGS84||Na===qa.CGCS2000)return Z[0]=Sb,Z[1]=Sb,Z[2]=
1,!0;if(Na===qa.WEB_MERCATOR)return Na=U[1]/J.earth.radius,Z[0]=1,Z[1]=1/Math.cos(Na),Z[2]=1,!0}return!1};b.lonLatToSphericalPCPF=function(U,la,Z,va){const Ka=Math.cos(Z);U[0]=Math.cos(la)*Ka*va;U[1]=Math.sin(la)*Ka*va;U[2]=Math.sin(Z)*va};b.lonLatToWebMercatorComparable=B;b.project=ka;b.projectBoundingRect=function(U,la,Z,va){if(null==U)return!1;if(L.equals(la,va))return C.copy(Z,U),!0;kb[0]=U[0];kb[1]=U[1];kb[2]=0;if(!Fa(kb,la,0,kb,va,0,1))return!1;Z[0]=kb[0];Z[1]=kb[1];kb[0]=U[2];kb[1]=U[3];kb[2]=
0;if(!Fa(kb,la,0,kb,va,0,1))return!1;Z[2]=kb[0];Z[3]=kb[1];return!0};b.projectBoundingSphere=function(U,la,Z,va){if(y.isNone(la)||y.isNone(va))return!1;la=wb(la,va,jc);if(la.projector===q)return Z[0]=U[0],Z[1]=U[1],Z[2]=U[2],Z[3]=U[3],!0;if(y.isNone(la.projector))return!1;const {source:Ka,dest:Na}=la;if(Na.spatialReferenceId===qa.WEB_MERCATOR){la=Db[Ka.spatialReferenceId][qa.WGS84];if(y.isNone(la))return!1;la(U,0,Gb,0);P(Gb,0,Z,0);Z[3]=sa(Gb[1],U[2],U[3],J.earth.radius);return!0}if(Ka.spatialReferenceId!==
qa.WGS84&&Ka.spatialReferenceId!==qa.CGCS2000||Na.spatialReferenceId!==qa.PLATE_CARREE)la.projector(U,0,Z,0),Z[3]=U[3]*(Ka.metersPerUnit??1)/(Na.metersPerUnit??1);else{va=Db[qa.SPHERICAL_ECEF][qa.PLATE_CARREE];let Ta=U[3];y.isSome(Db[Ka.spatialReferenceId][qa.SPHERICAL_ECEF])&&y.isSome(va)&&(Ta=sa(U[1],U[2],U[3],J.earth.radius));la.projector(U,0,Z,0);Z[3]=Ta}return!0};b.projectBuffer=Fa;b.projectDirection=function(U,la,Z,va,Ka){G.copy($a,U);G.add(bc,U,la);ca($a,Z,$a,Ka);ca(bc,Z,bc,Ka);G.subtract(va,
bc,$a);G.normalize(va,va)};b.projectExtent=function(U,la,Z=la.spatialReference,va=0){return y.isSome(U.spatialReference)&&y.isSome(Z)&&y.isSome(ha(U,U.spatialReference,la,Z,va))};b.projectMany=V;b.projectMultipoint=function(U,la,Z=la.spatialReference,va=0){return y.isSome(U.spatialReference)&&y.isSome(Z)&&y.isSome(S(U,U.spatialReference,la,Z,va))};b.projectOrLoad=function(U,la){U=ea([U],la);return y.isSome(U.pending)?{pending:U.pending,geometry:null}:y.isSome(U.geometries)?{pending:null,geometry:U.geometries[0]}:
{pending:null,geometry:null}};b.projectOrLoadMany=ea;b.projectPoint=function(U,la,Z=la.spatialReference,va=0){return y.isSome(Z)&&y.isSome(U.spatialReference)&&y.isSome(ja(U,U.spatialReference,la,Z,va))};b.projectPointToVector=function(U,la,Z,va=0){$a[0]=U.x;$a[1]=U.y;const Ka=U.z;$a[2]=void 0!==Ka?Ka:va;return Fa($a,U.spatialReference,0,la,Z,0,1)};b.projectPointToWGS84ComparableLonLat=function(U,la){$a[0]=U.x;$a[1]=U.y;const Z=U.z;$a[2]=void 0!==Z?Z:0;return Ea($a,U.spatialReference,la)};b.projectPolygon=
function(U,la,Z=la.spatialReference,va=0){return y.isSome(U.spatialReference)&&y.isSome(Z)&&y.isSome(w(U,U.spatialReference,la,Z,va))};b.projectPolygonToWGS84ComparableLonLat=function({hasZ:U,spatialReference:la,rings:Z},va,Ka=0){la=e(la,Jb);la=Db[la][qa.WGS84_COMPARABLE_LON_LAT];if(y.isNone(la))return!1;U=U?Na=>Na:Na=>G.set($a,Na[0],Na[1],Ka);for(const Na of Z){Z=[];for(const Ta of Na){const Za=[0,0,Ka];la(U(Ta),0,Za,0);Z.push(Za)}va.push(Z)}return!0};b.projectPolyline=function(U,la,Z=la.spatialReference,
va=0){return y.isSome(U.spatialReference)&&y.isSome(Z)&&y.isSome(T(U,U.spatialReference,la,Z,va))};b.projectPolylineToWGS84ComparableLonLat=function({hasZ:U,spatialReference:la,paths:Z},va,Ka=0){la=e(la,Jb);la=Db[la][qa.WGS84_COMPARABLE_LON_LAT];if(y.isNone(la))return!1;U=U?Na=>Na:Na=>G.set($a,Na[0],Na[1],Ka);for(const Na of Z){Z=[];for(const Ta of Na){const Za=[0,0,Ka];la(U(Ta),0,Za,0);Z.push(Za)}va.push(Z)}return!0};b.projectVectorToDehydratedPoint=function(U,la,Z){return Fa(U,la,0,$a,Z.spatialReference,
0,1)?(Z.x=$a[0],Z.y=$a[1],Z.z=$a[2],Z):null};b.projectVectorToPoint=function(U,la,Z){if(y.isNone(la)||y.isNone(Z))return null;const va=new z({spatialReference:Z});return Fa(U,la,0,$a,Z,0,1)?(va.x=$a[0],va.y=$a[1],va.z=$a[2],va):null};b.projectVectorToVector=ca;b.projectVectorToWGS84ComparableLonLat=function(U,la,Z){return Ea(U,la,Z)};b.projectWithoutEngine=xa;b.projectXYZToVector=t;b.sphericalPCPFtoLonLatElevation=La;b.test={get loadPromise(){return hb}};b.tryProjectWithZConversion=na;b.unload=function(){hb=
c=ib=null;Ib={}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../ObservableBase"],function(d,b,W){W=function(F){function I(){return y.apply(this,arguments)}b._inherits(I,F);var y=b._createSuper(I);I.prototype.notify=function(){var m=this._observers;if(m&&0<m.length){m=m.slice();for(const n of m)n.onInvalidated(),n.onCommitted()}};return b._createClass(I)}(W.ObservableBase);
d.SimpleObservable=W;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(d,b,W,F,I){function y(){return!!b._pe}function m(){return!!I("esri-wasm")}function n(){return R?R:R=(new Promise((f,r)=>d(["./pe-wasm"],f,r))).then(f=>f.peWasm).then(({default:f})=>f({locateFile:r=>F.getAssetUrl(`esri/geometry/support/${r}`)})).then(f=>{g(f)})}function g(f){function r(D,C,J){D[C]=
J(D[C])}b._pe=f;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=function(D){function C(){return J.apply(this,arguments)}W._inherits(C,D);var J=W._createSuper(C);C.prototype.destroy=function(){b._pe.destroy(this)};return W._createClass(C)}(b._pe.PeGCSExtent);f=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var z of f)r(z.prototype,
"getName",D=>function(){return D.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const D of[b._pe.PeGeogtran,b._pe.PeProjcs])r(D.prototype,"getParameters",C=>function(){const J=Array(b.PeDefs.PE_PARM_MAX);let u=C.call(this);for(let M=0;M<J.length;M++){const L=b._pe.getValue(u,"*");J[M]=L?b._pe.wrapPointer(L,b._pe.PeParameter):null;u+=Int32Array.BYTES_PER_ELEMENT}return J});r(b._pe.PeHorizon.prototype,"getCoord",D=>function(){const C=this.getSize();if(!C)return null;const J=[],u=D.call(this);K(J,C,u);
return J});r(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",D=>{const C=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let J=null;var u=D.call(this);if(!b._pe.compare(u,b._pe.NULL)){J=[u];const M=this.getSteps();if(1<M){u=b._pe.getPointer(u);for(let L=1;L<M;L++)J.push(b._pe.wrapPointer(u+C*L,b._pe.PeGTlistExtendedGTs))}}return J}});const Q=b._pe._pe_getPeHorizonSize();z=D=>function(){let C=this._cache;C||(this._cache=C=new Map);if(C.has(D))return C.get(D);let J=null;var u=D.call(this);
if(!b._pe.compare(u,b._pe.NULL)){J=[u];const M=u.getNump();if(1<M){u=b._pe.getPointer(u);for(let L=1;L<M;L++)J.push(b._pe.wrapPointer(u+Q*L,b._pe.PeHorizon))}}C.set(D,J);return J};r(b._pe.PeProjcs.prototype,"horizonGcsGenerate",z);r(b._pe.PeProjcs.prototype,"horizonPcsGenerate",z);b._pe.PeObject.prototype.toString=function(D=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();const C=b._pe.getPointer(this),J=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(C,
D,J))}}function k(f){if(f){var r=b._pe.getClass(f);r&&(r=b._pe.getCache(r))&&(f=b._pe.getPointer(f))&&delete r[f]}}function p(f,r){const z=[];r=Array(r);for(let Q=0;Q<f;Q++)z.push(b._pe.ensureInt8(r));return z}function G(f){let r;Array.isArray(f[0])?(r=[],f.forEach(z=>{r.push(z[0],z[1])})):r=f;return r}function K(f,r,z,Q=!1){if(Q)for(Q=0;Q<2*r;Q++)f[Q]=b._pe.getValue(z+Q*Float64Array.BYTES_PER_ELEMENT,"double");else{Q=0===f.length;for(let D=0;D<r;D++)Q&&(f[D]=Array(2)),f[D][0]=b._pe.getValue(z,"double"),
f[D][1]=b._pe.getValue(z+Float64Array.BYTES_PER_ELEMENT,"double"),z+=2*Float64Array.BYTES_PER_ELEMENT}}let R;b._pe=null;b.PeCSTransformations=void 0;(function(f){function r(D,C,J){b._pe.ensureCache.prepare();var u=G(J);const M=J===u;u=b._pe.ensureFloat64(u);(D=b._pe._pe_geog_to_proj(b._pe.getPointer(D),C,u))&&K(J,C,u,M);return D}function z(D,C,J){return Q(D,C,J,0)}function Q(D,C,J,u){b._pe.ensureCache.prepare();var M=G(J);const L=J===M;M=b._pe.ensureFloat64(M);(D=b._pe._pe_proj_to_geog_center(b._pe.getPointer(D),
C,M,u))&&K(J,C,M,L);return D}f.geogToProj=r;f.projGeog=function(D,C,J,u){switch(u){case b.PeDefs.PE_TRANSFORM_P_TO_G:return z(D,C,J);case b.PeDefs.PE_TRANSFORM_G_TO_P:return r(D,C,J)}return 0};f.projToGeog=z;f.projToGeogCenter=Q})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(f){f.init=function(){f.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;f.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;f.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;f.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;
f.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;f.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;f.PE_DMS_MAX=b._pe.PeDefs.prototype.PE_DMS_MAX;f.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;f.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;f.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;f.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;f.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.PE_TYPE_PROJCS;f.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;f.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;
f.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;f.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;f.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;f.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;f.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;f.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;f.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;f.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;f.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;
f.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;f.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;f.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;f.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;f.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;f.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;f.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeFactory=void 0;(function(f){function r(C,J){let u=
null,M=z[C];M||(M={},z[C]=M);M.hasOwnProperty(String(J))?u=M[J]:(C=b._pe.PeFactory.prototype.factoryByType(C,J),b._pe.compare(C,b._pe.NULL)||(u=C,M[J]=u));return u=D(u)}const z={},Q={},D=C=>{if(C){const J=C.getType();switch(J){case b.PeDefs.PE_TYPE_GEOGCS:C=b._pe.castObject(C,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:C=b._pe.castObject(C,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:C=b._pe.castObject(C,b._pe.PeGeogtran);break;default:J&b.PeDefs.PE_TYPE_UNIT&&(C=b._pe.castObject(C,
b._pe.PeUnit))}}return C};f.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};f.coordsys=function(C){return r(b.PeDefs.PE_TYPE_COORDSYS,C)};f.factoryByType=r;f.fromString=function(C,J){let u=null,M=Q[C];M||(M={},Q[C]=M);M.hasOwnProperty(J)?u=M[J]:(C=b._pe.PeFactory.prototype.fromString(C,J),b._pe.compare(C,b._pe.NULL)||(u=C,M[J]=u));return u=D(u)};f.geogcs=function(C){return r(b.PeDefs.PE_TYPE_GEOGCS,C)};f.geogtran=function(C){return r(b.PeDefs.PE_TYPE_GEOGTRAN,C)};f.getCode=function(C){return b._pe.PeFactory.prototype.getCode(C)};
f.projcs=function(C){return r(b.PeDefs.PE_TYPE_PROJCS,C)};f.unit=function(C){return r(b.PeDefs.PE_TYPE_UNIT,C)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(f){let r;f.init=function(){f.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;r=b._pe._pe_getPeGTlistExtendedEntrySize()};f.getGTlist=function(z,Q,D,C,J,u){let M=null;const L=new b._pe.PeInteger(u);try{const Y=b._pe.PeGTlistExtended.prototype.getGTlist(z,Q,D,C,J,L);if(u=L.val)if(M=
[Y],1<u){const X=b._pe.getPointer(Y);for(z=1;z<u;z++)M.push(b._pe.wrapPointer(X+r*z,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(L)}return M}})(b.PeGTlistExtended||(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(f){f.destroy=function(r){if(r&&r.length){for(const z of r)k(z),z.getEntries().forEach(Q=>{k(Q);Q=Q.getGeogtran();k(Q);Q.getParameters().forEach(k);[Q.getGeogcs1(),Q.getGeogcs2()].forEach(D=>{k(D);const C=D.getDatum();k(C);k(C.getSpheroid());k(D.getPrimem());k(D.getUnit())})});
b._pe.PeGTlistExtendedEntry.prototype.Delete(r[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(f){f.geogToGeog=function(r,z,Q,D,C){b._pe.ensureCache.prepare();var J=G(Q);const u=Q===J;J=b._pe.ensureFloat64(J);let M=0;D&&(M=b._pe.ensureFloat64(D));(r=b._pe._pe_geog_to_geog(b._pe.getPointer(r),z,J,M,C))&&K(Q,z,J,u);return r}})(b.PeGTTransformations||(b.PeGTTransformations={}));b.PeNotationDms=void 0;(function(f){const r=(Q,D,C,J,u,M)=>{b._pe.ensureCache.prepare();
switch(Q){case "dd":var L=b._pe._pe_geog_to_dd;var Y=b.PeDefs.PE_DD_MAX;break;case "ddm":L=b._pe._pe_geog_to_ddm;Y=b.PeDefs.PE_DDM_MAX;break;case "dms":L=b._pe._pe_geog_to_dms,Y=b.PeDefs.PE_DMS_MAX}Q=0;D&&(Q=b._pe.getPointer(D));D=G(J);D=b._pe.ensureFloat64(D);Y=p(C,Y);J=b._pe.ensureInt32(Y);if(u=L(Q,C,D,u,J))for(L=0;L<C;L++)M[L]=b._pe.UTF8ToString(Y[L]);return u},z=(Q,D,C,J,u)=>{b._pe.ensureCache.prepare();switch(Q){case "dd":var M=b._pe._pe_dd_to_geog;break;case "ddm":M=b._pe._pe_ddm_to_geog;break;
case "dms":M=b._pe._pe_dms_to_geog}Q=0;D&&(Q=b._pe.getPointer(D));D=J.map(L=>b._pe.ensureString(L));J=b._pe.ensureInt32(D);D=b._pe.ensureFloat64(Array(2*C));(M=M(Q,C,J,D))&&K(u,C,D);return M};f.geogToDms=function(Q,D,C,J,u){return r("dms",Q,D,C,J,u)};f.dmsToGeog=function(Q,D,C,J){return z("dms",Q,D,C,J)};f.geogToDdm=function(Q,D,C,J,u){return r("ddm",Q,D,C,J,u)};f.ddmToGeog=function(Q,D,C,J){return z("ddm",Q,D,C,J)};f.geogToDd=function(Q,D,C,J,u){return r("dd",Q,D,C,J,u)};f.ddToGeog=function(Q,D,
C,J){return z("dd",Q,D,C,J)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(f){f.init=function(){f.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;f.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;f.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;f.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;f.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};f.geogToMgrsExtended=
function(r,z,Q,D,C,J,u){b._pe.ensureCache.prepare();let M=0;r&&(M=b._pe.getPointer(r));r=G(Q);Q=b._pe.ensureFloat64(r);r=p(z,b.PeDefs.PE_MGRS_MAX);const L=b._pe.ensureInt32(r);if(D=b._pe._pe_geog_to_mgrs_extended(M,z,Q,D,C,J,L))for(C=0;C<z;C++)u[C]=b._pe.UTF8ToString(r[C]);return D};f.mgrsToGeogExtended=function(r,z,Q,D,C){b._pe.ensureCache.prepare();let J=0;r&&(J=b._pe.getPointer(r));r=Q.map(u=>b._pe.ensureString(u));Q=b._pe.ensureInt32(r);r=b._pe.ensureFloat64(Array(2*z));(D=b._pe._pe_mgrs_to_geog_extended(J,
z,Q,D,r))&&K(C,z,r);return D}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(f){f.geogToUsng=function(r,z,Q,D,C,J,u){b._pe.ensureCache.prepare();let M=0;r&&(M=b._pe.getPointer(r));r=G(Q);Q=b._pe.ensureFloat64(r);r=p(z,b.PeDefs.PE_MGRS_MAX);const L=b._pe.ensureInt32(r);if(D=b._pe._pe_geog_to_usng(M,z,Q,D,C,J,L))for(C=0;C<z;C++)u[C]=b._pe.UTF8ToString(r[C]);return D};f.usngToGeog=function(r,z,Q,D){b._pe.ensureCache.prepare();var C=0;r&&(C=b._pe.getPointer(r));r=Q.map(J=>
b._pe.ensureString(J));Q=b._pe.ensureInt32(r);r=b._pe.ensureFloat64(Array(2*z));(C=b._pe._pe_usng_to_geog(C,z,Q,r))&&K(D,z,r);return C}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(f){f.init=function(){f.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;f.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;f.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};f.geogToUtm=function(r,z,Q,D,C){b._pe.ensureCache.prepare();var J=
0;r&&(J=b._pe.getPointer(r));r=G(Q);Q=b._pe.ensureFloat64(r);r=p(z,b.PeDefs.PE_UTM_MAX);const u=b._pe.ensureInt32(r);if(D=b._pe._pe_geog_to_utm(J,z,Q,D,u))for(J=0;J<z;J++)C[J]=b._pe.UTF8ToString(r[J]);return D};f.utmToGeog=function(r,z,Q,D,C){b._pe.ensureCache.prepare();let J=0;r&&(J=b._pe.getPointer(r));r=Q.map(u=>b._pe.ensureString(u));Q=b._pe.ensureInt32(r);r=b._pe.ensureFloat64(Array(2*z));(D=b._pe._pe_utm_to_geog(J,z,Q,D,r))&&K(C,z,r);return D}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=
void 0;(function(f){const r=new Map;f.init=function(){f.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;f.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;f.PE_POLE_OUTSIDE_BOUNDARY=b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;f.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};f.generate=function(z,Q=f.PE_PCSINFO_OPTION_DOMAIN){let D=null,C=null;r.has(z)&&(C=r.get(z),C[Q]&&(D=C[Q]));D||(D=b._pe.PePCSInfo.prototype.generate(z,Q),C||(C=
[],r.set(z,C)),C[Q]=D);return D}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(f){f.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const A=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTTransformations(){return b.PeGTTransformations},get PeGTlistExtended(){return b.PeGTlistExtended},
get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:g,get _pe(){return b._pe},isLoaded:y,isSupported:m,load:n},Symbol.toStringTag,{value:"Module"}));b._init=g;b.isLoaded=y;b.isSupported=m;b.load=n;b.pe=A})},"esri/geometry/support/geodesicConstants":function(){define(["exports",
"./Ellipsoid"],function(d,b){const W=Math.PI/180;var F=b.earth.radius;const I=b.earth.eccentricitySquared;F={a1:F*I,a2:F*I*F*I,a3:F*I*I/2,a4:F*I*F*I*2.5,a5:F*I+F*I*I/2,a6:1-I};b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,
f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,
f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},
104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};
d.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;d.earthEllipsoidConstants=F;d.spheroids=b;d.toRadians=W;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["../../chunks/_rollupPluginBabelHelpers","./GeographicTransformationStep"],function(d,b){return function(){function W(I){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(I&&I.steps)for(const y of I.steps)y instanceof b?this.steps.push(y):
this.steps.push(new b({wkid:y.wkid,wkt:y.wkt,isInverse:y.isInverse}))}W.cacheKey=function(I,y){return[void 0!==I.wkid&&null!==I.wkid?I.wkid.toString():"-1",void 0!==I.wkt&&null!==I.wkt?I.wkt.toString():"",void 0!==y.wkid&&null!==y.wkid?y.wkid.toString():"-1",void 0!==y.wkt&&null!==y.wkt?y.wkt.toString():""].join()};W.fromGE=function(I){const y=new W;let m="";for(const n of I.steps)I=b.fromGE(n),y.steps.push(I),m+=I.uid.toString()+",";y._cachedProjection={};y._gtlistentry=null;y._chain=m;return y};
var F=W.prototype;F.getInverse=function(){const I=new W;I.steps=[];for(let y=this.steps.length-1;0<=y;y--)I.steps.push(this.steps[y].getInverse());return I};F.getGTListEntry=function(){let I="";for(const y of this.steps)I+=y.uid.toString()+",";I!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=I);return this._gtlistentry};F.assignCachedGe=function(I,y,m){this._cachedProjection[W.cacheKey(I,y)]=m};F.getCachedGeTransformation=function(I,y){let m="";for(const n of this.steps)m+=
n.uid.toString()+",";m!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=m);I=this._cachedProjection[W.cacheKey(I,y)];return void 0===I?null:I};return d._createClass(W)}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(d){let b=0;return function(){function W(F){this.uid=b++;F?(this._wkt=null!=F.wkt?F.wkt:null,this._wkid=null!=F.wkid?F.wkid:-1,this._isInverse=null!=F.isInverse?!0===F.isInverse:
!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}W.fromGE=function(F){const I=new W;I._wkt=F.wkt;I._wkid=F.wkid;I._isInverse=F.isInverse;return I};W.prototype.getInverse=function(){const F=new W;F._wkt=this.wkt;F._wkid=this._wkid;F._isInverse=!this.isInverse;return F};d._createClass(W,[{key:"wkt",get:function(){return this._wkt},set:function(F){this._wkt=F;this.uid=b++}},{key:"wkid",get:function(){return this._wkid},set:function(F){this._wkid=F;this.uid=b++}},{key:"isInverse",get:function(){return this._isInverse},
set:function(F){this._isInverse=F;this.uid=b++}}]);return W}()})},"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(d,b,W,F){d.getGeometryZScaler=function(I,y,m){if(b.isNone(y)||b.isNone(m)||m.vcsWkid||F.equals(y,m))return null;y=W.getMetersPerVerticalUnitForSR(y);m=W.getMetersPerVerticalUnitForSR(m);const n=y/m;if(1===n)return null;switch(I){case "point":case "esriGeometryPoint":return g=>{g&&null!=g.z&&(g.z*=
n)};case "polyline":case "esriGeometryPolyline":return g=>{if(g)for(const k of g.paths)for(const p of k)2<p.length&&(p[2]*=n)};case "polygon":case "esriGeometryPolygon":return g=>{if(g)for(const k of g.rings)for(const p of k)2<p.length&&(p[2]*=n)};case "multipoint":case "esriGeometryMultipoint":return g=>{if(g)for(const k of g.points)2<k.length&&(k[2]*=n)};case "extent":case "esriGeometryExtent":return g=>{g&&null!=g.zmin&&null!=g.zmax&&(g.zmin*=n,g.zmax*=n)};default:return null}};Object.defineProperty(d,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/geometryAdapters/json":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(d,b){let W=b._createClass(function(n,g,k){this.x=n;this.y=g;this.spatialReference=k;this.m=this.z=void 0}),F=b._createClass(function(n,g,k,p){this.rings=n;this.spatialReference=g;this.hasM=this.hasZ=void 0;k&&(this.hasZ=k);p&&(this.hasM=p)}),I=b._createClass(function(n,g,k,p){this.paths=n;this.spatialReference=g;this.hasM=this.hasZ=void 0;k&&
(this.hasZ=k);p&&(this.hasM=p)}),y=b._createClass(function(n,g,k,p){this.points=n;this.spatialReference=g;this.hasM=this.hasZ=void 0;k&&(this.hasZ=k);p&&(this.hasM=p)}),m=b._createClass(function(n,g,k,p,G){this.xmin=n;this.ymin=g;this.xmax=k;this.ymax=p;this.spatialReference=G;this.mmax=this.mmin=this.zmax=this.zmin=void 0});d.jsonAdapter={convertToGEGeometry:function(n,g){return null==g?null:n.convertJSONToGeometry(g)},exportPoint:function(n,g,k){k=new W(n.getPointX(g),n.getPointY(g),k);const p=
n.hasZ(g),G=n.hasM(g);p&&(k.z=n.getPointZ(g));G&&(k.m=n.getPointM(g));return k},exportPolygon:function(n,g,k){return new F(n.exportPaths(g),k,n.hasZ(g),n.hasM(g))},exportPolyline:function(n,g,k){return new I(n.exportPaths(g),k,n.hasZ(g),n.hasM(g))},exportMultipoint:function(n,g,k){return new y(n.exportPoints(g),k,n.hasZ(g),n.hasM(g))},exportExtent:function(n,g,k){var p=n.hasZ(g);const G=n.hasM(g);k=new m(n.getXMin(g),n.getYMin(g),n.getXMax(g),n.getYMax(g),k);p&&(p=n.getZExtent(g),k.zmin=p.vmin,k.zmax=
p.vmax);G&&(n=n.getMExtent(g),k.mmin=n.vmin,k.mmax=n.vmax);return k}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/SnappingCandidate":function(){define(["exports"],function(d){d.makeEdgeCandidate=function(b,W,F,I,y,m=!1){return{objectId:b,target:W,distance:F,type:"edge",start:I,end:y,draped:m}};d.makeVertexCandidate=function(b,W,F){return{objectId:b,target:W,distance:F,type:"vertex"}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/utils":function(){define("require exports ../../../core/jsonMap ../../../core/maybe ../../../core/unitUtils ../../../geometry/projection ../../../geometry/support/extentUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../featureConversionUtils ../OptimizedGeometry ./projectionSupport".split(" "),
function(d,b,W,F,I,y,m,n,g,k,p,G,K){async function R(L,Y,X){if(!L)return null;var {where:x}=L;L.where=x=x&&x.trim();if(!x||/^1 *= *1$/.test(x)||Y&&Y===x)L.where=null;if(!L.geometry)return L;Y=await f(L);L.distance=0;L.units=null;"esriSpatialRelEnvelopeIntersects"===L.spatialRel&&({spatialReference:x}=L.geometry,Y=m.getGeometryExtent(Y),Y.spatialReference=x);if(Y){await K.checkProjectionSupport(Y.spatialReference,X);x=Y.spatialReference;Y=A(Y,X)&&n.isExtent(Y)?{spatialReference:x,rings:[[[Y.xmin,Y.ymin],
[Y.xmin,Y.ymax],[Y.xmax,Y.ymax],[Y.xmax,Y.ymin],[Y.xmin,Y.ymin]]]}:Y;x=(await g.normalizeCentralMeridian(n.fromJSON(Y)))[0];if(F.isNone(x))throw Q;const E="quantizationParameters"in L&&L.quantizationParameters?.tolerance||"maxAllowableOffset"in L&&L.maxAllowableOffset||0;Y=E&&A(Y,X)?{densificationStep:8*E}:void 0;x=x.toJSON();Y=await K.project(x,x.spatialReference,X,Y);if(!Y)throw Q;Y.spatialReference=X;L.geometry=Y}return L}function A(L,Y){if(!L)return!1;const X=L.spatialReference;return(n.isExtent(L)||
n.isPolygon(L)||n.isPolyline(L))&&!k.equals(X,Y)&&!y.canProjectWithoutEngine(X,Y)}async function f(L){const {distance:Y,units:X}=L,x=L.geometry;if(null==Y||"vertexAttributes"in x)return x;var E=x.spatialReference;L=X?z.fromJSON(X):I.getUnitString(E);E=E&&(k.isGeographic(E)||k.isWebMercator(E))?x:await K.checkProjectionSupport(E,k.WGS84).then(()=>K.project(x,k.WGS84));return(await r())(E.spatialReference,E,Y,L)}async function r(){return(await new Promise((L,Y)=>d(["../../../geometry/geometryEngineJSON"],
L,Y))).geodesicBuffer}const z=new W.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),Q=Object.freeze({}),D=new G,C=new G,J=new G,u={esriGeometryPoint:p.convertToPoint,esriGeometryPolyline:p.convertToPolyline,esriGeometryPolygon:p.convertToPolygon,esriGeometryMultipoint:p.convertToMultipoint},M=(L,Y)=>"_geVersion"!==L?Y:void 0;b.QUERY_ENGINE_EMPTY_RESULT=
Q;b.cleanFromGeometryEngine=function(L){return L&&"_geVersion"in L?JSON.parse(JSON.stringify(L,M)):L};b.getGeometry=function(L,Y,X,x,E,ka,V=Y,ea=X){const O=Y&&V,na=X&&ea;x=F.isSome(x)?"coords"in x?x:x.geometry:null;if(F.isNone(x))return null;if(E)return Y=p.generalizeOptimizedGeometry(C,x,Y,X,L,E,V,ea),ka&&(Y=p.quantizeOptimizedGeometry(J,Y,O,na,L,ka)),u[L]?.(Y,O,na)??null;if(ka)return ka=p.quantizeOptimizedGeometry(J,x,Y,X,L,ka,V,ea),u[L]?.(ka,O,na)??null;p.removeZMValues(D,x,Y,X,V,ea);return u[L]?.(D,
O,na)??null};b.normalizeQuery=async function(L,Y,X){const {outFields:x,orderByFields:E,groupByFieldsForStatistics:ka,outStatistics:V}=L;if(x)for(var ea=0;ea<x.length;ea++)x[ea]=x[ea].trim();if(E)for(ea=0;ea<E.length;ea++)E[ea]=E[ea].trim();if(ka)for(ea=0;ea<ka.length;ea++)ka[ea]=ka[ea].trim();if(V)for(ea=0;ea<V.length;ea++)V[ea].onStatisticField&&(V[ea].onStatisticField=V[ea].onStatisticField.trim());L.geometry&&!L.outSR&&(L.outSR=L.geometry.spatialReference);return R(L,Y,X)};b.normalizeQueryLike=
R;b.transformCentroid=function(L,Y,X,x=L.hasZ,E=L.hasM){if(F.isNone(Y))return null;const ka=L.hasZ&&x,V=L.hasM&&E;return X?(L=p.quantizeOptimizedGeometry(J,Y,L.hasZ,L.hasM,"esriGeometryPoint",X,x,E),p.convertToPoint(L,ka,V)):p.convertToPoint(Y,ka,V)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/Error ../../core/Logger ../../core/maybe ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometryService/cut ../../rest/geometryService/simplify".split(" "),
function(d,b,W,F,I,y,m,n,g,k,p,G){function K(D){const C=[];let J=0,u=0;for(let M=0;M<D.length;M++){const L=D[M];let Y=null;for(let X=0;X<L.length;X++)Y=L[X],C.push(Y),0===X?u=J=Y[0]:(J=Math.min(J,Y[0]),u=Math.max(u,Y[0]));Y&&C.push([(J+u)/2,0])}return C}function R(D,C){if(!(D instanceof m||D instanceof y))throw Q.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new W("straightLineDensify: the input geometry is neither polyline nor polygon");var J=n.getGeometryParts(D);
const u=[];for(const L of J){J=[];u.push(J);J.push([L[0][0],L[0][1]]);for(let Y=0;Y<L.length-1;Y++){const X=L[Y][0],x=L[Y][1],E=L[Y+1][0],ka=L[Y+1][1];var M=Math.sqrt((E-X)*(E-X)+(ka-x)*(ka-x));const V=(ka-x)/M,ea=(E-X)/M,O=M/C;if(1<O){for(let na=1;na<=O-1;na++){const ta=na*C;J.push([ea*ta+X,V*ta+x])}M=(M+Math.floor(O-1)*C)/2;J.push([ea*M+X,V*M+x])}J.push([E,ka])}}return"polygon"===D.type?new y({rings:u,spatialReference:D.spatialReference}):new m({paths:u,spatialReference:D.spatialReference})}function A(D,
C,J){C&&(D=R(D,1E6),D=k.webMercatorToGeographic(D,!0));J&&(D=n.updatePolyGeometry(D,J));return D}function f(D,C,J){if(Array.isArray(D)){var u=D[0];u>C?(J=n.offsetMagnitude(u,C),D[0]=u+-2*J*C):u<J&&(C=n.offsetMagnitude(u,J),D[0]=u+-2*C*J)}else u=D.x,u>C?(J=n.offsetMagnitude(u,C),D=D.clone().offset(-2*J*C,0)):u<J&&(C=n.offsetMagnitude(u,J),D=D.clone().offset(-2*C*J,0));return D}function r(D,C){let J=-1;for(let u=0;u<C.cutIndexes.length;u++){const M=C.cutIndexes[u],L=C.geometries[u],Y=n.getGeometryParts(L);
for(let X=0;X<Y.length;X++){const x=Y[X];x.some(E=>{if(180>E[0])return!0;E=0;for(var ka=0;ka<x.length;ka++){var V=x[ka][0];E=V>E?V:E}E=Number(E.toFixed(9));E=-360*n.offsetMagnitude(E,180);for(ka=0;ka<x.length;ka++)V=L.getPoint(X,ka),L.setPoint(X,ka,V.clone().offset(E,0));return!0})}if(M===J)if("polygon"===D[0].type)for(const X of n.getGeometryParts(L))D[M]=D[M].addRing(X);else{if("polyline"===D[0].type)for(const X of n.getGeometryParts(L))D[M]=D[M].addPath(X)}else J=M,D[M]=L}return D}async function z(D,
C,J){if(!Array.isArray(D))return z([D],C);C&&"string"!==typeof C&&Q.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");var u="string"===typeof C?C:C?.url??b.geometryServiceUrl;let M,L,Y;let X=0;var x=[];C=[];for(var E of D)if(I.isNone(E))C.push(E);else{if(!ka){var ka=E.spatialReference;var V=g.getInfo(ka);var ea=(M=ka.isWebMercator)?102100:4326;L=n.cutParams[ea].maxX;Y=n.cutParams[ea].minX;var O=n.cutParams[ea].plus180Line;ea=n.cutParams[ea].minus180Line}if(V)if("mesh"===
E.type)C.push(E);else if("point"===E.type)C.push(f(E.clone(),L,Y));else if("multipoint"===E.type){var na=E.clone();na.points=na.points.map(ta=>f(ta,L,Y));C.push(na)}else if("extent"===E.type)na=E.clone()._normalize(!1,!1,V),C.push(na.rings?new y(na):na);else if(E.extent){na=E.extent;const ta=2*n.offsetMagnitude(na.xmin,Y)*L;let xa=0===ta?E.clone():n.updatePolyGeometry(E.clone(),ta);na.offset(ta,0);na.intersects(O)&&na.xmax!==L?(X=na.xmax>X?na.xmax:X,xa=A(xa,M),x.push(xa),C.push("cut")):na.intersects(ea)&&
na.xmin!==Y?(X=2*na.xmax*L>X?2*na.xmax*L:X,xa=A(xa,M,360),x.push(xa),C.push("cut")):C.push(xa)}else C.push(E.clone());else C.push(E)}ka=n.offsetMagnitude(X,L);V=-90;O=ka;for(E=new m;0<ka;)ea=-180+360*ka,E.addPath([[ea,V],[ea,-1*V]]),V*=-1,ka--;if(0<x.length&&0<O){ka=await p.cut(u,x,E,J);ka=r(x,ka);V=[];x=[];for(O=0;O<C.length;O++)E=C[O],"cut"!==E?x.push(E):(E=ka.shift(),ea=D[O],I.isSome(ea)&&"polygon"===ea.type&&ea.rings&&1<ea.rings.length&&E.rings.length>=ea.rings.length?(V.push(E),x.push("simplify")):
x.push(M?k.geographicToWebMercator(E):E));if(!V.length)return x;C=await G.simplify(u,V,J);D=[];for(J=0;J<x.length;J++)u=x[J],"simplify"!==u?D.push(u):D.push(M?k.geographicToWebMercator(C.shift()):C.shift());return D}D=[];for(J=0;J<C.length;J++)u=C[J],"cut"!==u?D.push(u):(u=x.shift(),D.push(!0===M?k.geographicToWebMercator(u):u));return D}const Q=F.getLogger("esri.geometry.support.normalizeUtils");d.getDenormalizedExtent=function(D){if(!D)return null;const C=D.extent;if(!C)return null;var J=D.spatialReference&&
g.getInfo(D.spatialReference);if(!J)return C;const [u,M]=J.valid;({width:J}=C);let {xmin:L,xmax:Y}=C;[L,Y]=[Y,L];if("extent"===D.type||0===J||J<=M||J>2*M||L<u||Y>M)return C;let X;switch(D.type){case "polygon":if(1<D.rings.length)X=K(D.rings);else return C;break;case "polyline":if(1<D.paths.length)X=K(D.paths);else return C;break;case "multipoint":X=D.points}D=C.clone();for(let x=0;x<X.length;x++){let E=X[x][0];0>E?(E+=M,Y=Math.max(E,Y)):(E-=M,L=Math.min(E,L))}D.xmin=L;D.xmax=Y;return D.width<J?(D.xmin-=
M,D.xmax-=M,D):C};d.normalizeCentralMeridian=z;d.normalizeMapX=function(D,C){if(C=g.getInfo(C)){const [J,u]=C.valid;C=u-J;if(D<J)for(;D<J;)D+=C;if(D>u)for(;D>u;)D-=C}return D};d.straightLineDensify=R;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(d,b,W,F){function I(y){return F.isPolygon(y)?y.rings:y.paths}b={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,
plus180Line:new b({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:W.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:W.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:W.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:W.WGS84})}};d.cutParams=
b;d.getGeometryParts=I;d.offsetMagnitude=function(y,m){return Math.ceil((y-m)/(2*m))};d.updatePolyGeometry=function(y,m){const n=I(y);for(const g of n)for(const k of g)k[0]+=m;return y};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/cut":function(){define(["exports","../../geometry","../../request","../../geometry/support/jsonUtils","../utils"],function(d,b,W,F,I){d.cut=async function(y,m,n,g){y=I.parseUrl(y);const k=m[0].spatialReference;m={...g,query:{...y.query,
f:"json",sr:JSON.stringify(k),target:JSON.stringify({geometryType:F.getJsonType(m[0]),geometries:m}),cutter:JSON.stringify(n)}};m=await W(y.path+"/cut",m);const {cutIndexes:p,geometries:G=[]}=m.data;return{cutIndexes:p,geometries:G.map(K=>{K=F.fromJSON(K);K.spatialReference=k;return K})}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/rest/utils":function(){define("exports ../config ../kernel ../core/lang ../core/urlUtils ../support/apiKeyUtils".split(" "),function(d,b,W,F,
I,y){function m(n,g,k){const p={};for(const K in n)if("declaredClass"!==K){var G=n[K];if(null!=G&&"function"!==typeof G)if(Array.isArray(G)){p[K]=[];for(let R=0;R<G.length;R++)p[K][R]=m(G[R])}else"object"===typeof G?G.toJSON?(G=G.toJSON(k&&k[K]),p[K]=g?G:JSON.stringify(G)):p[K]=g?G:JSON.stringify(G):p[K]=G}return p}d.asValidOptions=function(n,g){return g?{...g,query:{...(n??{}),...g.query}}:{query:n}};d.encode=m;d.getToken=function(n,g){return n?y.supportsApiKey(n)&&(g||b.apiKey)?g||b.apiKey:W.id?.findCredential(n)?.token:
null};d.parseUrl=function(n){return"string"===typeof n?I.urlToObject(n):F.clone(n)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/simplify":function(){define(["exports","../../request","../../core/urlUtils","../../geometry/support/jsonUtils","./utils"],function(d,b,W,F,I){d.simplify=async function(y,m,n){const g="string"===typeof y?W.urlToObject(y):y;y=m[0].spatialReference;const k=F.getJsonType(m[0]);m={...n,query:{...g.query,f:"json",sr:y.wkid??JSON.stringify(y),
geometries:JSON.stringify(I.encodeGeometries(m))}};({data:m}=await b(g.path+"/simplify",m));return I.decodeGeometries(m.geometries,k,y)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],function(d,b){d.decodeGeometries=function(W,F,I){const y=b.getGeometryType(F);return W.map(m=>{m=y.fromJSON(m);m.spatialReference=I;return m})};d.encodeGeometries=function(W){return{geometryType:b.getJsonType(W[0]),
geometries:W.map(F=>F.toJSON())}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(d,b,W,F,I,y,m,n,g,k){function p(B,P){return B?P?4:3:P?3:2}function G(B,P,da,aa){if(B){if(da)return P&&
aa?q:Ia;if(P&&aa)return e}else if(P&&aa)return Ia;return ya}function K({scale:B,translate:P},da){return Math.round((da-P[0])/B[0])}function R({scale:B,translate:P},da){return Math.round((P[1]-da)/B[1])}function A({scale:B,translate:P},da,aa){return da*B[aa]+P[aa]}function f(B){B=B.coords;return{x:B[0],y:B[1]}}function r(B,P){B.coords[0]=P.x;B.coords[1]=P.y;return B}function z(B){B=B.coords;return{x:B[0],y:B[1],z:B[2]}}function Q(B,P){B.coords[0]=P.x;B.coords[1]=P.y;B.coords[2]=P.z;return B}function D(B){B=
B.coords;return{x:B[0],y:B[1],m:B[2]}}function C(B,P){B.coords[0]=P.x;B.coords[1]=P.y;B.coords[2]=P.m;return B}function J(B){B=B.coords;return{x:B[0],y:B[1],z:B[2],m:B[3]}}function u(B,P){B.coords[0]=P.x;B.coords[1]=P.y;B.coords[2]=P.z;B.coords[3]=P.m;return B}function M(B,P){return B&&P?u:B?Q:P?C:r}function L(B,P,da,aa,ma){da=M(da,aa);for(const {geometry:ra,attributes:ua}of P)P=F.isSome(ra)?da(new k,ra):null,B.push(new n.OptimizedFeature(P,ua,null,ma?ua[ma]:void 0));return B}function Y(B,P,da,aa){for(const {geometry:ma,
attributes:ra}of P)B.push({attributes:ra,geometry:F.isSome(ma)?X(ma,da,aa):null});return B}function X(B,P,da){if(F.isNone(B))return null;const aa=p(P,da),ma=[];for(let ra=0;ra<B.coords.length;ra+=aa){const ua=[];for(let Ca=0;Ca<aa;Ca++)ua.push(B.coords[ra+Ca]);ma.push(ua)}return P?da?{points:ma,hasZ:P,hasM:da}:{points:ma,hasZ:P}:da?{points:ma,hasM:da}:{points:ma}}function x(B,P,da,aa,ma){da=p(da,aa);for(const {geometry:ra,attributes:ua}of P)P=F.isSome(ra)?E(new k,ra,da):null,B.push(new n.OptimizedFeature(P,
ua,null,ma?ua[ma]:void 0));return B}function E(B,P,da=p(P.hasZ,P.hasM)){B.lengths[0]=P.points.length;const aa=B.coords;let ma=0;for(const ra of P.points)for(P=0;P<da;P++)aa[ma++]=ra[P];return B}function ka(B,P,da){if(!B)return null;const aa=p(P,da),{coords:ma,lengths:ra}=B;B=[];let ua=0;for(const Ca of ra){const Ba=[];for(let La=0;La<Ca;La++){const Ja=[];for(let Ma=0;Ma<aa;Ma++)Ja.push(ma[ua++]);Ba.push(Ja)}B.push(Ba)}return P?da?{paths:B,hasZ:P,hasM:da}:{paths:B,hasZ:P}:da?{paths:B,hasM:da}:{paths:B}}
function V(B,P,da,aa,ma){da=p(da,aa);for(const {geometry:ra,attributes:ua}of P)P=F.isSome(ra)?ea(new k,ra,da):null,B.push(new n.OptimizedFeature(P,ua,null,ma?ua[ma]:void 0));return B}function ea(B,P,da=p(P.hasZ,P.hasM)){const {lengths:aa,coords:ma}=B;let ra=0;for(const ua of P.paths){for(const Ca of ua)for(P=0;P<da;P++)ma[ra++]=Ca[P];aa.push(ua.length)}return B}function O(B,P,da){if(!B)return null;const aa=p(P,da),{coords:ma,lengths:ra}=B;B=[];let ua=0;for(const Ca of ra){const Ba=[];for(let La=0;La<
Ca;La++){const Ja=[];for(let Ma=0;Ma<aa;Ma++)Ja.push(ma[ua++]);Ba.push(Ja)}B.push(Ba)}return P?da?{rings:B,hasZ:P,hasM:da}:{rings:B,hasZ:P}:da?{rings:B,hasM:da}:{rings:B}}function na(B,P,da,aa,ma){for(const {geometry:ra,centroid:ua,attributes:Ca}of P){P=F.isSome(ra)?ta(new k,ra,da,aa):null;const Ba=ma?Ca[ma]:void 0;F.isSome(ua)?B.push(new n.OptimizedFeature(P,Ca,r(new k,ua),Ba)):B.push(new n.OptimizedFeature(P,Ca,null,Ba))}return B}function ta(B,P,da=P.hasZ,aa=P.hasM){xa(B,P.rings,da,aa);return B}
function xa(B,P,da,aa){da=p(da,aa);const {lengths:ma,coords:ra}=B;aa=0;Ea(B);for(const ua of P){for(const Ca of ua)for(P=0;P<da;P++)ra[aa++]=Ca[P];ma.push(ua.length)}return B}function ja(B,P,da,aa,ma,ra){Fa(B);if(!da){for(const ua of P)B.push(new n.OptimizedFeature(null,ua.attributes,null,ra?ua.attributes[ra]:void 0));return B}switch(da){case "esriGeometryPoint":return L(B,P,aa,ma,ra);case "esriGeometryMultipoint":return x(B,P,aa,ma,ra);case "esriGeometryPolyline":return V(B,P,aa,ma,ra);case "esriGeometryPolygon":return na(B,
P,aa,ma,ra);default:Xa.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${da}'`)),Fa(B)}return B}function S(B,P,da,aa){B=B&&("coords"in B?B:B.geometry);if(F.isNone(B))return null;switch(P){case "esriGeometryPoint":return P=f,da&&aa?P=J:da?P=z:aa&&(P=D),P(B);case "esriGeometryMultipoint":return X(B,da,aa);case "esriGeometryPolyline":return ka(B,da,aa);case "esriGeometryPolygon":return O(B,da,aa);default:return Xa.error("convertToGeometry:unknown-geometry",
new b(`Unable to parse unknown geometry type '${P}'`)),null}}function T(B,P,da,aa,ma){Fa(B);if(F.isNone(da)){for(const ua of P)B.push({attributes:ua.attributes});return B}switch(da){case "esriGeometryPoint":da=f;aa&&ma?da=J:aa?da=z:ma&&(da=D);for(var ra of P){const {geometry:ua,attributes:Ca}=ra;aa=F.isSome(ua)?da(ua):null;B.push({attributes:Ca,geometry:aa})}break;case "esriGeometryMultipoint":return Y(B,P,aa,ma);case "esriGeometryPolyline":for(const {geometry:ua,attributes:Ca}of P)B.push({attributes:Ca,
geometry:F.isSome(ua)?ka(ua,aa,ma):null});break;case "esriGeometryPolygon":for(const {geometry:ua,attributes:Ca,centroid:Ba}of P)ra=F.isSome(ua)?O(ua,aa,ma):null,F.isSome(Ba)?(P=f(Ba),B.push({attributes:Ca,centroid:P,geometry:ra})):B.push({attributes:Ca,geometry:ra});break;default:Xa.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${da}'`))}return B}function w(B,P,da,aa,ma,ra,ua=da,Ca=aa){Ea(B);if(F.isNone(P)||!P.coords.length)return null;ma=sa[ma];const {coords:Ba,
lengths:La}=P;P=p(da,aa);const Ja=p(da&&ua,aa&&Ca);da=G(da,aa,ua,Ca);if(!La.length)return da(B.coords,Ba,0,0,K(ra,Ba[0]),R(ra,Ba[1])),Ea(B,P,0),B;let Ma,Ua=0,Ra,Wa=0;for(const Va of La){if(Va<ma)continue;let Pa=0;Ra=Wa;Ca=aa=K(ra,Ba[Ua]);Ma=ua=R(ra,Ba[Ua+1]);da(B.coords,Ba,Ra,Ua,Ca,Ma);Pa++;Ua+=P;Ra+=Ja;for(let Ya=1;Ya<Va;Ya++,Ua+=P)if(Ca=K(ra,Ba[Ua]),Ma=R(ra,Ba[Ua+1]),Ca!==aa||Ma!==ua)da(B.coords,Ba,Ra,Ua,Ca-aa,Ma-ua),Ra+=Ja,Pa++,aa=Ca,ua=Ma;Pa>=ma&&(B.lengths.push(Pa),Wa=Ra)}Fa(B.coords,Wa);return B.coords.length?
B:null}function ha(B,P,da,aa,ma,ra,ua){let Ca=aa,Ba=0;for(let Ja=ra+da;Ja<ua;Ja+=da){var La=P[Ja];const Ma=P[Ja+1],Ua=P[ua],Ra=P[ua+1];let Wa=P[ra],Va=P[ra+1],Pa=Ua-Wa,Ya=Ra-Va;if(0!==Pa||0!==Ya){const bb=((La-Wa)*Pa+(Ma-Va)*Ya)/(Pa*Pa+Ya*Ya);1<bb?(Wa=Ua,Va=Ra):0<bb&&(Wa+=Pa*bb,Va+=Ya*bb)}Pa=La-Wa;Ya=Ma-Va;La=Pa*Pa+Ya*Ya;La>Ca&&(Ba=Ja,Ca=La)}Ca>aa&&(Ba-ra>da&&ha(B,P,da,aa,ma,ra,Ba),ma(B,P,B.length,Ba,P[Ba],P[Ba+1]),ua-Ba>da&&ha(B,P,da,aa,ma,Ba,ua))}function t(B,P,da,aa,ma){const {coords:ra,lengths:ua}=
P;da=p(da,aa);if(!ra.length)return B!==P&&Ea(B),B;F.assertIsSome(ma);const {originPosition:Ca,scale:Ba,translate:La}=ma;ma=za;ma.originPosition=Ca;aa=ma.scale;aa[0]=Ba[0]??1;aa[1]=-(Ba[1]??1);aa[2]=Ba[2]??1;aa[3]=Ba[3]??1;var Ja=ma.translate;Ja[0]=La[0]??0;Ja[1]=La[1]??0;Ja[2]=La[2]??0;Ja[3]=La[3]??0;if(!ua.length){for(aa=0;aa<da;++aa)B.coords[aa]=A(ma,ra[aa],aa);B!==P&&Ea(B,da,0);return B}Ja=0;for(let Ua=0;Ua<ua.length;Ua++){const Ra=ua[Ua];B.lengths[Ua]=Ra;for(var Ma=0;Ma<da;++Ma)B.coords[Ja+Ma]=
A(ma,ra[Ja+Ma],Ma);Ma=B.coords[Ja];let Wa=B.coords[Ja+1];Ja+=da;for(let Va=1;Va<Ra;Va++,Ja+=da){Ma+=ra[Ja]*aa[0];Wa+=ra[Ja+1]*aa[1];B.coords[Ja]=Ma;B.coords[Ja+1]=Wa;for(let Pa=2;Pa<da;++Pa)B.coords[Ja+Pa]=A(ma,ra[Ja+Pa],Pa)}}B!==P&&Ea(B,ra.length,ua.length);return B}function ca(B,P,da,aa){let ma=0,ra=B[aa*P],ua=B[aa*(P+1)];for(let Ca=1;Ca<da;Ca++){const Ba=ra+B[aa*(P+Ca)],La=ua+B[aa*(P+Ca)+1],Ja=(Ba-ra)*(La+ua);ra=Ba;ua=La;ma+=Ja}return.5*ma}function Ea(B,P=0,da=0){Fa(B.lengths,da);Fa(B.coords,P)}
function Fa(B,P=0){B.length!==P&&(B.length=P)}const Xa=W.getLogger("esri.layers.graphics.featureConversionUtils"),sa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},ya=(B,P,da,aa,ma,ra)=>{B[da]=ma;B[da+1]=ra},Ia=(B,P,da,aa,ma,ra)=>{B[da]=ma;B[da+1]=ra;B[da+2]=P[aa+2]},e=(B,P,da,aa,ma,ra)=>{B[da]=ma;B[da+1]=ra;B[da+2]=P[aa+3]},q=(B,P,da,aa,ma,ra)=>{B[da]=ma;B[da+1]=ra;B[da+2]=P[aa+2];B[da+3]=P[aa+3]},ia=[],pa=[],za={originPosition:"lowerLeft",scale:[1,1,
1,1],translate:[0,0,0,0]};d.convertFromFeature=function(B,P,da,aa,ma){ia[0]=B;[B]=ja(pa,ia,P,da,aa,ma);Fa(ia);Fa(pa);return B};d.convertFromFeatureSet=function(B,P){const da=new g,{hasM:aa,hasZ:ma,features:ra,objectIdFieldName:ua,spatialReference:Ca,geometryType:Ba,exceededTransferLimit:La,transform:Ja,fields:Ma}=B;Ma&&(da.fields=Ma);da.geometryType=Ba??null;da.objectIdFieldName=ua??P??null;da.spatialReference=Ca??null;if(!da.objectIdFieldName)return Xa.error(new b("optimized-features:invalid-objectIdFieldName",
"objectIdFieldName is missing")),da;ra&&ja(da.features,ra,Ba,ma,aa,da.objectIdFieldName);La&&(da.exceededTransferLimit=La);aa&&(da.hasM=aa);ma&&(da.hasZ=ma);Ja&&(da.transform=Ja);return da};d.convertFromFeatures=ja;d.convertFromGeometry=function(B,P,da){if(F.isNone(B))return null;const aa=new k;"hasZ"in B&&null==P&&(P=B.hasZ);"hasM"in B&&null==da&&(da=B.hasM);if(m.isPoint(B))return M(null!=P?P:null!=B.z,null!=da?da:null!=B.m)(aa,B);if(m.isPolygon(B))return ta(aa,B,P,da);if(m.isPolyline(B))return ea(aa,
B,p(P,da));if(m.isMultipoint(B))return E(aa,B,p(P,da));Xa.error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${B}'`))};d.convertFromGraphics=function(B,P,da,aa,ma,ra){const ua=B.length;switch(da){case "esriGeometryPoint":L(B,P,aa,ma,ra);break;case "esriGeometryMultipoint":x(B,P,aa,ma,ra);break;case "esriGeometryPolyline":V(B,P,aa,ma,ra);break;case "esriGeometryPolygon":na(B,P,aa,ma,ra);break;default:Xa.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${da}'`))}for(aa=
0;aa<P.length;aa++)B[aa+ua].geometryType=da,B[aa+ua].insertAfter=P[aa].insertAfter,B[aa+ua].groupId=P[aa].groupId;return B};d.convertFromMultipoint=E;d.convertFromMultipointFeatures=x;d.convertFromNestedArray=xa;d.convertFromPoint=function(B,P,da=M(null!=P.z,null!=P.m)){return da(B,P)};d.convertFromPointFeatures=L;d.convertFromPolygon=ta;d.convertFromPolyline=ea;d.convertFromPolylineFeatures=V;d.convertToFeature=function(B,P,da,aa){pa[0]=B;T(ia,pa,P,da,aa);B=ia[0];Fa(ia);Fa(pa);return B};d.convertToFeatureSet=
function(B){const {objectIdFieldName:P,spatialReference:da,transform:aa,fields:ma,hasM:ra,hasZ:ua,features:Ca,geometryType:Ba,exceededTransferLimit:La,uniqueIdField:Ja,queryGeometry:Ma,queryGeometryType:Ua}=B;B=T([],Ca,Ba,ua,ra);const Ra=S(Ma,Ua,!1,!1);B={features:B,fields:ma,geometryType:Ba,objectIdFieldName:P,spatialReference:da,uniqueIdField:Ja,queryGeometry:Ra};aa&&(B.transform=aa);La&&(B.exceededTransferLimit=La);ra&&(B.hasM=ra);ua&&(B.hasZ=ua);return B};d.convertToFeatures=T;d.convertToGeometry=
S;d.convertToMultipoint=X;d.convertToMultipointFeatures=Y;d.convertToPoint=function(B,P,da){return B?P?da?J(B):z(B):da?D(B):f(B):null};d.convertToPolygon=O;d.convertToPolyline=ka;d.deltaDecodeGeometry=function(B,P){if(F.isNone(B))return null;const da=B.clone(),aa=B.coords;B=B.lengths;let ma=0;for(let Ca=0;Ca<B.length;Ca++){const Ba=B[Ca];var ra=aa[P*ma],ua=aa[P*ma+1];for(let La=1;La<Ba;La++)ra+=aa[P*(ma+La)],ua+=aa[P*(ma+La)+1],da.coords[P*(ma+La)]=ra,da.coords[P*(ma+La)+1]=ua;ma+=Ba}return da};d.deltaEncodeGeometry=
function(B,P){const da=B.clone(),aa=B.coords;B=B.lengths;let ma=0;for(let ua=0;ua<B.length;ua++){const Ca=B[ua];let Ba=aa[P*ma];var ra=aa[P*ma+1];for(let La=1;La<Ca;La++){const Ja=aa[P*(ma+La)],Ma=aa[P*(ma+La)+1];ra=Ma-ra;da.coords[P*(ma+La)]=Ja-Ba;da.coords[P*(ma+La)+1]=ra;Ba=Ja;ra=Ma}ma+=Ca}return da};d.generalizeOptimizedGeometry=function(B,P,da,aa,ma,ra,ua=da,Ca=aa){Ea(B);if(!P||!P.coords.length)return null;ma=sa[ma];const {coords:Ba,lengths:La}=P;P=p(da,aa);const Ja=p(da&&ua,aa&&Ca);da=G(da,
aa,ua,Ca);if(!La.length)return da(B.coords,Ba,0,0,Ba[0],Ba[1]),Ea(B,P,0),B;aa=0;ra*=ra;for(const Ma of La){if(Ma<ma){aa+=Ma*P;continue}ua=B.coords.length/Ja;Ca=aa;const Ua=aa+(Ma-1)*P;da(B.coords,Ba,B.coords.length,Ca,Ba[Ca],Ba[Ca+1]);ha(B.coords,Ba,P,ra,da,Ca,Ua);da(B.coords,Ba,B.coords.length,Ua,Ba[Ua],Ba[Ua+1]);Ca=B.coords.length/Ja-ua;Ca>=ma?B.lengths.push(Ca):Fa(B.coords,ua*Ja);aa+=Ma*P}return B.coords.length?B:null};d.getBoundsOptimizedGeometry=function(B,P,da,aa){if(F.isNone(P)||!P.coords||
!P.coords.length)return null;da=p(da,aa);let ma=aa=Number.POSITIVE_INFINITY,ra=Number.NEGATIVE_INFINITY,ua=Number.NEGATIVE_INFINITY;if(P&&P.coords){P=P.coords;for(let Ca=0;Ca<P.length;Ca+=da){const Ba=P[Ca],La=P[Ca+1];aa=Math.min(aa,Ba);ra=Math.max(ra,Ba);ma=Math.min(ma,La);ua=Math.max(ua,La)}}I.is(B)?I.fromRectValues(B,aa,ma,ra,ua):y.fromValues(aa,ma,ra,ua,B);return B};d.getQuantizedArea=function(B,P){const {coords:da,lengths:aa}=B;let ma=B=0;for(let ra=0;ra<aa.length;ra++){const ua=aa[ra];ma+=ca(da,
B,ua,P);B+=ua}return Math.abs(ma)};d.getQuantizedBoundsOptimizedGeometry=function(B,P,da,aa){da=p(da,aa);const {lengths:ma,coords:ra}=P;aa=P=Number.POSITIVE_INFINITY;let ua=Number.NEGATIVE_INFINITY,Ca=Number.NEGATIVE_INFINITY,Ba=0;for(const La of ma){let Ja=ra[Ba],Ma=ra[Ba+1];P=Math.min(Ja,P);aa=Math.min(Ma,aa);ua=Math.max(Ja,ua);Ca=Math.max(Ma,Ca);Ba+=da;for(let Ua=1;Ua<La;Ua++,Ba+=da){const Ra=ra[Ba],Wa=ra[Ba+1];Ja+=Ra;Ma+=Wa;0>Ra&&(P=Math.min(P,Ja));0<Ra&&(ua=Math.max(ua,Ja));0>Wa?aa=Math.min(aa,
Ma):0<Wa&&(Ca=Math.max(Ca,Ma))}}B[0]=P;B[1]=aa;B[2]=ua;B[3]=Ca;return B};d.getSignedQuantizedRingArea=ca;d.quantizeOptimizedFeatureSet=function(B,P){const {geometryType:da,features:aa,hasM:ma,hasZ:ra}=P;if(!B)return P;for(let ua=0;ua<aa.length;ua++){const Ca=aa[ua],Ba=Ca.weakClone();Ba.geometry=new k;w(Ba.geometry,Ca.geometry,ma,ra,da,B);Ca.centroid&&(Ba.centroid=new k,w(Ba.centroid,Ca.centroid,ma,ra,"esriGeometryPoint",B));aa[ua]=Ba}P.transform=B;return P};d.quantizeOptimizedGeometry=w;d.quantizeX=
K;d.quantizeY=R;d.removeCollinearVectices=function(B,P,da,aa,ma){if(!P||!P.coords||!P.coords.length)return null;da=sa[da];const {coords:ra,lengths:ua}=P;P=G(aa,ma,aa,ma);aa=p(aa,ma);let Ca=ma=0,Ba=0,La=0;for(const Ua of ua){Ca=La;P(B.coords,ra,Ca,ma,ra[ma],ra[ma+1]);ma+=aa;var Ja=ra[ma];let Ra=ra[ma+1],Wa=Ja,Va=Ra;var Ma=Ra/Ja;Ca+=aa;P(B.coords,ra,Ca,ma,Wa,Va);ma+=aa;for(let Pa=2;Pa<Ua;Pa++){Ja=ra[ma];Ra=ra[ma+1];const Ya=Ra/Ja,bb=Ma===Ya||!isFinite(Ma)&&!isFinite(Ya);Ma=bb&&isFinite(Ya)?0<=Ma&&0<=
Ya||0>=Ma&&0>=Ya:0<=Va&&0<=Ra||0>=Va&&0>=Ra;bb&&Ma?(Wa+=Ja,Va+=Ra):(Wa=Ja,Va=Ra,Ca+=aa);P(B.coords,ra,Ca,ma,Wa,Va);ma+=aa;Ma=Ya}Ca+=aa;Ja=(Ca-La)/aa;Ja>=da&&(B.lengths[Ba]=Ja,La=Ca,Ba++)}B.coords.length>La&&(B.coords.length=La);B.lengths.length>Ba&&(B.lengths.length=Ba);return B.coords.length&&B.lengths.length?B:null};d.removeZMValues=function(B,P,da,aa,ma,ra){Ea(B);B.lengths.push(...P.lengths);if(da===ma&&aa===ra)for(var ua=0;ua<P.coords.length;ua++)B.coords.push(P.coords[ua]);else for(ua=p(da,aa),
da=G(da,aa,ma,ra),P=P.coords,aa=0;aa<P.length;aa+=ua)da(B.coords,P,B.coords.length,aa,P[aa],P[aa+1]);return B};d.unquantizeOptimizedFeatureSet=function(B){const {transform:P,features:da,hasM:aa,hasZ:ma}=B;if(!P)return B;for(const ra of da)F.isSome(ra.geometry)&&t(ra.geometry,ra.geometry,aa,ma,P),F.isSome(ra.centroid)&&t(ra.centroid,ra.centroid,aa,ma,P);B.transform=null;return B};d.unquantizeOptimizedGeometry=t;d.unquantizeValue=A;d.unquantizeX=function(B,P){return A(B,P,0)};d.unquantizeY=function(B,
P){return A(B,-P,1)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(d,b,W,F){function I(f=R){return[f[0],f[1],f[2],f[3],f[4],f[5]]}function y(f,r,z,Q,D,C,J=I()){J[0]=f;J[1]=r;J[2]=z;J[3]=Q;J[4]=D;J[5]=C;return J}function m(f){return f[0]>=f[3]?0:f[3]-f[0]}function n(f){return f[1]>=f[4]?0:f[4]-f[1]}function g(f){return f[2]>=f[5]?0:f[5]-f[2]}function k(f,
r){return Math.max(r[0],f[0])<=Math.min(r[3],f[3])&&Math.max(r[1],f[1])<=Math.min(r[4],f[4])&&Math.max(r[2],f[2])<=Math.min(r[5],f[5])}function p(f,r){f[0]=r[0];f[1]=r[1];f[2]=r[2];f[3]=r[3];f[4]=r[4];f[5]=r[5];return f}function G(f){return 6===f.length}const K=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],R=[0,0,0,0,0,0],A=I();d.NEGATIVE_INFINITY=K;d.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];d.ZERO=R;d.allFinite=function(f){for(let r=0;6>r;r++)if(!isFinite(f[r]))return!1;
return!0};d.center=function(f,r=[0,0,0]){r[0]=f[0]+m(f)/2;r[1]=f[1]+n(f)/2;r[2]=f[2]+g(f)/2;return r};d.contains=function(f,r){return r[0]>=f[0]&&r[1]>=f[1]&&r[2]>=f[2]&&r[3]<=f[3]&&r[4]<=f[4]&&r[5]<=f[5]};d.containsPoint=function(f,r){return r[0]>=f[0]&&r[1]>=f[1]&&r[2]>=f[2]&&r[0]<=f[3]&&r[1]<=f[4]&&r[2]<=f[5]};d.containsPointWithMargin=function(f,r,z){return r[0]>=f[0]-z&&r[1]>=f[1]-z&&r[2]>=f[2]-z&&r[0]<=f[3]+z&&r[1]<=f[4]+z&&r[2]<=f[5]+z};d.create=I;d.depth=n;d.diameter=function(f){const r=m(f),
z=g(f);f=n(f);return Math.sqrt(r*r+z*z+f*f)};d.empty=function(f){return f?p(f,K):I(K)};d.equals=function(f,r,z){if(b.isNone(f)||b.isNone(r))return f===r;if(!G(f)||!G(r))return!1;if(z)for(let Q=0;Q<f.length;Q++){if(!z(f[Q],r[Q]))return!1}else for(z=0;z<f.length;z++)if(f[z]!==r[z])return!1;return!0};d.expandWithAABB=function(f,r){f[0]=Math.min(f[0],r[0]);f[1]=Math.min(f[1],r[1]);f[2]=Math.min(f[2],r[2]);f[3]=Math.max(f[3],r[3]);f[4]=Math.max(f[4],r[4]);f[5]=Math.max(f[5],r[5])};d.expandWithBuffer=function(f,
r,z=0,Q=r.length/3){let D=f[0],C=f[1],J=f[2],u=f[3],M=f[4],L=f[5];for(let Y=0;Y<Q;Y++)D=Math.min(D,r[z+3*Y]),C=Math.min(C,r[z+3*Y+1]),J=Math.min(J,r[z+3*Y+2]),u=Math.max(u,r[z+3*Y]),M=Math.max(M,r[z+3*Y+1]),L=Math.max(L,r[z+3*Y+2]);f[0]=D;f[1]=C;f[2]=J;f[3]=u;f[4]=M;f[5]=L};d.expandWithNestedArray=function(f,r,z){const Q=r.length;let D=f[0],C=f[1],J=f[2],u=f[3],M=f[4],L=f[5];if(z)for(z=0;z<Q;z++){var Y=r[z];D=Math.min(D,Y[0]);C=Math.min(C,Y[1]);J=Math.min(J,Y[2]);u=Math.max(u,Y[0]);M=Math.max(M,Y[1]);
L=Math.max(L,Y[2])}else for(z=0;z<Q;z++)Y=r[z],D=Math.min(D,Y[0]),C=Math.min(C,Y[1]),u=Math.max(u,Y[0]),M=Math.max(M,Y[1]);f[0]=D;f[1]=C;f[2]=J;f[3]=u;f[4]=M;f[5]=L};d.expandWithOffset=function(f,r,z,Q){f[0]=Math.min(f[0],f[0]+r);f[3]=Math.max(f[3],f[3]+r);f[1]=Math.min(f[1],f[1]+z);f[4]=Math.max(f[4],f[4]+z);f[2]=Math.min(f[2],f[2]+Q);f[5]=Math.max(f[5],f[5]+Q)};d.expandWithRect=function(f,r){f[0]=Math.min(f[0],r[0]);f[1]=Math.min(f[1],r[1]);f[3]=Math.max(f[3],r[2]);f[4]=Math.max(f[4],r[3])};d.expandWithVec3=
function(f,r){f[0]=Math.min(f[0],r[0]);f[1]=Math.min(f[1],r[1]);f[2]=Math.min(f[2],r[2]);f[3]=Math.max(f[3],r[0]);f[4]=Math.max(f[4],r[1]);f[5]=Math.max(f[5],r[2])};d.fromExtent=function(f,r=I()){r[0]=f.xmin;r[1]=f.ymin;r[2]=f.hasZ?f.zmin:-Infinity;r[3]=f.xmax;r[4]=f.ymax;r[5]=f.hasZ?f.zmax:Infinity;return r};d.fromMinMax=function(f,r,z=I()){z[0]=f[0];z[1]=f[1];z[2]=f[2];z[3]=r[0];z[4]=r[1];z[5]=r[2];return z};d.fromRect=function(f,r){f[0]=r[0];f[1]=r[1];f[2]=Number.NEGATIVE_INFINITY;f[3]=r[2];f[4]=
r[3];f[5]=Number.POSITIVE_INFINITY;return f};d.fromRectValues=function(f,r,z,Q,D){f[0]=r;f[1]=z;f[2]=Number.NEGATIVE_INFINITY;f[3]=Q;f[4]=D;f[5]=Number.POSITIVE_INFINITY;return f};d.fromValues=y;d.getMax=function(f,r){r[0]=f[3];r[1]=f[4];r[2]=f[5];return r};d.getMin=function(f,r){r[0]=f[0];r[1]=f[1];r[2]=f[2];return r};d.height=g;d.intersects=k;d.intersectsClippingArea=function(f,r){return b.isNone(r)?!0:k(f,r)};d.is=G;d.isPoint=function(f){return 0===m(f)&&0===n(f)&&0===g(f)};d.maximumDimension=
function(f){return Math.max(m(f),g(f),n(f))};d.offset=function(f,r,z,Q,D=f){D[0]=f[0]+r;D[1]=f[1]+z;D[2]=f[2]+Q;D[3]=f[3]+r;D[4]=f[4]+z;D[5]=f[5]+Q;return D};d.scale=function(f,r,z=f){const Q=f[0]+m(f)/2,D=f[1]+n(f)/2,C=f[2]+g(f)/2;z[0]=Q+(f[0]-Q)*r;z[1]=D+(f[1]-D)*r;z[2]=C+(f[2]-C)*r;z[3]=Q+(f[3]-Q)*r;z[4]=D+(f[4]-D)*r;z[5]=C+(f[5]-C)*r;return z};d.set=p;d.setMax=function(f,r,z=f){z[3]=r[0];z[4]=r[1];z[5]=r[2];z!==f&&(z[0]=f[0],z[1]=f[1],z[2]=f[2]);return f};d.setMin=function(f,r,z=f){z[0]=r[0];
z[1]=r[1];z[2]=r[2];z!==f&&(z[3]=f[3],z[4]=f[4],z[5]=f[5]);return z};d.size=function(f,r=[0,0,0]){r[0]=m(f);r[1]=n(f);r[2]=g(f);return r};d.toExtent=function(f,r){return isFinite(f[2])||isFinite(f[5])?new W({xmin:f[0],xmax:f[3],ymin:f[1],ymax:f[4],zmin:f[2],zmax:f[5],spatialReference:r}):new W({xmin:f[0],xmax:f[3],ymin:f[1],ymax:f[4],spatialReference:r})};d.toRect=function(f,r){r||(r=F.create());r[0]=f[0];r[1]=f[1];r[2]=f[3];r[3]=f[4];return r};d.width=m;d.wrap=function(f,r,z,Q,D,C){return y(f,r,
z,Q,D,C,A)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(d,b,W){let F=function(){function y(m=null,n={},g,k){this.geometry=m;this.attributes=n;this.centroid=g;this.objectId=k;this.geohashY=this.geohashX=this.displayId=0}y.prototype.weakClone=function(){const m=new y(this.geometry,this.attributes,this.centroid,this.objectId);m.displayId=this.displayId;
m.geohashX=this.geohashX;m.geohashY=this.geohashY;return m};return b._createClass(y)}(),I=function(y){function m(){return n.apply(this,arguments)}b._inherits(m,y);var n=b._createSuper(m);return b._createClass(m)}(F);d.OptimizedFeature=F;d.OptimizedFeatureWithGeometry=I;d.hasGeometry=function(y){return!(W.isNone(y.geometry)||!y.geometry.coords||!y.geometry.coords.length)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(d){return function(){function b(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}b.prototype.weakClone=function(){const W=new b;W.objectIdFieldName=this.objectIdFieldName;W.globalIdFieldName=this.globalIdFieldName;W.geohashFieldName=
this.geohashFieldName;W.geometryProperties=this.geometryProperties;W.geometryType=this.geometryType;W.spatialReference=this.spatialReference;W.hasZ=this.hasZ;W.hasM=this.hasM;W.features=this.features;W.fields=this.fields;W.transform=this.transform;W.exceededTransferLimit=this.exceededTransferLimit;W.uniqueIdField=this.uniqueIdField;W.queryGeometry=this.queryGeometry;W.queryGeometryType=this.queryGeometryType;return W};return d._createClass(b)}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(d){return function(){function b(F=[],I=[],y=!1){this.lengths=F??[];this.coords=I??[];this.hasIndeterminateRingOrder=y}b.fromRect=function(F){const [I,y,m,n]=F;F=m-I;const g=n-y;return new b([5],[I,y,F,0,0,g,-F,0,0,-g])};var W=b.prototype;W.forEachVertex=function(F){let I=0;this.lengths.length||F(this.coords[0],this.coords[1]);for(let y=0;y<this.lengths.length;y++){const m=this.lengths[y];for(let n=0;n<m;n++)F(this.coords[2*(n+I)],this.coords[2*(n+I)+1]);I+=m}};W.clone=function(F){return F?
(F.set(this.coords),new b(this.lengths.slice(),F,this.hasIndeterminateRingOrder)):new b(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};d._createClass(b,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((F,I)=>F+I)}}]);return b}()})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/Error ../../core/maybe ../../core/object ./domainUtils ../../support/arcadeOnDemand".split(" "),
function(d,b,W,F,I,y,m){function n(sa,ya,Ia){if(sa)for(const e of sa)(sa=(sa=I.getDeepValue(e,ya))&&"function"!==typeof sa&&Ia.get(sa))&&I.setDeepValue(e,sa.name,ya)}function g(sa,ya){if(!sa||!ya)return[];T.clear();k(T,sa,ya);return Array.from(T).sort()}function k(sa,ya,Ia){if(Ia)if(ya?.fields?.length)if(Ia.includes("*"))for(const {name:e}of ya.fields)sa.add(e);else for(const e of Ia)p(sa,ya,e);else if(Ia.includes("*"))sa.clear(),sa.add("*");else for(const e of Ia)null!=e&&sa.add(e)}function p(sa,
ya,Ia){"string"===typeof Ia&&(ya?(ya=ya.get(Ia))&&sa.add(ya.name):sa.add(Ia))}async function G(sa,ya,Ia){if(Ia){var {arcadeUtils:e}=await m.loadArcade();Ia=e.extractFieldNames(Ia,ya?.fields?.map(q=>q.name));for(const q of Ia)p(sa,ya,q)}}async function K(sa,ya,Ia){if(Ia&&"1\x3d1"!==Ia){const e=(await new Promise((q,ia)=>d(["../../core/sql/WhereClause"],q,ia))).WhereClause.create(Ia,ya);if(!e.isStandardized)throw new W("fieldUtils:collectFilterFields","Where clause is not standardized",{where:Ia});
k(sa,ya,e.fieldNames)}}function R(sa,ya){for(const Ia of sa)if(Ia&&Ia.valueType&&Ia.valueType===ya)return Ia.name;return null}async function A(sa,ya){if(ya){var Ia=ya.elevationInfo?.featureExpressionInfo;if(Ia)return Ia.collectRequiredFields(sa,ya.fieldsIndex)}}async function f(sa,ya,Ia){const e=[];Ia?.expressionInfos&&e.push(...Ia.expressionInfos.map(q=>G(sa,ya.fieldsIndex,q.expression)));Ia=Ia?.content;if(Array.isArray(Ia))for(const q of Ia)"expression"===q.type&&q.expressionInfo&&e.push(G(sa,ya.fieldsIndex,
q.expressionInfo.expression));await Promise.all(e)}async function r(sa,ya,Ia){ya&&Ia&&(Ia.valueExpression?await G(sa,ya.fieldsIndex,Ia.valueExpression):Ia.field&&p(sa,ya.fieldsIndex,Ia.field))}async function z(sa,ya){const {labelingInfo:Ia,fieldsIndex:e}=ya;Ia&&Ia.length&&await Promise.all(Ia.map(q=>Q(sa,e,q)))}async function Q(sa,ya,Ia){if(Ia){var e=Ia.getLabelExpression();Ia=Ia.where;"arcade"===e.type?await G(sa,ya,e.expression):(e=e.expression.match(/{[^}]*}/g))&&e.forEach(q=>{p(sa,ya,q.slice(1,
-1))});await K(sa,ya,Ia)}}function D(sa){return"number"===typeof sa&&!isNaN(sa)&&isFinite(sa)}function C(sa){return null===sa||D(sa)}function J(sa){return null===sa||w(sa)}function u(sa){return null!=sa&&"string"===typeof sa}function M(sa){return null===sa||u(sa)}function L(){return!0}function Y(sa,ya){let Ia;switch(sa.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":Ia=
sa.nullable?J:w;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":Ia=sa.nullable?C:D;break;case "string":case "esriFieldTypeString":Ia=sa.nullable?M:u;break;default:Ia=L}return 1===arguments.length?Ia:Ia(ya)}function X(sa){return null!=sa&&t.has(sa.type)}function x(sa,ya){return null==sa||sa.nullable&&null===ya?null:X(sa)&&!E(sa.type,Number(ya))?b.NumericRangeValidationError.OUT_OF_RANGE:Y(sa,ya)?sa.domain?y.validateDomainValue(sa.domain,ya):null:b.TypeValidationError.INVALID_TYPE}
function E(sa,ya){sa="string"===typeof sa?ka(sa):sa;if(!sa)return!1;const Ia=sa.min,e=sa.max;return sa.isInteger?w(ya)&&ya>=Ia&&ya<=e:ya>=Ia&&ya<=e}function ka(sa){switch(sa){case "esriFieldTypeSmallInteger":case "small-integer":return ca;case "esriFieldTypeInteger":case "integer":return Ea;case "esriFieldTypeSingle":case "single":return Fa;case "esriFieldTypeDouble":case "double":return Xa}}function V(sa,ya,Ia){if(!ya||!ya.attributes||!sa){if(F.isSome(Ia))for(var e of sa??[])Ia.add(e);return!0}ya=
ya.attributes;e=!1;for(const q of sa)if(!(q in ya))if(e=!0,F.isSome(Ia))Ia.add(q);else break;return e}const ea=/^([0-9])/,O=/[^a-z0-9_\u0080-\uffff]/gi,na=/_{2,}/g,ta=/^_/,xa=/_$/,ja="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),S=["field","normalizationField"],T=new Set,w=(()=>"isInteger"in Number?Number.isInteger:sa=>"number"===typeof sa&&isFinite(sa)&&Math.floor(sa)===
sa)(),ha=["integer","small-integer","single","double"],t=new Set([...ha,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);b.NumericRangeValidationError=void 0;(b.NumericRangeValidationError||(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";b.TypeValidationError=void 0;(b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const ca={min:-32768,max:32767,isInteger:!0},
Ea={min:-2147483648,max:2147483647,isInteger:!0},Fa={min:-3.4E38,max:1.2E38,isInteger:!1},Xa={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.collectArcadeFieldNames=G;b.collectElevationFields=A;b.collectFeatureReductionFields=async function(sa,ya,Ia){if(ya&&Ia&&"fields"in Ia){var e=[];e.push(f(sa,ya,Ia.popupTemplate));Ia.fields&&e.push(...Ia.fields.map(async q=>{q.onStatisticExpression?G(sa,ya.fieldsIndex,q.onStatisticExpression.expression):sa.add(q.onStatisticField)}));await Promise.all(e)}};
b.collectField=p;b.collectFields=k;b.collectFilterFields=async function(sa,ya,Ia){ya&&(ya.timeInfo&&F.isSome(Ia)&&Ia.timeExtent&&k(sa,ya.fieldsIndex,[ya.timeInfo.startField,ya.timeInfo.endField]),ya.floorInfo&&k(sa,ya.fieldsIndex,[ya.floorInfo.floorField]),F.isSome(Ia)&&F.isSome(Ia.where)&&await K(sa,ya.fieldsIndex,Ia.where))};b.collectLabelingFields=z;b.collectOrderByInfos=async function(sa,ya,Ia){ya&&Ia&&await Promise.all(Ia.map(e=>r(sa,ya,e)))};b.collectPopupTemplateFields=f;b.doubleRange=Xa;b.featureHasFields=
function(sa,ya){return!V(sa,ya,null)};b.fixFields=g;b.fixRendererFields=function(sa,ya){if(null!=sa&&null!=ya)for(const Ia of Array.isArray(sa)?sa:[sa])if(n(ja,Ia,ya),"visualVariables"in Ia&&Ia.visualVariables)for(const e of Ia.visualVariables)n(S,e,ya)};b.fixTimeInfoFields=function(sa,ya){if(null!=sa&&ya?.fields?.length)if("startField"in sa){var Ia=ya.get(sa.startField);ya=ya.get(sa.endField);sa.startField=Ia?.name??null;sa.endField=ya?.name??null}else Ia=ya.get(sa.startTimeField),ya=ya.get(sa.endTimeField),
sa.startTimeField=Ia?.name??null,sa.endTimeField=ya?.name??null};b.getDisplayFieldName=function({displayField:sa,fields:ya}){if(sa)return sa;if(!ya||!ya.length)return null;if(!(sa=R(ya,"name-or-title")||R(ya,"unique-identifier")||R(ya,"type-or-category")))a:{for(const Ia of ya)if(Ia&&Ia.name&&(ya=Ia.name.toLowerCase(),ya.includes("name")||ya.includes("title"))){sa=Ia.name;break a}sa=null}return sa};b.getElevationFields=async function(sa){if(!sa)return[];const ya=new Set;await A(ya,sa);return Array.from(ya).sort()};
b.getExpressionFields=async function(sa,ya){const Ia=new Set;for(const e of ya)await G(Ia,sa.fieldsIndex,e);return Array.from(Ia).sort()};b.getFeatureEditFields=function(sa){if(!sa)return[];const ya="editFieldsInfo"in sa&&sa.editFieldsInfo;return ya?g(sa.fieldsIndex,[ya&&ya.creatorField,ya&&ya.creationDateField,ya&&ya.editorField,ya&&ya.editDateField]):[]};b.getFeatureGeometryFields=function(sa){if(!sa)return[];const ya=sa.geometryFieldsInfo;return ya?g(sa.fieldsIndex,[ya.shapeAreaField,ya.shapeLengthField]):
[]};b.getFieldDefaultValue=function(sa){const ya=sa.defaultValue;if(void 0!==ya&&Y(sa,ya))return ya;if(sa.nullable)return null};b.getFieldRange=function(sa){const ya=y.getDomainRange(sa.domain);if(ya)return ya;if(X(sa))return ka(sa.type)};b.getLabelingFields=async function(sa){if(!sa)return[];const ya=new Set;await z(ya,sa);return Array.from(ya).sort()};b.getNumericTypeForValue=function(sa){if(!D(sa))return null;if(w(sa)){if(sa>=ca.min&&sa<=ca.max)return"esriFieldTypeSmallInteger";if(sa>=Ea.min&&
sa<=Ea.max)return"esriFieldTypeInteger"}return sa>=Fa.min&&sa<=Fa.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.getTimeFields=async function(sa){if(!sa)return[];const ya="timeInfo"in sa&&sa.timeInfo;return ya?g(sa.fieldsIndex,[sa.trackIdField,ya.startField,ya.endField]):[]};b.integerRange=Ea;b.isDateField=function(sa){return null!=sa&&("date"===sa.type||"esriFieldTypeDate"===sa.type)};b.isNumberInRange=E;b.isNumericField=X;b.isRasterPixelValueField=function(sa){return sa?["raster.itempixelvalue",
"raster.servicepixelvalue"].some(ya=>sa.toLowerCase().startsWith(ya)):!1};b.isStringField=function(sa){return null!=sa&&("string"===sa.type||"esriFieldTypeString"===sa.type)};b.isValidFieldValue=function(sa,ya){return null===x(sa,ya)};b.isValueMatchingFieldType=Y;b.normalizeFieldName=function(sa){return null==sa?null:sa.trim().replace(O,"_").replace(na,"_").replace(ta,"").replace(xa,"").replace(ea,"F$1")||null};b.numericTypes=ha;b.packFields=function(sa,ya,Ia=1){if(!ya||!sa)return[];if(ya.includes("*"))return["*"];
ya=g(sa,ya);return ya.length/sa.fields.length>=Ia?["*"]:ya};b.populateMissingFields=V;b.rendererFields=ja;b.sanitizeNullFieldValue=function(sa){return null==sa||"number"===typeof sa&&isNaN(sa)?null:sa};b.singleRange=Fa;b.smallIntegerRange=ca;b.unpackFieldNames=function(sa,ya){return F.isNone(ya)||F.isNone(sa)?[]:ya.includes("*")?(sa.fields??[]).map(Ia=>Ia.name):ya};b.validateFieldValue=x;b.validationErrorToString=function(sa,ya,Ia){switch(sa){case y.DomainValidationError.INVALID_CODED_VALUE:return`Value ${Ia} is not in the coded domain - field: ${ya.name}, domain: ${JSON.stringify(ya.domain)}`;
case y.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${Ia} is out of the range of valid values - field: ${ya.name}, domain: ${JSON.stringify(ya.domain)}`;case b.TypeValidationError.INVALID_TYPE:return`Value ${Ia} is not a valid value for the field type - field: ${ya.name}, type: ${ya.type}, nullable: ${ya.nullable}`;case b.NumericRangeValidationError.OUT_OF_RANGE:const {min:e,max:q}=ka(ya.type);return`Value ${Ia} is out of range for the number type - field: ${ya.name}, type: ${ya.type}, value range is ${e} to ${q}`}};
b.visualVariableFields=S;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports"],function(d){d.DomainValidationError=void 0;(function(b){b.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";b.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(d.DomainValidationError||(d.DomainValidationError={}));d.getDomainRange=function(b){if(b&&"range"===b.type)return{min:"range"in b?b.range[0]:b.minValue,max:"range"in
b?b.range[1]:b.maxValue}};d.validateDomainValue=function(b,W){switch(b.type){case "range":const F="range"in b?b.range[0]:b.minValue;b="range"in b?b.range[1]:b.maxValue;if(null!=F&&+W<F||null!=b&&+W>b)return d.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":if(null==b.codedValues||b.codedValues.every(I=>null==I||I.code!==W))return d.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==b.codedValues||b.codedValues.every(I=>null==I||I.code!==W))return d.DomainValidationError.INVALID_CODED_VALUE}return null};
Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../geometry ../core/Error ../core/Logger ../core/maybe ../geometry/SpatialReference".split(" "),function(d,b,W,F,I,y,m,n){function g(){p||(p=(async()=>{const K=await new Promise((R,A)=>d(["./arcadeUtils"],R,A));return{arcade:K.arcade,arcadeUtils:K,Dictionary:K.Dictionary,Feature:K.arcadeFeature}})());return p}const k=y.getLogger("esri.support.arcadeOnDemand");
let p;F=(K,R,A)=>G.create(K,R,A,null,["$feature","$view"]);let G=function(){function K(A,f,r,z,Q,D,C){this.script=A;this.evaluate=z;this.fields=Array.isArray(D)?D:D.fields;this._syntaxTree=r;this._arcade=f;this._arcadeFeature=Q;this._spatialReference=C;this._referencesGeometry=f.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}K.create=async function(A,f,r,z,Q,D){const {arcade:C,Feature:J,Dictionary:u}=await g(),M=n.fromJSON(f);
let L;try{L=C.parseScript(A,D)}catch(V){return k.error(new I("arcade-bad-expression","Failed to parse arcade script",{script:A,error:V})),null}Q=Q.reduce((V,ea)=>({...V,[ea]:null}),{});let Y=null;m.isSome(z)&&(Y=new u(z),Y.immutable=!0,Q.$config=null);D=(z=C.scriptUsesGeometryEngine(L))&&C.enableGeometrySupport();const X=C.scriptUsesFeatureSet(L)&&C.enableFeatureSetSupport(),x=(f=C.scriptIsAsync(L))&&C.enableAsyncSupport();Q={vars:Q,spatialReference:M,useAsync:!!x};await Promise.all([D,X,x]);D=new Set;
await C.loadDependentModules(D,L,null,f,z);const E=new u;E.immutable=!1;E.setField("scale",0);const ka=C.compileScript(L,Q);return new K(A,C,L,V=>{"$view"in V&&V.$view&&(E.setField("scale","object"===typeof V.$view?V.$view.scale:void 0),V.$view=E);Y&&(V.$config=Y);return ka({vars:V,spatialReference:M})},new J,r,M)};var R=K.prototype;R.repurposeFeature=function(A){A.geometry&&!A.geometry.spatialReference&&(A.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(A.geometry,
A.attributes,{fields:this.fields});return this._arcadeFeature};R.referencesGeometry=function(){return this._referencesGeometry};R.referencesScale=function(){return this._referencesScale};return W._createClass(K)}();b.ArcadeExpression=G;b.createDictionaryExpression=(K,R,A,f)=>G.create(K,R,A,f,["$feature","$view"]);b.createLabelExpression=(K,R,A)=>G.create(K,R,A,null,["$feature"]);b.createRendererExpression=F;b.createVVExpression=F;b.loadArcade=g;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/views/3d/webgl-engine/lib/Octree":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/ObjectPool ../../../../core/PooledArray ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/support/frustum ../../../../geometry/support/ray ../../../../chunks/sphere ./Util".split(" "),function(d,b,W,F,I,y,m,n,g,k){function p(ta,xa,ja){ja[0]=ta[0]+xa;ja[1]=ta[1]+xa;ja[2]=ta[2]+xa}function G(ta,xa,ja,S){if(1===xa)ta=ja(ta[0]),g.copy(ta,
S);else{L[0]=Infinity;L[1]=Infinity;L[2]=Infinity;Y[0]=-Infinity;Y[1]=-Infinity;Y[2]=-Infinity;for(let t=0;t<xa;t++){var T=ja(ta[t]);if(f(T[3])){var w=L,ha=T;w[0]=Math.min(w[0],ha[0]-ha[3]);w[1]=Math.min(w[1],ha[1]-ha[3]);w[2]=Math.min(w[2],ha[2]-ha[3]);w=Y;w[0]=Math.max(w[0],T[0]+T[3]);w[1]=Math.max(w[1],T[1]+T[3]);w[2]=Math.max(w[2],T[2]+T[3])}}I.lerp(S,L,Y,.5);S[3]=Math.max(Y[0]-L[0],Y[1]-L[1],Y[2]-L[2])/2}}function K(ta,xa,ja){if(!O.length)for(var S=0;8>S;++S)O.push({index:0,distance:0});for(S=
0;8>S;++S){const T=Q[S];O.data[S].index=S;O.data[S].distance=A(ta,xa,T)}O.sort((T,w)=>T.distance-w.distance);for(ta=0;8>ta;++ta)ja[ta]=O.data[ta].index}function R(ta,xa){let ja=Infinity,S;for(let T=0;8>T;++T){const w=A(ta,xa,D[T]);w<ja&&(ja=w,S=D[T])}return S}function A(ta,xa,ja){return xa*(ta[0]*ja[0]+ta[1]*ja[1]+ta[2]*ja[2])}function f(ta){return!isNaN(ta)&&-Infinity!==ta&&Infinity!==ta&&0<ta}let r=function(){function ta(ja,S){this.objectToBoundingSphere=ja;this._maximumObjectsPerNode=10;this._maximumDepth=
20;this._degenerateObjects=new Set;this._root=new z;this._objectCount=0;S&&(void 0!==S.maximumObjectsPerNode&&(this._maximumObjectsPerNode=S.maximumObjectsPerNode),void 0!==S.maximumDepth&&(this._maximumDepth=S.maximumDepth))}var xa=ta.prototype;xa.destroy=function(){this._degenerateObjects.clear();z.clearPool();J[0]=null;X.prune();O.prune()};xa.add=function(ja,S=ja.length){this._objectCount+=S;this._grow(ja,S);const T=z.acquire();for(let w=0;w<S;w++){const ha=ja[w];this._isDegenerate(ha)?this._degenerateObjects.add(ha):
(T.init(this._root),this._add(ha,T))}z.release(T)};xa.remove=function(ja,S=null){this._objectCount-=ja.length;const T=z.acquire();for(const w of ja)ja=b.isSome(S)?S:g.copy(this.objectToBoundingSphere(w),x),f(ja[3])?(T.init(this._root),this._remove(w,ja,T)):this._degenerateObjects.delete(w);z.release(T);this._shrink()};xa.update=function(ja,S){if(f(S[3])||!this._isDegenerate(ja))J[0]=ja,ja=J,this.remove(ja,S),this.add(ja)};xa.forEachAlongRay=function(ja,S,T){const w=n.wrap(ja,S);this._forEachNode(this._root,
ha=>{if(!this._intersectsNode(w,ha))return!1;ha=ha.node;ha.terminals.forAll(t=>{this._intersectsObject(w,t)&&T(t)});null!==ha.residents&&ha.residents.forAll(t=>{this._intersectsObject(w,t)&&T(t)});return!0})};xa.forEachAlongRayWithVerticalOffset=function(ja,S,T,w){const ha=n.wrap(ja,S);this._forEachNode(this._root,t=>{if(!this._intersectsNodeWithOffset(ha,t,w))return!1;t=t.node;t.terminals.forAll(ca=>{this._intersectsObjectWithOffset(ha,ca,w)&&T(ca)});null!==t.residents&&t.residents.forAll(ca=>{this._intersectsObjectWithOffset(ha,
ca,w)&&T(ca)});return!0})};xa.forEach=function(ja){this._forEachNode(this._root,S=>{S=S.node;S.terminals.forAll(ja);null!==S.residents&&S.residents.forAll(ja);return!0});this._degenerateObjects.forEach(ja)};xa.forEachDegenerateObject=function(ja){this._degenerateObjects.forEach(ja)};xa.findClosest=function(ja,S,T,w=()=>!0,ha=Infinity){let t=Infinity,ca=Infinity,Ea=null;const Fa=R(ja,S),Xa=sa=>{--ha;if(w(sa)){var ya=this.objectToBoundingSphere(sa);if(m.intersectsSphere(T,ya)){var Ia=A(ja,S,g.getCenter(ya)),
e=Ia-ya[3];ya=Ia+ya[3];e<t&&(t=e,ca=ya,Ea=sa)}}};this._forEachNodeDepthOrdered(this._root,sa=>{if(0>=ha||!m.intersectsSphere(T,sa.bounds))return!1;I.scale(M,Fa,sa.halfSize);I.add(M,M,sa.bounds);if(A(ja,S,M)>ca)return!1;sa=sa.node;sa.terminals.forAll(ya=>Xa(ya));null!==sa.residents&&sa.residents.forAll(ya=>Xa(ya));return!0},ja,S);return Ea};xa.forEachInDepthRange=function(ja,S,T,w,ha,t,ca){let Ea=-Infinity,Fa=Infinity;const Xa={setRange:q=>{T===ta.DepthOrder.FRONT_TO_BACK?(Ea=Math.max(Ea,q.near),Fa=
Math.min(Fa,q.far)):(Ea=Math.max(Ea,-q.far),Fa=Math.min(Fa,-q.near))}};Xa.setRange(w);const sa=A(S,T,ja),ya=R(S,T),Ia=R(S,-T),e=q=>{if(ca(q)){var ia=this.objectToBoundingSphere(q),pa=g.getCenter(ia);pa=A(S,T,pa)-sa;var za=pa+ia[3];pa-ia[3]>Fa||za<Ea||!m.intersectsSphere(t,ia)||ha(q,Xa)}};this._forEachNodeDepthOrdered(this._root,q=>{if(!m.intersectsSphere(t,q.bounds))return!1;I.scale(M,ya,q.halfSize);I.add(M,M,q.bounds);if(A(S,T,M)-sa>Fa)return!1;I.scale(M,Ia,q.halfSize);I.add(M,M,q.bounds);if(A(S,
T,M)-sa<Ea)return!1;q=q.node;q.terminals.forAll(ia=>e(ia));null!==q.residents&&q.residents.forAll(ia=>e(ia));return!0},S,T)};xa.forEachNode=function(ja){this._forEachNode(this._root,S=>ja(S.node,S.bounds,S.halfSize,S.depth))};xa.forEachNeighbor=function(ja,S){const T=g.getRadius(S),w=g.getCenter(S),ha=Ea=>{const Fa=this.objectToBoundingSphere(Ea);var Xa=g.getRadius(Fa);Xa=T+Xa;return 0>=I.squaredDistance(g.getCenter(Fa),w)-Xa*Xa?ja(Ea):!0};let t=!0;const ca=Ea=>{t&&(t=ha(Ea))};this._forEachNode(this._root,
Ea=>{var Fa=g.getRadius(Ea.bounds);Fa=T+Fa;if(0<I.squaredDistance(g.getCenter(Ea.bounds),w)-Fa*Fa)return!1;Ea=Ea.node;Ea.terminals.forAll(ca);t&&null!==Ea.residents&&Ea.residents.forAll(ca);return t});t&&this.forEachDegenerateObject(ca)};xa._intersectsNode=function(ja,S){p(S.bounds,2*-S.halfSize,L);p(S.bounds,2*S.halfSize,Y);return k.rayBoxTest(ja.origin,ja.direction,L,Y)};xa._intersectsNodeWithOffset=function(ja,S,T){p(S.bounds,2*-S.halfSize,L);p(S.bounds,2*S.halfSize,Y);T.applyToMinMax(L,Y);return k.rayBoxTest(ja.origin,
ja.direction,L,Y)};xa._intersectsObject=function(ja,S){S=this.objectToBoundingSphere(S);return 0<S[3]?g.intersectsRay(S,ja):!0};xa._intersectsObjectWithOffset=function(ja,S,T){S=this.objectToBoundingSphere(S);return 0<S[3]?g.intersectsRay(T.applyToBoundingSphere(S),ja):!0};xa._forEachNode=function(ja,S){ja=z.acquire().init(ja);const T=[ja];for(;0!==T.length;){ja=T.pop();if(S(ja)&&!ja.isLeaf())for(let w=0;w<ja.node.children.length;w++)ja.node.children[w]&&T.push(z.acquire().init(ja).advance(w));z.release(ja)}};
xa._forEachNodeDepthOrdered=function(ja,S,T,w=ta.DepthOrder.FRONT_TO_BACK){ja=z.acquire().init(ja);const ha=[ja];for(K(T,w,na);0!==ha.length;){ja=ha.pop();if(S(ja)&&!ja.isLeaf())for(T=7;0<=T;--T)w=na[T],ja.node.children[w]&&ha.push(z.acquire().init(ja).advance(w));z.release(ja)}};xa._remove=function(ja,S,T){X.clear();S=T.advanceTo(S,(w,ha)=>{X.push(w.node);X.push(ha)})?T.node.terminals:T.node.residents;S.removeUnordered(ja);if(0===S.length)for(ja=X.length-2;0<=ja&&this._purge(X.data[ja],X.data[ja+
1]);ja-=2);};xa._nodeIsEmpty=function(ja){if(0!==ja.terminals.length)return!1;if(null!==ja.residents)return 0===ja.residents.length;for(let S=0;S<ja.children.length;S++)if(ja.children[S])return!1;return!0};xa._purge=function(ja,S){0<=S&&(ja.children[S]=null);return this._nodeIsEmpty(ja)?(null===ja.residents&&(ja.residents=new F({shrink:!0})),!0):!1};xa._add=function(ja,S){S.advanceTo(this.objectToBoundingSphere(ja))?S.node.terminals.push(ja):(S.node.residents.push(ja),S.node.residents.length>this._maximumObjectsPerNode&&
S.depth<this._maximumDepth&&this._split(S))};xa._split=function(ja){const S=ja.node.residents;ja.node.residents=null;for(let T=0;T<S.length;T++){const w=z.acquire().init(ja);this._add(S.getItemAt(T),w);z.release(w)}};xa._grow=function(ja,S){0!==S&&(G(ja,S,T=>this.objectToBoundingSphere(T),E),f(E[3])&&!this._fitsInsideTree(E)&&(this._nodeIsEmpty(this._root.node)?(g.copy(E,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize()):(ja=this._rootBoundsForRootAsSubNode(E),
this._placingRootViolatesMaxDepth(ja)?this._rebuildTree(E,ja):this._growRootAsSubNode(ja),z.release(ja))))};xa._rebuildTree=function(ja,S){I.copy(ka,S.bounds);ka[3]=S.halfSize;G([ja,ka],2,T=>T,V);ja=z.acquire().init(this._root);this._root.initFrom(null,V,V[3]);this._root.increaseHalfSize(1.25);this._forEachNode(ja,T=>{this.add(T.node.terminals.data,T.node.terminals.length);null!==T.node.residents&&this.add(T.node.residents.data,T.node.residents.length);return!0});z.release(ja)};xa._placingRootViolatesMaxDepth=
function(ja){const S=Math.log(ja.halfSize/this._root.halfSize)*Math.LOG2E;let T=0;this._forEachNode(this._root,w=>{T=Math.max(T,w.depth);return T+S<=this._maximumDepth});return T+S>this._maximumDepth};xa._rootBoundsForRootAsSubNode=function(ja){var S=ja[3],T=-Infinity;const w=this._root.bounds,ha=this._root.halfSize;for(var t=0;3>t;t++){var ca=Math.max(0,Math.ceil((w[t]-ha-(ja[t]-S))/(2*ha)));const Ea=Math.max(0,Math.ceil((ja[t]+S-(w[t]+ha))/(2*ha)))+1;T=Math.max(T,2**Math.ceil(Math.log(ca+Ea)*Math.LOG2E));
ea[t].min=ca;ea[t].max=Ea}for(ja=0;3>ja;ja++)S=ea[ja].min,t=ea[ja].max,ca=(T-(S+t))/2,S+=Math.ceil(ca),t+=Math.floor(ca),u[ja]=w[ja]-ha-S*ha*2+(t+S)*ha;T*=ha;u[3]=T*C;return z.acquire().initFrom(null,u,T,0)};xa._growRootAsSubNode=function(ja){const S=this._root.node;I.copy(E,this._root.bounds);E[3]=this._root.halfSize;this._root.init(ja);ja.advanceTo(E,null,!0);ja.node.children=S.children;ja.node.residents=S.residents;ja.node.terminals=S.terminals};xa._shrink=function(){for(;;){const ja=this._findShrinkIndex();
if(-1===ja)break;this._root.advance(ja);this._root.depth=0}};xa._findShrinkIndex=function(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let ja=null;const S=this._root.node.children;let T=0,w=0;for(;w<S.length&&null==ja;)T=w++,ja=S[T];for(;w<S.length;)if(S[w++])return-1;return T};xa._isDegenerate=function(ja){ja=this.objectToBoundingSphere(ja)[3];return!f(ja)};xa._fitsInsideTree=function(ja){const S=this._root.bounds,T=this._root.halfSize;return ja[3]<=T&&ja[0]>=S[0]-T&&ja[0]<=
S[0]+T&&ja[1]>=S[1]-T&&ja[1]<=S[1]+T&&ja[2]>=S[2]-T&&ja[2]<=S[2]+T};xa.toJSON=function(){const {maximumDepth:ja,maximumObjectsPerNode:S,_objectCount:T}=this,w=this._nodeToJSON(this._root.node);return{maximumDepth:ja,maximumObjectsPerNode:S,objectCount:T,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:w}}};xa._nodeToJSON=function(ja){const S=ja.children.map(w=>w?this._nodeToJSON(w):null),T=ja.residents?.map(w=>this.objectToBoundingSphere(w));ja=ja.terminals?.map(w=>
this.objectToBoundingSphere(w));return{children:S,residents:T,terminals:ja}};ta.fromJSON=function(ja){const S=new ta(T=>T,{maximumDepth:ja.maximumDepth,maximumObjectsPerNode:ja.maximumObjectsPerNode});S._objectCount=ja.objectCount;S._root.initFrom(ja.root.node,ja.root.bounds,ja.root.halfSize,ja.root.depth);return S};d._createClass(ta,[{key:"bounds",get:function(){return this._root.bounds}},{key:"halfSize",get:function(){return this._root.halfSize}},{key:"root",get:function(){return this._root.node}},
{key:"maximumObjectsPerNode",get:function(){return this._maximumObjectsPerNode}},{key:"maximumDepth",get:function(){return this._maximumDepth}},{key:"objectCount",get:function(){return this._objectCount}}]);return ta}(),z=function(){function ta(){this.bounds=g.create();this.halfSize=0;this.initFrom(null,null,0,0)}var xa=ta.prototype;xa.init=function(ja){return this.initFrom(ja.node,ja.bounds,ja.halfSize,ja.depth)};xa.initFrom=function(ja,S,T,w=this.depth){this.node=b.isSome(ja)?ja:ta.createEmptyNode();
b.isSome(S)&&g.copy(S,this.bounds);this.halfSize=T;this.depth=w;return this};xa.increaseHalfSize=function(ja){this.halfSize*=ja;this.updateBoundsRadiusFromHalfSize()};xa.updateBoundsRadiusFromHalfSize=function(){this.bounds[3]=this.halfSize*C};xa.advance=function(ja){let S=this.node.children[ja];S||(S=ta.createEmptyNode(),this.node.children[ja]=S);this.node=S;this.halfSize/=2;this.depth++;ja=Q[ja];this.bounds[0]+=ja[0]*this.halfSize;this.bounds[1]+=ja[1]*this.halfSize;this.bounds[2]+=ja[2]*this.halfSize;
this.updateBoundsRadiusFromHalfSize();return this};xa.advanceTo=function(ja,S,T=!1){for(;;){if(this.isTerminalFor(ja))return S&&S(this,-1),!0;if(this.isLeaf()){if(!T)return S&&S(this,-1),!1;this.node.residents=null}const w=this._childIndex(ja);S&&S(this,w);this.advance(w)}};xa.isLeaf=function(){return null!=this.node.residents};xa.isTerminalFor=function(ja){return ja[3]>this.halfSize/2};xa._childIndex=function(ja){const S=this.bounds;return(S[0]<ja[0]?1:0)+(S[1]<ja[1]?2:0)+(S[2]<ja[2]?4:0)};ta.createEmptyNode=
function(){return{children:[null,null,null,null,null,null,null,null],terminals:new F({shrink:!0}),residents:new F({shrink:!0})}};ta.acquire=function(){return ta._pool.acquire()};ta.release=function(ja){ta._pool.release(ja)};ta.clearPool=function(){ta._pool.prune()};return d._createClass(ta)}();z._pool=new W(z);(function(ta){ta=ta.DepthOrder||(ta.DepthOrder={});ta[ta.FRONT_TO_BACK=1]="FRONT_TO_BACK";ta[ta.BACK_TO_FRONT=-1]="BACK_TO_FRONT"})(r||(r={}));const Q=[y.fromValues(-1,-1,-1),y.fromValues(1,
-1,-1),y.fromValues(-1,1,-1),y.fromValues(1,1,-1),y.fromValues(-1,-1,1),y.fromValues(1,-1,1),y.fromValues(-1,1,1),y.fromValues(1,1,1)],D=[y.fromValues(-1,-1,-1),y.fromValues(-1,-1,1),y.fromValues(-1,1,-1),y.fromValues(-1,1,1),y.fromValues(1,-1,-1),y.fromValues(1,-1,1),y.fromValues(1,1,-1),y.fromValues(1,1,1)],C=Math.sqrt(3),J=[null],u=g.create(),M=y.create(),L=y.create(),Y=y.create(),X=new F,x=g.create(),E=g.create(),ka=g.create(),V=g.create(),ea=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],O=new F,
na=[0,0,0,0,0,0,0,0];return r})},"esri/geometry/support/frustum":function(){define("exports ../../core/ObjectStack ../../chunks/mat4 ../../chunks/vec3 ../../chunks/vec3f64 ../../chunks/vec4 ../../chunks/vec4f64 ./clipRay ./plane ./vectorStacks".split(" "),function(d,b,W,F,I,y,m,n,g,k){function p(){return[I.create(),I.create(),I.create(),I.create(),I.create(),I.create(),I.create(),I.create()]}function G(z,Q){g.fromPoints(Q[d.PointIndex.FAR_BOTTOM_LEFT],Q[d.PointIndex.NEAR_BOTTOM_LEFT],Q[d.PointIndex.NEAR_TOP_LEFT],
z[d.PlaneIndex.LEFT]);g.fromPoints(Q[d.PointIndex.NEAR_BOTTOM_RIGHT],Q[d.PointIndex.FAR_BOTTOM_RIGHT],Q[d.PointIndex.FAR_TOP_RIGHT],z[d.PlaneIndex.RIGHT]);g.fromPoints(Q[d.PointIndex.FAR_BOTTOM_LEFT],Q[d.PointIndex.FAR_BOTTOM_RIGHT],Q[d.PointIndex.NEAR_BOTTOM_RIGHT],z[d.PlaneIndex.BOTTOM]);g.fromPoints(Q[d.PointIndex.NEAR_TOP_LEFT],Q[d.PointIndex.NEAR_TOP_RIGHT],Q[d.PointIndex.FAR_TOP_RIGHT],z[d.PlaneIndex.TOP]);g.fromPoints(Q[d.PointIndex.NEAR_BOTTOM_LEFT],Q[d.PointIndex.NEAR_BOTTOM_RIGHT],Q[d.PointIndex.NEAR_TOP_RIGHT],
z[d.PlaneIndex.NEAR]);g.fromPoints(Q[d.PointIndex.FAR_BOTTOM_RIGHT],Q[d.PointIndex.FAR_BOTTOM_LEFT],Q[d.PointIndex.FAR_TOP_LEFT],z[d.PlaneIndex.FAR])}function K(z,Q){for(let D=0;D<d.NumPlanes.NUM;D++)if(!g.clip(z[D],Q))return!1;return!0}d.PlaneIndex=void 0;(function(z){z[z.LEFT=0]="LEFT";z[z.RIGHT=1]="RIGHT";z[z.BOTTOM=2]="BOTTOM";z[z.TOP=3]="TOP";z[z.NEAR=4]="NEAR";z[z.FAR=5]="FAR"})(d.PlaneIndex||(d.PlaneIndex={}));d.PointIndex=void 0;(function(z){z[z.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT";z[z.NEAR_BOTTOM_RIGHT=
1]="NEAR_BOTTOM_RIGHT";z[z.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT";z[z.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT";z[z.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT";z[z.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT";z[z.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT";z[z.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"})(d.PointIndex||(d.PointIndex={}));const R={bottom:[d.PointIndex.FAR_BOTTOM_RIGHT,d.PointIndex.NEAR_BOTTOM_RIGHT,d.PointIndex.NEAR_BOTTOM_LEFT,d.PointIndex.FAR_BOTTOM_LEFT],near:[d.PointIndex.NEAR_BOTTOM_LEFT,d.PointIndex.NEAR_BOTTOM_RIGHT,d.PointIndex.NEAR_TOP_RIGHT,
d.PointIndex.NEAR_TOP_LEFT],far:[d.PointIndex.FAR_BOTTOM_RIGHT,d.PointIndex.FAR_BOTTOM_LEFT,d.PointIndex.FAR_TOP_LEFT,d.PointIndex.FAR_TOP_RIGHT],right:[d.PointIndex.NEAR_BOTTOM_RIGHT,d.PointIndex.FAR_BOTTOM_RIGHT,d.PointIndex.FAR_TOP_RIGHT,d.PointIndex.NEAR_TOP_RIGHT],left:[d.PointIndex.FAR_BOTTOM_LEFT,d.PointIndex.NEAR_BOTTOM_LEFT,d.PointIndex.NEAR_TOP_LEFT,d.PointIndex.FAR_TOP_LEFT],top:[d.PointIndex.FAR_TOP_LEFT,d.PointIndex.NEAR_TOP_LEFT,d.PointIndex.NEAR_TOP_RIGHT,d.PointIndex.FAR_TOP_RIGHT]};
d.NumPlanes=void 0;(function(z){z[z.NUM=6]="NUM"})(d.NumPlanes||(d.NumPlanes={}));d.NumPoints=void 0;(function(z){z[z.NUM=8]="NUM"})(d.NumPoints||(d.NumPoints={}));const A=[m.fromValues(-1,-1,-1,1),m.fromValues(1,-1,-1,1),m.fromValues(1,1,-1,1),m.fromValues(-1,1,-1,1),m.fromValues(-1,-1,1,1),m.fromValues(1,-1,1,1),m.fromValues(1,1,1,1),m.fromValues(-1,1,1,1)],f=new b.ObjectStack(n.create),r=p();d.computePlanes=G;d.copy=function(z,Q){for(let D=0;D<d.NumPlanes.NUM;D++)g.copy(z[D],Q[D])};d.create=function(z){return z?
[g.create(z[0]),g.create(z[1]),g.create(z[2]),g.create(z[3]),g.create(z[4]),g.create(z[5])]:[g.create(),g.create(),g.create(),g.create(),g.create(),g.create()]};d.createPoints=p;d.fromMatrix=function(z,Q,D,C=r){z=W.multiply(k.sm4d.get(),Q,z);W.invert(z,z);for(Q=0;Q<d.NumPoints.NUM;++Q){const J=y.transformMat4(k.sv4d.get(),A[Q],z);F.set(C[Q],J[0]/J[3],J[1]/J[3],J[2]/J[3])}G(D,C)};d.intersectClipRay=function(z,Q){for(let D=0;D<d.NumPlanes.NUM;D++)if(!g.clipInfinite(z[D],Q))return!1;return!0};d.intersectsLineSegment=
function(z,Q,D){return K(z,n.fromLineSegmentAndDirection(Q,D,f.get()))};d.intersectsPoint=function(z,Q){for(let D=0;D<d.NumPlanes.NUM;D++)if(0<g.signedDistance(z[D],Q))return!1;return!0};d.intersectsRay=function(z,Q){return K(z,n.fromRay(Q,f.get()))};d.intersectsSphere=function(z,Q){for(let D=0;D<d.NumPlanes.NUM;D++){const C=z[D];if(C[0]*Q[0]+C[1]*Q[1]+C[2]*Q[2]+C[3]>=Q[3])return!1}return!0};d.planePointIndices=R;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/clipRay":function(){define(["exports",
"../../core/ObjectStack","../../chunks/vec3","./ray"],function(d,b,W,F){function I(g){return g?{ray:F.create(g.ray),c0:g.c0,c1:g.c1}:{ray:F.create(),c0:0,c1:Number.MAX_VALUE}}function y(g,k,p,G=I()){F.copy(g,G.ray);G.c0=k;G.c1=p;return G}function m(g,k,p){return W.add(p,g.ray.origin,W.scale(p,g.ray.direction,k))}const n=new b.ObjectStack(()=>I());d.copy=function(g,k=I()){return y(g.ray,g.c0,g.c1,k)};d.create=I;d.fromLineSegmentAndDirection=function(g,k,p=I()){const G=W.length(g.vector);F.fromValues(g.origin,
k,p.ray);p.c0=0;p.c1=G;return p};d.fromRay=function(g,k=I()){F.copy(g,k.ray);k.c0=0;k.c1=Number.MAX_VALUE;return k};d.fromValues=y;d.getAt=m;d.getEnd=function(g,k){return m(g,g.c1,k)};d.getStart=function(g,k){return m(g,g.c0,k)};d.wrap=function(g,k,p){const G=n.get();G.ray=g;G.c0=k;G.c1=p;return G};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/plane":function(){define("exports ../../core/mathUtils ../../core/maybe ../../chunks/vec3 ../../chunks/vec3f64 ../../chunks/sphere ./vector ./vectorStacks ../../views/3d/support/mathUtils".split(" "),
function(d,b,W,F,I,y,m,n,g){function k(x=M){return[x[0],x[1],x[2],x[3]]}function p(x,E){return G(E[0],E[1],E[2],E[3],x)}function G(x,E,ka,V,ea=k()){ea[0]=x;ea[1]=E;ea[2]=ka;ea[3]=V;return ea}function K(x,E,ka){var V=E[0]*E[0]+E[1]*E[1]+E[2]*E[2];V=1E-5<Math.abs(V-1)&&1E-12<V?1/Math.sqrt(V):1;ka[0]=E[0]*V;ka[1]=E[1]*V;ka[2]=E[2]*V;ka[3]=-(ka[0]*x[0]+ka[1]*x[1]+ka[2]*x[2]);return ka}function R(x,E,ka,V=k()){var ea=ka[0]-E[0],O=ka[1]-E[1],na=ka[2]-E[2];ka=x[0]-E[0];const ta=x[1]-E[1],xa=x[2]-E[2];E=
O*xa-na*ta;na=na*ka-ea*xa;ea=ea*ta-O*ka;O=E*E+na*na+ea*ea;O=1E-5<Math.abs(O-1)&&1E-12<O?1/Math.sqrt(O):1;V[0]=E*O;V[1]=na*O;V[2]=ea*O;V[3]=-(V[0]*x[0]+V[1]*x[1]+V[2]*x[2]);return V}function A(x,E,ka,V,ea){const O=x.length/3;if(3>O)return!1;F.set(Q,x[3*ka],x[3*ka+1],x[3*ka+2]);let na=V;for(var ta=!1;na<O-1&&!ta;)ta=3*na,F.set(D,x[ta],x[ta+1],x[ta+2]),na++,ta=!F.exactEquals(Q,D);if(!ta)return!1;na=Math.max(na,ea);for(ta=!1;na<O&&!ta;)ta=3*na,F.set(C,x[ta],x[ta+1],x[ta+2]),na++,F.subtract(J,Q,D),F.normalize(J,
J),F.subtract(u,D,C),F.normalize(u,u),ta=!F.exactEquals(Q,C)&&!F.exactEquals(D,C)&&.99619469809>Math.abs(F.dot(J,u));if(!ta)return 0===ka&&1===V&&2===ea?!1:A(x,E,0,1,2);R(Q,D,C,E);return!0}function f(x,E,ka){x=F.scale(n.sv3d.get(),x,F.dot(x,E));F.subtract(ka,E,x);return ka}function r(x,E){return F.dot(x,E)+x[3]}function z(x,E,ka,V,ea){const O=F.dot(x,ka);if(0===O)return!1;x=-(F.dot(x,E)+x[3])/O;V&L.CLAMP&&(x=b.clamp(x,0,1));if(!(V&L.INFINITE_MIN)&&0>x||!(V&L.INFINITE_MAX)&&1<x)return!1;F.add(ea,E,
F.scale(ea,ka,x));return!0}const Q=I.create(),D=I.create(),C=I.create(),J=I.create(),u=I.create(),M=[0,0,1,0];var L;(function(x){x[x.NONE=0]="NONE";x[x.CLAMP=1]="CLAMP";x[x.INFINITE_MIN=4]="INFINITE_MIN";x[x.INFINITE_MAX=8]="INFINITE_MAX"})(L||(L={}));const Y=L.INFINITE_MIN|L.INFINITE_MAX,X=L.INFINITE_MAX;d.UP=M;d.clip=function(x,E){const ka=F.dot(x,E.ray.direction);x=-r(x,E.ray.origin);if(0>x&&0<=ka)return!1;if(-1E-6<ka&&1E-6>ka)return 0<x;if((0>x||0>ka)&&!(0>x&&0>ka))return!0;x/=ka;0<ka?x<E.c1&&
(E.c1=x):x>E.c0&&(E.c0=x);return E.c0<=E.c1};d.clipInfinite=function(x,E){const ka=F.dot(x,E.ray.direction);x=-r(x,E.ray.origin);if(-1E-6<ka&&1E-6>ka)return 0<x;x/=ka;0<ka?x<E.c1&&(E.c1=x):x>E.c0&&(E.c0=x);return E.c0<=E.c1};d.copy=p;d.create=k;d.distance=function(x,E){return Math.abs(r(x,E))};d.fromManyPoints=function(x,E){return A(x,E,0,1,2)};d.fromManyPointsSampleAt=A;d.fromNormalAndOffset=function(x,E,ka){F.copy(ka,x);ka[3]=E;return ka};d.fromPoints=R;d.fromPositionAndNormal=K;d.fromValues=G;
d.fromVectorsAndPoint=function(x,E,ka,V){F.cross(C,E,x);return K(ka,C,V)};d.intersectLine=function(x,E,ka,V){ka=F.subtract(n.sv3d.get(),ka,E);return z(x,E,ka,Y,V)};d.intersectLineSegment=function(x,E,ka){return z(x,E.origin,E.vector,L.NONE,ka)};d.intersectLineSegmentClamp=function(x,E,ka){return z(x,E.origin,E.vector,L.CLAMP,ka)};d.intersectRay=function(x,E,ka){return W.isSome(E)?z(x,E.origin,E.direction,X,ka):!1};d.isPointInside=function(x,E){return 0<=r(x,E)};d.isPointOutside=function(x,E){return 0>
r(x,E)};d.isSphereFullyInside=function(x,E){return 0<=r(x,y.getCenter(E))-E[3]};d.isSphereFullyOutside=function(x,E){return 0>r(x,y.getCenter(E))+E[3]};d.negate=function(x,E){E[0]=-x[0];E[1]=-x[1];E[2]=-x[2];E[3]=-x[3];return E};d.normal=function(x){return x};d.projectPoint=function(x,E,ka){const V=F.scale(n.sv3d.get(),x,-x[3]);E=F.subtract(n.sv3d.get(),E,V);x=f(x,E,n.sv3d.get());F.add(ka,x,V);return ka};d.projectPointLocal=function(x,E,ka,V){var ea=n.sv3d.get(),O=n.sv3d.get();g.tangentFrame(x,ea,
O);E=F.subtract(n.sv3d.get(),ka,E);ea=m.projectPointSignedLength(ea,E);O=m.projectPointSignedLength(O,E);x=m.projectPointSignedLength(x,E);return F.set(V,ea,O,x)};d.projectVector=f;d.setOffsetFromPoint=function(x,E,ka){E!==x&&p(x,E);x[3]=-F.dot(x,ka);return x};d.signedDistance=r;d.wrap=function(x=M[0],E=M[1],ka=M[2],V=M[3]){return G(x,E,ka,V,n.sv4d.get())};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils",
"../../../chunks/vec3","../../../chunks/vec3f64"],function(d,b,W,F){const I=F.create(),y=F.create(),m=F.create(),n=F.create(),g=F.create();d.angle=function(k,p,G){k=W.normalize(n,k);p=W.normalize(g,p);const K=b.acosClamped(W.dot(k,p));return G&&(k=W.cross(m,k,p),0>W.dot(k,G))?-K:K};d.bilerp=function(k,p,G,K,R,A){k+=(p-k)*R;return k+(G+(K-G)*R-k)*A};d.cosCapped=function(k,p){return k>p?Math.cos(p):Math.cos(k)};d.fovx2fovy=function(k,p,G){return 2*Math.atan(G*Math.tan(.5*k)/p)};d.fovy2fovx=function(k,
p,G){return 2*Math.atan(p*Math.tan(.5*k)/G)};d.makeOrthonormal=function(k,p,G){G=G||k;const K=W.dot(k,p);W.set(G,k[0]-K*p[0],k[1]-K*p[1],k[2]-K*p[2]);W.normalize(G,G)};d.makePiecewiseLinearFunction=function(k){const p=k.length;return G=>{if(G<=k[0][0])return k[0][1];if(G>=k[p-1][0])return k[p-1][1];let K=1;for(;G>k[K][0];)K++;const R=k[K][0];G=(R-G)/(R-k[K-1][0]);return G*k[K-1][1]+(1-G)*k[K][1]}};d.maxScale=function(k){return Math.sqrt(Math.max(k[0]*k[0]+k[4]*k[4]+k[8]*k[8],k[1]*k[1]+k[5]*k[5]+k[9]*
k[9],k[2]*k[2]+k[6]*k[6]+k[10]*k[10]))};d.moduloPositive=function(k,p){return(k%p+p)%p};d.planeFromPoints=function(k,p,G,K){W.subtract(I,p,k);W.subtract(y,G,k);W.cross(K,I,y);W.normalize(K,K);K[3]=-W.dot(k,K)};d.scaleFromMatrix=function(k,p){W.set(k,Math.sqrt(p[0]*p[0]+p[4]*p[4]+p[8]*p[8]),Math.sqrt(p[1]*p[1]+p[5]*p[5]+p[9]*p[9]),Math.sqrt(p[2]*p[2]+p[6]*p[6]+p[10]*p[10]));return k};d.slerp=function(k,p,G,K=F.create()){const R=W.length(k);var A=W.length(p),f=W.dot(k,p)/(R*A);if(.9999999999999999>
f){f=Math.acos(f);const r=((1-G)*R+G*A)/Math.sin(f);A=r/A*Math.sin(G*f);W.scale(n,k,r/R*Math.sin((1-G)*f));W.scale(g,p,A);return W.add(K,n,g)}return W.lerp(K,k,p,G)};d.slerpTangent=function(k,p,G,K=F.create(),R=F.create()){const A=W.length(k),f=W.length(p);var r=W.dot(k,p)/(A*f);if(.9999999999999999>r){r=Math.acos(r);const z=Math.sin(r),Q=Math.sin(G*r),D=Math.sin((1-G)*r),C=(1-G)*A+G*f,J=C/z,u=J/f*Q;W.scale(n,k,J/A*D);W.scale(g,p,u);W.add(K,n,g);W.scale(n,k,1/A*(-Math.cos((1-G)*r)*r*C+D*(-A+f)));
W.scale(g,p,1/f*(Math.cos(G*r)*r*C+Q*(-A+f)));W.add(R,n,g);W.scale(R,R,1/z);return R}W.lerp(K,k,p,G);W.subtract(R,p,k);W.normalize(R,R);return R};d.tangentFrame=function(k,p,G){Math.abs(k[0])>Math.abs(k[1])?W.set(p,0,1,0):W.set(p,1,0,0);W.cross(G,k,p);W.normalize(p,p);W.cross(p,G,k);W.normalize(G,G)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec2f64",
"../../../../chunks/vec4","../../../../chunks/vec4f64"],function(d,b,W,F,I){function y(g,k){if(!g)throw k=k||"Assertion",new n(`${k} at ${Error(k).stack}`);}const m=I.create();let n=function(){function g(k){this.message=k}g.prototype.toString=function(){return`AssertException: ${this.message}`};return b._createClass(g)}();d.assert=y;d.isTranslationMatrix=function(g){return 1===g[0]&&0===g[1]&&0===g[2]&&0===g[3]&&0===g[4]&&1===g[5]&&0===g[6]&&0===g[7]&&0===g[8]&&0===g[9]&&1===g[10]&&0===g[11]&&1===
g[15]};d.logWithBase=function(g,k){return Math.log(g)/Math.log(k)};d.project=function(g,k,p,G,K){m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=1;F.transformMat4(m,m,k);2<K.length&&(K[2]=-m[2]);F.transformMat4(m,m,p);y(0!==m[3]);K[0]=m[0]/m[3];K[1]=m[1]/m[3];K[2]=m[2]/m[3];K[0]=(.5*K[0]+.5)*G[2]+G[0];K[1]=(.5*K[1]+.5)*G[3]+G[1]};d.rayBoxTest=function(g,k,p,G){let K,R=(p[0]-g[0])/k[0],A=(G[0]-g[0])/k[0];R>A&&(K=R,R=A,A=K);let f=(p[1]-g[1])/k[1],r=(G[1]-g[1])/k[1];f>r&&(K=f,f=r,r=K);if(R>r||f>A)return!1;f>R&&(R=
f);r<A&&(A=r);p=(p[2]-g[2])/k[2];g=(G[2]-g[2])/k[2];p>g&&(K=p,p=g,g=K);if(R>g||p>A)return!1;g<A&&(A=g);return 0>A?!1:!0};d.rayRay2D=function(g,k,p,G,K,R=W.create()){const A=(G[K]-p[K])*(k[0]-g[0])-(G[0]-p[0])*(k[K]-g[K]);if(0===A)return!1;p=((G[0]-p[0])*(g[K]-p[K])-(G[K]-p[K])*(g[0]-p[0]))/A;R[0]=g[0]+p*(k[0]-g[0]);R[1]=g[K]+p*(k[K]-g[K]);return!0};d.setMatrixTranslation3=function(g,k,p,G){g[12]=k;g[13]=p;g[14]=G};d.verify=function(g,k){g||console.warn("Verify failed: "+(k||"")+"\n"+Error("verify").stack)};
Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../geometry/support/meshUtils/deduplicate ../../../support/meshProcessing ../../../support/buffer/InterleavedLayout ../VertexAttribute ./bufferLayouts ./edgeBufferWriters ./edgePreprocessing".split(" "),function(d,b,W,F,I,y,m,n,g){function k(R,A,f,r){if(A)return A=F.computeNeighbors(f,r,
R.count),new p(f,r,A,R);R=W.deduplicate(R.buffer,R.stride/4,{originalIndices:f,originalIndicesLength:r});r=F.computeNeighbors(R.indices,r,R.uniqueCount);return{faces:R.indices,facesLength:R.indices.length,neighbors:r,vertices:m.EdgeInputBufferLayout.createView(R.buffer)}}let p=b._createClass(function(R,A,f,r){this.faces=R;this.facesLength=A;this.neighbors=f;this.vertices=r});const G=new n.RegularEdgeBufferWriter,K=new n.SilhouetteEdgeBufferWriter;b=I.newLayout().vec3f(y.VertexAttribute.POSITION0).vec3f(y.VertexAttribute.POSITION1);
I=I.newLayout().vec3f(y.VertexAttribute.POSITION0).vec3f(y.VertexAttribute.POSITION1).u16(y.VertexAttribute.COMPONENTINDEX).u16(y.VertexAttribute.U16PADDING,{glPadding:!0});d.extract=function(R){const A=k(R.data,R.skipDeduplicate,R.indices,R.indicesLength);G.updateSettings(R.writerSettings);K.updateSettings(R.writerSettings);return g.extractEdges(A,G,K)};d.extractComponentsEdgeLocationsLayout=I;d.extractEdgeInformation=k;d.extractEdgeLocationsLayout=b;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/meshUtils/deduplicate":function(){define(["exports","../../../core/mathUtils","../Indices"],function(d,b,W){let F=null;d.deduplicate=function(I,y,m){var n=Array.isArray(I),g=n?I.length/y:I.byteLength/(4*y),k=n?I:new Uint32Array(I,0,g*y),p=m?.minReduction??0;const G=(I=m?.originalIndices||null)?I.length:0;var K=m?.componentOffsets||null;m=0;if(K)for(var R=0;R<K.length-1;R++){var A=K[R+1]-K[R];A>m&&(m=A)}else m=g;var f=Math.floor(1.1*m)+1;if(null==F||F.length<2*f)F=new Uint32Array(b.nextHighestPowerOfTwo(2*
f));for(m=0;m<2*f;m++)F[m]=0;m=0;const r=(A=!!K&&!!I)?G:g;R=W.newIndexArray(g);var z=new Uint32Array(G),Q=0!==p?Math.ceil(7.84*1.96/(p*p)*p*(1-p)):r,D=1,C=K?K[1]:r;for(let Y=0;Y<r;Y++){if(Y===Q){var J=1-m/Y;if(J+1.96*Math.sqrt(J*(1-J)/Y)<p)return null;Q*=2}if(Y===C){for(C=0;C<2*f;C++)F[C]=0;if(I)for(C=K[D-1];C<K[D];C++)z[C]=R[I[C]];C=K[++D]}J=A?I[Y]:Y;const X=J*y;var u=0;for(var M=0;M<y;M++)u=k[X+M]+u|0,u=u+(u<<11)+(u>>>2)|0;u>>>=0;M=u%f;let x=m;for(;0!==F[2*M+1];){if(F[2*M]===u){const E=F[2*M+1]-
1;var L=E*y;a:{for(let ka=0;ka<y;ka++)if(k[X+ka]!==k[L+ka]){L=!1;break a}L=!0}if(L){x=R[E];break}}M++;M>=f&&(M-=f)}x===m&&(F[2*M]=u,F[2*M+1]=J+1,m++);R[J]=x}if(0!==p&&1-m/g<p)return null;if(A){for(g=K[D-1];g<z.length;g++)z[g]=R[I[g]];R=W.compactIndices(z)}n=n?Array(m):new Uint32Array(m*y);m=0;for(Q=0;Q<r;Q++)if(R[Q]===m){g=k;p=(A?I[Q]:Q)*y;K=n;f=m*y;z=y;for(D=0;D<z;D++)K[f+D]=g[p+D];m++}if(I&&!A){y=new Uint32Array(G);for(k=0;k<y.length;k++)y[k]=R[I[k]];R=W.compactIndices(y)}return{buffer:Array.isArray(n)?
n:n.buffer,indices:R,uniqueCount:m}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Indices":function(){define(["exports","../../core/typedArrayUtil"],function(d,b){let W=(()=>{const m=new Uint32Array(131072);for(let n=0;n<m.length;++n)m[n]=n;return m})();const F=[0],I=(()=>{const m=new Uint16Array(65536);for(let n=0;n<m.length;++n)m[n]=n;return m})();let y=new Uint16Array(65536);d.compactIndices=function(m){if(b.isArray(m)){if(m.length<b.NATIVE_ARRAY_MAX_SIZE)return m;
for(const n of m)if(65536<=n)return new Uint32Array(m);return new Uint16Array(m)}if(m.length<b.NATIVE_ARRAY_MAX_SIZE)return Array.from(m);if(m.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT)return m;for(const n of m)if(65536<=n)return m;return new Uint16Array(m)};d.getContinuousIndexArray=function(m){if(1===m)return F;if(m<b.NATIVE_ARRAY_MAX_SIZE)return Array.from(new Uint16Array(I.buffer,0,m));if(m<I.length)return new Uint16Array(I.buffer,0,m);if(m>W.length){W=new Uint32Array(Math.max(2*W.length,
m));for(let n=0;n<W.length;n++)W[n]=n}return new Uint32Array(W.buffer,0,m)};d.getZeroIndexArray=function(m){if(1===m)return F;if(m<b.NATIVE_ARRAY_MAX_SIZE)return Array(m).fill(0);m>y.length&&(y=new Uint16Array(Math.max(2*y.length,m)));return new Uint16Array(y.buffer,0,m)};d.newIndexArray=function(m){return m<=b.NATIVE_ARRAY_MAX_SIZE?Array(m):65536>=m?new Uint16Array(m):new Uint32Array(m)};d.newIntArray=function(m){return m<=b.NATIVE_ARRAY_MAX_SIZE?Array(m):new Uint32Array(m)};Object.defineProperty(d,
Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/meshProcessing":function(){define(["exports"],function(d){d.computeNeighbors=function(b,W,F){W/=3;const I=new Uint32Array(F+1),y=new Uint32Array(F+1);var m=(f,r)=>{f<r?I[f+1]++:y[r+1]++};for(var n=0;n<W;n++){var g=b[3*n],k=b[3*n+1],p=b[3*n+2];m(g,k);m(k,p);m(p,g)}n=m=0;for(g=0;g<F;g++)k=I[g+1],p=y[g+1],I[g+1]=m,y[g+1]=n,m+=k,n+=p;const G=new Uint32Array(6*W),K=I[F];m=(f,r,z)=>{f<r?(f=I[f+1]++,G[2*f]=r,G[2*f+1]=z):(r=y[r+1]++,G[2*K+2*r]=
f,G[2*K+2*r+1]=z)};for(n=0;n<W;n++)g=b[3*n],k=b[3*n+1],p=b[3*n+2],m(g,k,n),m(k,p,n),m(p,g,n);m=(f,r)=>{const z=2*f;f=r-f;for(r=1;r<f;r++){const Q=G[z+2*r],D=G[z+2*r+1];let C=r-1;for(C;0<=C&&G[z+2*C]>Q;C--)G[z+2*C+2]=G[z+2*C],G[z+2*C+3]=G[z+2*C+1];G[z+2*C+2]=Q;G[z+2*C+3]=D}};for(n=0;n<F;n++)m(I[n],I[n+1]),m(K+y[n],K+y[n+1]);const R=new Int32Array(3*W),A=(f,r)=>f===b[3*r]?0:f===b[3*r+1]?1:f===b[3*r+2]?2:-1;W=(f,r)=>{f=A(f,r);R[3*r+f]=-1};m=(f,r,z,Q)=>{f=A(f,r);R[3*r+f]=Q;z=A(z,Q);R[3*Q+z]=r};for(n=
0;n<F;n++){g=I[n];k=I[n+1];p=y[n];const f=y[n+1];for(;g<k&&p<f;){const r=G[2*g],z=G[2*K+2*p];r===z?(m(n,G[2*g+1],z,G[2*K+2*p+1]),g++,p++):r<z?(W(n,G[2*g+1]),g++):(W(z,G[2*K+2*p+1]),p++)}for(;g<k;)W(n,G[2*g+1]),g++;for(;p<f;)W(G[2*K+2*p],G[2*K+2*p+1]),p++}return R};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../geometry/support/buffer/BufferView",
"../../../../geometry/support/buffer/types"],function(d,b,W,F){let I=function(){function m(g,k){this.layout=g;this.buffer="number"===typeof k?new ArrayBuffer(k*g.stride):k;for(const p of g.fieldNames)k=g.fields.get(p),this[p]=new k.constructor(this.buffer,k.offset,this.stride)}var n=m.prototype;n.getField=function(g,k){return(g=this[g])&&g.elementCount===k.ElementCount&&g.elementType===k.ElementType?g:null};n.slice=function(g,k){return new m(this.layout,this.buffer.slice(g*this.stride,k*this.stride))};
n.copyFrom=function(g,k,p,G){const K=this.stride;0===K%4?(g=new Uint32Array(g.buffer,k*K,G*K/4),(new Uint32Array(this.buffer,p*K,G*K/4)).set(g)):(g=new Uint8Array(g.buffer,k*K,G*K),(new Uint8Array(this.buffer,p*K,G*K)).set(g))};b._createClass(m,[{key:"stride",get:function(){return this.layout.stride}},{key:"count",get:function(){return this.buffer.byteLength/this.stride}},{key:"byteLength",get:function(){return this.buffer.byteLength}}]);return m}(),y=function(){function m(){this.stride=0;this.fields=
new Map;this.fieldNames=[]}var n=m.prototype;n.vec2f=function(g,k){this._appendField(g,W.BufferViewVec2f,k);return this};n.vec2f64=function(g,k){this._appendField(g,W.BufferViewVec2f64,k);return this};n.vec3f=function(g,k){this._appendField(g,W.BufferViewVec3f,k);return this};n.vec3f64=function(g,k){this._appendField(g,W.BufferViewVec3f64,k);return this};n.vec4f=function(g,k){this._appendField(g,W.BufferViewVec4f,k);return this};n.vec4f64=function(g,k){this._appendField(g,W.BufferViewVec4f64,k);return this};
n.mat3f=function(g,k){this._appendField(g,W.BufferViewMat3f,k);return this};n.mat3f64=function(g,k){this._appendField(g,W.BufferViewMat3f64,k);return this};n.mat4f=function(g,k){this._appendField(g,W.BufferViewMat4f,k);return this};n.mat4f64=function(g,k){this._appendField(g,W.BufferViewMat4f64,k);return this};n.vec4u8=function(g,k){this._appendField(g,W.BufferViewVec4u8,k);return this};n.f32=function(g,k){this._appendField(g,W.BufferViewFloat,k);return this};n.f64=function(g,k){this._appendField(g,
W.BufferViewFloat64,k);return this};n.u8=function(g,k){this._appendField(g,W.BufferViewUint8,k);return this};n.u16=function(g,k){this._appendField(g,W.BufferViewUint16,k);return this};n.i8=function(g,k){this._appendField(g,W.BufferViewInt8,k);return this};n.vec2i8=function(g,k){this._appendField(g,W.BufferViewVec2i8,k);return this};n.vec2i16=function(g,k){this._appendField(g,W.BufferViewVec2i16,k);return this};n.vec2u8=function(g,k){this._appendField(g,W.BufferViewVec2u8,k);return this};n.vec4u16=
function(g,k){this._appendField(g,W.BufferViewVec4u16,k);return this};n.u32=function(g,k){this._appendField(g,W.BufferViewUint32,k);return this};n._appendField=function(g,k,p){const G=k.ElementCount*F.elementTypeSize(k.ElementType);this.fields.set(g,{size:G,constructor:k,offset:this.stride,optional:p});this.stride+=G;this.fieldNames.push(g)};n.alignTo=function(g){this.stride=Math.floor((this.stride+g-1)/g)*g;return this};n.hasField=function(g){return this.fieldNames.includes(g)};n.createBuffer=function(g){return new I(this,
g)};n.createView=function(g){return new I(this,g)};n.clone=function(){const g=new m;g.stride=this.stride;g.fields=new Map;this.fields.forEach((k,p)=>g.fields.set(p,k));g.fieldNames=this.fieldNames.slice();g.BufferType=this.BufferType;return g};return b._createClass(m)}();d.InterleavedBuffer=I;d.InterleavedLayout=y;d.newLayout=function(){return new y};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),
function(d,b,W,F,I,y,m,n){let g=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float32Array,t,ca,Ea,Fa);t.elementType="f32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(I.BufferViewScalarImpl);g.ElementType="f32";let k=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float32Array,t,ca,Ea,Fa);t.elementType="f32";return t}b._inherits(w,T);var ha=b._createSuper(w);
w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(y.BufferViewVec2Impl);k.ElementType="f32";let p=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float32Array,t,ca,Ea,Fa);t.elementType="f32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,
t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(m.BufferViewVec3Impl);p.ElementType="f32";let G=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float32Array,t,ca,Ea,Fa);t.elementType="f32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(n.BufferViewVec4Impl);G.ElementType="f32";let K=
function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float32Array,t,ca,Ea,Fa);t.elementType="f32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(W.BufferViewMat3Impl);K.ElementType="f32";W=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float64Array,t,ca,Ea,Fa);t.elementType="f64";return t}b._inherits(w,
T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(W.BufferViewMat3Impl);W.ElementType="f64";let R=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float32Array,t,ca,Ea,Fa);t.elementType="f32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,
ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(F.BufferViewMat4Impl);R.ElementType="f32";F=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float64Array,t,ca,Ea,Fa);t.elementType="f64";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(F.BufferViewMat4Impl);F.ElementType=
"f64";let A=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float64Array,t,ca,Ea,Fa);t.elementType="f64";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(I.BufferViewScalarImpl);A.ElementType="f64";let f=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float64Array,t,ca,Ea,Fa);t.elementType="f64";return t}
b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(y.BufferViewVec2Impl);f.ElementType="f64";let r=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float64Array,t,ca,Ea,Fa);t.elementType="f64";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=
function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(m.BufferViewVec3Impl);r.ElementType="f64";let z=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Float64Array,t,ca,Ea,Fa);t.elementType="f64";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(n.BufferViewVec4Impl);
z.ElementType="f64";let Q=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint8Array,t,ca,Ea,Fa);t.elementType="u8";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(I.BufferViewScalarImpl);Q.ElementType="u8";let D=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint8Array,t,ca,Ea,Fa);t.elementType="u8";
return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(y.BufferViewVec2Impl);D.ElementType="u8";let C=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint8Array,t,ca,Ea,Fa);t.elementType="u8";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=
function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(m.BufferViewVec3Impl);C.ElementType="u8";let J=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint8Array,t,ca,Ea,Fa);t.elementType="u8";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(n.BufferViewVec4Impl);
J.ElementType="u8";let u=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint16Array,t,ca,Ea,Fa);t.elementType="u16";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(I.BufferViewScalarImpl);u.ElementType="u16";let M=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint16Array,t,ca,Ea,Fa);t.elementType=
"u16";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(y.BufferViewVec2Impl);M.ElementType="u16";let L=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint16Array,t,ca,Ea,Fa);t.elementType="u16";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,
t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(m.BufferViewVec3Impl);L.ElementType="u16";let Y=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint16Array,t,ca,Ea,Fa);t.elementType="u16";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(n.BufferViewVec4Impl);
Y.ElementType="u16";let X=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint32Array,t,ca,Ea,Fa);t.elementType="u32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(I.BufferViewScalarImpl);X.ElementType="u32";let x=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint32Array,t,ca,Ea,Fa);t.elementType=
"u32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(y.BufferViewVec2Impl);x.ElementType="u32";let E=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint32Array,t,ca,Ea,Fa);t.elementType="u32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,
t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(m.BufferViewVec3Impl);E.ElementType="u32";let ka=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Uint32Array,t,ca,Ea,Fa);t.elementType="u32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(n.BufferViewVec4Impl);
ka.ElementType="u32";let V=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int8Array,t,ca,Ea,Fa);t.elementType="i8";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(I.BufferViewScalarImpl);V.ElementType="i8";let ea=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int8Array,t,ca,Ea,Fa);t.elementType="i8";
return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(y.BufferViewVec2Impl);ea.ElementType="i8";let O=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int8Array,t,ca,Ea,Fa);t.elementType="i8";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=
function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(m.BufferViewVec3Impl);O.ElementType="i8";let na=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int8Array,t,ca,Ea,Fa);t.elementType="i8";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(n.BufferViewVec4Impl);
na.ElementType="i8";let ta=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int16Array,t,ca,Ea,Fa);t.elementType="i16";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(I.BufferViewScalarImpl);ta.ElementType="i16";let xa=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int16Array,t,ca,Ea,Fa);t.elementType=
"i16";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(y.BufferViewVec2Impl);xa.ElementType="i16";let ja=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int16Array,t,ca,Ea,Fa);t.elementType="i16";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,
t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(m.BufferViewVec3Impl);ja.ElementType="i16";let S=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int16Array,t,ca,Ea,Fa);t.elementType="i16";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(n.BufferViewVec4Impl);
S.ElementType="i16";I=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int32Array,t,ca,Ea,Fa);t.elementType="i32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(I.BufferViewScalarImpl);I.ElementType="i32";y=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int32Array,t,ca,Ea,Fa);t.elementType="i32";return t}
b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(y.BufferViewVec2Impl);y.ElementType="i32";m=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int32Array,t,ca,Ea,Fa);t.elementType="i32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=
function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(m.BufferViewVec3Impl);m.ElementType="i32";n=function(T){function w(t,ca=0,Ea,Fa){t=ha.call(this,Int32Array,t,ca,Ea,Fa);t.elementType="i32";return t}b._inherits(w,T);var ha=b._createSuper(w);w.prototype.slice=function(t,ca){return this.sliceBuffer(w,t,ca)};w.fromTypedArray=function(t,ca){return new w(t.buffer,t.byteOffset,ca,t.byteOffset+t.byteLength)};return b._createClass(w)}(n.BufferViewVec4Impl);
n.ElementType="i32";d.BufferViewFloat=g;d.BufferViewFloat64=A;d.BufferViewInt16=ta;d.BufferViewInt32=I;d.BufferViewInt8=V;d.BufferViewMat3f=K;d.BufferViewMat3f64=W;d.BufferViewMat4f=R;d.BufferViewMat4f64=F;d.BufferViewUint16=u;d.BufferViewUint32=X;d.BufferViewUint8=Q;d.BufferViewVec2f=k;d.BufferViewVec2f64=f;d.BufferViewVec2i16=xa;d.BufferViewVec2i32=y;d.BufferViewVec2i8=ea;d.BufferViewVec2u16=M;d.BufferViewVec2u32=x;d.BufferViewVec2u8=D;d.BufferViewVec3f=p;d.BufferViewVec3f64=r;d.BufferViewVec3i16=
ja;d.BufferViewVec3i32=m;d.BufferViewVec3i8=O;d.BufferViewVec3u16=L;d.BufferViewVec3u32=E;d.BufferViewVec3u8=C;d.BufferViewVec4f=G;d.BufferViewVec4f64=z;d.BufferViewVec4i16=S;d.BufferViewVec4i32=n;d.BufferViewVec4i8=na;d.BufferViewVec4u16=Y;d.BufferViewVec4u32=ka;d.BufferViewVec4u8=J;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(d,b){let W=function(){function F(y,
m,n=0,g,k){this.TypedArrayConstructor=y;this.elementCount=9;y=this.TypedArrayConstructor;void 0===g&&(g=9*y.BYTES_PER_ELEMENT);const p=0===m.byteLength?0:n;this.typedBuffer=null==k?new y(m,p):new y(m,p,(k-n)/y.BYTES_PER_ELEMENT);this.typedBufferStride=g/y.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var I=F.prototype;I.sliceBuffer=function(y,m,n=this.count-m){m=this.typedBuffer.byteOffset+
m*this.stride;return new y(this.buffer,m,this.stride,m+n*this.stride)};I.getMat=function(y,m){y*=this.typedBufferStride;for(let n=0;9>n;n++)m[n]=this.typedBuffer[y++];return m};I.setMat=function(y,m){y*=this.typedBufferStride;for(let n=0;9>n;n++)this.typedBuffer[y++]=m[n]};I.get=function(y,m){return this.typedBuffer[y*this.typedBufferStride+m]};I.set=function(y,m,n){this.typedBuffer[y*this.typedBufferStride+m]=n};I.copyFrom=function(y,m,n){const g=this.typedBuffer,k=m.typedBuffer;y*=this.typedBufferStride;
m=n*m.typedBufferStride;for(n=0;9>n;++n)g[y++]=k[m++]};b._createClass(F,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return F}();W.ElementCount=9;d.BufferViewMat3Impl=W;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(d,b){let W=function(){function F(y,m,n=0,g,k){this.TypedArrayConstructor=y;this.elementCount=16;y=this.TypedArrayConstructor;
void 0===g&&(g=16*y.BYTES_PER_ELEMENT);const p=0===m.byteLength?0:n;this.typedBuffer=null==k?new y(m,p):new y(m,p,(k-n)/y.BYTES_PER_ELEMENT);this.typedBufferStride=g/y.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var I=F.prototype;I.sliceBuffer=function(y,m,n=this.count-m){m=this.typedBuffer.byteOffset+m*this.stride;return new y(this.buffer,m,this.stride,m+n*this.stride)};I.getMat=
function(y,m){y*=this.typedBufferStride;for(let n=0;16>n;n++)m[n]=this.typedBuffer[y++];return m};I.setMat=function(y,m){y*=this.typedBufferStride;for(let n=0;16>n;n++)this.typedBuffer[y++]=m[n]};I.get=function(y,m){return this.typedBuffer[y*this.typedBufferStride+m]};I.set=function(y,m,n){this.typedBuffer[y*this.typedBufferStride+m]=n};I.copyFrom=function(y,m,n){const g=this.typedBuffer,k=m.typedBuffer;y*=this.typedBufferStride;m=n*m.typedBufferStride;for(n=0;16>n;++n)g[y++]=k[m++]};b._createClass(F,
[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return F}();W.ElementCount=16;d.BufferViewMat4Impl=W;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(d,b){let W=function(){function F(y,m,n=0,g,k){this.TypedArrayConstructor=y;this.elementCount=1;y=this.TypedArrayConstructor;void 0===g&&(g=y.BYTES_PER_ELEMENT);const p=0===m.byteLength?
0:n;this.typedBuffer=null==k?new y(m,p):new y(m,p,(k-n)/y.BYTES_PER_ELEMENT);this.stride=g;this.typedBufferStride=g/y.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}var I=F.prototype;I.sliceBuffer=function(y,m,n=this.count-m){m=this.typedBuffer.byteOffset+m*this.stride;return new y(this.buffer,m,this.stride,m+n*this.stride)};I.get=function(y){return this.typedBuffer[y*this.typedBufferStride]};I.set=function(y,m){this.typedBuffer[y*this.typedBufferStride]=m};
b._createClass(F,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return F}();W.ElementCount=1;d.BufferViewScalarImpl=W;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec2"],function(d,b,W){let F=function(){function I(m,n,g=0,k,p){this.TypedArrayConstructor=m;this.elementCount=2;m=this.TypedArrayConstructor;void 0===k&&(k=2*
m.BYTES_PER_ELEMENT);const G=0===n.byteLength?0:g;this.typedBuffer=null==p?new m(n,G):new m(n,G,(p-g)/m.BYTES_PER_ELEMENT);this.typedBufferStride=k/m.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var y=I.prototype;y.sliceBuffer=function(m,n,g=this.count-n){n=this.typedBuffer.byteOffset+n*this.stride;return new m(this.buffer,n,this.stride,n+g*this.stride)};y.getVec=function(m,n){m*=
this.typedBufferStride;return W.set(n,this.typedBuffer[m],this.typedBuffer[m+1])};y.setVec=function(m,n){m*=this.typedBufferStride;this.typedBuffer[m++]=n[0];this.typedBuffer[m]=n[1]};y.get=function(m,n){return this.typedBuffer[m*this.typedBufferStride+n]};y.set=function(m,n,g){this.typedBuffer[m*this.typedBufferStride+n]=g};y.setValues=function(m,n,g){m*=this.typedBufferStride;this.typedBuffer[m++]=n;this.typedBuffer[m]=g};y.copyFrom=function(m,n,g){const k=this.typedBuffer,p=n.typedBuffer;m*=this.typedBufferStride;
n=g*n.typedBufferStride;k[m++]=p[n++];k[m]=p[n]};b._createClass(I,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return I}();F.ElementCount=2;d.BufferViewVec2Impl=F;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec2":function(){define(["exports","./common"],function(d,b){function W(S,T){S[0]=T[0];S[1]=T[1];return S}function F(S,T,w){S[0]=T;S[1]=w;return S}function I(S,T,w){S[0]=T[0]+w[0];S[1]=T[1]+w[1];return S}function y(S,T,w){S[0]=T[0]-w[0];S[1]=
T[1]-w[1];return S}function m(S,T,w){S[0]=T[0]*w[0];S[1]=T[1]*w[1];return S}function n(S,T,w){S[0]=T[0]/w[0];S[1]=T[1]/w[1];return S}function g(S,T){S[0]=Math.ceil(T[0]);S[1]=Math.ceil(T[1]);return S}function k(S,T){S[0]=Math.floor(T[0]);S[1]=Math.floor(T[1]);return S}function p(S,T,w){S[0]=Math.min(T[0],w[0]);S[1]=Math.min(T[1],w[1]);return S}function G(S,T,w){S[0]=Math.max(T[0],w[0]);S[1]=Math.max(T[1],w[1]);return S}function K(S,T){S[0]=Math.round(T[0]);S[1]=Math.round(T[1]);return S}function R(S,
T,w){S[0]=T[0]*w;S[1]=T[1]*w;return S}function A(S,T,w,ha){S[0]=T[0]+w[0]*ha;S[1]=T[1]+w[1]*ha;return S}function f(S,T){const w=T[0]-S[0];S=T[1]-S[1];return Math.sqrt(w*w+S*S)}function r(S,T){const w=T[0]-S[0];S=T[1]-S[1];return w*w+S*S}function z(S){const T=S[0];S=S[1];return Math.sqrt(T*T+S*S)}function Q(S){const T=S[0];S=S[1];return T*T+S*S}function D(S,T){S[0]=-T[0];S[1]=-T[1];return S}function C(S,T){S[0]=1/T[0];S[1]=1/T[1];return S}function J(S,T){var w=T[0];const ha=T[1];w=w*w+ha*ha;0<w&&(w=
1/Math.sqrt(w),S[0]=T[0]*w,S[1]=T[1]*w);return S}function u(S,T){return S[0]*T[0]+S[1]*T[1]}function M(S,T,w){T=T[0]*w[1]-T[1]*w[0];S[0]=S[1]=0;S[2]=T;return S}function L(S,T,w,ha){const t=T[0];T=T[1];S[0]=t+ha*(w[0]-t);S[1]=T+ha*(w[1]-T);return S}function Y(S,T){T=T||1;const w=2*b.RANDOM()*Math.PI;S[0]=Math.cos(w)*T;S[1]=Math.sin(w)*T;return S}function X(S,T,w){const ha=T[0];T=T[1];S[0]=w[0]*ha+w[2]*T;S[1]=w[1]*ha+w[3]*T;return S}function x(S,T,w){const ha=T[0];T=T[1];S[0]=w[0]*ha+w[2]*T+w[4];S[1]=
w[1]*ha+w[3]*T+w[5];return S}function E(S,T,w){const ha=T[0];T=T[1];S[0]=w[0]*ha+w[3]*T+w[6];S[1]=w[1]*ha+w[4]*T+w[7];return S}function ka(S,T,w){const ha=T[0];T=T[1];S[0]=w[0]*ha+w[4]*T+w[12];S[1]=w[1]*ha+w[5]*T+w[13];return S}function V(S,T,w,ha){const t=T[0]-w[0];T=T[1]-w[1];const ca=Math.sin(ha);ha=Math.cos(ha);S[0]=t*ha-T*ca+w[0];S[1]=t*ca+T*ha+w[1];return S}function ea(S,T){var w=S[0];S=S[1];const ha=T[0];T=T[1];let t=w*w+S*S;0<t&&(t=1/Math.sqrt(t));let ca=ha*ha+T*T;0<ca&&(ca=1/Math.sqrt(ca));
w=(w*ha+S*T)*t*ca;return 1<w?0:-1>w?Math.PI:Math.acos(w)}function O(S){return"vec2("+S[0]+", "+S[1]+")"}function na(S,T){return S[0]===T[0]&&S[1]===T[1]}function ta(S,T){const w=S[0];S=S[1];const ha=T[0];T=T[1];const t=b.getEpsilon();return Math.abs(w-ha)<=t*Math.max(1,Math.abs(w),Math.abs(ha))&&Math.abs(S-T)<=t*Math.max(1,Math.abs(S),Math.abs(T))}function xa(S,T,w,ha,t){let ca=T[0]-w[0];w=T[1]-w[1];t=(ha[0]*ca+ha[1]*w)*(t-1);ca=ha[0]*t;w=ha[1]*t;S[0]=T[0]+ca;S[1]=T[1]+w;return S}const ja=Object.freeze(Object.defineProperty({__proto__:null,
add:I,angle:ea,ceil:g,copy:W,cross:M,dist:f,distance:f,div:n,divide:n,dot:u,equals:ta,exactEquals:na,floor:k,inverse:C,len:z,length:z,lerp:L,max:G,min:p,mul:m,multiply:m,negate:D,normalize:J,projectAndScale:xa,random:Y,rotate:V,round:K,scale:R,scaleAndAdd:A,set:F,sqrDist:r,sqrLen:Q,squaredDistance:r,squaredLength:Q,str:O,sub:y,subtract:y,transformMat2:X,transformMat2d:x,transformMat3:E,transformMat4:ka},Symbol.toStringTag,{value:"Module"}));d.add=I;d.angle=ea;d.ceil=g;d.copy=W;d.cross=M;d.dist=f;
d.distance=f;d.div=n;d.divide=n;d.dot=u;d.equals=ta;d.exactEquals=na;d.floor=k;d.inverse=C;d.len=z;d.length=z;d.lerp=L;d.max=G;d.min=p;d.mul=m;d.multiply=m;d.negate=D;d.normalize=J;d.projectAndScale=xa;d.random=Y;d.rotate=V;d.round=K;d.scale=R;d.scaleAndAdd=A;d.set=F;d.sqrDist=r;d.sqrLen=Q;d.squaredDistance=r;d.squaredLength=Q;d.str=O;d.sub=y;d.subtract=y;d.transformMat2=X;d.transformMat2d=x;d.transformMat3=E;d.transformMat4=ka;d.vec2=ja})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports",
"../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec3"],function(d,b,W){let F=function(){function I(m,n,g=0,k,p){this.TypedArrayConstructor=m;this.elementCount=3;m=this.TypedArrayConstructor;void 0===k&&(k=3*m.BYTES_PER_ELEMENT);const G=0===n.byteLength?0:g;this.typedBuffer=null==p?new m(n,G):new m(n,G,(p-g)/m.BYTES_PER_ELEMENT);this.typedBufferStride=k/m.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}
var y=I.prototype;y.sliceBuffer=function(m,n,g=this.count-n){n=this.typedBuffer.byteOffset+n*this.stride;return new m(this.buffer,n,this.stride,n+g*this.stride)};y.getVec=function(m,n){m*=this.typedBufferStride;return W.set(n,this.typedBuffer[m],this.typedBuffer[m+1],this.typedBuffer[m+2])};y.setVec=function(m,n){m*=this.typedBufferStride;this.typedBuffer[m++]=n[0];this.typedBuffer[m++]=n[1];this.typedBuffer[m]=n[2]};y.get=function(m,n){return this.typedBuffer[m*this.typedBufferStride+n]};y.set=function(m,
n,g){this.typedBuffer[m*this.typedBufferStride+n]=g};y.setValues=function(m,n,g,k){m*=this.typedBufferStride;this.typedBuffer[m++]=n;this.typedBuffer[m++]=g;this.typedBuffer[m]=k};y.copyFrom=function(m,n,g){const k=this.typedBuffer,p=n.typedBuffer;m*=this.typedBufferStride;n=g*n.typedBufferStride;k[m++]=p[n++];k[m++]=p[n++];k[m]=p[n]};b._createClass(I,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return I}();F.ElementCount=3;d.BufferViewVec3Impl=F;Object.defineProperty(d,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec4"],function(d,b,W){let F=function(){function I(m,n,g=0,k,p){this.TypedArrayConstructor=m;this.start=g;this.elementCount=4;m=this.TypedArrayConstructor;void 0===k&&(k=4*m.BYTES_PER_ELEMENT);const G=0===n.byteLength?0:g;this.typedBuffer=null==p?new m(n,G):new m(n,G,(p-g)/m.BYTES_PER_ELEMENT);this.typedBufferStride=k/m.BYTES_PER_ELEMENT;
this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var y=I.prototype;y.sliceBuffer=function(m,n,g=this.count-n){n=this.typedBuffer.byteOffset+n*this.stride;return new m(this.buffer,n,this.stride,n+g*this.stride)};y.getVec=function(m,n){m*=this.typedBufferStride;return W.set(n,this.typedBuffer[m++],this.typedBuffer[m++],this.typedBuffer[m++],this.typedBuffer[m])};y.setVec=function(m,n){m*=this.typedBufferStride;
this.typedBuffer[m++]=n[0];this.typedBuffer[m++]=n[1];this.typedBuffer[m++]=n[2];this.typedBuffer[m]=n[3]};y.get=function(m,n){return this.typedBuffer[m*this.typedBufferStride+n]};y.set=function(m,n,g){this.typedBuffer[m*this.typedBufferStride+n]=g};y.setValues=function(m,n,g,k,p){m*=this.typedBufferStride;this.typedBuffer[m++]=n;this.typedBuffer[m++]=g;this.typedBuffer[m++]=k;this.typedBuffer[m]=p};y.copyFrom=function(m,n,g){const k=this.typedBuffer,p=n.typedBuffer;m*=this.typedBufferStride;n=g*
n.typedBufferStride;k[m++]=p[n++];k[m++]=p[n++];k[m++]=p[n++];k[m]=p[n]};b._createClass(I,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return I}();F.ElementCount=4;d.BufferViewVec4Impl=F;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/types":function(){define(["exports"],function(d){d.elementTypeSize=function(b){switch(b){case "u8":return 1;case "u16":return 2;case "u32":return 4;case "i8":return 1;case "i16":return 2;case "i32":return 4;
case "f32":return 4;case "f64":return 8}};d.isInteger=function(b){switch(b){case "u8":case "u16":case "u32":case "i8":case "i16":case "i32":return!0;case "f32":case "f64":return!1}};d.isSigned=function(b){switch(b){case "u8":case "u16":case "u32":return!1;case "i8":case "i16":case "i32":case "f32":case "f64":return!0}};d.maximumValue=function(b){switch(b){case "u8":return 255;case "u16":return 65535;case "u32":return 4294967295;case "i8":return 127;case "i16":return 32767;case "i32":return 2147483647;
case "f32":return 3.402823E38;case "f64":return 1.79769E308}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(d){d.VertexAttribute=void 0;var b=d.VertexAttribute||(d.VertexAttribute={});b.POSITION="position";b.NORMAL="normal";b.NORMALCOMPRESSED="normalCompressed";b.UV0="uv0";b.AUXPOS1="auxpos1";b.AUXPOS2="auxpos2";b.COLOR="color";b.SYMBOLCOLOR="symbolColor";b.SIZE="size";b.TANGENT="tangent";b.OFFSET=
"offset";b.SUBDIVISIONFACTOR="subdivisionFactor";b.COLORFEATUREATTRIBUTE="colorFeatureAttribute";b.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";b.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";b.DISTANCETOSTART="distanceToStart";b.UVMAPSPACE="uvMapSpace";b.BOUNDINGRECT="boundingRect";b.UVREGION="uvRegion";b.PROFILERIGHT="profileRight";b.PROFILEUP="profileUp";b.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";b.FEATUREVALUE="featureValue";b.MODELORIGINHI="modelOriginHi";b.MODELORIGINLO="modelOriginLo";
b.MODEL="model";b.MODELNORMAL="modelNormal";b.INSTANCECOLOR="instanceColor";b.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";b.LOCALTRANSFORM="localTransform";b.GLOBALTRANSFORM="globalTransform";b.BOUNDINGSPHERE="boundingSphere";b.MODELORIGIN="modelOrigin";b.MODELSCALEFACTORS="modelScaleFactors";b.FEATUREATTRIBUTE="featureAttribute";b.STATE="state";b.LODLEVEL="lodLevel";b.POSITION0="position0";b.POSITION1="position1";b.NORMALA="normalA";b.NORMALB="normalB";b.COMPONENTINDEX="componentIndex";b.VARIANTOFFSET=
"variantOffset";b.VARIANTSTROKE="variantStroke";b.VARIANTEXTENSION="variantExtension";b.U8PADDING="u8padding";b.U16PADDING="u16padding";b.SIDENESS="sideness";b.START="start";b.END="end";b.UP="up";b.EXTRUDE="extrude";b.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";b.OBJECTANDLAYERIDCOLOR_INSTANCED="objectAndLayerIdColor_instanced";Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["exports","../../../support/buffer/glUtil",
"../../../support/buffer/InterleavedLayout","../VertexAttribute"],function(d,b,W,F){const I=W.newLayout().vec3f(F.VertexAttribute.POSITION).u16(F.VertexAttribute.COMPONENTINDEX).u16(F.VertexAttribute.U16PADDING),y=W.newLayout().vec2u8(F.VertexAttribute.SIDENESS);b=b.glLayout(y);W=W.newLayout().vec3f(F.VertexAttribute.POSITION0).vec3f(F.VertexAttribute.POSITION1).u16(F.VertexAttribute.COMPONENTINDEX).u8(F.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(F.VertexAttribute.VARIANTSTROKE).u8(F.VertexAttribute.VARIANTEXTENSION,
{glNormalized:!0}).u8(F.VertexAttribute.U8PADDING,{glPadding:!0}).u16(F.VertexAttribute.U16PADDING,{glPadding:!0});const m=W.clone().vec3f(F.VertexAttribute.NORMAL),n=W.clone().vec3f(F.VertexAttribute.NORMALA).vec3f(F.VertexAttribute.NORMALB);F=new Map([[F.VertexAttribute.POSITION0,0],[F.VertexAttribute.POSITION1,1],[F.VertexAttribute.COMPONENTINDEX,2],[F.VertexAttribute.VARIANTOFFSET,3],[F.VertexAttribute.VARIANTSTROKE,4],[F.VertexAttribute.VARIANTEXTENSION,5],[F.VertexAttribute.NORMAL,6],[F.VertexAttribute.NORMALA,
6],[F.VertexAttribute.NORMALB,7],[F.VertexAttribute.SIDENESS,8]]);d.CommonInstancesLayout=W;d.EdgeInputBufferLayout=I;d.EdgeShaderAttributeLocations=F;d.RegularEdgeInstancesLayout=m;d.SilhouetteEdgeInstancesLayout=n;d.VertexLayout=y;d.glVertexLayout=b;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/glUtil":function(){define(["exports","../../../webgl/enums","../../../webgl/VertexElementDescriptor"],function(d,b,W){const F={u8:b.DataType.UNSIGNED_BYTE,
u16:b.DataType.UNSIGNED_SHORT,u32:b.DataType.UNSIGNED_INT,i8:b.DataType.BYTE,i16:b.DataType.SHORT,i32:b.DataType.INT,f32:b.DataType.FLOAT};d.glLayout=function(I,y=0){const m=I.stride;return I.fieldNames.filter(n=>{n=I.fields.get(n).optional;return!(n&&n.glPadding)}).map(n=>{const g=I.fields.get(n),k=g.constructor.ElementCount;var p=F[g.constructor.ElementType];if(!p)throw Error("BufferType not supported in WebGL");return new W.VertexElementDescriptor(n,k,p,g.offset,m,!(!g.optional||!g.optional.glNormalized),
y)})};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/RandomLCG ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../support/buffer/glUtil ./bufferLayouts".split(" "),function(d,b,W,F,I,y,m){function n(Q){const D=G;D[0]=Q.position0[0];D[1]=Q.position0[1];D[2]=Q.position0[2];D[3]=Q.position1[0];D[4]=Q.position1[1];
D[5]=Q.position1[2];R[0]=5381;for(Q=0;Q<K.length;Q++)R[0]=31*R[0]+K[Q];return R[0]}function g(Q){const D=G;D[0]=k(Q.position0[0]);D[1]=k(Q.position0[1]);D[2]=k(Q.position0[2]);D[3]=k(Q.position1[0]);D[4]=k(Q.position1[1]);D[5]=k(Q.position1[2]);R[0]=5381;for(Q=0;Q<K.length;Q++)R[0]=31*R[0]+K[Q];return R[0]}function k(Q){return Math.round(1E4*Q)/1E4}let p=function(){function Q(){}var D=Q.prototype;D.updateSettings=function(C){this.settings=C;this._edgeHashFunction=C.reducedPrecision?g:n};D.write=function(C,
J,u){var M=this._edgeHashFunction(u);z.seed=M;M=z.getIntRange(0,255);const L=z.getIntRange(0,this.settings.variants-1);var Y=z.getFloat();Y=-(1-Math.min(Y/.7,1))+Math.max(0,Y-.7)/(1-.7);Y=255*(Math.abs(Y)**1.2*(0>Y?-1:1)*.5+.5);C.position0.setVec(J,u.position0);C.position1.setVec(J,u.position1);C.componentIndex.set(J,u.componentIndex);C.variantOffset.set(J,M);C.variantStroke.set(J,L);C.variantExtension.set(J,Y)};D.trim=function(C,J){return C.slice(0,J)};return b._createClass(Q)}();const G=new Float32Array(6),
K=new Uint32Array(G.buffer),R=new Uint32Array(1);let A=function(){function Q(){this._commonWriter=new p}var D=Q.prototype;D.updateSettings=function(C){this._commonWriter.updateSettings(C)};D.allocate=function(C){return m.RegularEdgeInstancesLayout.createBuffer(C)};D.write=function(C,J,u){this._commonWriter.write(C,J,u);F.add(r,u.faceNormal0,u.faceNormal1);F.normalize(r,r);C.normal.setVec(J,r)};D.trim=function(C,J){return this._commonWriter.trim(C,J)};return b._createClass(Q)}();A.Layout=m.RegularEdgeInstancesLayout;
A.glLayout=y.glLayout(m.RegularEdgeInstancesLayout,1);let f=function(){function Q(){this._commonWriter=new p}var D=Q.prototype;D.updateSettings=function(C){this._commonWriter.updateSettings(C)};D.allocate=function(C){return m.SilhouetteEdgeInstancesLayout.createBuffer(C)};D.write=function(C,J,u){this._commonWriter.write(C,J,u);C.normalA.setVec(J,u.faceNormal0);C.normalB.setVec(J,u.faceNormal1)};D.trim=function(C,J){return this._commonWriter.trim(C,J)};return b._createClass(Q)}();f.Layout=m.SilhouetteEdgeInstancesLayout;
f.glLayout=y.glLayout(m.SilhouetteEdgeInstancesLayout,1);const r=I.create(),z=new W;d.CommonBufferWriter=p;d.RegularEdgeBufferWriter=A;d.SilhouetteEdgeBufferWriter=f;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define(["exports","../../../../../core/arrayUtils","../../../../../core/mathUtils","../../../../../chunks/vec3","../../../../../chunks/vec3f64"],function(d,b,W,F,I){function y(G,K){const R=W.acosClamped(G.cosAngle),
A=g.fwd,f=g.ortho;F.direction(A,G.position1,G.position0);G=0<F.dot(F.cross(f,G.faceNormal0,G.faceNormal1),A)?-1:1;return R*G>K}function m(G){const K=G.faces.length/3,R=G.faces;G=G.neighbors;var A=0;for(var f=0;f<K;f++){var r=G[3*f+1],z=G[3*f+2],Q=R[3*f],D=R[3*f+1],C=R[3*f+2];A+=-1===G[3*f]||Q<D?1:0;A+=-1===r||D<C?1:0;A+=-1===z||C<Q?1:0}A=new Int32Array(4*A);f=0;for(r=0;r<K;r++){z=G[3*r];Q=G[3*r+1];D=G[3*r+2];C=R[3*r];const J=R[3*r+1],u=R[3*r+2];if(-1===z||C<J)A[f++]=C,A[f++]=J,A[f++]=r,A[f++]=z;if(-1===
Q||J<u)A[f++]=J,A[f++]=u,A[f++]=r,A[f++]=Q;if(-1===D||u<C)A[f++]=u,A[f++]=C,A[f++]=r,A[f++]=D}return A}function n(G){const K=G.faces.length/3,R=G.vertices.position;G=G.faces;const A=k.v0,f=k.v1,r=k.v2,z=new Float32Array(3*K);for(let Q=0;Q<K;Q++){const D=G[3*Q+1],C=G[3*Q+2];R.getVec(G[3*Q],A);R.getVec(D,f);R.getVec(C,r);F.subtract(f,f,A);F.subtract(r,r,A);F.cross(A,f,r);F.normalize(A,A);z[3*Q]=A[0];z[3*Q+1]=A[1];z[3*Q+2]=A[2]}return z}d.EdgeType=void 0;(function(G){G[G.SOLID=0]="SOLID";G[G.SKETCH=
1]="SKETCH"})(d.EdgeType||(d.EdgeType={}));const g={edge:{position0:I.create(),position1:I.create(),faceNormal0:I.create(),faceNormal1:I.create(),componentIndex:0,cosAngle:0},ortho:I.create(),fwd:I.create()},k={v0:I.create(),v1:I.create(),v2:I.create()},p={anglePlanar:4,angleSignificantEdge:35};d.extractEdges=function(G,K,R,A=p){const f=G.vertices.position;var r=G.vertices.componentIndex,z=W.deg2rad(A.anglePlanar);A=W.deg2rad(A.angleSignificantEdge);const Q=Math.cos(A),D=Math.cos(z),C=g.edge,J=C.position0,
u=C.position1,M=C.faceNormal0,L=C.faceNormal1,Y=n(G),X=m(G),x=X.length/4;G=K.allocate(x);A=0;const E=R.allocate(x);let ka=0,V=0,ea=0;const O=b.range(0,x),na=new Float32Array(x);na.forEach((S,T,w)=>{f.getVec(X[4*T],J);f.getVec(X[4*T+1],u);w[T]=F.distance(J,u)});O.sort((S,T)=>na[T]-na[S]);const ta=[],xa=[];for(let S=0;S<x;S++){var ja=O[S];const T=na[ja],w=X[4*ja],ha=X[4*ja+1],t=X[4*ja+2];ja=X[4*ja+3];const ca=-1===ja;f.getVec(w,J);f.getVec(ha,u);if(ca)F.set(M,Y[3*t],Y[3*t+1],Y[3*t+2]),F.copy(L,M),C.componentIndex=
r.get(w),C.cosAngle=F.dot(M,L);else{F.set(M,Y[3*t],Y[3*t+1],Y[3*t+2]);F.set(L,Y[3*ja],Y[3*ja+1],Y[3*ja+2]);C.componentIndex=r.get(w);C.cosAngle=F.dot(M,L);if(C.cosAngle>D)continue;-.9999>C.cosAngle&&F.copy(L,M)}V+=T;ea++;ca||C.cosAngle<Q?(K.write(G,A++,C),ta.push(T)):y(C,z)&&(R.write(E,ka++,C),xa.push(T))}r=new Float32Array(ta.reverse());z=new Float32Array(xa.reverse());return{regular:{instancesData:K.trim(G,A),lodInfo:{lengths:r}},silhouette:{instancesData:R.trim(E,ka),lodInfo:{lengths:z}},averageEdgeLength:V/
ea}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils":function(){define(["exports","../../../../../chunks/vec3","../../../../../chunks/sphere"],function(d,b,W){d.MAX_CANDIDATE_COUNT=1E3;d.boundsFromEdge=function(F,I,y){const m=W.create(),n=W.getCenter(m);b.scaleAndAdd(n,n,F,.5);b.scaleAndAdd(n,n,I,.5);m[3]=b.distance(n,F);b.add(n,n,y);return m};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},
"*noref":1}});
define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/maybe ../../../../../core/promiseUtils ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/Error ../../../../../core/accessorSupport/decorators/subclass ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/lineSegment ../../../../../chunks/sphere ../../../../../layers/graphics/data/QueryEngineResult ../../../../3d/webgl-engine/lib/Octree ../../../../3d/webgl-engine/lib/edgeRendering/edgeProcessing ./sceneLayerSnappingUtils".split(" "),function(d,
b,W,F,I,y,m,n,g,k,p,G,K,R,A,f,r,z){I=function(){function C(){this._idToComponent=new Map;this._components=new f(u=>u.bounds);this._edges=new f(u=>u.bounds);this._tmpLineSegment=K.create();this._tmpP1=G.create();this._tmpP2=G.create();this._tmpP3=G.create();this.remoteClient=null}var J=C.prototype;J.fetchCandidates=async function(u,M){await Promise.resolve();F.throwIfAborted(M);await this._ensureEdgeLocations(u,M);const L=[];this._edges.forEachNeighbor(Y=>{this._addCandidates(u,Y,L);return L.length<
z.MAX_CANDIDATE_COUNT},u.bounds);return{result:{candidates:L}}};J._ensureEdgeLocations=async function(u,M){const L=[];this._components.forEachNeighbor(Y=>{if(W.isNone(Y.info)){const {id:X,uid:x}=Y;L.push({id:X,uid:x})}return!0},u.bounds);if(L.length){u=await this.remoteClient.invoke("fetchAllEdgeLocations",{components:L},W.unwrapOr(M,{}));for(const Y of u.components)this._setFetchEdgeLocations(Y)}};J.add=async function(u){u=new Q(u.id,u.bounds);this._idToComponent.set(u.id,u);this._components.add([u]);
return{result:{}}};J.remove=async function(u){const M=this._idToComponent.get(u.id);if(M){const L=[];this._edges.forEachNeighbor(Y=>{Y.component===M&&L.push(Y);return!0},M.bounds);this._edges.remove(L);this._components.remove([M]);this._idToComponent.delete(M.id)}return{result:{}}};J._setFetchEdgeLocations=function(u){const M=this._idToComponent.get(u.id);if(!W.isNone(M)&&u.uid===M.uid){var L=r.extractComponentsEdgeLocationsLayout.createView(u.locations),Y=Array(L.count),X=G.create(),x=G.create();
for(let ea=0;ea<L.count;ea++){L.position0.getVec(ea,X);L.position1.getVec(ea,x);var E=z.boundsFromEdge(X,x,u.origin);E=new D(M,ea,E);Y[ea]=E}this._edges.add(Y);var {objectIds:ka,origin:V}=u;M.info={locations:L,objectIds:ka,origin:V}}};J._addCandidates=function(u,M,L){var {info:Y}=M.component;const {origin:X,objectIds:x}=Y,E=Y.locations;Y=E.position0.getVec(M.index,this._tmpP1);const ka=E.position1.getVec(M.index,this._tmpP2);p.add(Y,Y,X);p.add(ka,ka,X);M=x[E.componentIndex.get(M.index)];this._addEdgeCandidate(u,
M,Y,ka,L);this._addVertexCandidate(u,M,Y,L);this._addVertexCandidate(u,M,ka,L)};J._addEdgeCandidate=function(u,M,L,Y,X){if(u.types&A.SnappingTypes.EDGE){var x=R.getCenter(u.bounds),E=K.fromPoints(L,Y,this._tmpLineSegment);E=K.projectPoint(E,x,this._tmpP3);R.containsPoint(u.bounds,E)&&X.push({type:"edge",objectId:M,target:G.clone(E),distance:p.distance(x,E),start:G.clone(L),end:G.clone(Y)})}};J._addVertexCandidate=function(u,M,L,Y){if(u.types&A.SnappingTypes.VERTEX){var X=R.getCenter(u.bounds);R.containsPoint(u.bounds,
L)&&Y.push({type:"vertex",objectId:M,target:G.clone(L),distance:p.distance(X,L)})}};return d._createClass(C)}();b=I=b.__decorate([k.subclass("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],I);let Q=d._createClass(function M(J,u){this.id=J;this.bounds=u;this.info=null;this.uid=++M.uid});Q.uid=0;let D=d._createClass(function(J,u,M){this.component=J;this.index=u;this.bounds=M});return b});