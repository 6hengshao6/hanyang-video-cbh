// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../geometry ../../../core/maybe ../../../geometry/support/jsonUtils ../CIMEffects ../CurveHelper ../enums ../../../geometry/SpatialReference".split(" "),function(k,l,e,p,f,m,n,q,r){e=function(){function c(){}c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.execute=function(a,d,b,g,h){return new t(a,d,b,g,h)};return l._createClass(c)}();e.instance=null;let t=function(){function c(a,d,b,g,h){this._inputGeometries=
a;this._tileKey=g;this._geometryEngine=h;this._curveHelper=new n.CurveHelper;this._size=(void 0!==d.size?d.size:1)*b;this._offsetFlattenError=n.PIXEL_TOLERANCE*b}c.prototype.next=function(){let a;for(;a=this._inputGeometries.next();){if(0===this._size)return a;if(f.isExtent(a))if(0<this._size){var d=this._curveHelper.offset([[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]],this._size,q.GeometricEffectOffsetMethod.Rounded,4,this._offsetFlattenError);if(d)return{rings:[d]}}else if(0>
this._size&&0<Math.min(a.xmax-a.xmin,a.ymax-a.ymin)+2*this._size)return{xmin:a.xmin-this._size,xmax:a.xmax+this._size,ymin:a.ymin-this._size,ymax:a.ymax+this._size};d=this._geometryEngine;if(p.isNone(d))break;let b=a;if(f.isPolygon(a)&&this._tileKey&&(b=m.clipPolygonToTileExtent(a,Math.abs(this._size)+1),!b||!b.rings||0===b.rings.length))continue;if(f.isPolyline(a)&&this._tileKey&&(b=m.clipPolylineToTileExtent(a,Math.abs(this._size)+1),!b||!b.paths||0===b.paths.length))continue;return d.buffer(r.WebMercator,
b,this._size,1)}return null};return l._createClass(c)}();k.EffectBuffer=e;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});