// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(m,e,w,p,x,f,d,I,J,q,y,z,k,A,B,r,C,D){function t(b){const c="width"in b?b.width:b.size,l="height"in b?b.height:b.size,a=u(b.xoffset);b=u(b.yoffset);return(a||b)&&c&&l?{x:-a/c,y:b/l}:null}function u(b){return isFinite(b)?b:0}var g;d=g=function(b){function c(a){a=l.call(this,a);a.material=null;a.resource=null;a.type="icon";a.size=12;a.anchor="center";a.anchorPosition=null;a.outline=null;return a}m._inherits(c,b);var l=m._createSuper(c);c.prototype.clone=function(){return new g({anchor:this.anchor,
anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:p.isSome(this.material)?this.material.clone():null,outline:p.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};c.fromSimpleMarkerSymbol=function(a){const n=a.color||k.white,h=t(a),E=a.outline&&0<a.outline.width?{size:a.outline.width,color:(a.outline.color||k.white).clone()}:null;var F=g,G=a.size;{a=a.style;const v=H[a];v?a=v:(w.getLogger("esri.symbols.IconSymbol3DLayer").warn(`${a} cannot be mapped to Icon symbol. Fallback to "circle"`),
a="circle")}return new F({size:G,resource:{primitive:a},material:{color:n},outline:E,anchor:h?"relative":void 0,anchorPosition:h})};c.fromPictureMarkerSymbol=function(a){const n=!a.color||k.isBlack(a.color)?k.white:a.color,h=t(a);return new g({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:n.clone()},anchor:h?"relative":void 0,anchorPosition:h})};c.fromCIMSymbol=function(a){return new g({resource:{href:x.makeData({mediaType:"application/json",data:JSON.stringify(a.data)})}})};
return m._createClass(c)}(z);e.__decorate([f.property({type:D.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);e.__decorate([f.property({type:A.IconSymbol3DLayerResource,json:{write:!0}})],d.prototype,"resource",void 0);e.__decorate([q.enumeration({Icon:"icon"},{readOnly:!0})],d.prototype,"type",void 0);e.__decorate([f.property(B.screenSizeProperty)],d.prototype,"size",void 0);e.__decorate([q.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",
topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),f.property({json:{default:"center"}})],d.prototype,"anchor",void 0);e.__decorate([f.property({type:r.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:b=>new r.Symbol3DAnchorPosition2D({x:b[0],y:b[1]})},write:{writer:(b,c)=>{c.anchorPosition=[b.x,b.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],d.prototype,"anchorPosition",void 0);e.__decorate([f.property({type:C.Symbol3DIconOutline,
json:{write:!0}})],d.prototype,"outline",void 0);d=g=e.__decorate([y.subclass("esri.symbols.IconSymbol3DLayer")],d);const H={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return d});