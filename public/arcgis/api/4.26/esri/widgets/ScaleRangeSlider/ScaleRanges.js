// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(q,k,f,l,v,w,x,t){function r(c,d){const m=u,a=m.length,b=[];let e,g=c;c=0<=c?c:0;d=0<d?d:m[a-1].minScale;for(let h=0;h<a;h++){const p=Math.min(m[h].minScale,d);e=Math.min(p,d);c<=p&&g<d&&b.push({id:m[h].id,maxScale:Math.max(g,
c),minScale:e});g=e+1}b.reverse();0!==b.length&&([c]=b,d=b[b.length-1],c.minScale===c.maxScale&&(b.shift(),c.minScale+=1),d.minScale===d.maxScale&&(b.pop(),--d.maxScale));return b}var n;const u=[{id:"room",minScale:100},{id:"rooms",minScale:400},{id:"smallBuilding",minScale:800},{id:"building",minScale:1999},{id:"buildings",minScale:3999},{id:"street",minScale:7499},{id:"streets",minScale:14999},{id:"neighborhood",minScale:29999},{id:"town",minScale:59999},{id:"city",minScale:119999},{id:"cities",
minScale:249999},{id:"metropolitanArea",minScale:499999},{id:"county",minScale:999999},{id:"counties",minScale:1999999},{id:"stateProvince",minScale:3999999},{id:"statesProvinces",minScale:6999999},{id:"countriesSmall",minScale:14999999},{id:"countriesBig",minScale:34999999},{id:"continent",minScale:99999999},{id:"world",minScale:147914382}];f=n=function(c){function d(){var a=m.apply(this,arguments);a.ranges=[];return a}q._inherits(d,c);var m=q._createSuper(d);d.fromScaleRange=function({maxScale:a,
minScale:b}){return new n({ranges:r(a,b)})};d.fromLayer=async function(a){await a.when();a=(a=a.get("tileInfo.lods"))?r(a[a.length-1].scale,a[0].scale):r(0,0);return new n({ranges:a})};c=d.prototype;c.isMinScaleEdge=function(a){const {firstRange:b}=this,e=n.RecommendedScales[b.id]||b.maxScale;return a<=b.minScale&&a>=e};c.isMaxScaleEdge=function(a){const {lastRange:b}=this,e=b.maxScale;return a<=(n.RecommendedScales[b.id]||b.minScale)&&a>=e};c.findScaleRange=function(a){const b=this.ranges;let e;
if(a>=b[0].maxScale)return b[0];if(a<=b[b.length-1].minScale)return b[b.length-1];for(let g=0;g<b.length;g++){const h=b[g];if(a>=h.maxScale&&a<=h.minScale){e=h;break}}return e};c.findScaleRangeByIndex=function(a){return this.ranges[this._clampScaleRangeIndex(a)]};c.scaleToRangeIndex=function(a){return this.ranges.indexOf(this.findScaleRange(a))};c.clampScale=function(a){return Math.min(this.minScale,Math.max(this.maxScale,a))};c.clampMinScale=function(a){return 0===a?this.minScale:this.clampScale(a)};
c.clampMaxScale=function(a){return this.clampScale(a)};c.contains=function(a){const b=this.ranges;let e=!1;for(let g=0;g<b.length;g++){const {maxScale:h,minScale:p}=b[g];if(a>=h&&a<=p){e=!0;break}}return e};c._clampScaleRangeIndex=function(a){if(0>=a)return 0;const b=this.ranges.length-1;return a>b?b:Math.floor(a)};q._createClass(d,[{key:"firstRange",get:function(){return this.ranges[0]}},{key:"lastRange",get:function(){const a=this.ranges;return a[a.length-1]}},{key:"length",get:function(){return this.ranges.length}},
{key:"maxScale",get:function(){return this.lastRange.maxScale}},{key:"minScale",get:function(){return this.firstRange.minScale}}]);return d}(f);f.RecommendedScales=Object.freeze({world:147914382,continent:5E7,countriesBig:25E6,countriesSmall:12E6,statesProvinces:6E6,stateProvince:3E6,counties:15E5,county:75E4,metropolitanArea:32E4,cities:16E4,city:8E4,town:4E4,neighborhood:2E4,streets:1E4,street:5E3,buildings:2500,building:1250,smallBuilding:800,rooms:400,room:100});k.__decorate([l.property()],f.prototype,
"firstRange",null);k.__decorate([l.property()],f.prototype,"lastRange",null);k.__decorate([l.property()],f.prototype,"length",null);k.__decorate([l.property()],f.prototype,"maxScale",null);k.__decorate([l.property()],f.prototype,"minScale",null);k.__decorate([l.property({constructOnly:!0})],f.prototype,"ranges",void 0);return f=n=k.__decorate([t.subclass("esri.widgets.ScaleRangeSlider.ScaleRanges")],f)});