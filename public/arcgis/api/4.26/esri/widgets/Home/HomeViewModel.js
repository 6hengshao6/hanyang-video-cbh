// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Viewpoint ../../core/Error ../../core/Evented ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/GoTo".split(" "),function(g,c,h,k,b,d,p,q,r,l,m){b=function(e){function f(a){a=n.call(this,a);a._initialViewpoint=null;a._goingHomeController=null;a.go=a.go.bind(g._assertThisInitialized(a));return a}
g._inherits(f,e);var n=g._createSuper(f);e=f.prototype;e.destroy=function(){this._cancelGo();this.view=null};e.go=async function(){if(!this.get("view.ready"))throw new k("home:disabled-state","Cannot go when disabled.");this._cancelGo();this.emit("go");const a=new AbortController;this._goingHomeController=a;try{await this.view?.when(),await this.callGoTo({target:this.viewpoint,options:{signal:a.signal}})}catch(t){}this._goingHomeController=null};e.cancelGo=function(){this._cancelGo()};e._cancelGo=
function(){const {_goingHomeController:a}=this;a&&a.abort();this._goingHomeController=null};g._createClass(f,[{key:"state",get:function(){return this.get("view.ready")?this._goingHomeController?"going-home":"ready":"disabled"}},{key:"view",set:function(a){this._initialViewpoint=null;this._set("view",a);a&&a.when().then(()=>{this.view===a&&(this._initialViewpoint=a.viewpoint.clone(),this.notifyChange("viewpoint"))})}},{key:"viewpoint",get:function(){return this._get("viewpoint")||this._initialViewpoint},
set:function(a){this._set("viewpoint",a)}}]);return f}(m.GoToMixin(b.EventedAccessor));c.__decorate([d.property()],b.prototype,"_goingHomeController",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"state",null);c.__decorate([d.property()],b.prototype,"view",null);c.__decorate([d.property({type:h})],b.prototype,"viewpoint",null);c.__decorate([d.property()],b.prototype,"go",null);c.__decorate([d.property()],b.prototype,"cancelGo",null);return b=c.__decorate([l.subclass("esri.widgets.Home.HomeViewModel")],
b)});