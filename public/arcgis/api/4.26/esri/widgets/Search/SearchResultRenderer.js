// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../Widget ./searchResultRendererCSS ./SearchViewModel ../support/decorators/accessibleHandler ../support/decorators/messageBundle ../support/jsxFactory ../support/widgetUtils".split(" "),function(m,h,n,f,z,A,r,t,e,u,q,v,d,B){f=function(c){function l(a,b){a=w.call(this,
a,b);a.messages=null;a.showMoreResultsOpen=!1;a.viewModel=null;return a}m._inherits(l,c);var w=m._createSuper(l);c=l.prototype;c.destroy=function(){this.viewModel=null};c.render=function(){return d.tsx("div",{class:e.CSS.base},d.tsx("div",{key:"esri-search-renderer__container",class:this.classes(e.CSS.moreResults,{[e.CSS.showMoreResults]:this.showMoreResultsOpen})},this.renderSearchResultName(),this.renderMoreResults()))};c.renderMoreResults=function(){return d.tsx("div",{key:"esri-search-renderer__more-results"},
this.renderMoreResultsButton(),this.renderMoreResultsLists())};c.renderSearchResultName=function(){const a=this.viewModel?.selectedResult;return d.tsx("div",{key:"esri-search-renderer__result-name",class:e.CSS.moreResultsItem},a&&a.name||"")};c.renderMoreResultsLists=function(){var {viewModel:a}=this;if(!a)return[];if(2>(a.resultCount??0))return null;a=a.results?.map(b=>this.renderMoreResultsList(b));return d.tsx("div",{key:"esri-search-renderer__more-results-container",class:e.CSS.moreResultsList},
a)};c.renderMoreResultsButton=function(){const {messages:a,viewModel:b}=this;return!b||2>(b.resultCount??0)?null:d.tsx("div",{key:"esri-search-renderer__more-results-button",class:e.CSS.moreResultsItem},d.tsx("a",{class:e.CSS.anchor,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?a.hideMoreResults:a.showMoreResults))};c.renderMoreResultsHeader=function(a,b){return d.tsx("div",{key:`esri-search-result-renderer__header-${b}`,class:e.CSS.moreResultsListHeader},
a)};c.renderMoreResultsList=function(a){var {results:b}=a,g=b?.length??0;const p=0<g;var k=this.viewModel?.selectedResult;g=1===g&&b[0]===k;k=this._getSourceName(a.source,a.sourceIndex);k=1<(this.viewModel?.results?.length??0)&&!g?this.renderMoreResultsHeader(k,a.sourceIndex):null;b=p&&b.map((x,y)=>this.renderMoreResultsListItem(x,y));b=p&&!g?d.tsx("ul",{key:`esri-search-result-renderer__list-${a.sourceIndex}`},b):null;return p?d.tsx("div",{key:`esri-search-result-renderer__results-${a.sourceIndex}`},
k,b):null};c.renderMoreResultsListItem=function(a,b){const g=this.get("viewModel.selectedResult");return a!==g?d.tsx("li",{key:`esri-search-result-renderer__list-item-${b}`},d.tsx("a",{class:e.CSS.anchor,href:"#",tabindex:"0",bind:this,"data-result":a,onclick:this._selectResultClick,onkeydown:this._selectResultClick},a.name)):null};c._showMoreResultsClick=function(a){a.preventDefault();this.showMoreResultsOpen=!this.showMoreResultsOpen;(a=this.get("viewModel.view.popup"))&&a.reposition()};c._selectResultClick=
function(a){a.preventDefault();a=a.currentTarget["data-result"];this.viewModel?.select(a)};c._getSourceName=function(a,b){return b===u.ALL_INDEX?this.messages.all:a.name};return m._createClass(l)}(t);h.__decorate([n.property(),v.messageBundle("esri/widgets/Search/t9n/Search")],f.prototype,"messages",void 0);h.__decorate([n.property()],f.prototype,"showMoreResultsOpen",void 0);h.__decorate([n.property()],f.prototype,"viewModel",void 0);h.__decorate([q.accessibleHandler()],f.prototype,"_showMoreResultsClick",
null);h.__decorate([q.accessibleHandler()],f.prototype,"_selectResultClick",null);return f=h.__decorate([r.subclass("esri.widgets.Search.SearchResultRenderer")],f)});