// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(k,e,b,h,f,p,q,r,m){b=function(c){function g(a){a=n.call(this,a);a._viewpointHandle=null;a.group=null;return a}k._inherits(g,c);var n=k._createSuper(g);c=g.prototype;c.initialize=function(){this.addHandles(h.on(()=>
this.view?.ui,"expand",a=>{({target:a}=a);a&&a!==this&&a.expanded&&a.group&&a.group===this.group&&this._collapse()}))};c.destroy=function(){this.removeAllHandles();this.view=this._viewpointHandle=null};c._viewpointHandleChange=function(a){this._viewpointHandle&&(a?h.when(()=>this.view?.stationary,()=>this._viewpointHandle?.resume(),{once:!0,initial:!0}):this._viewpointHandle.pause())};c._watchViewpoint=function(){this.removeHandles("viewpoint");this._viewpointHandle=null;const {autoCollapse:a,view:d}=
this;if(d&&a){var l=h.pausable(()=>"3d"===d.type?d.camera:d.viewpoint,()=>this._collapse());this.addHandles(l,"viewpoint");this._viewpointHandle=l}};c._collapse=function(){this.expanded=!1};k._createClass(g,[{key:"autoCollapse",set:function(a){this._set("autoCollapse",a);this._watchViewpoint()}},{key:"expanded",set:function(a){a=!!a;this._set("expanded",a);const d=this.get("view.ui");d&&d.emit("expand",{target:this});this._viewpointHandleChange(a)}},{key:"state",get:function(){return this.get("view.ready")?
"ready":"disabled"}},{key:"view",set:function(a){this._get("view")!==a&&(this._set("view",a),a&&h.when(()=>a.ready,()=>{this.view===a&&this._watchViewpoint()},{once:!0,initial:!0}))}}]);return g}(b);e.__decorate([f.property({value:!1})],b.prototype,"autoCollapse",null);e.__decorate([f.property({value:!1})],b.prototype,"expanded",null);e.__decorate([f.property()],b.prototype,"group",void 0);e.__decorate([f.property({readOnly:!0})],b.prototype,"state",null);e.__decorate([f.property({value:null})],b.prototype,
"view",null);return b=e.__decorate([m.subclass("esri.widgets.Expand.ExpandViewModel")],b)});