// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/compilerUtils ../../../core/Evented ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,g,b,l,m,d,n,p,k){a.OperationHandle=function(e){function f(c){c=h.call(this,c);c.cancelled=!1;c.history={undo:[],redo:[]};c.type=null;return c}g._inherits(f,e);var h=g._createSuper(f);
e=f.prototype;e.addToHistory=function(c){this.history.redo=[];this.history.undo.push(c)};e.resetHistory=function(){this.history.redo=[];this.history.undo=[]};e.canUndo=function(){return 0<this.history.undo.length};e.canRedo=function(){return 0<this.history.redo.length};e.complete=function(){this._reset();this.onEnd();this.emit("complete")};e.cancel=function(){this.cancelled=!0;this.complete()};e._reset=function(){this.activeComponent?.reset()};e.refreshComponent=function(){const c=this.activeComponent;
c&&("box"!==c.type&&"reshape"!==c.type&&"graphic-mover"!==c.type||c.refresh())};g._createClass(f,[{key:"tool",get:function(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case "graphic-mover":case "move-3d":return"move";case "box":case "transform-3d":return"transform";case "reshape":case "reshape-3d":return"reshape";case "draw-2d":case "draw-3d":return this.activeComponent.geometryType;default:l.neverReached(this.activeComponent)}return null}},{key:"undo",set:function(c){this._set("undo",
()=>{this.canUndo()&&c()})}},{key:"redo",set:function(c){this._set("redo",()=>{this.canRedo()&&c()})}}]);return f}(m.EventedAccessor);b.__decorate([d.property()],a.OperationHandle.prototype,"activeComponent",void 0);b.__decorate([d.property()],a.OperationHandle.prototype,"cancelled",void 0);b.__decorate([d.property()],a.OperationHandle.prototype,"history",void 0);b.__decorate([d.property()],a.OperationHandle.prototype,"tool",null);b.__decorate([d.property()],a.OperationHandle.prototype,"type",void 0);
b.__decorate([d.property()],a.OperationHandle.prototype,"canUndo",null);b.__decorate([d.property()],a.OperationHandle.prototype,"canRedo",null);b.__decorate([d.property()],a.OperationHandle.prototype,"onEnd",void 0);b.__decorate([d.property()],a.OperationHandle.prototype,"undo",null);b.__decorate([d.property()],a.OperationHandle.prototype,"redo",null);b.__decorate([d.property()],a.OperationHandle.prototype,"toggleTool",void 0);b.__decorate([d.property()],a.OperationHandle.prototype,"addToSelection",
void 0);b.__decorate([d.property()],a.OperationHandle.prototype,"removeFromSelection",void 0);a.OperationHandle=b.__decorate([k.subclass("esri.widgets.Sketch.support.OperationHandle")],a.OperationHandle);a.CreateOperationHandle=function(e){function f(){return h.apply(this,arguments)}g._inherits(f,e);var h=g._createSuper(f);return g._createClass(f)}(a.OperationHandle);b.__decorate([d.property()],a.CreateOperationHandle.prototype,"activeComponent",void 0);a.CreateOperationHandle=b.__decorate([k.subclass("esri.widgets.Sketch.support.CreateOperationHandle")],
a.CreateOperationHandle);a.UpdateOperationHandle=function(e){function f(){return h.apply(this,arguments)}g._inherits(f,e);var h=g._createSuper(f);return g._createClass(f)}(a.OperationHandle);b.__decorate([d.property()],a.UpdateOperationHandle.prototype,"activeComponent",void 0);a.UpdateOperationHandle=b.__decorate([k.subclass("esri.widgets.Sketch.support.UpdateOperationHandle")],a.UpdateOperationHandle);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});