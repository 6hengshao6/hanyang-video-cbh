// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/maybe ../../../core/reactiveUtils ../../../core/timeUtils ../../../core/uuid ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../intl/number ../../Slider ../../Widget ../css ./Label ./LabeledColorPicker ../../support/componentsUtils ../../support/widgetUtils ../../support/decorators/messageBundle ../../support/jsxFactory".split(" "),
function(u,c,m,e,v,q,n,r,h,F,G,H,w,x,y,z,t,A,B,C,I,D,p){c.ThresholdConfigurator=function(f){function k(d){var a=E.call(this,d);a.colorPickerVisible=!0;a._valueSliderId=`value-slider-${r.generateUUID()}`;a._colorPickerId=`color-picker-${r.generateUUID()}`;a._valueSlider=new y({visibleElements:{labels:!1,rangeLabels:!1},steps:n.convertTime(30,"minutes","milliseconds"),labelFormatFunction:(b,g)=>{b=n.convertTime(b,"milliseconds","hours");return"tick"===g?x.formatNumber(b,{maximumFractionDigits:0}):""}});
a._onColorChange=b=>{a.options.color=b};return a}m._inherits(k,f);var E=m._createSuper(k);f=k.prototype;f.initialize=function(){const d=({value:a})=>{this.options.value=a};this.addHandles([q.watch(()=>{const {value:a,minValue:b,maxValue:g}=this.options;return{value:a,minValue:b,maxValue:g}},({value:a,minValue:b,maxValue:g})=>{const l=this._valueSlider;l.min=b;l.max=g;l.values=[a];a=Math.floor(n.convertTime(g-b,"milliseconds","hours"));l.tickConfigs=[{mode:"count",values:2*a+1,labelsVisible:!1},{mode:"count",
values:a+1,labelsVisible:!0}]},q.syncAndInitial),this._valueSlider.on("thumb-change",d),this._valueSlider.on("thumb-drag",d)])};f.loadDependencies=function(){return C.loadCalciteComponents({label:()=>new Promise((d,a)=>u(["../../../chunks/calcite-label"],d,a))})};f.destroy=function(){this._valueSlider=v.destroyMaybe(this._valueSlider)};f.render=function(){const d=this._messages.threshold,{color:a}=this.options;return p.tsx("div",{class:t.THRESHOLD_CONFIGURATOR_CSS.base},p.tsx(A.Label,{class:t.THRESHOLD_CONFIGURATOR_CSS.valueLabel,
for:this._valueSliderId,label:d.valueLabel},this._valueSlider.render()),this.colorPickerVisible&&p.tsx(B.LabeledColorPicker,{id:this._colorPickerId,label:d.colorLabel,value:a,onChange:this._onColorChange}))};m._createClass(k,[{key:"testData",get:function(){return{valueSlider:this._valueSlider}}}]);return k}(z);e.__decorate([h.property()],c.ThresholdConfigurator.prototype,"options",void 0);e.__decorate([h.property()],c.ThresholdConfigurator.prototype,"colorPickerVisible",void 0);e.__decorate([h.property()],
c.ThresholdConfigurator.prototype,"testData",null);e.__decorate([h.property()],c.ThresholdConfigurator.prototype,"_valueSlider",void 0);e.__decorate([h.property(),D.messageBundle("esri/widgets/ShadowCast/t9n/ShadowCast")],c.ThresholdConfigurator.prototype,"_messages",void 0);c.ThresholdConfigurator=e.__decorate([w.subclass("esri.widgets.ShadowCast.components.ThresholdConfigurator")],c.ThresholdConfigurator);Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});