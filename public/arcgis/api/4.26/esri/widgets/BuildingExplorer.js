// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./Widget ./BuildingExplorer/BuildingExplorerViewModel ./BuildingExplorer/css ./BuildingExplorer/BuildingDisciplinesTree/BuildingDisciplinesTree ./BuildingExplorer/BuildingLevelPicker/BuildingLevelPicker ./BuildingExplorer/BuildingPhasePicker/BuildingPhasePicker ./support/Heading ./support/widgetUtils ./support/decorators/messageBundle ./support/jsxFactory".split(" "),
function(n,f,g,u,e,B,v,w,q,c,x,y,z,p,k,r,d){const t={levels:!0,phases:!0,disciplines:!0};e=function(h){function l(a,b){a=A.call(this,a,b);a._defaultViewModel=new q;a.viewModel=a._defaultViewModel;a.visibleElements={...t};a.headingLevel=3;a.iconClass=c.CSS.widgetIcon;a.messages=null;a.messagesCommon=null;a.toggleSiblingsVisibility=!1;return a}n._inherits(l,h);var A=n._createSuper(l);h=l.prototype;h.destroy=function(){this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()};h._castVisibleElements=
function(a){return{...t,...a}};h.render=function(){const a=this.viewModel;return d.tsx("div",{key:this,class:k.classes(c.CSS.esriWidget,c.CSS.base,{[c.CSS.esriWidgetDisabled]:"disabled"===a.state||!a.isSupported}),"aria-label":this.messages.widgetLabel},this._renderContent())};h._renderContent=function(){const a=this.viewModel,b=this.messages;if(!a.isSupported)return d.tsx("p",{class:c.CSS.panelError},b.unsupported);if(!a.layers.length)return d.tsx("p",{class:c.CSS.panelError},b.noData);switch(a.state){case "loading":return this._renderLoadingIndicator();
case "ready":return d.tsx("div",{key:"content",class:c.CSS.content},this._renderLevelPickerSection(),this._renderPhasePickerSection(),this._renderDisciplinesSection());case "failed":return d.tsx("p",{class:c.CSS.panelError},b.failed);default:return null}};h._renderLoadingIndicator=function(){const a=this.messagesCommon.loading;return d.tsx("div",{key:"loading-container",role:"presentation",class:c.CSS.loadingContainer,"aria-label":a,title:a},d.tsx("span",{"aria-hidden":"true",class:k.classes(c.CSS.esriIconLoadingIndicator,
c.CSS.esriRotating)}))};h._renderLevelPickerSection=function(){const a=this.viewModel.level;var b="ready"===a.state;const m=1<a.allowedValues.length;if(!this.visibleElements.levels||!b||!m)return null;b=this.messages?.level;return d.tsx("div",{key:"levels",class:k.classes(c.CSS.section,c.CSS.levels)},d.tsx(p.Heading,{level:this.headingLevel},b?.title),d.tsx(y,{vm:a,messages:b}))};h._renderPhasePickerSection=function(){const a=this.viewModel.phase;var b="ready"===a.state;const m=1<a.allowedValues.length;
if(!this.visibleElements.phases||!b||!m)return null;b=this.messages.phase;return d.tsx("div",{key:"phases",class:k.classes(c.CSS.section,c.CSS.phases)},d.tsx(p.Heading,{level:this.headingLevel},b.title),d.tsx(z,{vm:a,messages:b}))};h._renderDisciplinesSection=function(){const a=this.viewModel.disciplines;var b="ready"===a.state;const m=a.root.hasChildren;if(!this.visibleElements.disciplines||!b||!m)return null;b=this.messages?.disciplines;return d.tsx("div",{key:"disciplines",class:k.classes(c.CSS.section,
c.CSS.disciplines)},d.tsx(p.Heading,{level:this.headingLevel},b.title),d.tsx(x,{vm:a,messages:b,toggleSiblingsVisibility:this.toggleSiblingsVisibility}))};n._createClass(l,[{key:"view",get:function(){return this.viewModel.view},set:function(a){this.viewModel.view=a}},{key:"layers",get:function(){return this.viewModel.layers},set:function(a){this.viewModel.layers=a}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(a){this._overrideIfSome("label",a)}}]);return l}(w);
f.__decorate([g.property({type:q})],e.prototype,"viewModel",void 0);f.__decorate([g.property()],e.prototype,"view",null);f.__decorate([g.property()],e.prototype,"layers",null);f.__decorate([g.property()],e.prototype,"visibleElements",void 0);f.__decorate([u.cast("visibleElements")],e.prototype,"_castVisibleElements",null);f.__decorate([g.property()],e.prototype,"headingLevel",void 0);f.__decorate([g.property()],e.prototype,"iconClass",void 0);f.__decorate([g.property()],e.prototype,"label",null);
f.__decorate([g.property(),r.messageBundle("esri/widgets/BuildingExplorer/t9n/BuildingExplorer")],e.prototype,"messages",void 0);f.__decorate([g.property(),r.messageBundle("esri/t9n/common")],e.prototype,"messagesCommon",void 0);f.__decorate([g.property({nonNullable:!0})],e.prototype,"toggleSiblingsVisibility",void 0);f.__decorate([g.property()],e.prototype,"uiStrings",void 0);return e=f.__decorate([v.subclass("esri.widgets.BuildingExplorer")],e)});