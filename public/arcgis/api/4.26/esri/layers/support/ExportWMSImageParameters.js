// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/HandleOwner ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(b,l,d,q,r,e,z,A,B,t){const u={visible:"visibleSublayers"};b.ExportWMSImageParameters=function(v){function f(a){a=w.call(this,a);a.scale=0;return a}l._inherits(f,v);var w=l._createSuper(f);f.prototype.toJSON=
function(){const {layer:a,layers:c}=this,{imageFormat:g,imageTransparency:h,version:k}=a;return{format:g,request:"GetMap",service:"WMS",styles:"",transparent:h?"TRUE":"FALSE",version:k,layers:c}};l._createClass(f,[{key:"layer",set:function(a){this._get("layer")!==a&&(this._set("layer",a),this.handles.remove("layer"),a&&this.handles.add([a.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),a.on("wms-sublayer-update",c=>this.notifyChange(u[c.propertyName]))],"layer"))}},{key:"layers",
get:function(){return this.visibleSublayers.filter(({name:a})=>a).map(({name:a})=>a).join()}},{key:"version",get:function(){this.commitProperty("layers");const a=this.layer;a&&a.commitProperty("imageTransparency");return(this._get("version")||0)+1}},{key:"visibleSublayers",get:function(){const {layer:a,scale:c}=this,g=[],h=k=>{const {minScale:m,maxScale:n,sublayers:p,visible:x}=k,y=0===c||(0===m||c<=m)&&(0===n||c>=n);x&&y&&(p?p.forEach(h):g.push(k))};a?.sublayers?.forEach(h);return g}}]);return f}(r.HandleOwnerMixin(q));
d.__decorate([e.property()],b.ExportWMSImageParameters.prototype,"layer",null);d.__decorate([e.property({readOnly:!0})],b.ExportWMSImageParameters.prototype,"layers",null);d.__decorate([e.property({type:Number})],b.ExportWMSImageParameters.prototype,"scale",void 0);d.__decorate([e.property({readOnly:!0})],b.ExportWMSImageParameters.prototype,"version",null);d.__decorate([e.property({readOnly:!0})],b.ExportWMSImageParameters.prototype,"visibleSublayers",null);b.ExportWMSImageParameters=d.__decorate([t.subclass("esri.layers.support.ExportWMSImageParameters")],
b.ExportWMSImageParameters);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});