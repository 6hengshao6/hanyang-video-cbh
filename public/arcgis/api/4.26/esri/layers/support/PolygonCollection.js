// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/Warning ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/subclass ../../geometry/Polygon ../../geometry/projection".split(" "),function(k,p,f,q,m,u,v,w,x,y,r,l,n){var g;f=g=function(d){function e(a){return t.call(this,a)}k._inherits(e,d);var t=k._createSuper(e);d=e.prototype;
d.clone=function(){return new g(this.items.map(a=>a.clone()))};d.write=function(a,c){return this.toJSON(c)};d.toJSON=function(a){const c=a?.layer?.spatialReference;return c?this.toArray().map(b=>{if(!c.equals(b.spatialReference)){if(!n.canProjectWithoutEngine(b.spatialReference,c))return a&&a.messages&&a.messages.push(new m("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:a.layer.spatialReference,context:a})),null;
const h=new l;n.projectPolygon(b,h,c);b=h}b=b.toJSON(a);delete b.spatialReference;return b}).filter(b=>null!=b):(a?.messages&&a.messages.push(new m("scenefilter:unsupported","Writing Scene filters without context layer is not supported",{modification:this,spatialReference:a.layer.spatialReference,context:a})),this.toArray().map(b=>b.toJSON(a)))};e.fromJSON=function(a,c){const b=new g;a.forEach(h=>b.add(l.fromJSON(h,c)));return b};return k._createClass(e)}(q.JSONSupportMixin(f.ofType(l)));return f=
g=p.__decorate([r.subclass("esri.layers.support.PolygonCollection")],f)});