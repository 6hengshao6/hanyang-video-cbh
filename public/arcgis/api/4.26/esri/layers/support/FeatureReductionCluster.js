// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/extensions/serializableProperty/reader ./AggregateField ./commonProperties ./LabelClass".split(" "),
function(n,d,z,b,I,J,K,L,M,t,A,u,B,v,C,l,D,k,f,N,p,E,w,F,x,y,G){var q;const r=F.createTypeReader({types:v.symbolTypesRenderer});b=q=function(g){function m(a){a=H.call(this,a);a.type="cluster";a.clusterRadius=k.toPt("80px");a.clusterMinSize=k.toPt("12px");a.clusterMaxSize=k.toPt("50px");a.maxScale=0;a.popupEnabled=!0;a.popupTemplate=null;a.renderer=null;a.symbol=null;a.labelingInfo=null;a.labelsVisible=!0;a.fields=null;return a}n._inherits(m,g);var H=n._createSuper(m);g=m.prototype;g.readRenderer=
function(a,c,h){a=c.drawingInfo?.renderer;return a?.authoringInfo?.isAutoGenerated?null:a?"simple"!==a.type||a.visualVariables?.length?u.read(a,c,h)??void 0:null:c.defaultSymbol?c.types&&c.types.length?new A({defaultSymbol:r(c.defaultSymbol,c,h),field:c.typeIdField,uniqueValueInfos:c.types.map(e=>({id:e.id,symbol:r(e.symbol,e,h)}))}):new t({symbol:r(c.defaultSymbol,c,h)}):null};g.readSymbol=function(a,c,h){a=c.drawingInfo?.renderer;return a?.authoringInfo?.isAutoGenerated?null:a&&"simple"===a.type&&
!a.visualVariables?.length?u.read(a,c,h)?.symbol:null};g.writeSymbol=function(a,c,h,e){h=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||h)a=new t({symbol:a}),c.drawingInfo={renderer:a.write({},e)}};g.writeFields=function(a,c,h){a=a.filter(e=>"avg_angle"!==e.statisticType).map(e=>e.toJSON());D.setDeepValue(h,a,c)};g.readFields=function(a,c,h){return a.filter(e=>!e.isAutoGenerated).map(e=>x.fromJSON(e))};g.clone=function(){return new q({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,
clusterMaxSize:this.clusterMaxSize,labelingInfo:l.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:l.clone(this.fields),maxScale:this.maxScale,renderer:l.clone(this.renderer),symbol:l.clone(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:l.clone(this.popupTemplate)})};return n._createClass(m)}(C.JSONSupport);d.__decorate([f.property({type:["cluster"],readOnly:!0,json:{write:!0}})],b.prototype,"type",void 0);d.__decorate([f.property({type:Number,cast:g=>"auto"===g?g:k.toPt(g),
json:{write:!0}})],b.prototype,"clusterRadius",void 0);d.__decorate([f.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"clusterMinSize",void 0);d.__decorate([f.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"clusterMaxSize",void 0);d.__decorate([f.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],b.prototype,"maxScale",void 0);d.__decorate([f.property(y.popupEnabled)],b.prototype,"popupEnabled",void 0);d.__decorate([f.property({type:z,json:{read:{source:"popupInfo"},
write:{target:"popupInfo"}}})],b.prototype,"popupTemplate",void 0);d.__decorate([f.property({types:B.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],b.prototype,"renderer",void 0);d.__decorate([p.reader("renderer",["drawingInfo.renderer"])],b.prototype,"readRenderer",null);d.__decorate([f.property({types:v.symbolTypesCluster})],b.prototype,"symbol",void 0);d.__decorate([p.reader("symbol",["drawingInfo.renderer"])],b.prototype,"readSymbol",null);d.__decorate([w.writer("symbol")],b.prototype,
"writeSymbol",null);d.__decorate([f.property({type:[G],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],b.prototype,"labelingInfo",void 0);d.__decorate([f.property(y.labelsVisible)],b.prototype,"labelsVisible",void 0);d.__decorate([f.property({type:[x],json:{write:!0}})],b.prototype,"fields",void 0);d.__decorate([w.writer("fields")],b.prototype,"writeFields",null);d.__decorate([p.reader("fields")],b.prototype,"readFields",null);return b=q=d.__decorate([E.subclass("esri.layers.support.FeatureReductionCluster")],
b)});