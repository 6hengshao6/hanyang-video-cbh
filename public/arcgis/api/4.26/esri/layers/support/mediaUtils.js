// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../geometry ../../core/maybe ../../geometry/support/spatialReferenceUtils ./ControlPointsGeoreference ../../geometry/Extent ../../geometry/Point".split(" "),function(l,u,k,r,m,t,h){l.createDefaultControlPointsGeoreference=async function(a,b){a.loaded||await a.load();const {width:e,height:d}=a.content;({spatialReference:a}=b);var c=r.getInfo(a),f=!1;c&&b.width>c.valid[1]-c.valid[0]&&(b=new t({xmin:c.valid[0],ymin:b.ymin,xmax:c.valid[1],ymax:b.ymax,spatialReference:b.spatialReference}),
f=!0);b=b.expand(.5);const {center:g,width:n,height:p}=b;c=f||e>d?n:e/d*p;b=f||e>d?d/e*n:p;f=g.x-c/2;c=g.x+c/2;const q=g.y+b/2;b=g.y-b/2;return new m({controlPoints:[{sourcePoint:{x:100,y:d-100},mapPoint:new h({x:f,y:b,spatialReference:a})},{sourcePoint:{x:100,y:100},mapPoint:new h({x:f,y:q,spatialReference:a})},{sourcePoint:{x:e-100,y:100},mapPoint:new h({x:c,y:q,spatialReference:a})},{sourcePoint:{x:e-100,y:d-100},mapPoint:new h({x:c,y:b,spatialReference:a})}],width:e,height:d})};l.createLocalModeControlPointsGeoreference=
function(a){a=k.unwrap(a.georeference);if("control-points"!==a.type)return null;const b={wkid:0},{width:e,height:d}=a;a=k.unwrap(a.controlPoints);return new m({controlPoints:a.map(c=>{const {x:f,y:g}=k.unwrap(k.unwrap(c).sourcePoint);return{sourcePoint:{x:f,y:g},mapPoint:new h({x:f,y:d-g,spatialReference:b})}}),width:e,height:d})};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});