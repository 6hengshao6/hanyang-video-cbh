// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/mathUtils ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../chunks/common ../../geometry/Extent ../../geometry/Polygon ./GeoreferenceBase".split(" "),function(q,m,w,k,r,g,F,G,x,y,u,z,A){function v(l,f,h){h=y.toRadian(h);const a=Math.cos(h),c=Math.sin(h);return(b,e)=>[a*(b-l)+c*
(e-f)+l,a*(e-f)-c*(b-l)+f]}g=function(l){function f(a){a=h.call(this,a);a.extent=null;a.rotation=0;a.type="extent-and-rotation";return a}q._inherits(f,l);var h=q._createSuper(f);q._createClass(f,[{key:"coords",get:function(){if(k.isNone(this.extent))return null;const {xmin:a,ymin:c,xmax:b,ymax:e,spatialReference:n}=this.extent;if(this.rotation){const {x:t,y:p}=this.extent.center;var d=v(t,p,this.rotation);d=[d(a,c),d(a,e),d(b,e),d(b,c)];d.push(d[0])}else d=[[a,c],[a,e],[b,e],[b,c],[a,c]];return new z({rings:[d],
spatialReference:n})},set:function(a){if(!k.isNone(a)&&!k.isNone(this.extent)){var c=this.extent.spatialReference;a=this.projectOrWarn(a,c);if(!k.isNone(a)&&!k.isNone(a.extent)){var {rings:[[b,e,n]],extent:{center:{x:d,y:t}}}=a;a=w.rad2deg(Math.PI/2-Math.atan2(e[1]-b[1],e[0]-b[0]));var p=v(d,t,-a),[B,C]=p(b[0],b[1]),[D,E]=p(n[0],n[1]);this.extent=new u({xmin:B,ymin:C,xmax:D,ymax:E,spatialReference:c});this.rotation=a}}}}]);return f}(A);m.__decorate([r.property()],g.prototype,"coords",null);m.__decorate([r.property({type:u})],
g.prototype,"extent",void 0);m.__decorate([r.property({type:Number})],g.prototype,"rotation",void 0);return g=m.__decorate([x.subclass("esri.layers.support.ExtentAndRotationGeoreference")],g)});