// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../geometry/Extent ./TileMatrixSet ./WMTSStyle".split(" "),function(k,c,n,b,d,v,w,x,p,q,l,r,t){var m;b=m=function(f){function g(a){a=u.call(this,a);a.fullExtent=null;a.fullExtents=
null;a.imageFormats=null;a.id=null;a.layer=null;a.styles=null;a.tileMatrixSetId=null;a.tileMatrixSets=null;return a}k._inherits(g,f);var u=k._createSuper(g);f=g.prototype;f.readFullExtent=function(a,e){return(a=e.fullExtent)?l.fromJSON(a):null};f.readFullExtents=function(a,e){return e.fullExtents?.length?e.fullExtents.map(h=>l.fromJSON(h)):e.tileMatrixSets?.map(h=>l.fromJSON(h.fullExtent)).filter(h=>h)??[]};f.clone=function(){const a=new m;this.hasOwnProperty("description")&&(a.description=this.description);
this.hasOwnProperty("imageFormats")&&(a.imageFormats=this.imageFormats&&this.imageFormats.slice());this.hasOwnProperty("imageFormat")&&(a.imageFormat=this.imageFormat);this.hasOwnProperty("fullExtent")&&(a.fullExtent=this.fullExtent&&this.fullExtent.clone());this.hasOwnProperty("id")&&(a.id=this.id);this.hasOwnProperty("layer")&&(a.layer=this.layer);this.hasOwnProperty("styleId")&&(a.styleId=this.styleId);this.hasOwnProperty("styles")&&(a.styles=this.styles&&this.styles.clone());this.hasOwnProperty("tileMatrixSetId")&&
(a.tileMatrixSetId=this.tileMatrixSetId);this.hasOwnProperty("tileMatrixSets")&&(a.tileMatrixSets=this.tileMatrixSets?.clone());this.hasOwnProperty("title")&&(a.title=this.title);return a};k._createClass(g,[{key:"description",get:function(){return this._get("description")},set:function(a){this._set("description",a)}},{key:"imageFormat",get:function(){let a=this._get("imageFormat");a||(a=this.imageFormats&&this.imageFormats.length?this.imageFormats[0]:"");return a},set:function(a){const e=this.imageFormats;
if(a&&(a.includes("image/")||e&&!e.includes(a))&&(a.includes("image/")||(a="image/"+a),e&&!e.includes(a))){console.error("The layer doesn't support the format of "+a);return}this._set("imageFormat",a)}},{key:"styleId",get:function(){let a=this._get("styleId");a||(a=this.styles?.length?this.styles.getItemAt(0).id:"");return a},set:function(a){this._set("styleId",a)}},{key:"title",get:function(){return this._get("title")},set:function(a){this._set("title",a)}},{key:"tileMatrixSet",get:function(){return this.tileMatrixSets?
this.tileMatrixSets.find(a=>a.id===this.tileMatrixSetId):null}}]);return g}(b.JSONSupport);c.__decorate([d.property()],b.prototype,"description",null);c.__decorate([d.property()],b.prototype,"fullExtent",void 0);c.__decorate([p.reader("fullExtent",["fullExtent"])],b.prototype,"readFullExtent",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"fullExtents",void 0);c.__decorate([p.reader("fullExtents",["fullExtents","tileMatrixSets"])],b.prototype,"readFullExtents",null);c.__decorate([d.property()],
b.prototype,"imageFormat",null);c.__decorate([d.property({json:{read:{source:"formats"}}})],b.prototype,"imageFormats",void 0);c.__decorate([d.property()],b.prototype,"id",void 0);c.__decorate([d.property()],b.prototype,"layer",void 0);c.__decorate([d.property()],b.prototype,"styleId",null);c.__decorate([d.property({type:n.ofType(t),json:{read:{source:"styles"}}})],b.prototype,"styles",void 0);c.__decorate([d.property({value:null,json:{write:{ignoreOrigin:!0}}})],b.prototype,"title",null);c.__decorate([d.property()],
b.prototype,"tileMatrixSetId",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"tileMatrixSet",null);c.__decorate([d.property({type:n.ofType(r),json:{read:{source:"tileMatrixSets"}}})],b.prototype,"tileMatrixSets",void 0);return b=m=c.__decorate([q.subclass("esri.layers.support.WMTSSublayer")],b)});