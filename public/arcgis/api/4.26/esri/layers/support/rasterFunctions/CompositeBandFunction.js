// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/maybe ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./BaseRasterFunction ./CompositeBandFunctionArguments ./pixelUtils".split(" "),function(l,h,f,m,e,u,v,n,p,q,r){e=function(g){function k(){var a=t.apply(this,arguments);a.functionName="CompositeBand";a.functionArguments=null;
a.rasterArgumentNames=["rasters"];return a}l._inherits(k,g);var t=l._createSuper(k);g=k.prototype;g._bindSourceRasters=function(){const {sourceRasterInfos:a}=this;var c=a[0];this.outputPixelType=this._getOutputPixelType(c.pixelType);c=c.clone();c.attributeTable=null;c.colormap=null;c.pixelType=this.outputPixelType;c.bandCount=a.map(({bandCount:b})=>b).reduce((b,d)=>b+d);if(a.every(({statistics:b})=>f.isSome(b)&&b.length)){const b=[];a.forEach(({statistics:d})=>f.isSome(d)&&b.push(...d));c.statistics=
b}if(a.every(({histograms:b})=>f.isSome(b)&&b.length)){const b=[];a.forEach(({histograms:d})=>f.isSome(d)&&b.push(...d));c.histograms=b}1<c.bandCount&&(c.colormap=null,c.attributeTable=null);this.rasterInfo=c;return{success:!0,supportsGPU:3>=c.bandCount}};g._processPixels=function(a){({pixelBlocks:a}=a);return!a||f.isNone(a?.[0])?null:r.compositeBands(a)};g._getWebGLParameters=function(){return{bandCount:this.rasterInfo.bandCount}};return l._createClass(k)}(p);h.__decorate([m.property({json:{write:!0,
name:"rasterFunction"}})],e.prototype,"functionName",void 0);h.__decorate([m.property({type:q,json:{write:!0,name:"rasterFunctionArguments"}})],e.prototype,"functionArguments",void 0);h.__decorate([m.property()],e.prototype,"rasterArgumentNames",void 0);return e=h.__decorate([n.subclass("esri.layers.support.rasterFunctions.CompositeBandFunction")],e)});