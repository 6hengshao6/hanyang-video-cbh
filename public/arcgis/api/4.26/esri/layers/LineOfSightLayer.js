// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../analysis/LineOfSightAnalysis ../analysis/LineOfSightAnalysisObserver ../analysis/LineOfSightAnalysisTarget ../core/Collection ../core/collectionUtils ../core/maybe ../core/MultiOriginJSONSupport ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./Layer ./mixins/OperationalLayer".split(" "),function(k,c,m,q,
l,n,r,d,b,p,e,x,y,z,t,u,v){l=n.ofType(l);b=function(f){function g(a){a=w.call(this,a);a.type="line-of-sight";a.operationalLayerType="LineOfSightLayer";a.analysis=new m;a.opacity=1;return a}k._inherits(g,f);var w=k._createSuper(g);f=g.prototype;f.initialize=function(){this.addHandles(p.watch(()=>this.analysis,(a,h)=>{d.isSome(h)&&h.parent===this&&(h.parent=null);d.isSome(a)&&(a.parent=this)},p.syncAndInitial))};f.load=async function(){d.isSome(this.analysis)&&this.addResolvingPromise(this.analysis.waitComputeExtent());
return this};f.releaseAnalysis=function(a){this.analysis===a&&(this.analysis=new m)};k._createClass(g,[{key:"observer",get:function(){return d.applySome(this.analysis,a=>a.observer)},set:function(a){d.applySome(this.analysis,h=>h.observer=a)}},{key:"targets",get:function(){return d.isSome(this.analysis)?this.analysis.targets:new n},set:function(a){r.referenceSetter(a,this.analysis?.targets)}},{key:"fullExtent",get:function(){return d.isSome(this.analysis)?this.analysis.extent:null}},{key:"spatialReference",
get:function(){return d.isSome(this.analysis)?d.unwrap(this.analysis.spatialReference):null}}]);return g}(v.OperationalLayer(b.MultiOriginJSONMixin(u)));c.__decorate([e.property({json:{read:!1},readOnly:!0})],b.prototype,"type",void 0);c.__decorate([e.property({type:["LineOfSightLayer"]})],b.prototype,"operationalLayerType",void 0);c.__decorate([e.property({type:q,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"observer",null);c.__decorate([e.property({type:l,json:{read:!0,write:{ignoreOrigin:!0}}})],
b.prototype,"targets",null);c.__decorate([e.property({nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"analysis",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"fullExtent",null);c.__decorate([e.property({readOnly:!0})],b.prototype,"spatialReference",null);c.__decorate([e.property({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],b.prototype,"opacity",void 0);c.__decorate([e.property({type:["show",
"hide"]})],b.prototype,"listMode",void 0);return b=c.__decorate([t.subclass("esri.layers.LineOfSightLayer")],b)});