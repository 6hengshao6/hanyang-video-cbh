// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),function(f,g,h,p,w,x,y,q,r){const k=Symbol("esri.layers.mixins.PublishableLayer");f.PublishableLayer=b=>{b=function(t){function c(){var a=u.apply(this,arguments);a[v]=!0;return a}g._inherits(c,t);var u=g._createSuper(c);
c.prototype._checkPublishingStatus=function(a){let l=0;const n=async m=>{a.updating=!0;let d;try{d=await this.fetchPublishingStatus()}catch(z){d="unavailable"}if("published"===d||"unavailable"===d)"publishing"===a.status&&this.refresh(),e.remove();a.status=d;a.updating=!1;e.removed||(l=setTimeout(n,m,m+125))},e={removed:!1,remove(){this.removed=!0;clearTimeout(l)}};this.when().catch(()=>e.remove());n(250);this.own(e)};g._createClass(c,[{key:"publishingInfo",get:function(){if(this.destroyed)return null;
var a=this._get("publishingInfo");if(a)return a;a=new r;this._checkPublishingStatus(a);return a}}]);return c}(b);var v=k;h.__decorate([p.property({readOnly:!0,clonable:!1})],b.prototype,"publishingInfo",null);return b=h.__decorate([q.subclass("esri.layers.mixins.PublishableLayer")],b)};f.isPublishableLayer=function(b){return null!=b&&"object"===typeof b&&k in b};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});