// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(d,g,n,e,p,u,h,q){const t=b=>{b=function(c){function f(...v){var a=w.call(this,...v);a._loadController=null;a.loadError=null;a.loadStatus="not-loaded";a._set("loadWarnings",[]);a.addResolvingPromise(new Promise(l=>{const x=a.load.bind(d._assertThisInitialized(a));a.load=y=>{const z=new Promise((k,
m)=>{const r=p.onAbortOrThrow(y,m);a.destroyed&&m(new n("load:instance-destroyed",`Instance of '${a.declaredClass||a.constructor.name}' is already destroyed`,{instance:d._assertThisInitialized(a)}));a._promiseProps.when(k,m).finally(()=>{r&&r.remove()})});if("not-loaded"===a.loadStatus){a._set("loadStatus","loading");const k=a._loadController=new AbortController;x({signal:k.signal});p.onAbort(k.signal,()=>{a._promiseProps.abort()})}l();return z}}));a.when(()=>{a._set("loadStatus","loaded");a._loadController=
null},l=>{a._set("loadStatus","failed");a._set("loadError",l);a._loadController=null});return a}d._inherits(f,c);var w=d._createSuper(f);c=f.prototype;c.destroy=function(){this._loadController=null;this._set("loadError",null);this._set("loadWarnings",[])};c.load=function(){return null};c.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new n("load:cancelled","Cancelled"));this._loadController?.abort();return this};d._createClass(f,[{key:"loaded",get:function(){return"loaded"===
this.loadStatus}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}}]);return f}(b);g.__decorate([h.property({readOnly:!0})],b.prototype,"loaded",null);g.__decorate([h.property({readOnly:!0})],b.prototype,"loadError",void 0);g.__decorate([h.property({clonable:!1})],b.prototype,"loadStatus",void 0);g.__decorate([h.property({type:[u],readOnly:!0})],b.prototype,"loadWarnings",null);return b=g.__decorate([q.subclass("esri.core.Loadable")],b)};e=function(b){function c(){return f.apply(this,
arguments)}d._inherits(c,b);var f=d._createSuper(c);return d._createClass(c)}(t(e.EsriPromise));e=g.__decorate([q.subclass("esri.core.Loadable")],e);(function(b){b.LoadableMixin=t;b.isLoadable=function(c){return!(!c||!c.load)}})(e||(e={}));return e});