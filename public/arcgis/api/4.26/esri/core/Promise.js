// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/subclass".split(" "),function(g,e,m,q,r,k,n){var f;(function(c){c[c.PENDING=0]="PENDING";c[c.RESOLVED=1]="RESOLVED";c[c.REJECTED=2]="REJECTED"})(f||(f={}));let t=function(){function c(d){this.instance=d;this._resolver=k.createDeferred();this._status=f.PENDING;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=f.RESOLVED;this._cleanUp()},()=>{this._status=
f.REJECTED;this._cleanUp()})}var a=c.prototype;a.addResolvingPromise=function(d){this._resolvingPromises.push(d);this._tryResolve()};a.isResolved=function(){return this._status===f.RESOLVED};a.isRejected=function(){return this._status===f.REJECTED};a.isFulfilled=function(){return this._status!==f.PENDING};a.abort=function(){this._resolver.reject(k.createAbortError())};a.when=function(d,h){return this._resolver.promise.then(d,h)};a._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=
null};a._tryResolve=function(){if(!this.isFulfilled()){var d=k.createDeferred(),h=[...this._resolvingPromises,r.assumeNonNull(d.promise)],b=this._allPromise=Promise.all(h);b.then(()=>{this.isFulfilled()||this._allPromise!==b||this._resolver.resolve(this.instance)},l=>{this.isFulfilled()||this._allPromise!==b||k.isAbortError(l)||this._resolver.reject(l)});d.resolve()}};return e._createClass(c)}();const p=c=>{c=function(a){function d(...b){b=h.call(this,...b);b._promiseProps=new t(e._assertThisInitialized(b));
b.addResolvingPromise(Promise.resolve());return b}e._inherits(d,a);var h=e._createSuper(d);a=d.prototype;a.isResolved=function(){return this._promiseProps.isResolved()};a.isRejected=function(){return this._promiseProps.isRejected()};a.isFulfilled=function(){return this._promiseProps.isFulfilled()};a.when=function(b,l){return(new Promise((u,v)=>{this._promiseProps.when(u,v)})).then(b,l)};a.catch=function(b){return this.when(null,b)};a.addResolvingPromise=function(b){b&&!this._promiseProps.isFulfilled()&&
this._promiseProps.addResolvingPromise("_promiseProps"in b?b.when():b)};return e._createClass(d)}(c);return c=m.__decorate([n.subclass("esri.core.Promise")],c)};g.EsriPromise=function(c){function a(){return d.apply(this,arguments)}e._inherits(a,c);var d=e._createSuper(a);return e._createClass(a)}(p(q));g.EsriPromise=m.__decorate([n.subclass("esri.core.Promise")],g.EsriPromise);g.EsriPromiseMixin=p;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});