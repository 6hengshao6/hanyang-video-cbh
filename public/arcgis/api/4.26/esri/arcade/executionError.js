// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../chunks/_rollupPluginBabelHelpers"],function(b,e){function l(a){return a&&a.loc?`Line : ${a.loc.start?.line}, ${a.loc.start?.column}: `:""}function k(a,c){try{if(!c)return a;for(const f in c){let d=c[f];d||(d="");a=a.replace("{"+f+"}",c[f])}}catch(f){}return a}b.ExecutionErrorCodes=void 0;(function(a){a.AsyncNotEnabled="AsyncNotEnabled";a.ModulesNotSupported="ModulesNotSupported";a.CircularModules="CircularModules";a.NeverReach="NeverReach";a.UnsupportedHashType="UnsupportedHashType";
a.InvalidParameter="InvalidParameter";a.UnexpectedToken="UnexpectedToken";a.Unrecognised="Unrecognised";a.UnrecognisedType="UnrecognisedType";a.MaximumCallDepth="MaximumCallDepth";a.BooleanConditionRequired="BooleanConditionRequired";a.TypeNotAllowedInFeature="TypeNotAllowedInFeature";a.KeyMustBeString="KeyMustBeString";a.WrongNumberOfParameters="WrongNumberOfParameters";a.CallNonFunction="CallNonFunction";a.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral";a.NoFunctionInDictionary="NoFunctionInDictionary";
a.NoFunctionInArray="NoFunctionInArray";a.AssignModuleFunction="AssignModuleFunction";a.LogicExpressionOrAnd="LogicExpressionOrAnd";a.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean";a.FuncionNotFound="FunctionNotFound";a.InvalidMemberAccessKey="InvalidMemberAccessKey";a.UnsupportedUnaryOperator="UnsupportUnaryOperator";a.InvalidIdentifier="InvalidIdentifier";a.MemberOfNull="MemberOfNull";a.UnsupportedOperator="UnsupportedOperator";a.Cancelled="Cancelled";a.ModuleAccessorMustBeString="ModuleAccessorMustBeString";
a.ModuleExportNotFound="ModuleExportNotFound";a.Immutable="Immutable";a.OutOfBounds="OutOfBounds";a.IllegalResult="IllegalResult";a.FieldNotFound="FieldNotFound";a.PortalRequired="PortalRequired";a.LogicError="LogicError";a.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber";a.KeyAccessorMustBeString="KeyAccessorMustBeString";a.WrongSpatialReference="WrongSpatialReference"})(b.ExecutionErrorCodes||(b.ExecutionErrorCodes={}));const m={[b.ExecutionErrorCodes.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",
[b.ExecutionErrorCodes.LogicError]:"Logic error - {reason}",[b.ExecutionErrorCodes.NeverReach]:"Encountered unreachable logic",[b.ExecutionErrorCodes.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[b.ExecutionErrorCodes.ModuleAccessorMustBeString]:"Module accessor must be a string",[b.ExecutionErrorCodes.ModuleExportNotFound]:"Module has no export with provided identifier",[b.ExecutionErrorCodes.ModulesNotSupported]:"Current profile does not support modules",[b.ExecutionErrorCodes.ArrayAccessorMustBeNumber]:"Array accessor must be a number",
[b.ExecutionErrorCodes.FuncionNotFound]:"Function not found",[b.ExecutionErrorCodes.FieldNotFound]:"Key not found - {key}",[b.ExecutionErrorCodes.CircularModules]:"Circular module dependencies are not allowed",[b.ExecutionErrorCodes.Cancelled]:"Execution cancelled",[b.ExecutionErrorCodes.UnsupportedHashType]:"Type not supported in hash function",[b.ExecutionErrorCodes.IllegalResult]:"Value is not a supported return type",[b.ExecutionErrorCodes.PortalRequired]:"Portal is required",[b.ExecutionErrorCodes.InvalidParameter]:"Invalid parameter",
[b.ExecutionErrorCodes.WrongNumberOfParameters]:"Call with wrong number of parameters",[b.ExecutionErrorCodes.Unrecognised]:"Unrecognised code structure",[b.ExecutionErrorCodes.UnrecognisedType]:"Unrecognised type",[b.ExecutionErrorCodes.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[b.ExecutionErrorCodes.BooleanConditionRequired]:"Conditions must use booleans",[b.ExecutionErrorCodes.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",
[b.ExecutionErrorCodes.NoFunctionInArray]:"Arrays cannot contain functions.",[b.ExecutionErrorCodes.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[b.ExecutionErrorCodes.KeyAccessorMustBeString]:"Accessor must be a string",[b.ExecutionErrorCodes.KeyMustBeString]:"Object keys must be a string",[b.ExecutionErrorCodes.Immutable]:"Object is immutable",[b.ExecutionErrorCodes.InvalidParameter]:"Invalid parameter",[b.ExecutionErrorCodes.UnexpectedToken]:"Unexpected token",
[b.ExecutionErrorCodes.MemberOfNull]:"Cannot access property of null object",[b.ExecutionErrorCodes.MaximumCallDepth]:"Exceeded maximum function depth",[b.ExecutionErrorCodes.OutOfBounds]:"Out of bounds",[b.ExecutionErrorCodes.InvalidIdentifier]:"Identifier not recognised",[b.ExecutionErrorCodes.FuncionNotFound]:"Function not found",[b.ExecutionErrorCodes.CallNonFunction]:"Expression is not a function",[b.ExecutionErrorCodes.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[b.ExecutionErrorCodes.AssignModuleFunction]:"Cannot assign function to module variable",
[b.ExecutionErrorCodes.UnsupportedUnaryOperator]:"Unsupported unary operator",[b.ExecutionErrorCodes.UnsupportedOperator]:"Unsupported operator",[b.ExecutionErrorCodes.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[b.ExecutionErrorCodes.LogicExpressionOrAnd]:"Logical expression can only be combined with || or \x26\x26"};let q=function(a){function c(...d){return f.call(this,...d)}e._inherits(c,a);var f=e._createSuper(c);return e._createClass(c)}(e._wrapNativeSuper(Error)),n=function(a){function c(d,
g){d=f.call(this,l(g)+d.message,{cause:d});d.loc=null;Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(d),c);g&&g.loc&&(d.loc=g.loc);return d}e._inherits(c,a);var f=e._createSuper(c);return e._createClass(c)}(q),t=function(a){function c(d,g,h,p){d=f.call(this,"Execution error - "+l(h)+k(m[g],p));d.loc=null;d.declaredRootClass="esri.arcade.arcadeexecutionerror";Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(d),c);h&&h.loc&&(d.loc=h.loc);return d}
e._inherits(c,a);var f=e._createSuper(c);return e._createClass(c)}(e._wrapNativeSuper(Error)),u=function(a){function c(d,g,h,p){d=f.call(this,"Compilation error - "+l(h)+k(m[g],p));d.loc=null;d.declaredRootClass="esri.arcade.arcadecompilationerror";Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(d),c);h&&h.loc&&(d.loc=h.loc);return d}e._inherits(c,a);var f=e._createSuper(c);return e._createClass(c)}(e._wrapNativeSuper(Error)),v=function(a){function c(){var d=f.call(this,
"Uncompilable code structures");d.declaredRootClass="esri.arcade.arcadeuncompilableerror";Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(d),c);return d}e._inherits(c,a);var f=e._createSuper(c);return e._createClass(c)}(e._wrapNativeSuper(Error));b.ModuleErrorCodes=void 0;(function(a){a.UnrecognisedUri="UnrecognisedUri";a.UnsupportedUriProtocol="UnsupportedUriProtocol"})(b.ModuleErrorCodes||(b.ModuleErrorCodes={}));const r={[b.ModuleErrorCodes.UnrecognisedUri]:"Unrecognised uri - {uri}",
[b.ModuleErrorCodes.UnsupportedUriProtocol]:"Unrecognised uri protocol"};let w=function(a){function c(d,g){d=f.call(this,k(r[d],g));d.declaredRootClass="esri.arcade.arcademoduleerror";Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(d),c);return d}e._inherits(c,a);var f=e._createSuper(c);return e._createClass(c)}(e._wrapNativeSuper(Error));b.ArcadeCompilationError=u;b.ArcadeExecutionError=t;b.ArcadeUncompilableError=v;b.ErrorWithCause=q;b.ExecutionErrorMessages=m;b.LocatableArcadeExecutionError=
n;b.ModuleError=w;b.ModuleErrorMessages=r;b.doSubstitutions=k;b.ensureArcadeExecutionError=function(a,c,f){return"esri.arcade.arcadeexecutionerror"===f.declaredRootClass||"esri.arcade.arcadecompilationerror"===f.declaredRootClass?null===f.loc&&c&&c.loc?new n(f,{cause:f}):f:c&&c.loc?new n(f,{cause:f}):f};b.parsingValidationMessage=function(a,c,f){return"Parsing error - "+l(a)+k(m[c],f)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});