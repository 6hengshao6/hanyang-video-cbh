// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Analysis ./DimensionSimpleStyle ./LengthDimension ../core/Collection ../core/collectionUtils ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/projection".split(" "),function(m,f,c,p,u,v,q,b,r,g,z,A,B,w,t,x){const n=v.ofType(u);c=function(h){function k(a){a=y.call(this,
a);a.type="dimension";a.style=new p;a.extent=null;return a}m._inherits(k,h);var y=m._createSuper(k);h=k.prototype;h.initialize=function(){this.addHandles(r.watch(()=>this._computeExtent(),a=>{(b.isNone(a)||b.isNone(a.pending))&&this._set("extent",b.isSome(a)?a.extent:null)},r.syncAndInitial))};h.waitComputeExtent=async function(){const a=this._computeExtent();return b.isSome(a)?b.unwrap(a.pending):Promise.resolve()};h._computeExtent=function(){var a=this.spatialReference;if(b.isNone(a))return{pending:null,
extent:null};var d=[];for(const e of this.dimensions)b.isSome(e.startPoint)&&d.push(e.startPoint),b.isSome(e.endPoint)&&d.push(e.endPoint);a=x.projectOrLoadMany(d,a);if(b.isSome(a.pending))return{pending:a.pending,extent:null};d=null;b.isSome(a.geometries)&&(d=a.geometries.reduce((e,l)=>b.isNone(e)?b.isSome(l)?t.fromPoint(l):null:b.isSome(l)?e.union(t.fromPoint(l)):e,null));return{pending:null,extent:d}};h.clear=function(){this.dimensions.removeAll()};m._createClass(k,[{key:"dimensions",get:function(){return this._get("dimensions")||
new n},set:function(a){this._set("dimensions",q.referenceSetter(a,this.dimensions,n))}},{key:"spatialReference",get:function(){for(const a of this.dimensions){if(b.isSome(a.startPoint))return a.startPoint.spatialReference;if(b.isSome(a.endPoint))return a.endPoint.spatialReference}return null}},{key:"requiredPropertiesForEditing",get:function(){return this.dimensions.reduce((a,d)=>{a.push(d.startPoint,d.endPoint);return a},[])}}]);return k}(c);f.__decorate([g.property({type:["dimension"]})],c.prototype,
"type",void 0);f.__decorate([g.property({cast:q.castForReferenceSetter,type:n,nonNullable:!0})],c.prototype,"dimensions",null);f.__decorate([g.property({readOnly:!0})],c.prototype,"spatialReference",null);f.__decorate([g.property({types:{key:"type",base:null,typeMap:{simple:p}},nonNullable:!0})],c.prototype,"style",void 0);f.__decorate([g.property({value:null,readOnly:!0})],c.prototype,"extent",void 0);f.__decorate([g.property({readOnly:!0})],c.prototype,"requiredPropertiesForEditing",null);return c=
f.__decorate([w.subclass("esri.analysis.DimensionAnalysis")],c)});