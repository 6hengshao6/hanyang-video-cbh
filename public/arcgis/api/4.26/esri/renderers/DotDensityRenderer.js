// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),function(l,c,n,e,f,b,q,r,t,u,v,w,x,y,p){var m;
b=m=function(d){function k(a){a=z.call(this,a);a.attributes=null;a.backgroundColor=new n([0,0,0,0]);a.dotBlendingEnabled=!0;a.dotShape="square";a.dotSize=1;a.legendOptions=null;a.outline=new p;a.dotValue=null;a.referenceScale=null;a.seed=1;a.type="dot-density";return a}l._inherits(k,d);var z=l._createSuper(k);d=k.prototype;d.calculateDotValue=function(a){if(null==this.referenceScale)return this.dotValue;a=a/this.referenceScale*this.dotValue;return 1>a?1:a};d.getSymbol=function(){return new y({outline:this.outline})};
d.getSymbolAsync=async function(){return this.getSymbol()};d.getSymbols=function(){return[this.getSymbol()]};d.getAttributeHash=function(){return this.attributes?.reduce((a,h)=>a+h.getAttributeHash(),"")??""};d.getMeshHash=function(){return JSON.stringify(this.outline)};d.clone=function(){return new m({attributes:e.clone(this.attributes),backgroundColor:e.clone(this.backgroundColor),dotBlendingEnabled:e.clone(this.dotBlendingEnabled),dotShape:e.clone(this.dotShape),dotSize:e.clone(this.dotSize),dotValue:e.clone(this.dotValue),
legendOptions:e.clone(this.legendOptions),outline:e.clone(this.outline),referenceScale:e.clone(this.referenceScale),visualVariables:e.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};d.getControllerHash=function(){const a=this.attributes?.map(g=>g.field||g.valueExpression||""),h=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${a}-${h}`};d.collectRequiredFields=async function(a,h){await this.collectVVRequiredFields(a,h);for(const g of this.attributes??
[])g.valueExpression&&await t.collectArcadeFieldNames(a,h,g.valueExpression),g.field&&a.add(g.field)};return l._createClass(k)}(v.VisualVariablesMixin(u));c.__decorate([f.property({type:[w],json:{write:!0}})],b.prototype,"attributes",void 0);c.__decorate([f.property({type:n,json:{write:!0}})],b.prototype,"backgroundColor",void 0);c.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"dotBlendingEnabled",void 0);c.__decorate([f.property({type:String,json:{write:!1}})],b.prototype,"dotShape",
void 0);c.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"dotSize",void 0);c.__decorate([f.property({type:x,json:{write:!0}})],b.prototype,"legendOptions",void 0);c.__decorate([f.property({type:p,json:{default:null,write:!0}})],b.prototype,"outline",void 0);c.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"dotValue",void 0);c.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"referenceScale",void 0);c.__decorate([f.property({type:Number,json:{write:!0}})],
b.prototype,"seed",void 0);c.__decorate([q.enumeration({dotDensity:"dot-density"})],b.prototype,"type",void 0);return b=m=c.__decorate([r.subclass("esri.renderers.DotDensityRenderer")],b)});