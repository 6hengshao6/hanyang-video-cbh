// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),function(h,e,l,f,c,r,p,t,u,v,q){var m;c=m=function(b){function g(a){a=w.call(this,a);a.config=null;a.fieldMap=null;a.scaleExpression=null;a.scaleExpressionTitle=
null;a.url=null;a.type="dictionary";return a}h._inherits(g,b);var w=h._createSuper(g);b=g.prototype;b.writeData=function(a,d){a&&(d.scalingExpressionInfo={expression:a,returnType:"number"})};b.writeVisualVariables=function(a,d,n,k){k?.origin||h._get(h._getPrototypeOf(g.prototype),"writeVisualVariables",this).call(this,a,d,n,k)};b.clone=function(){return new m({config:l.clone(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:l.clone(this.fieldMap),
url:l.clone(this.url),visualVariables:l.clone(this.visualVariables)})};b.getSymbolAsync=async function(a,d){return this._loader.getSymbolAsync(a,d)};b.collectRequiredFields=async function(a,d){await this.collectVVRequiredFields(a,d);this.scaleExpression&&await t.collectArcadeFieldNames(a,d,this.scaleExpression);for(const n in this.fieldMap){const k=this.fieldMap[n];d.has(k)&&a.add(k)}};b.getSymbol=function(){return null};b.getSymbols=function(){return[]};b.getAttributeHash=function(){return this.visualVariables&&
this.visualVariables.reduce((a,d)=>a+d.getAttributeHash(),"")};b.getMeshHash=function(){return`${this.url}-${JSON.stringify(this.fieldMap)}`};b.getSymbolFields=function(){return this._loader.getSymbolFields()};h._createClass(g,[{key:"_loader",get:function(){return new q.DictionaryLoader(this.url,this.config,this.fieldMap)}},{key:"arcadeRequired",get:function(){return!0}}]);return g}(v.VisualVariablesMixin(u));e.__decorate([f.property({type:q.DictionaryLoader})],c.prototype,"_loader",null);e.__decorate([f.property({type:Object,
json:{read:{source:"configuration"},write:{target:"configuration"}}})],c.prototype,"config",void 0);e.__decorate([f.property({type:Object,json:{write:!0}})],c.prototype,"fieldMap",void 0);e.__decorate([f.property({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],c.prototype,"scaleExpression",void 0);e.__decorate([p.writer("scaleExpression")],c.prototype,"writeData",null);e.__decorate([f.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",
overridePolicy(b){return{enabled:!!b&&!!this.scaleExpression}}}}})],c.prototype,"scaleExpressionTitle",void 0);e.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"url",void 0);e.__decorate([p.writer("visualVariables")],c.prototype,"writeVisualVariables",null);return c=m=e.__decorate([r.subclass("esri.renderers.DictionaryRenderer")],c)});