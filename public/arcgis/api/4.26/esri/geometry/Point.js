// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(w,
k,u,y,l,z,g,L,A,B,C,D,E,F,G,H,m){function x(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}var v;const q=[0,0];g=v=function(e){function n(...a){a=I.call(this,...a);a.x=0;a.y=0;a.z=void 0;a.m=void 0;a.type="point";return a}w._inherits(n,e);var I=w._createSuper(n);n.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",Object.isFrozen(a)?a:a.clone())};
e=n.prototype;e.normalizeCtorArgs=function(a,b,c,h,f){let d;if(Array.isArray(a))d=a,f=b,a=d[0],b=d[1],c=d[2],h=d[3];else if(a&&"object"===typeof a){if(d=a,a=null!=d.x?d.x:d.longitude,b=null!=d.y?d.y:d.latitude,c=d.z,h=d.m,(f=d.spatialReference)&&"esri.geometry.SpatialReference"!==f.declaredClass&&(f=new F(f)),null!=d.longitude||null!=d.latitude)null==d.longitude?u.getLogger(this.declaredClass).warn(".longitude\x3d","Latitude was defined without longitude"):null==d.latitude?u.getLogger(this.declaredClass).warn(".latitude\x3d",
"Longitude was defined without latitude"):!d.declaredClass&&f&&f.isWebMercator&&(b=m.lngLatToXY(d.longitude,d.latitude,q),a=b[0],b=b[1])}else x(c)?(f=c,c=null):x(h)&&(f=h,h=null);a={x:a,y:b};null==a.x&&null!=a.y?u.getLogger(this.declaredClass).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&u.getLogger(this.declaredClass).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=f&&(a.spatialReference=f);null!=c&&(a.z=c);null!=h&&(a.m=h);return a};
e.writeX=function(a,b,c){b[c]=isNaN(a)?"NaN":a};e.readX=function(a){return"string"===typeof a?NaN:a};e.clone=function(){const a=new v;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};e.copy=function(a){v.copy(a,this);return this};e.equals=function(a){if(y.isNone(a))return!1;const {x:b,y:c,z:h,m:f,spatialReference:d}=this,{z:J,m:K}=a;let {x:r,y:t,spatialReference:p}=a;if(!d.equals(p))if(d.isWebMercator&&p.isWGS84)[r,t]=m.lngLatToXY(r,t),p=d;else if(d.isWGS84&&
p.isWebMercator)[r,t]=m.xyToLngLat(r,t),p=d;else return!1;return b===r&&c===t&&h===J&&f===K&&d.wkid===p.wkid};e.offset=function(a,b,c){this.x+=a;this.y+=b;null!=c&&(this.z=(this.z??0)+c);return this};e.normalize=function(){if(!this.spatialReference)return this;var a=H.getInfo(this.spatialReference);if(!a)return this;let b=this.x;const [c,h]=a.valid;a=2*h;let f;b>h?(f=Math.ceil(Math.abs(b-h)/a),b-=f*a):b<c&&(f=Math.ceil(Math.abs(b-c)/a),b+=f*a);this._set("x",b);return this};e.distance=function(a){return G.distance(this,
a)};e.toArray=function(){const a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};e.toJSON=function(a){return this.write({},a)};w._createClass(n,[{key:"cache",get:function(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");return{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(a){const b=void 0!==this._get("m");
a!==b&&(this._set("m",a?0:void 0),this._set("hasM",a))}},{key:"hasZ",get:function(){return void 0!==this.z},set:function(a){const b=void 0!==this._get("z");a!==b&&(this._set("z",a?0:void 0),this._set("hasZ",a))}},{key:"latitude",get:function(){const {spatialReference:a,x:b,y:c}=this;if(a){if(a.isWebMercator)return m.xyToLngLat(b,c,q)[1];if(a.isGeographic)return c}return null},set:function(a){const {spatialReference:b,x:c}=this;null!=a&&b&&(b.isWebMercator?this._set("y",m.lngLatToXY(c,a,q)[1]):b.isGeographic&&
this._set("y",a),this._set("latitude",a))}},{key:"longitude",get:function(){const {x:a,y:b,spatialReference:c}=this;if(c){if(c.isWebMercator)return m.xyToLngLat(a,b,q)[0];if(c.isGeographic)return a}return null},set:function(a){const {y:b,spatialReference:c}=this;null!=a&&c&&(c.isWebMercator?this._set("x",m.lngLatToXY(a,b,q)[0]):c.isGeographic&&this._set("x",a),this._set("longitude",a))}}]);return n}(E);k.__decorate([l.property({readOnly:!0})],g.prototype,"cache",null);k.__decorate([l.property({type:Boolean,
json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],g.prototype,"hasM",null);k.__decorate([l.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],g.prototype,"hasZ",null);k.__decorate([l.property({type:Number})],g.prototype,"latitude",null);k.__decorate([l.property({type:Number})],g.prototype,"longitude",null);k.__decorate([l.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),z.cast(e=>isNaN(e)?e:D.ensureNumber(e))],g.prototype,"x",
void 0);k.__decorate([C.writer("x")],g.prototype,"writeX",null);k.__decorate([A.reader("x")],g.prototype,"readX",null);k.__decorate([l.property({type:Number,json:{write:!0}})],g.prototype,"y",void 0);k.__decorate([l.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],g.prototype,"z",void 0);k.__decorate([l.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],g.prototype,"m",void 0);g=v=k.__decorate([B.subclass("esri.geometry.Point")],
g);g.prototype.toJSON.isDefaultToJSON=!0;return g});