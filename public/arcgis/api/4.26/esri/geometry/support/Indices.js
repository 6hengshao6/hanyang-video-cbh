// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../core/typedArrayUtil"],function(d,c){let e=(()=>{const a=new Uint32Array(131072);for(let b=0;b<a.length;++b)a[b]=b;return a})();const h=[0],g=(()=>{const a=new Uint16Array(65536);for(let b=0;b<a.length;++b)a[b]=b;return a})();let f=new Uint16Array(65536);d.compactIndices=function(a){if(c.isArray(a)){if(a.length<c.NATIVE_ARRAY_MAX_SIZE)return a;for(const b of a)if(65536<=b)return new Uint32Array(a);return new Uint16Array(a)}if(a.length<c.NATIVE_ARRAY_MAX_SIZE)return Array.from(a);
if(a.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT)return a;for(const b of a)if(65536<=b)return a;return new Uint16Array(a)};d.getContinuousIndexArray=function(a){if(1===a)return h;if(a<c.NATIVE_ARRAY_MAX_SIZE)return Array.from(new Uint16Array(g.buffer,0,a));if(a<g.length)return new Uint16Array(g.buffer,0,a);if(a>e.length){e=new Uint32Array(Math.max(2*e.length,a));for(let b=0;b<e.length;b++)e[b]=b}return new Uint32Array(e.buffer,0,a)};d.getZeroIndexArray=function(a){if(1===a)return h;if(a<c.NATIVE_ARRAY_MAX_SIZE)return Array(a).fill(0);
a>f.length&&(f=new Uint16Array(Math.max(2*f.length,a)));return new Uint16Array(f.buffer,0,a)};d.newIndexArray=function(a){return a<=c.NATIVE_ARRAY_MAX_SIZE?Array(a):65536>=a?new Uint16Array(a):new Uint32Array(a)};d.newIntArray=function(a){return a<=c.NATIVE_ARRAY_MAX_SIZE?Array(a):new Uint32Array(a)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});