// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/rbush/PooledRBush":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../arrayUtils ../../maybe ../../PooledArray ../../../chunks/quickselect".split(" "),function(l,d,V,aa,L,u){function m(y,R){r(y,0,y.children.length,R,y)}function r(y,R,v,C,P){P||(P=new U([]));P.minX=Infinity;P.minY=Infinity;P.maxX=-Infinity;P.maxY=-Infinity;for(let Z=R,ia;Z<v;Z++)ia=y.children[Z],I(P,y.leaf?C(ia):ia);return P}function I(y,R){y.minX=Math.min(y.minX,R.minX);y.minY=
Math.min(y.minY,R.minY);y.maxX=Math.max(y.maxX,R.maxX);y.maxY=Math.max(y.maxY,R.maxY)}function X(y,R){return y.minX-R.minX}function ca(y,R){return y.minY-R.minY}function ma(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function ha(y){return y.maxX-y.minX+(y.maxY-y.minY)}function da(y,R){return y.minX<=R.minX&&y.minY<=R.minY&&R.maxX<=y.maxX&&R.maxY<=y.maxY}function fa(y,R){return R.minX<=y.maxX&&R.minY<=y.maxY&&R.maxX>=y.minX&&R.maxY>=y.minY}function F(y,R,v,C,P){for(R=[R,v];R.length;){v=aa.assumeNonNull(R.pop());
const Z=aa.assumeNonNull(R.pop());if(v-Z<=C)continue;const ia=Z+Math.ceil((v-Z)/C/2)*C;u.quickselect(y,ia,Z,v,P);R.push(Z,ia,ia,v)}}let O=function(){function y(v=9,C){this._compareMinX=X;this._compareMinY=ca;this._toBBox=P=>P;this._maxEntries=Math.max(4,v||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));C&&("function"===typeof C?this._toBBox=C:this._initFormat(C));this.clear()}var R=y.prototype;R.destroy=function(){this.clear();ba.prune();W.prune();H.prune();J.prune()};R.all=function(v){this._all(this._data,
v)};R.search=function(v,C){let P=this._data;const Z=this._toBBox;if(fa(v,P))for(ba.clear();P;){for(let ia=0,sa=P.children.length;ia<sa;ia++){const ta=P.children[ia],g=P.leaf?Z(ta):ta;fa(v,g)&&(P.leaf?C(ta):da(v,g)?this._all(ta,C):ba.push(ta))}P=ba.pop()}};R.collides=function(v){let C=this._data;const P=this._toBBox;if(!fa(v,C))return!1;for(ba.clear();C;){for(let Z=0,ia=C.children.length;Z<ia;Z++){const sa=C.children[Z],ta=C.leaf?P(sa):sa;if(fa(v,ta)){if(C.leaf||da(v,ta))return!0;ba.push(sa)}}C=ba.pop()}return!1};
R.load=function(v){if(!v.length)return this;if(v.length<this._minEntries){for(let C=0,P=v.length;C<P;C++)this.insert(v[C]);return this}v=this._build(v.slice(0,v.length),0,v.length-1,0);if(this._data.children.length)if(this._data.height===v.height)this._splitRoot(this._data,v);else{if(this._data.height<v.height){const C=this._data;this._data=v;v=C}this._insert(v,this._data.height-v.height-1,!0)}else this._data=v;return this};R.insert=function(v){v&&this._insert(v,this._data.height-1);return this};
R.clear=function(){this._data=new U([]);return this};R.remove=function(v){if(!v)return this;let C=this._data,P=null,Z=0,ia=!1,sa;const ta=this._toBBox(v);H.clear();for(J.clear();C||0<H.length;){C||(C=aa.assumeNonNull(H.pop()),P=H.data[H.length-1],Z=J.pop()??0,ia=!0);if(C.leaf&&(sa=V.indexOf(C.children,v,C.children.length,C.indexHint),-1!==sa)){C.children.splice(sa,1);H.push(C);this._condense(H);break}ia||C.leaf||!da(C,ta)?P?(Z++,C=P.children[Z],ia=!1):C=null:(H.push(C),J.push(Z),Z=0,P=C,C=C.children[0])}return this};
R.toJSON=function(){return this._data};R.fromJSON=function(v){this._data=v;return this};R._all=function(v,C){for(W.clear();v;){if(!0===v.leaf)for(const P of v.children)C(P);else W.pushArray(v.children);v=W.pop()??null}};R._build=function(v,C,P,Z){var ia=P-C+1,sa=this._maxEntries;if(ia<=sa)return v=new U(v.slice(C,P+1)),m(v,this._toBBox),v;Z||(Z=Math.ceil(Math.log(ia)/Math.log(sa)),sa=Math.ceil(ia/sa**(Z-1)));const ta=new E([]);ta.height=Z;ia=Math.ceil(ia/sa);sa=ia*Math.ceil(Math.sqrt(sa));for(F(v,
C,P,sa,this._compareMinX);C<=P;C+=sa){const g=Math.min(C+sa-1,P);F(v,C,g,ia,this._compareMinY);for(let n=C;n<=g;n+=ia)ta.children.push(this._build(v,n,Math.min(n+ia-1,g),Z-1))}m(ta,this._toBBox);return ta};R._chooseSubtree=function(v,C,P,Z){for(;;){Z.push(C);if(!0===C.leaf||Z.length-1===P)break;let ia=Infinity,sa=Infinity,ta=void 0;for(let g=0,n=C.children.length;g<n;g++){const M=C.children[g],pa=ma(M),z=(Math.max(M.maxX,v.maxX)-Math.min(M.minX,v.minX))*(Math.max(M.maxY,v.maxY)-Math.min(M.minY,v.minY))-
pa;z<sa?(sa=z,ia=pa<ia?pa:ia,ta=M):z===sa&&pa<ia&&(ia=pa,ta=M)}C=ta||C.children[0]}return C};R._insert=function(v,C,P){var Z=this._toBBox;P=P?v:Z(v);H.clear();Z=this._chooseSubtree(P,this._data,C,H);Z.children.push(v);for(I(Z,P);0<=C;)if(H.data[C].children.length>this._maxEntries)this._split(H,C),C--;else break;this._adjustParentBBoxes(P,H,C)};R._split=function(v,C){const P=v.data[C];var Z=P.children.length;const ia=this._minEntries;this._chooseSplitAxis(P,ia,Z);(Z=this._chooseSplitIndex(P,ia,Z))?
(Z=P.children.splice(Z,P.children.length-Z),Z=P.leaf?new U(Z):new E(Z),Z.height=P.height,m(P,this._toBBox),m(Z,this._toBBox),C?v.data[C-1].children.push(Z):this._splitRoot(P,Z)):console.log("  Error: assertion failed at PooledRBush._split: no valid split index")};R._splitRoot=function(v,C){this._data=new E([v,C]);this._data.height=v.height+1;m(this._data,this._toBBox)};R._chooseSplitIndex=function(v,C,P){let Z,ia,sa=void 0;Z=ia=Infinity;for(let g=C;g<=P-C;g++){var ta=r(v,0,g,this._toBBox);const n=
r(v,g,P,this._toBBox),M=Math.max(0,Math.min(ta.maxX,n.maxX)-Math.max(ta.minX,n.minX))*Math.max(0,Math.min(ta.maxY,n.maxY)-Math.max(ta.minY,n.minY));ta=ma(ta)+ma(n);M<Z?(Z=M,sa=g,ia=ta<ia?ta:ia):M===Z&&ta<ia&&(ia=ta,sa=g)}return sa};R._chooseSplitAxis=function(v,C,P){const Z=v.leaf?this._compareMinX:X,ia=v.leaf?this._compareMinY:ca,sa=this._allDistMargin(v,C,P,Z);C=this._allDistMargin(v,C,P,ia);sa<C&&v.children.sort(Z)};R._allDistMargin=function(v,C,P,Z){v.children.sort(Z);Z=this._toBBox;var ia=r(v,
0,C,Z);const sa=r(v,P-C,P,Z);let ta=ha(ia)+ha(sa);for(let g=C;g<P-C;g++){const n=v.children[g];I(ia,v.leaf?Z(n):n);ta+=ha(ia)}for(P=P-C-1;P>=C;P--)ia=v.children[P],I(sa,v.leaf?Z(ia):ia),ta+=ha(sa);return ta};R._adjustParentBBoxes=function(v,C,P){for(;0<=P;P--)I(C.data[P],v)};R._condense=function(v){for(let C=v.length-1;0<=C;C--){const P=v.data[C];if(0===P.children.length)if(0<C){const Z=v.data[C-1],ia=Z.children;ia.splice(V.indexOf(ia,P,ia.length,Z.indexHint),1)}else this.clear();else m(P,this._toBBox)}};
R._initFormat=function(v){const C=["return a"," - b",";"];this._compareMinX=new Function("a","b",C.join(v[0]));this._compareMinY=new Function("a","b",C.join(v[1]));this._toBBox=new Function("a","return {minX: a"+v[0]+", minY: a"+v[1]+", maxX: a"+v[2]+", maxY: a"+v[3]+"};")};return d._createClass(y)}();const ba=new L,W=new L,H=new L,J=new L({deallocator:void 0});L=d._createClass(function(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity});let K=function(y){function R(){var C=v.apply(this,
arguments);C.height=1;C.indexHint=new V.PositionHint;return C}d._inherits(R,y);var v=d._createSuper(R);return d._createClass(R)}(L),U=function(y){function R(C){var P=v.call(this);P.children=C;P.leaf=!0;return P}d._inherits(R,y);var v=d._createSuper(R);return d._createClass(R)}(K),E=function(y){function R(C){var P=v.call(this);P.children=C;P.leaf=!1;return P}d._inherits(R,y);var v=d._createSuper(R);return d._createClass(R)}(K);l.BBox=L;l.PooledRBush=O;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},
"esri/chunks/quickselect":function(){define(["exports"],function(l){var d={};(function(V){(function(aa){aa=aa();void 0!==aa&&(V.exports=aa)})(function(){function aa(m,r,I,X,ca){for(;X>I;){if(600<X-I){var ma=X-I+1,ha=r-I+1,da=Math.log(ma),fa=.5*Math.exp(2*da/3);da=.5*Math.sqrt(da*fa*(ma-fa)/ma)*(0>ha-ma/2?-1:1);aa(m,r,Math.max(I,Math.floor(r-ha*fa/ma+da)),Math.min(X,Math.floor(r+(ma-ha)*fa/ma+da)),ca)}ma=m[r];ha=I;fa=X;L(m,I,r);for(0<ca(m[X],ma)&&L(m,I,X);ha<fa;){L(m,ha,fa);ha++;for(fa--;0>ca(m[ha],
ma);)ha++;for(;0<ca(m[fa],ma);)fa--}0===ca(m[I],ma)?L(m,I,fa):(fa++,L(m,fa,X));fa<=r&&(I=fa+1);r<=fa&&(X=fa-1)}}function L(m,r,I){var X=m[r];m[r]=m[I];m[I]=X}function u(m,r){return m<r?-1:m>r?1:0}return function(m,r,I,X,ca){aa(m,r,I||0,X||m.length-1,ca||u)}})})({get exports(){return d},set exports(V){d=V}});l.quickselect=d})},"esri/geometry/support/meshUtils/georeference":function(){define("exports ../../../core/maybe ../../../core/unitUtils ../../../chunks/mat3f64 ../../../chunks/mat4 ../../../chunks/mat4f64 ../../../chunks/mat3 ../../projection ../../spatialReferenceEllipsoidUtils ../MeshTransform ../../../chunks/vec32 ./geographicUtils ./projection".split(" "),
function(l,d,V,aa,L,u,m,r,I,X,ca,ma,ha){function da(E,y,R){if(ma.isGeographicMesh(y.spatialReference,R)){var v=y.spatialReference,C=ba(y,R,H);R=new Float64Array(E.position.length);var P=E.position;y=v;var Z=R;ca.transformMat4(Z,P,C);P=new Float64Array(P.length);y=ha.projectFromPCPF(Z,P,y);C=m.normalFromMat4(K,C);Z=R;P=E.normal;var ia=C,sa=v;if(d.isNone(P))Z=null;else{var ta=new Float32Array(P.length);ca.transformMat3(ta,P,ia);ha.projectNormalFromPCPF(ta,y,Z,sa,ta);Z=ta}E=E.tangent;if(d.isNone(E))E=
null;else{P=new Float32Array(E.length);ca.transformMat3(P,E,C,4);for(C=3;C<P.length;C+=4)P[C]=E[C];ha.projectTangentFromPCPF(P,y,R,v,P);E=P}E={position:y,normal:Z,tangent:E}}else{v=new Float64Array(E.position.length);C=E.position;Z=y.x;P=y.y;ia=y.z||0;const {horizontal:g,vertical:n}=W(R?R.unit:null,y.spatialReference);for(y=0;y<C.length;y+=3)v[y]=C[y]*g+Z,v[y+1]=C[y+1]*g+P,v[y+2]=C[y+2]*n+ia;E={position:v,normal:E.normal,tangent:E.tangent}}return E}function fa(E,y,R){const {position:v,normal:C,tangent:P}=
E;if(d.isNone(y))return{position:v,normal:C,tangent:P};var Z=y.localMatrix;E=ca.transformMat4(new Float64Array(v.length),v,Z);const ia=d.isSome(C)?ha.transformNormal(C,new Float32Array(C.length),Z):null;Z=d.isSome(P)?ha.transformTangent(P,new Float32Array(P.length),Z):null;return da({position:E,normal:ia,tangent:Z},y.getOriginPoint(R),{geographic:y.geographic})}function F(E,y,R){if(ma.isGeographicMesh(y.spatialReference,R)){var v=y.spatialReference;ba(y,R,H);var C=L.invert(J,H);R=new Float64Array(E.position.length);
y=C;var P=ha.projectToPCPF(E.position,v,R),Z=new Float64Array(P.length);ca.transformMat4(Z,P,y);y=Z;C=m.normalFromMat4(K,C);Z=E.normal;var ia=E.position,sa=R,ta=v;P=C;d.isNone(Z)?P=null:(Z=ha.projectNormalToPCPF(Z,ia,sa,ta,new Float32Array(Z.length)),ca.transformMat3(Z,Z,P),P=Z);Z=E.tangent;E=E.position;d.isNone(Z)?v=null:(v=ha.projectTangentToPCPF(Z,E,R,v,new Float32Array(Z.length)),ca.transformMat3(v,v,C,4));v={position:y,normal:P,tangent:v}}else v=O(E,y,R);return v}function O(E,y,R){const v=new Float64Array(E.position.length),
C=E.position,P=y.x,Z=y.y,ia=y.z||0,{horizontal:sa,vertical:ta}=W(R?R.unit:null,y.spatialReference);for(y=0;y<C.length;y+=3)v[y]=(C[y]-P)/sa,v[y+1]=(C[y+1]-Z)/sa,v[y+2]=(C[y+2]-ia)/ta;return{position:v,normal:E.normal,tangent:E.tangent}}function ba(E,y,R){r.computeTranslationToOriginAndRotation(E.spatialReference,[E.x,E.y,E.z||0],R,I.getSphericalPCPF(E.spatialReference));const {horizontal:v,vertical:C}=W(y?y.unit:null,E.spatialReference);L.scale(R,R,[v,v,C]);return R}function W(E,y){if(d.isNone(E))return U;
const R=y.isGeographic?1:V.getMetersPerUnitForSR(y);y=y.isGeographic?1:V.getMetersPerVerticalUnitForSR(y);E=V.convertUnit(1,E,"meters");return{horizontal:E*R,vertical:E*y}}const H=u.create(),J=u.create(),K=aa.create(),U={horizontal:1,vertical:1};l.georeference=da;l.georeferenceApplyTransform=fa;l.georeferenceByTransform=function(E,y,R){if(R?.useTransform){const {position:v,normal:C,tangent:P}=E;return{vertexAttributes:{position:v,normal:C,tangent:P},transform:new X({origin:[y.x,y.y,y.z??0],geographic:ma.isGeographicMesh(y.spatialReference,
R)})}}return{vertexAttributes:da(E,y,R),transform:null}};l.ungeoreference=F;l.ungeoreferenceByTransform=function(E,y,R,v){if(d.isNone(y))return F(E,R,v);E=fa(E,y,R.spatialReference);return R.equals(y.getOriginPoint(R.spatialReference))?O(E,R,v):F(E,R,v)};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat3f64":function(){define(["exports"],function(l){function d(){return[1,0,0,0,1,0,0,0,1]}function V(m){return[m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8]]}function aa(m,
r,I,X,ca,ma,ha,da,fa){return[m,r,I,X,ca,ma,ha,da,fa]}function L(m,r){return new Float64Array(m,r,9)}const u=Object.freeze(Object.defineProperty({__proto__:null,clone:V,create:d,createView:L,fromValues:aa},Symbol.toStringTag,{value:"Module"}));l.clone=V;l.create=d;l.createView=L;l.fromValues=aa;l.mat3f64=u})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(l,d,V){function aa(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];
a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a}function L(a,c,q,x,G,Q,T,Y,S,ea,ja,na,ua,qa,xa,wa,ya){a[0]=c;a[1]=q;a[2]=x;a[3]=G;a[4]=Q;a[5]=T;a[6]=Y;a[7]=S;a[8]=ea;a[9]=ja;a[10]=na;a[11]=ua;a[12]=qa;a[13]=xa;a[14]=wa;a[15]=ya;return a}function u(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function m(a,c){if(a===c){const q=c[1],x=c[2],G=c[3],Q=c[6],T=c[7],Y=c[11];a[1]=
c[4];a[2]=c[8];a[3]=c[12];a[4]=q;a[6]=c[9];a[7]=c[13];a[8]=x;a[9]=Q;a[11]=c[14];a[12]=G;a[13]=T;a[14]=Y}else a[0]=c[0],a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=c[1],a[5]=c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a}function r(a,c){I(a,c)||u(a);return a}function I(a,c){const q=c[0],x=c[1],G=c[2],Q=c[3],T=c[4],Y=c[5],S=c[6],ea=c[7],ja=c[8],na=c[9],ua=c[10],qa=c[11],xa=c[12],wa=c[13],ya=c[14];c=c[15];const Ga=q*Y-x*T,Da=q*S-G*
T,Fa=q*ea-Q*T,Ba=x*S-G*Y,Ca=x*ea-Q*Y,Sa=G*ea-Q*S,Ta=ja*wa-na*xa,Qa=ja*ya-ua*xa,Ua=ja*c-qa*xa,Ra=na*ya-ua*wa,Ka=na*c-qa*wa,Oa=ua*c-qa*ya;let Ha=Ga*Oa-Da*Ka+Fa*Ra+Ba*Ua-Ca*Qa+Sa*Ta;if(!Ha)return null;Ha=1/Ha;a[0]=(Y*Oa-S*Ka+ea*Ra)*Ha;a[1]=(G*Ka-x*Oa-Q*Ra)*Ha;a[2]=(wa*Sa-ya*Ca+c*Ba)*Ha;a[3]=(ua*Ca-na*Sa-qa*Ba)*Ha;a[4]=(S*Ua-T*Oa-ea*Qa)*Ha;a[5]=(q*Oa-G*Ua+Q*Qa)*Ha;a[6]=(ya*Fa-xa*Sa-c*Da)*Ha;a[7]=(ja*Sa-ua*Fa+qa*Da)*Ha;a[8]=(T*Ka-Y*Ua+ea*Ta)*Ha;a[9]=(x*Ua-q*Ka-Q*Ta)*Ha;a[10]=(xa*Ca-wa*Fa+c*Ga)*Ha;a[11]=
(na*Fa-ja*Ca-qa*Ga)*Ha;a[12]=(Y*Qa-T*Ra-S*Ta)*Ha;a[13]=(q*Ra-x*Qa+G*Ta)*Ha;a[14]=(wa*Da-xa*Ba-ya*Ga)*Ha;a[15]=(ja*Ba-na*Da+ua*Ga)*Ha;return a}function X(a,c){const q=c[0],x=c[1],G=c[2],Q=c[3],T=c[4],Y=c[5],S=c[6],ea=c[7],ja=c[8],na=c[9],ua=c[10],qa=c[11],xa=c[12],wa=c[13],ya=c[14];c=c[15];a[0]=Y*(ua*c-qa*ya)-na*(S*c-ea*ya)+wa*(S*qa-ea*ua);a[1]=-(x*(ua*c-qa*ya)-na*(G*c-Q*ya)+wa*(G*qa-Q*ua));a[2]=x*(S*c-ea*ya)-Y*(G*c-Q*ya)+wa*(G*ea-Q*S);a[3]=-(x*(S*qa-ea*ua)-Y*(G*qa-Q*ua)+na*(G*ea-Q*S));a[4]=-(T*(ua*
c-qa*ya)-ja*(S*c-ea*ya)+xa*(S*qa-ea*ua));a[5]=q*(ua*c-qa*ya)-ja*(G*c-Q*ya)+xa*(G*qa-Q*ua);a[6]=-(q*(S*c-ea*ya)-T*(G*c-Q*ya)+xa*(G*ea-Q*S));a[7]=q*(S*qa-ea*ua)-T*(G*qa-Q*ua)+ja*(G*ea-Q*S);a[8]=T*(na*c-qa*wa)-ja*(Y*c-ea*wa)+xa*(Y*qa-ea*na);a[9]=-(q*(na*c-qa*wa)-ja*(x*c-Q*wa)+xa*(x*qa-Q*na));a[10]=q*(Y*c-ea*wa)-T*(x*c-Q*wa)+xa*(x*ea-Q*Y);a[11]=-(q*(Y*qa-ea*na)-T*(x*qa-Q*na)+ja*(x*ea-Q*Y));a[12]=-(T*(na*ya-ua*wa)-ja*(Y*ya-S*wa)+xa*(Y*ua-S*na));a[13]=q*(na*ya-ua*wa)-ja*(x*ya-G*wa)+xa*(x*ua-G*na);a[14]=
-(q*(Y*ya-S*wa)-T*(x*ya-G*wa)+xa*(x*S-G*Y));a[15]=q*(Y*ua-S*na)-T*(x*ua-G*na)+ja*(x*S-G*Y);return a}function ca(a){const c=a[0],q=a[1],x=a[2],G=a[3],Q=a[4],T=a[5],Y=a[6],S=a[7],ea=a[8],ja=a[9],na=a[10],ua=a[11],qa=a[12],xa=a[13],wa=a[14];a=a[15];return(c*T-q*Q)*(na*a-ua*wa)-(c*Y-x*Q)*(ja*a-ua*xa)+(c*S-G*Q)*(ja*wa-na*xa)+(q*Y-x*T)*(ea*a-ua*qa)-(q*S-G*T)*(ea*wa-na*qa)+(x*S-G*Y)*(ea*xa-ja*qa)}function ma(a,c,q){const x=c[0],G=c[1],Q=c[2],T=c[3],Y=c[4],S=c[5],ea=c[6],ja=c[7],na=c[8],ua=c[9],qa=c[10],
xa=c[11],wa=c[12],ya=c[13],Ga=c[14];c=c[15];let Da=q[0],Fa=q[1],Ba=q[2],Ca=q[3];a[0]=Da*x+Fa*Y+Ba*na+Ca*wa;a[1]=Da*G+Fa*S+Ba*ua+Ca*ya;a[2]=Da*Q+Fa*ea+Ba*qa+Ca*Ga;a[3]=Da*T+Fa*ja+Ba*xa+Ca*c;Da=q[4];Fa=q[5];Ba=q[6];Ca=q[7];a[4]=Da*x+Fa*Y+Ba*na+Ca*wa;a[5]=Da*G+Fa*S+Ba*ua+Ca*ya;a[6]=Da*Q+Fa*ea+Ba*qa+Ca*Ga;a[7]=Da*T+Fa*ja+Ba*xa+Ca*c;Da=q[8];Fa=q[9];Ba=q[10];Ca=q[11];a[8]=Da*x+Fa*Y+Ba*na+Ca*wa;a[9]=Da*G+Fa*S+Ba*ua+Ca*ya;a[10]=Da*Q+Fa*ea+Ba*qa+Ca*Ga;a[11]=Da*T+Fa*ja+Ba*xa+Ca*c;Da=q[12];Fa=q[13];Ba=q[14];
Ca=q[15];a[12]=Da*x+Fa*Y+Ba*na+Ca*wa;a[13]=Da*G+Fa*S+Ba*ua+Ca*ya;a[14]=Da*Q+Fa*ea+Ba*qa+Ca*Ga;a[15]=Da*T+Fa*ja+Ba*xa+Ca*c;return a}function ha(a,c,q){const x=q[0],G=q[1];q=q[2];if(c===a)a[12]=c[0]*x+c[4]*G+c[8]*q+c[12],a[13]=c[1]*x+c[5]*G+c[9]*q+c[13],a[14]=c[2]*x+c[6]*G+c[10]*q+c[14],a[15]=c[3]*x+c[7]*G+c[11]*q+c[15];else{const Q=c[0],T=c[1],Y=c[2],S=c[3],ea=c[4],ja=c[5],na=c[6],ua=c[7],qa=c[8],xa=c[9],wa=c[10],ya=c[11];a[0]=Q;a[1]=T;a[2]=Y;a[3]=S;a[4]=ea;a[5]=ja;a[6]=na;a[7]=ua;a[8]=qa;a[9]=xa;
a[10]=wa;a[11]=ya;a[12]=Q*x+ea*G+qa*q+c[12];a[13]=T*x+ja*G+xa*q+c[13];a[14]=Y*x+na*G+wa*q+c[14];a[15]=S*x+ua*G+ya*q+c[15]}return a}function da(a,c,q){const x=q[0],G=q[1];q=q[2];a[0]=c[0]*x;a[1]=c[1]*x;a[2]=c[2]*x;a[3]=c[3]*x;a[4]=c[4]*G;a[5]=c[5]*G;a[6]=c[6]*G;a[7]=c[7]*G;a[8]=c[8]*q;a[9]=c[9]*q;a[10]=c[10]*q;a[11]=c[11]*q;a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a}function fa(a,c,q,x){let G=x[0],Q=x[1];x=x[2];let T=Math.sqrt(G*G+Q*Q+x*x);var Y=void 0,S=void 0;let ea=void 0,ja=void 0,
na=void 0,ua=void 0,qa=void 0,xa=void 0,wa=void 0,ya=void 0,Ga=void 0,Da=void 0,Fa=void 0,Ba=void 0,Ca=void 0,Sa=void 0,Ta=void 0,Qa=void 0,Ua=void 0,Ra=void 0,Ka=void 0,Oa=void 0;S=Y=void 0;if(T<V.getEpsilon())return null;T=1/T;G*=T;Q*=T;x*=T;Y=Math.sin(q);S=Math.cos(q);ea=1-S;ja=c[0];na=c[1];ua=c[2];qa=c[3];xa=c[4];wa=c[5];ya=c[6];Ga=c[7];Da=c[8];Fa=c[9];Ba=c[10];Ca=c[11];Sa=G*G*ea+S;Ta=Q*G*ea+x*Y;Qa=x*G*ea-Q*Y;Ua=G*Q*ea-x*Y;Ra=Q*Q*ea+S;Ka=x*Q*ea+G*Y;Oa=G*x*ea+Q*Y;Y=Q*x*ea-G*Y;S=x*x*ea+S;a[0]=ja*
Sa+xa*Ta+Da*Qa;a[1]=na*Sa+wa*Ta+Fa*Qa;a[2]=ua*Sa+ya*Ta+Ba*Qa;a[3]=qa*Sa+Ga*Ta+Ca*Qa;a[4]=ja*Ua+xa*Ra+Da*Ka;a[5]=na*Ua+wa*Ra+Fa*Ka;a[6]=ua*Ua+ya*Ra+Ba*Ka;a[7]=qa*Ua+Ga*Ra+Ca*Ka;a[8]=ja*Oa+xa*Y+Da*S;a[9]=na*Oa+wa*Y+Fa*S;a[10]=ua*Oa+ya*Y+Ba*S;a[11]=qa*Oa+Ga*Y+Ca*S;c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);return a}function F(a,c,q){const x=Math.sin(q);q=Math.cos(q);const G=c[4],Q=c[5],T=c[6],Y=c[7],S=c[8],ea=c[9],ja=c[10],na=c[11];c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=
c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[4]=G*q+S*x;a[5]=Q*q+ea*x;a[6]=T*q+ja*x;a[7]=Y*q+na*x;a[8]=S*q-G*x;a[9]=ea*q-Q*x;a[10]=ja*q-T*x;a[11]=na*q-Y*x;return a}function O(a,c,q){const x=Math.sin(q);q=Math.cos(q);const G=c[0],Q=c[1],T=c[2],Y=c[3],S=c[8],ea=c[9],ja=c[10],na=c[11];c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=G*q-S*x;a[1]=Q*q-ea*x;a[2]=T*q-ja*x;a[3]=Y*q-na*x;a[8]=G*x+S*q;a[9]=Q*x+ea*q;a[10]=T*x+ja*q;a[11]=Y*x+na*q;return a}
function ba(a,c,q){const x=Math.sin(q);q=Math.cos(q);const G=c[0],Q=c[1],T=c[2],Y=c[3],S=c[4],ea=c[5],ja=c[6],na=c[7];c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=G*q+S*x;a[1]=Q*q+ea*x;a[2]=T*q+ja*x;a[3]=Y*q+na*x;a[4]=S*q-G*x;a[5]=ea*q-Q*x;a[6]=ja*q-T*x;a[7]=na*q-Y*x;return a}function W(a,c){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function H(a,
c){a[0]=c[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=c[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function J(a,c,q){if(0===c)return u(a);let x=q[0],G=q[1];q=q[2];let Q=Math.sqrt(x*x+G*G+q*q),T=void 0,Y=void 0,S=void 0;if(Q<V.getEpsilon())return null;Q=1/Q;x*=Q;G*=Q;q*=Q;T=Math.sin(c);Y=Math.cos(c);S=1-Y;a[0]=x*x*S+Y;a[1]=G*x*S+q*T;a[2]=q*x*S-G*T;a[3]=0;a[4]=x*G*S-q*T;a[5]=G*G*S+Y;a[6]=q*G*S+x*T;a[7]=0;a[8]=x*q*S+G*T;a[9]=G*q*S-x*T;a[10]=q*q*S+Y;a[11]=0;a[12]=
0;a[13]=0;a[14]=0;a[15]=1;return a}function K(a,c){const q=Math.sin(c);c=Math.cos(c);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=q;a[7]=0;a[8]=0;a[9]=-q;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function U(a,c){const q=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=0;a[2]=-q;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=q;a[9]=0;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function E(a,c){const q=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=q;a[2]=0;a[3]=0;a[4]=-q;a[5]=c;a[6]=0;a[7]=0;a[8]=
0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function y(a,c,q){var x=c[0],G=c[1],Q=c[2],T=c[3],Y=x+x,S=G+G;const ea=Q+Q;c=x*Y;const ja=x*S;x*=ea;const na=G*S;G*=ea;Q*=ea;Y*=T;S*=T;T*=ea;a[0]=1-(na+Q);a[1]=ja+T;a[2]=x-S;a[3]=0;a[4]=ja-T;a[5]=1-(c+Q);a[6]=G+Y;a[7]=0;a[8]=x+S;a[9]=G-Y;a[10]=1-(c+na);a[11]=0;a[12]=q[0];a[13]=q[1];a[14]=q[2];a[15]=1;return a}function R(a,c){const q=Ia,x=-c[0],G=-c[1],Q=-c[2],T=c[3],Y=c[4],S=c[5],ea=c[6],ja=c[7],na=x*x+G*G+Q*Q+T*T;0<na?(q[0]=2*(Y*T+
ja*x+S*Q-ea*G)/na,q[1]=2*(S*T+ja*G+ea*x-Y*Q)/na,q[2]=2*(ea*T+ja*Q+Y*G-S*x)/na):(q[0]=2*(Y*T+ja*x+S*Q-ea*G),q[1]=2*(S*T+ja*G+ea*x-Y*Q),q[2]=2*(ea*T+ja*Q+Y*G-S*x));y(a,c,q);return a}function v(a,c){a[0]=c[12];a[1]=c[13];a[2]=c[14];return a}function C(a,c){const q=c[0],x=c[1],G=c[2],Q=c[4],T=c[5],Y=c[6],S=c[8],ea=c[9];c=c[10];a[0]=Math.sqrt(q*q+x*x+G*G);a[1]=Math.sqrt(Q*Q+T*T+Y*Y);a[2]=Math.sqrt(S*S+ea*ea+c*c);return a}function P(a,c){const q=c[0]+c[5]+c[10];let x=0;0<q?(x=2*Math.sqrt(q+1),a[3]=.25*
x,a[0]=(c[6]-c[9])/x,a[1]=(c[8]-c[2])/x,a[2]=(c[1]-c[4])/x):c[0]>c[5]&&c[0]>c[10]?(x=2*Math.sqrt(1+c[0]-c[5]-c[10]),a[3]=(c[6]-c[9])/x,a[0]=.25*x,a[1]=(c[1]+c[4])/x,a[2]=(c[8]+c[2])/x):c[5]>c[10]?(x=2*Math.sqrt(1+c[5]-c[0]-c[10]),a[3]=(c[8]-c[2])/x,a[0]=(c[1]+c[4])/x,a[1]=.25*x,a[2]=(c[6]+c[9])/x):(x=2*Math.sqrt(1+c[10]-c[0]-c[5]),a[3]=(c[1]-c[4])/x,a[0]=(c[8]+c[2])/x,a[1]=(c[6]+c[9])/x,a[2]=.25*x);return a}function Z(a,c,q,x){var G=c[0],Q=c[1],T=c[2],Y=c[3],S=G+G,ea=Q+Q,ja=T+T;c=G*S;const na=G*ea;
G*=ja;const ua=Q*ea;Q*=ja;T*=ja;S*=Y;ea*=Y;Y*=ja;ja=x[0];const qa=x[1];x=x[2];a[0]=(1-(ua+T))*ja;a[1]=(na+Y)*ja;a[2]=(G-ea)*ja;a[3]=0;a[4]=(na-Y)*qa;a[5]=(1-(c+T))*qa;a[6]=(Q+S)*qa;a[7]=0;a[8]=(G+ea)*x;a[9]=(Q-S)*x;a[10]=(1-(c+ua))*x;a[11]=0;a[12]=q[0];a[13]=q[1];a[14]=q[2];a[15]=1;return a}function ia(a,c,q,x,G){var Q=c[0],T=c[1],Y=c[2],S=c[3],ea=Q+Q,ja=T+T,na=Y+Y;c=Q*ea;var ua=Q*ja,qa=Q*na;Q=T*ja;T*=na;var xa=Y*na;Y=S*ea;ja*=S;const wa=S*na;var ya=x[0],Ga=x[1];na=x[2];x=G[0];S=G[1];G=G[2];ea=(1-
(Q+xa))*ya;const Da=(ua+wa)*ya;ya*=qa-ja;ua=(ua-wa)*Ga;xa=(1-(c+xa))*Ga;Ga*=T+Y;qa=(qa+ja)*na;T=(T-Y)*na;c=(1-(c+Q))*na;a[0]=ea;a[1]=Da;a[2]=ya;a[3]=0;a[4]=ua;a[5]=xa;a[6]=Ga;a[7]=0;a[8]=qa;a[9]=T;a[10]=c;a[11]=0;a[12]=q[0]+x-(ea*x+ua*S+qa*G);a[13]=q[1]+S-(Da*x+xa*S+T*G);a[14]=q[2]+G-(ya*x+Ga*S+c*G);a[15]=1;return a}function sa(a,c){var q=c[0],x=c[1],G=c[2];c=c[3];var Q=q+q,T=x+x;const Y=G+G;q*=Q;const S=x*Q;x*=T;const ea=G*Q,ja=G*T;G*=Y;Q*=c;T*=c;c*=Y;a[0]=1-x-G;a[1]=S+c;a[2]=ea-T;a[3]=0;a[4]=S-
c;a[5]=1-q-G;a[6]=ja+Q;a[7]=0;a[8]=ea+T;a[9]=ja-Q;a[10]=1-q-x;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ta(a,c,q,x,G,Q,T){const Y=1/(q-c),S=1/(G-x),ea=1/(Q-T);a[0]=2*Q*Y;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*Q*S;a[6]=0;a[7]=0;a[8]=(q+c)*Y;a[9]=(G+x)*S;a[10]=(T+Q)*ea;a[11]=-1;a[12]=0;a[13]=0;a[14]=T*Q*2*ea;a[15]=0;return a}function g(a,c,q,x,G){c=1/Math.tan(c/2);let Q=void 0;a[0]=c/q;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=
G&&Infinity!==G?(Q=1/(x-G),a[10]=(G+x)*Q,a[14]=2*G*x*Q):(a[10]=-1,a[14]=-2*x);return a}function n(a,c,q,x){const G=Math.tan(c.upDegrees*Math.PI/180),Q=Math.tan(c.downDegrees*Math.PI/180),T=Math.tan(c.leftDegrees*Math.PI/180);c=Math.tan(c.rightDegrees*Math.PI/180);const Y=2/(T+c),S=2/(G+Q);a[0]=Y;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=S;a[6]=0;a[7]=0;a[8]=-((T-c)*Y*.5);a[9]=(G-Q)*S*.5;a[10]=x/(q-x);a[11]=-1;a[12]=0;a[13]=0;a[14]=x*q/(q-x);a[15]=0;return a}function M(a,c,q,x,G,Q,T){const Y=1/(c-q),S=1/(x-
G),ea=1/(Q-T);a[0]=-2*Y;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*S;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*ea;a[11]=0;a[12]=(c+q)*Y;a[13]=(G+x)*S;a[14]=(T+Q)*ea;a[15]=1;return a}function pa(a,c,q,x){var G=void 0;let Q=void 0;var T=void 0,Y=void 0;let S=void 0,ea=void 0;var ja=void 0,na=void 0;let ua=void 0,qa=void 0;const xa=c[0],wa=c[1];c=c[2];T=x[0];Y=x[1];x=x[2];ja=q[0];na=q[1];q=q[2];G=V.getEpsilon();if(Math.abs(xa-ja)<G&&Math.abs(wa-na)<G&&Math.abs(c-q)<G)return u(a);ja=xa-ja;na=wa-na;ua=c-q;qa=1/Math.sqrt(ja*
ja+na*na+ua*ua);ja*=qa;na*=qa;ua*=qa;G=Y*ua-x*na;Q=x*ja-T*ua;T=T*na-Y*ja;(qa=Math.sqrt(G*G+Q*Q+T*T))?(qa=1/qa,G*=qa,Q*=qa,T*=qa):T=Q=G=0;Y=na*T-ua*Q;S=ua*G-ja*T;ea=ja*Q-na*G;(qa=Math.sqrt(Y*Y+S*S+ea*ea))?(qa=1/qa,Y*=qa,S*=qa,ea*=qa):ea=S=Y=0;a[0]=G;a[1]=Y;a[2]=ja;a[3]=0;a[4]=Q;a[5]=S;a[6]=na;a[7]=0;a[8]=T;a[9]=ea;a[10]=ua;a[11]=0;a[12]=-(G*xa+Q*wa+T*c);a[13]=-(Y*xa+S*wa+ea*c);a[14]=-(ja*xa+na*wa+ua*c);a[15]=1;return a}function z(a,c,q,x){const G=c[0],Q=c[1];c=c[2];var T=x[0];const Y=x[1];var S=x[2];
x=G-q[0];let ea=Q-q[1];q=c-q[2];let ja=x*x+ea*ea+q*q;0<ja&&(ja=1/Math.sqrt(ja),x*=ja,ea*=ja,q*=ja);let na=Y*q-S*ea;S=S*x-T*q;T=T*ea-Y*x;ja=na*na+S*S+T*T;0<ja&&(ja=1/Math.sqrt(ja),na*=ja,S*=ja,T*=ja);a[0]=na;a[1]=S;a[2]=T;a[3]=0;a[4]=ea*T-q*S;a[5]=q*na-x*T;a[6]=x*S-ea*na;a[7]=0;a[8]=x;a[9]=ea;a[10]=q;a[11]=0;a[12]=G;a[13]=Q;a[14]=c;a[15]=1;return a}function t(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+
", "+a[13]+", "+a[14]+", "+a[15]+")"}function e(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function N(a,c,q){a[0]=c[0]+q[0];a[1]=c[1]+q[1];a[2]=c[2]+q[2];a[3]=c[3]+q[3];a[4]=c[4]+q[4];a[5]=c[5]+q[5];a[6]=c[6]+q[6];a[7]=c[7]+q[7];a[8]=c[8]+q[8];a[9]=c[9]+q[9];a[10]=c[10]+q[10];a[11]=c[11]+q[11];a[12]=c[12]+q[12];a[13]=c[13]+q[13];a[14]=c[14]+q[14];a[15]=c[15]+q[15];return a}function b(a,
c,q){a[0]=c[0]-q[0];a[1]=c[1]-q[1];a[2]=c[2]-q[2];a[3]=c[3]-q[3];a[4]=c[4]-q[4];a[5]=c[5]-q[5];a[6]=c[6]-q[6];a[7]=c[7]-q[7];a[8]=c[8]-q[8];a[9]=c[9]-q[9];a[10]=c[10]-q[10];a[11]=c[11]-q[11];a[12]=c[12]-q[12];a[13]=c[13]-q[13];a[14]=c[14]-q[14];a[15]=c[15]-q[15];return a}function f(a,c,q){a[0]=c[0]*q;a[1]=c[1]*q;a[2]=c[2]*q;a[3]=c[3]*q;a[4]=c[4]*q;a[5]=c[5]*q;a[6]=c[6]*q;a[7]=c[7]*q;a[8]=c[8]*q;a[9]=c[9]*q;a[10]=c[10]*q;a[11]=c[11]*q;a[12]=c[12]*q;a[13]=c[13]*q;a[14]=c[14]*q;a[15]=c[15]*q;return a}
function B(a,c,q,x){a[0]=c[0]+q[0]*x;a[1]=c[1]+q[1]*x;a[2]=c[2]+q[2]*x;a[3]=c[3]+q[3]*x;a[4]=c[4]+q[4]*x;a[5]=c[5]+q[5]*x;a[6]=c[6]+q[6]*x;a[7]=c[7]+q[7]*x;a[8]=c[8]+q[8]*x;a[9]=c[9]+q[9]*x;a[10]=c[10]+q[10]*x;a[11]=c[11]+q[11]*x;a[12]=c[12]+q[12]*x;a[13]=c[13]+q[13]*x;a[14]=c[14]+q[14]*x;a[15]=c[15]+q[15]*x;return a}function D(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&
a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===c[15]}function ra(a,c){if(a===c)return!0;const q=a[0],x=a[1],G=a[2],Q=a[3],T=a[4],Y=a[5],S=a[6],ea=a[7],ja=a[8],na=a[9],ua=a[10],qa=a[11],xa=a[12],wa=a[13],ya=a[14];a=a[15];const Ga=c[0],Da=c[1],Fa=c[2],Ba=c[3],Ca=c[4],Sa=c[5],Ta=c[6],Qa=c[7],Ua=c[8],Ra=c[9],Ka=c[10],Oa=c[11],Ha=c[12],ab=c[13],db=c[14];c=c[15];const Pa=V.getEpsilon();return Math.abs(q-Ga)<=Pa*Math.max(1,Math.abs(q),Math.abs(Ga))&&Math.abs(x-Da)<=Pa*Math.max(1,Math.abs(x),Math.abs(Da))&&
Math.abs(G-Fa)<=Pa*Math.max(1,Math.abs(G),Math.abs(Fa))&&Math.abs(Q-Ba)<=Pa*Math.max(1,Math.abs(Q),Math.abs(Ba))&&Math.abs(T-Ca)<=Pa*Math.max(1,Math.abs(T),Math.abs(Ca))&&Math.abs(Y-Sa)<=Pa*Math.max(1,Math.abs(Y),Math.abs(Sa))&&Math.abs(S-Ta)<=Pa*Math.max(1,Math.abs(S),Math.abs(Ta))&&Math.abs(ea-Qa)<=Pa*Math.max(1,Math.abs(ea),Math.abs(Qa))&&Math.abs(ja-Ua)<=Pa*Math.max(1,Math.abs(ja),Math.abs(Ua))&&Math.abs(na-Ra)<=Pa*Math.max(1,Math.abs(na),Math.abs(Ra))&&Math.abs(ua-Ka)<=Pa*Math.max(1,Math.abs(ua),
Math.abs(Ka))&&Math.abs(qa-Oa)<=Pa*Math.max(1,Math.abs(qa),Math.abs(Oa))&&Math.abs(xa-Ha)<=Pa*Math.max(1,Math.abs(xa),Math.abs(Ha))&&Math.abs(wa-ab)<=Pa*Math.max(1,Math.abs(wa),Math.abs(ab))&&Math.abs(ya-db)<=Pa*Math.max(1,Math.abs(ya),Math.abs(db))&&Math.abs(a-c)<=Pa*Math.max(1,Math.abs(a),Math.abs(c))}function oa(a){const c=V.getEpsilon(),q=a[0],x=a[1],G=a[2],Q=a[4],T=a[5],Y=a[6],S=a[8],ea=a[9];a=a[10];return Math.abs(1-(q*q+Q*Q+S*S))<=c&&Math.abs(1-(x*x+T*T+ea*ea))<=c&&Math.abs(1-(G*G+Y*Y+a*a))<=
c}function Aa(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const Ia=d.create();d=Object.freeze(Object.defineProperty({__proto__:null,add:N,adjoint:X,copy:aa,determinant:ca,equals:ra,exactEquals:D,frob:e,fromQuat:sa,fromQuat2:R,fromRotation:J,fromRotationTranslation:y,fromRotationTranslationScale:Z,fromRotationTranslationScaleOrigin:ia,fromScaling:H,fromTranslation:W,fromXRotation:K,fromYRotation:U,fromZRotation:E,frustum:ta,getRotation:P,getScaling:C,
getTranslation:v,hasIdentityRotation:Aa,identity:u,invert:I,invertOrIdentity:r,isOrthoNormal:oa,lookAt:pa,mul:ma,multiply:ma,multiplyScalar:f,multiplyScalarAndAdd:B,ortho:M,perspective:g,perspectiveFromFieldOfView:n,rotate:fa,rotateX:F,rotateY:O,rotateZ:ba,scale:da,set:L,str:t,sub:b,subtract:b,targetTo:z,translate:ha,transpose:m},Symbol.toStringTag,{value:"Module"}));l.add=N;l.adjoint=X;l.copy=aa;l.determinant=ca;l.equals=ra;l.exactEquals=D;l.frob=e;l.fromQuat=sa;l.fromQuat2=R;l.fromRotation=J;l.fromRotationTranslation=
y;l.fromRotationTranslationScale=Z;l.fromRotationTranslationScaleOrigin=ia;l.fromScaling=H;l.fromTranslation=W;l.fromXRotation=K;l.fromYRotation=U;l.fromZRotation=E;l.frustum=ta;l.getRotation=P;l.getScaling=C;l.getTranslation=v;l.hasIdentityRotation=Aa;l.identity=u;l.invert=I;l.invertOrIdentity=r;l.isOrthoNormal=oa;l.lookAt=pa;l.mat4=d;l.mul=ma;l.multiply=ma;l.multiplyScalar=f;l.multiplyScalarAndAdd=B;l.ortho=M;l.perspective=g;l.perspectiveFromFieldOfView=n;l.rotate=fa;l.rotateX=F;l.rotateY=O;l.rotateZ=
ba;l.scale=da;l.set=L;l.str=t;l.sub=b;l.subtract=b;l.targetTo=z;l.translate=ha;l.transpose=m})},"esri/chunks/mat4f64":function(){define(["exports"],function(l){function d(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function V(r){return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]]}function aa(r,I,X,ca,ma,ha,da,fa,F,O,ba,W,H,J,K,U){return[r,I,X,ca,ma,ha,da,fa,F,O,ba,W,H,J,K,U]}function L(r,I){return new Float64Array(r,I,16)}const u=d(),m=Object.freeze(Object.defineProperty({__proto__:null,
IDENTITY:u,clone:V,create:d,createView:L,fromValues:aa},Symbol.toStringTag,{value:"Module"}));l.IDENTITY=u;l.clone=V;l.create=d;l.createView=L;l.fromValues=aa;l.mat4f64=m})},"esri/chunks/mat3":function(){define(["exports","./common"],function(l,d){function V(g,n){g[0]=n[0];g[1]=n[1];g[2]=n[2];g[3]=n[4];g[4]=n[5];g[5]=n[6];g[6]=n[8];g[7]=n[9];g[8]=n[10];return g}function aa(g,n){g[0]=n[0];g[1]=n[1];g[2]=n[2];g[3]=n[3];g[4]=n[4];g[5]=n[5];g[6]=n[6];g[7]=n[7];g[8]=n[8];return g}function L(g,n,M,pa,z,
t,e,N,b,f){g[0]=n;g[1]=M;g[2]=pa;g[3]=z;g[4]=t;g[5]=e;g[6]=N;g[7]=b;g[8]=f;return g}function u(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g}function m(g,n){if(g===n){const M=n[1],pa=n[2],z=n[5];g[1]=n[3];g[2]=n[6];g[3]=M;g[5]=n[7];g[6]=pa;g[7]=z}else g[0]=n[0],g[1]=n[3],g[2]=n[6],g[3]=n[1],g[4]=n[4],g[5]=n[7],g[6]=n[2],g[7]=n[5],g[8]=n[8];return g}function r(g,n){const M=n[0],pa=n[1],z=n[2],t=n[3],e=n[4],N=n[5],b=n[6],f=n[7];n=n[8];const B=n*e-N*f,D=-n*t+N*b,ra=f*t-e*
b;let oa=M*B+pa*D+z*ra;if(!oa)return null;oa=1/oa;g[0]=B*oa;g[1]=(-n*pa+z*f)*oa;g[2]=(N*pa-z*e)*oa;g[3]=D*oa;g[4]=(n*M-z*b)*oa;g[5]=(-N*M+z*t)*oa;g[6]=ra*oa;g[7]=(-f*M+pa*b)*oa;g[8]=(e*M-pa*t)*oa;return g}function I(g,n){const M=n[0],pa=n[1],z=n[2],t=n[3],e=n[4],N=n[5],b=n[6],f=n[7];n=n[8];g[0]=e*n-N*f;g[1]=z*f-pa*n;g[2]=pa*N-z*e;g[3]=N*b-t*n;g[4]=M*n-z*b;g[5]=z*t-M*N;g[6]=t*f-e*b;g[7]=pa*b-M*f;g[8]=M*e-pa*t;return g}function X(g){const n=g[3],M=g[4],pa=g[5],z=g[6],t=g[7],e=g[8];return g[0]*(e*M-
pa*t)+g[1]*(-e*n+pa*z)+g[2]*(t*n-M*z)}function ca(g,n,M){const pa=n[0],z=n[1],t=n[2],e=n[3],N=n[4],b=n[5],f=n[6],B=n[7];n=n[8];const D=M[0],ra=M[1],oa=M[2],Aa=M[3],Ia=M[4],a=M[5],c=M[6],q=M[7];M=M[8];g[0]=D*pa+ra*e+oa*f;g[1]=D*z+ra*N+oa*B;g[2]=D*t+ra*b+oa*n;g[3]=Aa*pa+Ia*e+a*f;g[4]=Aa*z+Ia*N+a*B;g[5]=Aa*t+Ia*b+a*n;g[6]=c*pa+q*e+M*f;g[7]=c*z+q*N+M*B;g[8]=c*t+q*b+M*n;return g}function ma(g,n,M){const pa=n[0],z=n[1],t=n[2],e=n[3],N=n[4],b=n[5],f=n[6],B=n[7];n=n[8];const D=M[0];M=M[1];g[0]=pa;g[1]=z;
g[2]=t;g[3]=e;g[4]=N;g[5]=b;g[6]=D*pa+M*e+f;g[7]=D*z+M*N+B;g[8]=D*t+M*b+n;return g}function ha(g,n,M){const pa=n[0],z=n[1],t=n[2],e=n[3],N=n[4],b=n[5],f=n[6],B=n[7];n=n[8];const D=Math.sin(M);M=Math.cos(M);g[0]=M*pa+D*e;g[1]=M*z+D*N;g[2]=M*t+D*b;g[3]=M*e-D*pa;g[4]=M*N-D*z;g[5]=M*b-D*t;g[6]=f;g[7]=B;g[8]=n;return g}function da(g,n,M){const pa=M[0],z=M[1];M=M[2];g[0]=pa*n[0];g[1]=pa*n[1];g[2]=pa*n[2];g[3]=z*n[3];g[4]=z*n[4];g[5]=z*n[5];g[6]=M*n[6];g[7]=M*n[7];g[8]=M*n[8];return g}function fa(g,n,M){const pa=
M[0];M=M[1];g[0]=pa*n[0];g[1]=pa*n[1];g[2]=pa*n[2];g[3]=M*n[3];g[4]=M*n[4];g[5]=M*n[5];return g}function F(g,n){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=n[0];g[7]=n[1];g[8]=1;return g}function O(g,n){const M=Math.sin(n);n=Math.cos(n);g[0]=n;g[1]=M;g[2]=0;g[3]=-M;g[4]=n;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g}function ba(g,n){g[0]=n[0];g[1]=0;g[2]=0;g[3]=0;g[4]=n[1];g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g}function W(g,n){g[0]=n[0];g[1]=n[1];g[2]=0;g[3]=n[2];g[4]=n[3];g[5]=0;g[6]=n[4];g[7]=n[5];g[8]=
1;return g}function H(g,n){var M=n[0],pa=n[1],z=n[2];n=n[3];var t=M+M,e=pa+pa;const N=z+z;M*=t;const b=pa*t;pa*=e;const f=z*t,B=z*e;z*=N;t*=n;e*=n;n*=N;g[0]=1-pa-z;g[3]=b-n;g[6]=f+e;g[1]=b+n;g[4]=1-M-z;g[7]=B-t;g[2]=f-e;g[5]=B+t;g[8]=1-M-pa;return g}function J(g,n){const M=n[0],pa=n[1],z=n[2],t=n[4],e=n[5],N=n[6],b=n[8],f=n[9];n=n[10];const B=n*e-N*f,D=-n*t+N*b,ra=f*t-e*b;var oa=M*B+pa*D+z*ra;if(!oa)return null;oa=1/oa;g[0]=B*oa;g[1]=(-n*pa+z*f)*oa;g[2]=(N*pa-z*e)*oa;g[3]=D*oa;g[4]=(n*M-z*b)*oa;g[5]=
(-N*M+z*t)*oa;g[6]=ra*oa;g[7]=(-f*M+pa*b)*oa;g[8]=(e*M-pa*t)*oa;return g}function K(g,n){const M=n[0],pa=n[1],z=n[2],t=n[3],e=n[4],N=n[5],b=n[6],f=n[7];var B=n[8],D=n[9],ra=n[10],oa=n[11];const Aa=n[12],Ia=n[13],a=n[14];n=n[15];const c=M*N-pa*e,q=M*b-z*e,x=M*f-t*e,G=pa*b-z*N,Q=pa*f-t*N,T=z*f-t*b,Y=B*Ia-D*Aa,S=B*a-ra*Aa;B=B*n-oa*Aa;const ea=D*a-ra*Ia;D=D*n-oa*Ia;ra=ra*n-oa*a;oa=c*ra-q*D+x*ea+G*B-Q*S+T*Y;if(!oa)return null;oa=1/oa;g[0]=(N*ra-b*D+f*ea)*oa;g[1]=(b*B-e*ra-f*S)*oa;g[2]=(e*D-N*B+f*Y)*oa;
g[3]=(z*D-pa*ra-t*ea)*oa;g[4]=(M*ra-z*B+t*S)*oa;g[5]=(pa*B-M*D-t*Y)*oa;g[6]=(Ia*T-a*Q+n*G)*oa;g[7]=(a*x-Aa*T-n*q)*oa;g[8]=(Aa*Q-Ia*x+n*c)*oa;return g}function U(g,n,M){g[0]=2/n;g[1]=0;g[2]=0;g[3]=0;g[4]=-2/M;g[5]=0;g[6]=-1;g[7]=1;g[8]=1;return g}function E(g){return"mat3("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+")"}function y(g){return Math.sqrt(g[0]**2+g[1]**2+g[2]**2+g[3]**2+g[4]**2+g[5]**2+g[6]**2+g[7]**2+g[8]**2)}function R(g,n,M){g[0]=n[0]+M[0];g[1]=
n[1]+M[1];g[2]=n[2]+M[2];g[3]=n[3]+M[3];g[4]=n[4]+M[4];g[5]=n[5]+M[5];g[6]=n[6]+M[6];g[7]=n[7]+M[7];g[8]=n[8]+M[8];return g}function v(g,n,M){g[0]=n[0]-M[0];g[1]=n[1]-M[1];g[2]=n[2]-M[2];g[3]=n[3]-M[3];g[4]=n[4]-M[4];g[5]=n[5]-M[5];g[6]=n[6]-M[6];g[7]=n[7]-M[7];g[8]=n[8]-M[8];return g}function C(g,n,M){g[0]=n[0]*M;g[1]=n[1]*M;g[2]=n[2]*M;g[3]=n[3]*M;g[4]=n[4]*M;g[5]=n[5]*M;g[6]=n[6]*M;g[7]=n[7]*M;g[8]=n[8]*M;return g}function P(g,n,M,pa){g[0]=n[0]+M[0]*pa;g[1]=n[1]+M[1]*pa;g[2]=n[2]+M[2]*pa;g[3]=
n[3]+M[3]*pa;g[4]=n[4]+M[4]*pa;g[5]=n[5]+M[5]*pa;g[6]=n[6]+M[6]*pa;g[7]=n[7]+M[7]*pa;g[8]=n[8]+M[8]*pa;return g}function Z(g,n){return g[0]===n[0]&&g[1]===n[1]&&g[2]===n[2]&&g[3]===n[3]&&g[4]===n[4]&&g[5]===n[5]&&g[6]===n[6]&&g[7]===n[7]&&g[8]===n[8]}function ia(g,n){const M=g[0],pa=g[1],z=g[2],t=g[3],e=g[4],N=g[5],b=g[6],f=g[7];g=g[8];const B=n[0],D=n[1],ra=n[2],oa=n[3],Aa=n[4],Ia=n[5],a=n[6],c=n[7];n=n[8];const q=d.getEpsilon();return Math.abs(M-B)<=q*Math.max(1,Math.abs(M),Math.abs(B))&&Math.abs(pa-
D)<=q*Math.max(1,Math.abs(pa),Math.abs(D))&&Math.abs(z-ra)<=q*Math.max(1,Math.abs(z),Math.abs(ra))&&Math.abs(t-oa)<=q*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(e-Aa)<=q*Math.max(1,Math.abs(e),Math.abs(Aa))&&Math.abs(N-Ia)<=q*Math.max(1,Math.abs(N),Math.abs(Ia))&&Math.abs(b-a)<=q*Math.max(1,Math.abs(b),Math.abs(a))&&Math.abs(f-c)<=q*Math.max(1,Math.abs(f),Math.abs(c))&&Math.abs(g-n)<=q*Math.max(1,Math.abs(g),Math.abs(n))}function sa(g){const n=d.getEpsilon(),M=g[0],pa=g[1],z=g[2],t=g[3],e=g[4],
N=g[5],b=g[6],f=g[7];g=g[8];return Math.abs(1-(M*M+t*t+b*b))<=n&&Math.abs(1-(pa*pa+e*e+f*f))<=n&&Math.abs(1-(z*z+N*N+g*g))<=n}const ta=Object.freeze(Object.defineProperty({__proto__:null,add:R,adjoint:I,copy:aa,determinant:X,equals:ia,exactEquals:Z,frob:y,fromMat2d:W,fromMat4:V,fromQuat:H,fromRotation:O,fromScaling:ba,fromTranslation:F,identity:u,invert:r,isOrthoNormal:sa,mul:ca,multiply:ca,multiplyScalar:C,multiplyScalarAndAdd:P,normalFromMat4:K,normalFromMat4Legacy:J,projection:U,rotate:ha,scale:da,
scaleByVec2:fa,set:L,str:E,sub:v,subtract:v,translate:ma,transpose:m},Symbol.toStringTag,{value:"Module"}));l.add=R;l.adjoint=I;l.copy=aa;l.determinant=X;l.equals=ia;l.exactEquals=Z;l.frob=y;l.fromMat2d=W;l.fromMat4=V;l.fromQuat=H;l.fromRotation=O;l.fromScaling=ba;l.fromTranslation=F;l.identity=u;l.invert=r;l.isOrthoNormal=sa;l.mat3=ta;l.mul=ca;l.multiply=ca;l.multiplyScalar=C;l.multiplyScalarAndAdd=P;l.normalFromMat4=K;l.normalFromMat4Legacy=J;l.projection=U;l.rotate=ha;l.scale=da;l.scaleByVec2=
fa;l.set=L;l.str=E;l.sub=v;l.subtract=v;l.translate=ma;l.transpose=m})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(l,d,V,aa,L,u,m,r,I,X,ca,ma,ha,da,fa,F,O,ba,W,H,J,K,U,E,y,R,v){function C(){return!!Ka&&O.isLoaded()}function P(h){u.isNone(Ha)&&(Ha=Promise.all([O.load(),(new Promise((p,k)=>l(["../chunks/geometryEngineBase"],p,k))).then(p=>p.geometryEngineBase),new Promise((p,k)=>l(["./geometryAdapters/hydrated"],p,k))]));return Ha.then(([,p,{hydratedAdapter:k}])=>{m.throwIfAborted(h);Oa=k;Ka=p.default;Ka._enableProjection(O.pe);db.notify()})}function Z(h,p,k=null,A=null){return Array.isArray(h)?0===h.length?
[]:ia(Oa,h,h[0].spatialReference,p,k,A):ia(Oa,[h],h.spatialReference,p,k,A)[0]}function ia(h,p,k,A,ka=null,la=null){if(u.isNone(k)||u.isNone(A))return p;if(n(k,A,ka))return p.map(va=>u.unwrap(M(va,k,A)));if(u.isNone(ka)){const va=E.cacheKey(k,A);void 0!==ab[va]?ka=ab[va]:(ka=ta(k,A,void 0),u.isNone(ka)&&(ka=new E),ab[va]=ka)}if(u.isNone(Ka)||u.isNone(h))throw new Pa;return u.isSome(la)?Ka._project(h,p,k,A,ka,la):Ka._project(h,p,k,A,ka)}function sa(h,p){if(!C())for(const k of h)if(u.isSome(k)&&!y.equals(k.spatialReference,
p)&&y.isValid(k.spatialReference)&&y.isValid(p)&&!n(k.spatialReference,p))return I.trackAccess(db),{pending:P(),geometries:null};return{pending:null,geometries:h.map(k=>u.isNone(k)?null:y.equals(k.spatialReference,p)?k:y.isValid(k.spatialReference)&&y.isValid(p)?g(k,p):null)}}function ta(h,p,k=null){if(u.isNone(h)||u.isNone(p))return null;if(u.isNone(Ka)||u.isNone(Oa))throw new Pa;h=Ka._getTransformation(Oa,h,p,k,k?.spatialReference);return null!==h?E.fromGE(h):null}function g(h,p){try{const k=Z(h,
p);if(null==k)return null;"xmin"in h&&"xmin"in k&&(k.zmin=h.zmin,k.zmax=h.zmax);const A=v.getGeometryZScaler(k.type,h.spatialReference,p);u.isSome(A)&&A(k);return k}catch(k){if(!(k instanceof Pa))throw k;return null}}function n(h,p,k){return k?!1:y.equals(h,p)?!0:y.isValid(h)&&y.isValid(p)&&!!Qa(h,p,gb)}function M(h,p,k){return h?"x"in h?pa(h,p,new ba,k,0):"xmin"in h?N(h,p,new fa,k,0):"rings"in h?e(h,p,new W,k,0):"paths"in h?t(h,p,new H,k,0):"points"in h?z(h,p,new F,k,0):null:null}function pa(h,p,
k,A,ka){Ea[0]=h.x;Ea[1]=h.y;const la=h.z;Ea[2]=void 0!==la?la:ka;if(!D(Ea,p,0,Ea,A,0,1))return null;k.x=Ea[0];k.y=Ea[1];k.spatialReference=A;void 0===la?(k.z=void 0,k.hasZ=!1):(k.z=Ea[2],k.hasZ=!0);void 0===h.m?(k.m=void 0,k.hasM=!1):(k.m=h.m,k.hasM=!0);return k}function z(h,p,k,A,ka){const {points:la,hasZ:va,hasM:za}=h;h=[];const Na=la.length,Ma=[];for(var La of la)Ma.push(La[0],La[1],va?La[2]:ka);if(!D(Ma,p,0,Ma,A,0,Na))return null;for(p=0;p<Na;++p){ka=3*p;La=Ma[ka];const Va=Ma[ka+1];va&&za?h.push([La,
Va,Ma[ka+2],la[p][3]]):va?h.push([La,Va,Ma[ka+2]]):za?h.push([La,Va,la[p][2]]):h.push([La,Va])}k.points=h;k.spatialReference=A;k.hasZ=va;k.hasM=za;return k}function t(h,p,k,A,ka){const {paths:la,hasZ:va,hasM:za}=h;h=[];if(!ra(la,va??!1,za??!1,p,h,A,ka))return null;k.paths=h;k.spatialReference=A;k.hasZ=va;k.hasM=za;return k}function e(h,p,k,A,ka){const {rings:la,hasZ:va,hasM:za}=h;h=[];if(!ra(la,va??!1,za??!1,p,h,A,ka))return null;k.rings=h;k.spatialReference=A;k.hasZ=va;k.hasM=za;return k}function N(h,
p,k,A,ka){const {xmin:la,ymin:va,xmax:za,ymax:Na,hasZ:Ma,hasM:La}=h;if(!b(la,va,Ma?h.zmin:ka,p,Ea,A))return null;k.xmin=Ea[0];k.ymin=Ea[1];Ma&&(k.zmin=Ea[2]);if(!b(za,Na,Ma?h.zmax:ka,p,Ea,A))return null;k.xmax=Ea[0];k.ymax=Ea[1];Ma&&(k.zmax=Ea[2]);La&&(k.mmin=h.mmin,k.mmax=h.mmax);k.spatialReference=A;return k}function b(h,p,k,A,ka,la){Ja[0]=h;Ja[1]=p;Ja[2]=k;return D(Ja,A,0,ka,la,0,1)}function f(h,p,k,A){if(u.isNone(p)||u.isNone(A)||2>h.length)return!1;2===h.length&&(Ja[0]=h[0],Ja[1]=h[1],Ja[2]=
0,h=Ja);return D(h,p,0,k,A,0,1)}function B(h,p,k){if(u.isNone(p))return!1;p=a(p,bb);p=Wa[p][w.WGS84_COMPARABLE_LON_LAT];if(u.isNone(p))return!1;p(h,0,Ja,0);k!==Ja&&(k[0]=Ja[0],k[1]=Ja[1],2<k.length&&(k[2]=Ja[2]));return!0}function D(h,p,k,A,ka,la,va=1){p=Qa(p,ka,gb);if(u.isNone(p))return!1;if(p===c){if(h===A&&k===la)return!0;va=k+3*va;for(let za=k,Na=la;za<va;za++,Na++)A[Na]=h[za];return!0}va=k+3*va;for(let za=k,Na=la;za<va;za+=3,Na+=3)p(h,za,A,Na);return!0}function ra(h,p,k,A,ka,la,va=0){const za=
[];for(const Na of h)for(const Ma of Na)za.push(Ma[0],Ma[1],p?Ma[2]:va);if(!D(za,A,0,za,la,0,za.length/3))return!1;A=0;ka.length=0;for(const Na of h){h=[];for(const Ma of Na)p&&k?h.push([za[A++],za[A++],za[A++],Ma[3]]):p?h.push([za[A++],za[A++],za[A++]]):(k?h.push([za[A++],za[A++],Ma[2]]):h.push([za[A++],za[A++]]),A++);ka.push(h)}return!0}function oa(h,p,k,A){p=A+p;if(p<A/2||k>p)return Number.MAX_VALUE;h=Math.abs(Xa*h)+Math.asin(k/p);return h>=Math.PI/2?Number.MAX_VALUE:k/Math.cos(h)}function Aa(h,
p,k){const A=Math.sin(h);h=Math.cos(h);const ka=Math.sin(p);p=Math.cos(p);k[0]=-A;k[4]=-ka*h;k[8]=p*h;k[12]=0;k[1]=h;k[5]=-ka*A;k[9]=p*A;k[13]=0;k[2]=0;k[6]=p;k[10]=ka;k[14]=0;k[3]=0;k[7]=0;k[11]=0;k[15]=1;return k}function Ia(h,p,k){Aa(h,p,k);ca.transpose(k,k);return k}function a(h,p){if(!h)return w.UNKNOWN;if(p.spatialReference===h)return p.spatialReferenceId;p.spatialReference=h;"metersPerUnit"in p&&(p.metersPerUnit=r.getMetersPerUnitForSR(h,1));return h.wkt===da.SphericalECEFSpatialReferenceLike.wkt?
p.spatialReferenceId=w.SPHERICAL_ECEF:y.isWGS84(h)?p.spatialReferenceId=w.WGS84:y.isWebMercator(h)?p.spatialReferenceId=w.WEB_MERCATOR:y.isPlateCarree(h)?p.spatialReferenceId=w.PLATE_CARREE:h.wkt===da.WGS84ECEFSpatialReferenceLike.wkt?p.spatialReferenceId=w.WGS84_ECEF:h.wkid===R.SupportedGCSWkids.CGCS2000?p.spatialReferenceId=w.CGCS2000:h.wkt===da.SphericalPCPFMarsLike.wkt?p.spatialReferenceId=w.SPHERICAL_MARS_PCPF:h.wkt===da.SphericalPCPFMoonLike.wkt?p.spatialReferenceId=w.SPHERICAL_MOON_PCPF:y.isMars(h)?
p.spatialReferenceId=w.GCSMARS2000:y.isMoon(h)?p.spatialReferenceId=w.GCSMOON2000:p.spatialReferenceId=w.UNKNOWN}function c(h,p,k,A){h!==k&&(k[A++]=h[p++],k[A++]=h[p++],k[A]=h[p])}function q(h,p,k,A){k[A++]=cb*(h[p++]/K.earth.radius);k[A++]=cb*(Math.PI/2-2*Math.atan(Math.exp(-h[p++]/K.earth.radius)));k[A]=h[p]}function x(h,p,k,A){q(h,p,k,A);qa(k,A,k,A)}function G(h,p,k,A){q(h,p,k,A);Ba(k,A,k,A)}function Q(h,p,k,A,ka){var la=.4999999*Math.PI;la=L.clamp(Xa*h[p+1],-la,la);la=Math.sin(la);k[A++]=Xa*h[p]*
ka.radius;k[A++]=ka.halfSemiMajorAxis*Math.log((1+la)/(1-la));k[A]=h[p+2]}function T(h,p,k,A){Q(h,p,k,A,K.earth)}function Y(h,p,k,A){k[A]=h[p]*hb;k[A+1]=h[p+1]*hb;k[A+2]=h[p+2]}function S(h,p,k,A){k[A]=h[p]*eb;k[A+1]=h[p+1]*eb;k[A+2]=h[p+2]}function ea(h,p,k,A){q(h,p,k,A);Y(k,A,k,A)}function ja(h,p,k,A,ka){ka+=h[p+2];const la=Xa*h[p+1];h=Xa*h[p];p=Math.cos(la);k[A++]=Math.cos(h)*p*ka;k[A++]=Math.sin(h)*p*ka;k[A]=Math.sin(la)*ka}function na(h,p,k,A){ja(h,p,k,A,K.moon.radius)}function ua(h,p,k,A){ja(h,
p,k,A,K.mars.radius)}function qa(h,p,k,A){ja(h,p,k,A,K.earth.radius)}function xa(h,p,k,A,ka){var la=h[p];const va=h[p+1];p=h[p+2];h=Math.sqrt(la*la+va*va+p*p);p=L.asinClamped(p/(0===h?1:h));la=Math.atan2(va,la);k[A++]=cb*la;k[A++]=cb*p;k[A]=h-ka}function wa(h,p,k,A){xa(h,p,k,A,K.moon.radius)}function ya(h,p,k,A){xa(h,p,k,A,K.mars.radius)}function Ga(h,p,k,A){xa(h,p,k,A,K.earth.radius)}function Da(h,p,k,A){Ga(h,p,k,A);T(k,A,k,A)}function Fa(h,p,k,A){Ga(h,p,k,A);Ba(k,A,k,A)}function Ba(h,p,k,A){var ka=
K.earth;const la=Xa*h[p];var va=Xa*h[p+1];h=h[p+2];p=Math.sin(va);va=Math.cos(va);const za=ka.radius/Math.sqrt(1-ka.eccentricitySquared*p*p);k[A++]=(za+h)*va*Math.cos(la);k[A++]=(za+h)*va*Math.sin(la);k[A++]=(za*(1-ka.eccentricitySquared)+h)*p}function Ca(h,p,k,A){var ka=U.earthEllipsoidConstants,la=h[p],va=h[p+1];h=h[p+2];let za;p=Math.abs(h);var Na=la*la+va*va;var Ma=Math.sqrt(Na);var La=Na+h*h;var Va=Math.sqrt(La);la=Math.atan2(va,la);var Za=h*h/La;La=Na/La;va=ka.a2/Va;Na=ka.a3-ka.a4/Va;.3<La?
(Za=p/Va*(1+La*(ka.a1+va+Za*Na)/Va),Va=Math.asin(Za),va=Za*Za,La=Math.sqrt(1-va)):(La=Ma/Va*(1-Za*(ka.a5-va-La*Na)/Va),Va=Math.acos(La),va=1-La*La,Za=Math.sqrt(va));za=1-K.earth.eccentricitySquared*va;va=K.earth.radius/Math.sqrt(za);ka=ka.a6*va;va=Ma-va*La;Na=p-ka*Za;p=La*va+Za*Na;Ma=La*Na-Za*va;ka=Ma/(ka/za+p);Va+=ka;0>h&&(Va=-Va);k[A++]=cb*la;k[A++]=cb*Va;k[A]=p+Ma*ka/2}function Sa(h,p,k,A){Ca(h,p,k,A);qa(k,A,k,A)}function Ta(h,p,k,A){Ca(h,p,k,A);T(k,A,k,A)}function Qa(h,p,k=Ra()){return u.isNone(h)||
u.isNone(p)?null:Ua(h,p,k).projector}function Ua(h,p,k){if(u.isNone(h)||u.isNone(p)||k.source.spatialReference===h&&k.dest.spatialReference===p)return k;const A=a(h,k.source),ka=a(p,k.dest);A===w.UNKNOWN&&ka===w.UNKNOWN?y.equals(h,p)?k.projector=c:k.projector=null:k.projector=Wa[A][ka];return k}function Ra(){return{source:{spatialReference:null,spatialReferenceId:w.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:w.UNKNOWN,metersPerUnit:1},projector:c}}let Ka=null,Oa=null,Ha=
null,ab={};const db=new X.SimpleObservable;let Pa=function(h){function p(){return k.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")}V._inherits(p,h);var k=V._createSuper(p);return V._createClass(p)}(aa);var w;(function(h){h[h.UNKNOWN=0]="UNKNOWN";h[h.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";h[h.WGS84=2]="WGS84";h[h.WEB_MERCATOR=3]="WEB_MERCATOR";h[h.WGS84_ECEF=4]="WGS84_ECEF";h[h.CGCS2000=5]="CGCS2000";h[h.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";
h[h.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";h[h.GCSMARS2000=8]="GCSMARS2000";h[h.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";h[h.GCSMOON2000=10]="GCSMOON2000";h[h.LON_LAT=11]="LON_LAT";h[h.PLATE_CARREE=12]="PLATE_CARREE"})(w||(w={}));const hb=K.earth.radius*Math.PI/180,eb=180/(K.earth.radius*Math.PI),Wa={[w.WGS84]:{[w.CGCS2000]:null,[w.GCSMARS2000]:null,[w.GCSMOON2000]:null,[w.LON_LAT]:c,[w.WGS84_COMPARABLE_LON_LAT]:c,[w.SPHERICAL_ECEF]:qa,[w.SPHERICAL_MARS_PCPF]:null,[w.SPHERICAL_MOON_PCPF]:null,
[w.UNKNOWN]:null,[w.WEB_MERCATOR]:T,[w.PLATE_CARREE]:Y,[w.WGS84]:c,[w.WGS84_ECEF]:Ba},[w.CGCS2000]:{[w.CGCS2000]:c,[w.GCSMARS2000]:null,[w.GCSMOON2000]:null,[w.LON_LAT]:c,[w.WGS84_COMPARABLE_LON_LAT]:c,[w.SPHERICAL_ECEF]:qa,[w.SPHERICAL_MARS_PCPF]:null,[w.SPHERICAL_MOON_PCPF]:null,[w.UNKNOWN]:null,[w.WEB_MERCATOR]:null,[w.PLATE_CARREE]:Y,[w.WGS84]:null,[w.WGS84_ECEF]:Ba},[w.GCSMARS2000]:{[w.CGCS2000]:null,[w.GCSMARS2000]:c,[w.GCSMOON2000]:null,[w.LON_LAT]:c,[w.WGS84_COMPARABLE_LON_LAT]:null,[w.SPHERICAL_ECEF]:null,
[w.SPHERICAL_MARS_PCPF]:ua,[w.SPHERICAL_MOON_PCPF]:null,[w.UNKNOWN]:null,[w.WEB_MERCATOR]:null,[w.PLATE_CARREE]:null,[w.WGS84]:null,[w.WGS84_ECEF]:null},[w.GCSMOON2000]:{[w.CGCS2000]:null,[w.GCSMARS2000]:null,[w.GCSMOON2000]:c,[w.LON_LAT]:c,[w.WGS84_COMPARABLE_LON_LAT]:null,[w.SPHERICAL_ECEF]:null,[w.SPHERICAL_MARS_PCPF]:null,[w.SPHERICAL_MOON_PCPF]:na,[w.UNKNOWN]:null,[w.WEB_MERCATOR]:null,[w.PLATE_CARREE]:null,[w.WGS84]:null,[w.WGS84_ECEF]:null},[w.WEB_MERCATOR]:{[w.CGCS2000]:null,[w.GCSMARS2000]:null,
[w.GCSMOON2000]:null,[w.LON_LAT]:q,[w.WGS84_COMPARABLE_LON_LAT]:q,[w.SPHERICAL_ECEF]:x,[w.SPHERICAL_MARS_PCPF]:null,[w.SPHERICAL_MOON_PCPF]:null,[w.UNKNOWN]:null,[w.WEB_MERCATOR]:c,[w.PLATE_CARREE]:ea,[w.WGS84]:q,[w.WGS84_ECEF]:G},[w.WGS84_ECEF]:{[w.CGCS2000]:Ca,[w.GCSMARS2000]:null,[w.GCSMOON2000]:null,[w.LON_LAT]:Ca,[w.WGS84_COMPARABLE_LON_LAT]:Ca,[w.SPHERICAL_ECEF]:Sa,[w.SPHERICAL_MARS_PCPF]:null,[w.SPHERICAL_MOON_PCPF]:null,[w.UNKNOWN]:null,[w.WEB_MERCATOR]:Ta,[w.PLATE_CARREE]:function(h,p,k,
A){Ca(h,p,k,A);Y(k,A,k,A)},[w.WGS84]:Ca,[w.WGS84_ECEF]:c},[w.SPHERICAL_ECEF]:{[w.CGCS2000]:Ga,[w.GCSMARS2000]:null,[w.GCSMOON2000]:null,[w.LON_LAT]:Ga,[w.WGS84_COMPARABLE_LON_LAT]:Ga,[w.SPHERICAL_ECEF]:c,[w.SPHERICAL_MARS_PCPF]:null,[w.SPHERICAL_MOON_PCPF]:null,[w.UNKNOWN]:null,[w.WEB_MERCATOR]:Da,[w.PLATE_CARREE]:function(h,p,k,A){Ga(h,p,k,A);Y(k,A,k,A)},[w.WGS84]:Ga,[w.WGS84_ECEF]:Fa},[w.SPHERICAL_MARS_PCPF]:{[w.CGCS2000]:null,[w.GCSMARS2000]:ya,[w.GCSMOON2000]:null,[w.LON_LAT]:ya,[w.WGS84_COMPARABLE_LON_LAT]:null,
[w.SPHERICAL_ECEF]:null,[w.SPHERICAL_MARS_PCPF]:c,[w.SPHERICAL_MOON_PCPF]:null,[w.UNKNOWN]:null,[w.WEB_MERCATOR]:null,[w.PLATE_CARREE]:null,[w.WGS84]:null,[w.WGS84_ECEF]:null},[w.SPHERICAL_MOON_PCPF]:{[w.CGCS2000]:null,[w.GCSMARS2000]:null,[w.GCSMOON2000]:wa,[w.LON_LAT]:wa,[w.WGS84_COMPARABLE_LON_LAT]:null,[w.SPHERICAL_ECEF]:null,[w.SPHERICAL_MARS_PCPF]:null,[w.SPHERICAL_MOON_PCPF]:c,[w.UNKNOWN]:null,[w.WEB_MERCATOR]:null,[w.PLATE_CARREE]:null,[w.WGS84]:null,[w.WGS84_ECEF]:null},[w.UNKNOWN]:{[w.CGCS2000]:null,
[w.GCSMARS2000]:null,[w.GCSMOON2000]:null,[w.LON_LAT]:null,[w.WGS84_COMPARABLE_LON_LAT]:null,[w.SPHERICAL_ECEF]:null,[w.SPHERICAL_MARS_PCPF]:null,[w.SPHERICAL_MOON_PCPF]:null,[w.UNKNOWN]:c,[w.WEB_MERCATOR]:null,[w.PLATE_CARREE]:null,[w.WGS84]:null,[w.WGS84_ECEF]:null},[w.LON_LAT]:{[w.CGCS2000]:c,[w.GCSMARS2000]:c,[w.GCSMOON2000]:c,[w.LON_LAT]:c,[w.WGS84_COMPARABLE_LON_LAT]:c,[w.SPHERICAL_ECEF]:qa,[w.SPHERICAL_MARS_PCPF]:ua,[w.SPHERICAL_MOON_PCPF]:na,[w.UNKNOWN]:null,[w.WEB_MERCATOR]:T,[w.PLATE_CARREE]:Y,
[w.WGS84]:c,[w.WGS84_ECEF]:Ba},[w.WGS84_COMPARABLE_LON_LAT]:{[w.CGCS2000]:null,[w.GCSMARS2000]:null,[w.GCSMOON2000]:null,[w.LON_LAT]:c,[w.WGS84_COMPARABLE_LON_LAT]:c,[w.SPHERICAL_ECEF]:qa,[w.SPHERICAL_MARS_PCPF]:null,[w.SPHERICAL_MOON_PCPF]:null,[w.UNKNOWN]:null,[w.WEB_MERCATOR]:null,[w.PLATE_CARREE]:Y,[w.WGS84]:c,[w.WGS84_ECEF]:Ba},[w.PLATE_CARREE]:{[w.CGCS2000]:S,[w.GCSMARS2000]:null,[w.GCSMOON2000]:null,[w.LON_LAT]:S,[w.WGS84_COMPARABLE_LON_LAT]:S,[w.SPHERICAL_ECEF]:function(h,p,k,A){S(h,p,k,A);
qa(k,A,k,A)},[w.SPHERICAL_MARS_PCPF]:null,[w.SPHERICAL_MOON_PCPF]:null,[w.UNKNOWN]:null,[w.WEB_MERCATOR]:function(h,p,k,A){S(h,p,k,A);T(k,A,k,A)},[w.PLATE_CARREE]:c,[w.WGS84]:S,[w.WGS84_ECEF]:function(h,p,k,A){S(h,p,k,A);Ba(k,A,k,A)}}},bb={spatialReference:null,spatialReferenceId:w.UNKNOWN},ib={spatialReference:null,spatialReferenceId:w.UNKNOWN},gb=Ra(),jb=Ra(),Xa=L.deg2rad(1),cb=L.rad2deg(1),Ja=ha.create(),Ya=ha.create(),$a=ha.create(),Ea=ha.create(),fb=ha.create();d.canProjectToWGS84ComparableLonLat=
function(h){if(u.isNone(h))return!1;h=a(h,bb);return!!Wa[h][w.WGS84_COMPARABLE_LON_LAT]};d.canProjectWithoutEngine=n;d.computeENUToSphericalPCPFLocalRotation=Aa;d.computeSphericalPCPFToENULocalRotation=Ia;d.computeTranslationToOriginAndRotation=function(h,p,k,A){if(u.isNone(h)||u.isNone(A))return!1;var ka=a(h,bb),la=a(A,ib);if(ka===la&&la!==w.SPHERICAL_ECEF&&la!==w.SPHERICAL_MARS_PCPF&&la!==w.SPHERICAL_MOON_PCPF&&(ka!==w.UNKNOWN||y.equals(h,A)))return ca.fromTranslation(k,p),!0;if(la===w.SPHERICAL_ECEF||
la===w.SPHERICAL_MARS_PCPF||la===w.SPHERICAL_MOON_PCPF){ka=Wa[ka][w.LON_LAT];la=Wa[w.LON_LAT][la];if(u.isNone(ka)||u.isNone(la))return!1;ka(p,0,Ya,0);la(Ya,0,$a,0);Aa(Xa*Ya[0],Xa*Ya[1],k);k[12]=$a[0];k[13]=$a[1];k[14]=$a[2];return!0}if((la===w.WEB_MERCATOR||la===w.PLATE_CARREE)&&(ka===w.WGS84||ka===w.CGCS2000&&la===w.PLATE_CARREE||ka===w.SPHERICAL_ECEF||ka===w.WEB_MERCATOR)){h=Wa[ka][w.LON_LAT];la=Wa[w.LON_LAT][la];if(u.isNone(h)||u.isNone(la))return!1;h(p,0,Ya,0);la(Ya,0,$a,0);ka===w.SPHERICAL_ECEF?
Ia(Xa*Ya[0],Xa*Ya[1],k):ca.identity(k);k[12]=$a[0];k[13]=$a[1];k[14]=$a[2];return!0}return!1};d.getProjectorName=function(h,p){switch(Qa(h,p,gb)){case c:return"copy3";case qa:return"wgs84ToSphericalECEF";case T:return"wgs84ToWebMercator";case Y:return"wgs84ToPlateCarree";case Ba:return"wgs84ToWGS84ECEF";case q:return"webMercatorToWGS84";case x:return"webMercatorToSphericalECEF";case G:return"webMercatorToWGS84ECEF";case ea:return"webMercatorToPlateCarree";case Ca:return"wgs84ECEFToWGS84";case Sa:return"wgs84ECEFToSphericalECEF";
case Ta:return"wgs84ECEFToWebMercator";case Ga:return"sphericalECEFToWGS84";case Da:return"sphericalECEFToWebMercator";case ya:return"sphericalMarsPCPFToMars2000";case wa:return"sphericalMoonPCPFToMoon2000";case Fa:return"sphericalECEFToWGS84ECEF";case ua:return"mars2000ToSphericalPCPF";case na:return"moon2000ToSphericalPCPF";default:return null}};d.getTransformation=ta;d.getTransformations=function(h,p,k=null){if(u.isNone(Ka)||u.isNone(Oa))throw new Pa;h=Ka._getTransformationBySuitability(Oa,h,p,
k,k?.spatialReference);if(null!==h){p=[];for(const A of h)p.push(E.fromGE(A));return p}return[]};d.initializeProjection=async function(h,p,k,A){if(C())return m.waitTick(A);if(Array.isArray(h))for(const {source:ka,dest:la,geographicTransformation:va}of h){if(!n(ka,la,va))return P(A)}else if(!n(h,p,k))return P(A);return m.waitTick(A)};d.isLoaded=C;d.load=P;d.localLinearScaleFactors=function(h,p,k,A){if(u.isNone(p)||u.isNone(A))return!1;const ka=a(p,bb);var la=a(A,ib);if(ka===la&&ka!==w.UNKNOWN||y.equals(p,
A))return k[0]=1,k[1]=1,k[2]=1,!0;if(ka===w.SPHERICAL_ECEF){p=ma.length(h);h=p/Math.sqrt(h[0]*h[0]+h[1]*h[1]);p/=K.earth.radius;if(la===w.WEB_MERCATOR)return k[0]=h*p,k[1]=h*p,k[2]=1,!0;if(la===w.WGS84||la===w.CGCS2000)return la=eb,k[0]=la*h*p,k[1]=la*p,k[2]=1,!0}else if(ka===w.PLATE_CARREE){if(la===w.WGS84||la===w.CGCS2000)return k[0]=eb,k[1]=eb,k[2]=1,!0;if(la===w.WEB_MERCATOR)return la=h[1]/K.earth.radius,k[0]=1,k[1]=1/Math.cos(la),k[2]=1,!0}return!1};d.lonLatToSphericalPCPF=function(h,p,k,A){const ka=
Math.cos(k);h[0]=Math.cos(p)*ka*A;h[1]=Math.sin(p)*ka*A;h[2]=Math.sin(k)*A};d.lonLatToWebMercatorComparable=Q;d.project=Z;d.projectBoundingRect=function(h,p,k,A){if(null==h)return!1;if(y.equals(p,A))return J.copy(k,h),!0;Ja[0]=h[0];Ja[1]=h[1];Ja[2]=0;if(!D(Ja,p,0,Ja,A,0,1))return!1;k[0]=Ja[0];k[1]=Ja[1];Ja[0]=h[2];Ja[1]=h[3];Ja[2]=0;if(!D(Ja,p,0,Ja,A,0,1))return!1;k[2]=Ja[0];k[3]=Ja[1];return!0};d.projectBoundingSphere=function(h,p,k,A){if(u.isNone(p)||u.isNone(A))return!1;p=Ua(p,A,jb);if(p.projector===
c)return k[0]=h[0],k[1]=h[1],k[2]=h[2],k[3]=h[3],!0;if(u.isNone(p.projector))return!1;const {source:ka,dest:la}=p;if(la.spatialReferenceId===w.WEB_MERCATOR){p=Wa[ka.spatialReferenceId][w.WGS84];if(u.isNone(p))return!1;p(h,0,Ya,0);T(Ya,0,k,0);k[3]=oa(Ya[1],h[2],h[3],K.earth.radius);return!0}if(ka.spatialReferenceId!==w.WGS84&&ka.spatialReferenceId!==w.CGCS2000||la.spatialReferenceId!==w.PLATE_CARREE)p.projector(h,0,k,0),k[3]=h[3]*(ka.metersPerUnit??1)/(la.metersPerUnit??1);else{A=Wa[w.SPHERICAL_ECEF][w.PLATE_CARREE];
let va=h[3];u.isSome(Wa[ka.spatialReferenceId][w.SPHERICAL_ECEF])&&u.isSome(A)&&(va=oa(h[1],h[2],h[3],K.earth.radius));p.projector(h,0,k,0);k[3]=va}return!0};d.projectBuffer=D;d.projectDirection=function(h,p,k,A,ka){ma.copy(Ea,h);ma.add(fb,h,p);f(Ea,k,Ea,ka);f(fb,k,fb,ka);ma.subtract(A,fb,Ea);ma.normalize(A,A)};d.projectExtent=function(h,p,k=p.spatialReference,A=0){return u.isSome(h.spatialReference)&&u.isSome(k)&&u.isSome(N(h,h.spatialReference,p,k,A))};d.projectMany=ia;d.projectMultipoint=function(h,
p,k=p.spatialReference,A=0){return u.isSome(h.spatialReference)&&u.isSome(k)&&u.isSome(z(h,h.spatialReference,p,k,A))};d.projectOrLoad=function(h,p){h=sa([h],p);return u.isSome(h.pending)?{pending:h.pending,geometry:null}:u.isSome(h.geometries)?{pending:null,geometry:h.geometries[0]}:{pending:null,geometry:null}};d.projectOrLoadMany=sa;d.projectPoint=function(h,p,k=p.spatialReference,A=0){return u.isSome(k)&&u.isSome(h.spatialReference)&&u.isSome(pa(h,h.spatialReference,p,k,A))};d.projectPointToVector=
function(h,p,k,A=0){Ea[0]=h.x;Ea[1]=h.y;const ka=h.z;Ea[2]=void 0!==ka?ka:A;return D(Ea,h.spatialReference,0,p,k,0,1)};d.projectPointToWGS84ComparableLonLat=function(h,p){Ea[0]=h.x;Ea[1]=h.y;const k=h.z;Ea[2]=void 0!==k?k:0;return B(Ea,h.spatialReference,p)};d.projectPolygon=function(h,p,k=p.spatialReference,A=0){return u.isSome(h.spatialReference)&&u.isSome(k)&&u.isSome(e(h,h.spatialReference,p,k,A))};d.projectPolygonToWGS84ComparableLonLat=function({hasZ:h,spatialReference:p,rings:k},A,ka=0){p=
a(p,bb);p=Wa[p][w.WGS84_COMPARABLE_LON_LAT];if(u.isNone(p))return!1;h=h?la=>la:la=>ma.set(Ea,la[0],la[1],ka);for(const la of k){k=[];for(const va of la){const za=[0,0,ka];p(h(va),0,za,0);k.push(za)}A.push(k)}return!0};d.projectPolyline=function(h,p,k=p.spatialReference,A=0){return u.isSome(h.spatialReference)&&u.isSome(k)&&u.isSome(t(h,h.spatialReference,p,k,A))};d.projectPolylineToWGS84ComparableLonLat=function({hasZ:h,spatialReference:p,paths:k},A,ka=0){p=a(p,bb);p=Wa[p][w.WGS84_COMPARABLE_LON_LAT];
if(u.isNone(p))return!1;h=h?la=>la:la=>ma.set(Ea,la[0],la[1],ka);for(const la of k){k=[];for(const va of la){const za=[0,0,ka];p(h(va),0,za,0);k.push(za)}A.push(k)}return!0};d.projectVectorToDehydratedPoint=function(h,p,k){return D(h,p,0,Ea,k.spatialReference,0,1)?(k.x=Ea[0],k.y=Ea[1],k.z=Ea[2],k):null};d.projectVectorToPoint=function(h,p,k){if(u.isNone(p)||u.isNone(k))return null;const A=new ba({spatialReference:k});return D(h,p,0,Ea,k,0,1)?(A.x=Ea[0],A.y=Ea[1],A.z=Ea[2],A):null};d.projectVectorToVector=
f;d.projectVectorToWGS84ComparableLonLat=function(h,p,k){return B(h,p,k)};d.projectWithoutEngine=M;d.projectXYZToVector=b;d.sphericalPCPFtoLonLatElevation=xa;d.test={get loadPromise(){return Ha}};d.tryProjectWithZConversion=g;d.unload=function(){Ha=Oa=Ka=null;ab={}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../ObservableBase"],function(l,d,V){V=function(aa){function L(){return u.apply(this,
arguments)}d._inherits(L,aa);var u=d._createSuper(L);L.prototype.notify=function(){var m=this._observers;if(m&&0<m.length){m=m.slice();for(const r of m)r.onInvalidated(),r.onCommitted()}};return d._createClass(L)}(V.ObservableBase);l.SimpleObservable=V;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(l,d,V,aa,L){function u(){return!!d._pe}function m(){return!!L("esri-wasm")}
function r(){return da?da:da=(new Promise((F,O)=>l(["./pe-wasm"],F,O))).then(F=>F.peWasm).then(({default:F})=>F({locateFile:O=>aa.getAssetUrl(`esri/geometry/support/${O}`)})).then(F=>{I(F)})}function I(F){function O(H,J,K){H[J]=K(H[J])}d._pe=F;d.PeDefs.init();d.PeGTlistExtended.init();d.PeNotationMgrs.init();d.PeNotationUtm.init();d.PePCSInfo.init();d.PeGCSExtent=function(H){function J(){return K.apply(this,arguments)}V._inherits(J,H);var K=V._createSuper(J);J.prototype.destroy=function(){d._pe.destroy(this)};
return V._createClass(J)}(d._pe.PeGCSExtent);F=[d._pe.PeDatum,d._pe.PeGeogcs,d._pe.PeGeogtran,d._pe.PeObject,d._pe.PeParameter,d._pe.PePrimem,d._pe.PeProjcs,d._pe.PeSpheroid,d._pe.PeUnit];for(var ba of F)O(ba.prototype,"getName",H=>function(){return H.call(this,Array(d.PeDefs.PE_NAME_MAX))});for(const H of[d._pe.PeGeogtran,d._pe.PeProjcs])O(H.prototype,"getParameters",J=>function(){const K=Array(d.PeDefs.PE_PARM_MAX);let U=J.call(this);for(let E=0;E<K.length;E++){const y=d._pe.getValue(U,"*");K[E]=
y?d._pe.wrapPointer(y,d._pe.PeParameter):null;U+=Int32Array.BYTES_PER_ELEMENT}return K});O(d._pe.PeHorizon.prototype,"getCoord",H=>function(){const J=this.getSize();if(!J)return null;const K=[],U=H.call(this);ha(K,J,U);return K});O(d._pe.PeGTlistExtendedEntry.prototype,"getEntries",H=>{const J=d._pe._pe_getPeGTlistExtendedGTsSize();return function(){let K=null;var U=H.call(this);if(!d._pe.compare(U,d._pe.NULL)){K=[U];const E=this.getSteps();if(1<E){U=d._pe.getPointer(U);for(let y=1;y<E;y++)K.push(d._pe.wrapPointer(U+
J*y,d._pe.PeGTlistExtendedGTs))}}return K}});const W=d._pe._pe_getPeHorizonSize();ba=H=>function(){let J=this._cache;J||(this._cache=J=new Map);if(J.has(H))return J.get(H);let K=null;var U=H.call(this);if(!d._pe.compare(U,d._pe.NULL)){K=[U];const E=U.getNump();if(1<E){U=d._pe.getPointer(U);for(let y=1;y<E;y++)K.push(d._pe.wrapPointer(U+W*y,d._pe.PeHorizon))}}J.set(H,K);return K};O(d._pe.PeProjcs.prototype,"horizonGcsGenerate",ba);O(d._pe.PeProjcs.prototype,"horizonPcsGenerate",ba);d._pe.PeObject.prototype.toString=
function(H=d.PeDefs.PE_STR_OPTS_NONE){d._pe.ensureCache.prepare();const J=d._pe.getPointer(this),K=d._pe.ensureInt8(Array(d.PeDefs.PE_BUFFER_MAX));return d._pe.UTF8ToString(d._pe._pe_object_to_string_ext(J,H,K))}}function X(F){if(F){var O=d._pe.getClass(F);O&&(O=d._pe.getCache(O))&&(F=d._pe.getPointer(F))&&delete O[F]}}function ca(F,O){const ba=[];O=Array(O);for(let W=0;W<F;W++)ba.push(d._pe.ensureInt8(O));return ba}function ma(F){let O;Array.isArray(F[0])?(O=[],F.forEach(ba=>{O.push(ba[0],ba[1])})):
O=F;return O}function ha(F,O,ba,W=!1){if(W)for(W=0;W<2*O;W++)F[W]=d._pe.getValue(ba+W*Float64Array.BYTES_PER_ELEMENT,"double");else{W=0===F.length;for(let H=0;H<O;H++)W&&(F[H]=Array(2)),F[H][0]=d._pe.getValue(ba,"double"),F[H][1]=d._pe.getValue(ba+Float64Array.BYTES_PER_ELEMENT,"double"),ba+=2*Float64Array.BYTES_PER_ELEMENT}}let da;d._pe=null;d.PeCSTransformations=void 0;(function(F){function O(H,J,K){d._pe.ensureCache.prepare();var U=ma(K);const E=K===U;U=d._pe.ensureFloat64(U);(H=d._pe._pe_geog_to_proj(d._pe.getPointer(H),
J,U))&&ha(K,J,U,E);return H}function ba(H,J,K){return W(H,J,K,0)}function W(H,J,K,U){d._pe.ensureCache.prepare();var E=ma(K);const y=K===E;E=d._pe.ensureFloat64(E);(H=d._pe._pe_proj_to_geog_center(d._pe.getPointer(H),J,E,U))&&ha(K,J,E,y);return H}F.geogToProj=O;F.projGeog=function(H,J,K,U){switch(U){case d.PeDefs.PE_TRANSFORM_P_TO_G:return ba(H,J,K);case d.PeDefs.PE_TRANSFORM_G_TO_P:return O(H,J,K)}return 0};F.projToGeog=ba;F.projToGeogCenter=W})(d.PeCSTransformations||(d.PeCSTransformations={}));
d.PeDefs=void 0;(function(F){F.init=function(){F.PE_BUFFER_MAX=d._pe.PeDefs.prototype.PE_BUFFER_MAX;F.PE_NAME_MAX=d._pe.PeDefs.prototype.PE_NAME_MAX;F.PE_MGRS_MAX=d._pe.PeDefs.prototype.PE_MGRS_MAX;F.PE_USNG_MAX=d._pe.PeDefs.prototype.PE_USNG_MAX;F.PE_DD_MAX=d._pe.PeDefs.prototype.PE_DD_MAX;F.PE_DDM_MAX=d._pe.PeDefs.prototype.PE_DDM_MAX;F.PE_DMS_MAX=d._pe.PeDefs.prototype.PE_DMS_MAX;F.PE_UTM_MAX=d._pe.PeDefs.prototype.PE_UTM_MAX;F.PE_PARM_MAX=d._pe.PeDefs.prototype.PE_PARM_MAX;F.PE_TYPE_NONE=d._pe.PeDefs.prototype.PE_TYPE_NONE;
F.PE_TYPE_GEOGCS=d._pe.PeDefs.prototype.PE_TYPE_GEOGCS;F.PE_TYPE_PROJCS=d._pe.PeDefs.prototype.PE_TYPE_PROJCS;F.PE_TYPE_GEOGTRAN=d._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;F.PE_TYPE_COORDSYS=d._pe.PeDefs.prototype.PE_TYPE_COORDSYS;F.PE_TYPE_UNIT=d._pe.PeDefs.prototype.PE_TYPE_UNIT;F.PE_TYPE_LINUNIT=d._pe.PeDefs.prototype.PE_TYPE_LINUNIT;F.PE_STR_OPTS_NONE=d._pe.PeDefs.prototype.PE_STR_OPTS_NONE;F.PE_STR_AUTH_NONE=d._pe.PeDefs.prototype.PE_STR_AUTH_NONE;F.PE_STR_AUTH_TOP=d._pe.PeDefs.prototype.PE_STR_AUTH_TOP;
F.PE_STR_NAME_CANON=d._pe.PeDefs.prototype.PE_STR_NAME_CANON;F.PE_PARM_X0=d._pe.PeDefs.prototype.PE_PARM_X0;F.PE_PARM_ND=d._pe.PeDefs.prototype.PE_PARM_ND;F.PE_TRANSFORM_1_TO_2=d._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;F.PE_TRANSFORM_2_TO_1=d._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;F.PE_TRANSFORM_P_TO_G=d._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;F.PE_TRANSFORM_G_TO_P=d._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;F.PE_HORIZON_RECT=d._pe.PeDefs.prototype.PE_HORIZON_RECT;F.PE_HORIZON_POLY=d._pe.PeDefs.prototype.PE_HORIZON_POLY;
F.PE_HORIZON_LINE=d._pe.PeDefs.prototype.PE_HORIZON_LINE;F.PE_HORIZON_DELTA=d._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(d.PeDefs||(d.PeDefs={}));d.PeFactory=void 0;(function(F){function O(J,K){let U=null,E=ba[J];E||(E={},ba[J]=E);E.hasOwnProperty(String(K))?U=E[K]:(J=d._pe.PeFactory.prototype.factoryByType(J,K),d._pe.compare(J,d._pe.NULL)||(U=J,E[K]=U));return U=H(U)}const ba={},W={},H=J=>{if(J){const K=J.getType();switch(K){case d.PeDefs.PE_TYPE_GEOGCS:J=d._pe.castObject(J,d._pe.PeGeogcs);break;case d.PeDefs.PE_TYPE_PROJCS:J=
d._pe.castObject(J,d._pe.PeProjcs);break;case d.PeDefs.PE_TYPE_GEOGTRAN:J=d._pe.castObject(J,d._pe.PeGeogtran);break;default:K&d.PeDefs.PE_TYPE_UNIT&&(J=d._pe.castObject(J,d._pe.PeUnit))}}return J};F.initialize=function(){d._pe.PeFactory.prototype.initialize(null)};F.coordsys=function(J){return O(d.PeDefs.PE_TYPE_COORDSYS,J)};F.factoryByType=O;F.fromString=function(J,K){let U=null,E=W[J];E||(E={},W[J]=E);E.hasOwnProperty(K)?U=E[K]:(J=d._pe.PeFactory.prototype.fromString(J,K),d._pe.compare(J,d._pe.NULL)||
(U=J,E[K]=U));return U=H(U)};F.geogcs=function(J){return O(d.PeDefs.PE_TYPE_GEOGCS,J)};F.geogtran=function(J){return O(d.PeDefs.PE_TYPE_GEOGTRAN,J)};F.getCode=function(J){return d._pe.PeFactory.prototype.getCode(J)};F.projcs=function(J){return O(d.PeDefs.PE_TYPE_PROJCS,J)};F.unit=function(J){return O(d.PeDefs.PE_TYPE_UNIT,J)}})(d.PeFactory||(d.PeFactory={}));d.PeGCSExtent=null;d.PeGTlistExtended=void 0;(function(F){let O;F.init=function(){F.PE_GTLIST_OPTS_COMMON=d._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;
O=d._pe._pe_getPeGTlistExtendedEntrySize()};F.getGTlist=function(ba,W,H,J,K,U){let E=null;const y=new d._pe.PeInteger(U);try{const R=d._pe.PeGTlistExtended.prototype.getGTlist(ba,W,H,J,K,y);if(U=y.val)if(E=[R],1<U){const v=d._pe.getPointer(R);for(ba=1;ba<U;ba++)E.push(d._pe.wrapPointer(v+O*ba,d._pe.PeGTlistExtendedEntry))}}finally{d._pe.destroy(y)}return E}})(d.PeGTlistExtended||(d.PeGTlistExtended={}));d.PeGTlistExtendedEntry=void 0;(function(F){F.destroy=function(O){if(O&&O.length){for(const ba of O)X(ba),
ba.getEntries().forEach(W=>{X(W);W=W.getGeogtran();X(W);W.getParameters().forEach(X);[W.getGeogcs1(),W.getGeogcs2()].forEach(H=>{X(H);const J=H.getDatum();X(J);X(J.getSpheroid());X(H.getPrimem());X(H.getUnit())})});d._pe.PeGTlistExtendedEntry.prototype.Delete(O[0])}}})(d.PeGTlistExtendedEntry||(d.PeGTlistExtendedEntry={}));d.PeGTTransformations=void 0;(function(F){F.geogToGeog=function(O,ba,W,H,J){d._pe.ensureCache.prepare();var K=ma(W);const U=W===K;K=d._pe.ensureFloat64(K);let E=0;H&&(E=d._pe.ensureFloat64(H));
(O=d._pe._pe_geog_to_geog(d._pe.getPointer(O),ba,K,E,J))&&ha(W,ba,K,U);return O}})(d.PeGTTransformations||(d.PeGTTransformations={}));d.PeNotationDms=void 0;(function(F){const O=(W,H,J,K,U,E)=>{d._pe.ensureCache.prepare();switch(W){case "dd":var y=d._pe._pe_geog_to_dd;var R=d.PeDefs.PE_DD_MAX;break;case "ddm":y=d._pe._pe_geog_to_ddm;R=d.PeDefs.PE_DDM_MAX;break;case "dms":y=d._pe._pe_geog_to_dms,R=d.PeDefs.PE_DMS_MAX}W=0;H&&(W=d._pe.getPointer(H));H=ma(K);H=d._pe.ensureFloat64(H);R=ca(J,R);K=d._pe.ensureInt32(R);
if(U=y(W,J,H,U,K))for(y=0;y<J;y++)E[y]=d._pe.UTF8ToString(R[y]);return U},ba=(W,H,J,K,U)=>{d._pe.ensureCache.prepare();switch(W){case "dd":var E=d._pe._pe_dd_to_geog;break;case "ddm":E=d._pe._pe_ddm_to_geog;break;case "dms":E=d._pe._pe_dms_to_geog}W=0;H&&(W=d._pe.getPointer(H));H=K.map(y=>d._pe.ensureString(y));K=d._pe.ensureInt32(H);H=d._pe.ensureFloat64(Array(2*J));(E=E(W,J,K,H))&&ha(U,J,H);return E};F.geogToDms=function(W,H,J,K,U){return O("dms",W,H,J,K,U)};F.dmsToGeog=function(W,H,J,K){return ba("dms",
W,H,J,K)};F.geogToDdm=function(W,H,J,K,U){return O("ddm",W,H,J,K,U)};F.ddmToGeog=function(W,H,J,K){return ba("ddm",W,H,J,K)};F.geogToDd=function(W,H,J,K,U){return O("dd",W,H,J,K,U)};F.ddToGeog=function(W,H,J,K){return ba("dd",W,H,J,K)}})(d.PeNotationDms||(d.PeNotationDms={}));d.PeNotationMgrs=void 0;(function(F){F.init=function(){F.PE_MGRS_STYLE_NEW=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;F.PE_MGRS_STYLE_OLD=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;F.PE_MGRS_STYLE_AUTO=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;
F.PE_MGRS_180_ZONE_1_PLUS=d._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;F.PE_MGRS_ADD_SPACES=d._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};F.geogToMgrsExtended=function(O,ba,W,H,J,K,U){d._pe.ensureCache.prepare();let E=0;O&&(E=d._pe.getPointer(O));O=ma(W);W=d._pe.ensureFloat64(O);O=ca(ba,d.PeDefs.PE_MGRS_MAX);const y=d._pe.ensureInt32(O);if(H=d._pe._pe_geog_to_mgrs_extended(E,ba,W,H,J,K,y))for(J=0;J<ba;J++)U[J]=d._pe.UTF8ToString(O[J]);return H};F.mgrsToGeogExtended=function(O,ba,W,
H,J){d._pe.ensureCache.prepare();let K=0;O&&(K=d._pe.getPointer(O));O=W.map(U=>d._pe.ensureString(U));W=d._pe.ensureInt32(O);O=d._pe.ensureFloat64(Array(2*ba));(H=d._pe._pe_mgrs_to_geog_extended(K,ba,W,H,O))&&ha(J,ba,O);return H}})(d.PeNotationMgrs||(d.PeNotationMgrs={}));d.PeNotationUsng=void 0;(function(F){F.geogToUsng=function(O,ba,W,H,J,K,U){d._pe.ensureCache.prepare();let E=0;O&&(E=d._pe.getPointer(O));O=ma(W);W=d._pe.ensureFloat64(O);O=ca(ba,d.PeDefs.PE_MGRS_MAX);const y=d._pe.ensureInt32(O);
if(H=d._pe._pe_geog_to_usng(E,ba,W,H,J,K,y))for(J=0;J<ba;J++)U[J]=d._pe.UTF8ToString(O[J]);return H};F.usngToGeog=function(O,ba,W,H){d._pe.ensureCache.prepare();var J=0;O&&(J=d._pe.getPointer(O));O=W.map(K=>d._pe.ensureString(K));W=d._pe.ensureInt32(O);O=d._pe.ensureFloat64(Array(2*ba));(J=d._pe._pe_usng_to_geog(J,ba,W,O))&&ha(H,ba,O);return J}})(d.PeNotationUsng||(d.PeNotationUsng={}));d.PeNotationUtm=void 0;(function(F){F.init=function(){F.PE_UTM_OPTS_NONE=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;
F.PE_UTM_OPTS_ADD_SPACES=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;F.PE_UTM_OPTS_NS=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};F.geogToUtm=function(O,ba,W,H,J){d._pe.ensureCache.prepare();var K=0;O&&(K=d._pe.getPointer(O));O=ma(W);W=d._pe.ensureFloat64(O);O=ca(ba,d.PeDefs.PE_UTM_MAX);const U=d._pe.ensureInt32(O);if(H=d._pe._pe_geog_to_utm(K,ba,W,H,U))for(K=0;K<ba;K++)J[K]=d._pe.UTF8ToString(O[K]);return H};F.utmToGeog=function(O,ba,W,H,J){d._pe.ensureCache.prepare();let K=0;O&&(K=d._pe.getPointer(O));
O=W.map(U=>d._pe.ensureString(U));W=d._pe.ensureInt32(O);O=d._pe.ensureFloat64(Array(2*ba));(H=d._pe._pe_utm_to_geog(K,ba,W,H,O))&&ha(J,ba,O);return H}})(d.PeNotationUtm||(d.PeNotationUtm={}));d.PePCSInfo=void 0;(function(F){const O=new Map;F.init=function(){F.PE_PCSINFO_OPTION_NONE=d._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;F.PE_PCSINFO_OPTION_DOMAIN=d._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;F.PE_POLE_OUTSIDE_BOUNDARY=d._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;F.PE_POLE_POINT=
d._pe.PePCSInfo.prototype.PE_POLE_POINT};F.generate=function(ba,W=F.PE_PCSINFO_OPTION_DOMAIN){let H=null,J=null;O.has(ba)&&(J=O.get(ba),J[W]&&(H=J[W]));H||(H=d._pe.PePCSInfo.prototype.generate(ba,W),J||(J=[],O.set(ba,J)),J[W]=H);return H}})(d.PePCSInfo||(d.PePCSInfo={}));d.PeVersion=void 0;(function(F){F.versionString=function(){return d._pe.PeVersion.prototype.version_string()}})(d.PeVersion||(d.PeVersion={}));const fa=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return d.PeCSTransformations},
get PeDefs(){return d.PeDefs},get PeFactory(){return d.PeFactory},get PeGCSExtent(){return d.PeGCSExtent},get PeGTTransformations(){return d.PeGTTransformations},get PeGTlistExtended(){return d.PeGTlistExtended},get PeGTlistExtendedEntry(){return d.PeGTlistExtendedEntry},get PeNotationDms(){return d.PeNotationDms},get PeNotationMgrs(){return d.PeNotationMgrs},get PeNotationUsng(){return d.PeNotationUsng},get PeNotationUtm(){return d.PeNotationUtm},get PePCSInfo(){return d.PePCSInfo},get PeVersion(){return d.PeVersion},
_init:I,get _pe(){return d._pe},isLoaded:u,isSupported:m,load:r},Symbol.toStringTag,{value:"Module"}));d._init=I;d.isLoaded=u;d.isSupported=m;d.load=r;d.pe=fa})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(l,d){const V=Math.PI/180;var aa=d.earth.radius;const L=d.earth.eccentricitySquared;aa={a1:aa*L,a2:aa*L*aa*L,a3:aa*L*L/2,a4:aa*L*aa*L*2.5,a5:aa*L+aa*L*L/2,a6:1-L};d={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:d.earth.radius,
f:d.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:d.moon.radius,f:d.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:d.mars.radius,f:d.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,
f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,
f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,
f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:d.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};l.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;l.earthEllipsoidConstants=aa;l.spheroids=d;l.toRadians=V;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["../../chunks/_rollupPluginBabelHelpers","./GeographicTransformationStep"],
function(l,d){return function(){function V(L){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(L&&L.steps)for(const u of L.steps)u instanceof d?this.steps.push(u):this.steps.push(new d({wkid:u.wkid,wkt:u.wkt,isInverse:u.isInverse}))}V.cacheKey=function(L,u){return[void 0!==L.wkid&&null!==L.wkid?L.wkid.toString():"-1",void 0!==L.wkt&&null!==L.wkt?L.wkt.toString():"",void 0!==u.wkid&&null!==u.wkid?u.wkid.toString():"-1",void 0!==u.wkt&&null!==u.wkt?u.wkt.toString():""].join()};
V.fromGE=function(L){const u=new V;let m="";for(const r of L.steps)L=d.fromGE(r),u.steps.push(L),m+=L.uid.toString()+",";u._cachedProjection={};u._gtlistentry=null;u._chain=m;return u};var aa=V.prototype;aa.getInverse=function(){const L=new V;L.steps=[];for(let u=this.steps.length-1;0<=u;u--)L.steps.push(this.steps[u].getInverse());return L};aa.getGTListEntry=function(){let L="";for(const u of this.steps)L+=u.uid.toString()+",";L!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=
L);return this._gtlistentry};aa.assignCachedGe=function(L,u,m){this._cachedProjection[V.cacheKey(L,u)]=m};aa.getCachedGeTransformation=function(L,u){let m="";for(const r of this.steps)m+=r.uid.toString()+",";m!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=m);L=this._cachedProjection[V.cacheKey(L,u)];return void 0===L?null:L};return l._createClass(V)}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(l){let d=0;return function(){function V(aa){this.uid=d++;aa?(this._wkt=null!=aa.wkt?aa.wkt:null,this._wkid=null!=aa.wkid?aa.wkid:-1,this._isInverse=null!=aa.isInverse?!0===aa.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}V.fromGE=function(aa){const L=new V;L._wkt=aa.wkt;L._wkid=aa.wkid;L._isInverse=aa.isInverse;return L};V.prototype.getInverse=function(){const aa=new V;aa._wkt=this.wkt;aa._wkid=this._wkid;aa._isInverse=!this.isInverse;return aa};l._createClass(V,[{key:"wkt",
get:function(){return this._wkt},set:function(aa){this._wkt=aa;this.uid=d++}},{key:"wkid",get:function(){return this._wkid},set:function(aa){this._wkid=aa;this.uid=d++}},{key:"isInverse",get:function(){return this._isInverse},set:function(aa){this._isInverse=aa;this.uid=d++}}]);return V}()})},"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(l,d,V,aa){l.getGeometryZScaler=function(L,u,m){if(d.isNone(u)||d.isNone(m)||
m.vcsWkid||aa.equals(u,m))return null;u=V.getMetersPerVerticalUnitForSR(u);m=V.getMetersPerVerticalUnitForSR(m);const r=u/m;if(1===r)return null;switch(L){case "point":case "esriGeometryPoint":return I=>{I&&null!=I.z&&(I.z*=r)};case "polyline":case "esriGeometryPolyline":return I=>{if(I)for(const X of I.paths)for(const ca of X)2<ca.length&&(ca[2]*=r)};case "polygon":case "esriGeometryPolygon":return I=>{if(I)for(const X of I.rings)for(const ca of X)2<ca.length&&(ca[2]*=r)};case "multipoint":case "esriGeometryMultipoint":return I=>
{if(I)for(const X of I.points)2<X.length&&(X[2]*=r)};case "extent":case "esriGeometryExtent":return I=>{I&&null!=I.zmin&&null!=I.zmax&&(I.zmin*=r,I.zmax*=r)};default:return null}};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/spatialReferenceEllipsoidUtils":function(){define(["exports","./ellipsoidUtils","./SpatialReference","./support/spatialReferenceUtils"],function(l,d,V,aa){const L=new V(d.SphericalECEFSpatialReferenceLike),u=new V(d.SphericalPCPFMarsLike),m=new V(d.SphericalPCPFMoonLike);
d=new V(d.WGS84ECEFSpatialReferenceLike);l.SphericalECEFSpatialReference=L;l.SphericalPCPFMars=u;l.SphericalPCPFMoon=m;l.WGS84ECEFSpatialReference=d;l.getSphericalPCPF=function(r){return r&&(aa.isMars(r)||aa.equals(r,u))?u:r&&(aa.isMoon(r)||aa.equals(r,m))?m:L};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshTransform":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../chunks/mat4 ../../chunks/mat4f64 ../../chunks/quat ../../chunks/quatf64 ../../chunks/vec3 ../../chunks/vec3f64 ../Point ../projection ../spatialReferenceEllipsoidUtils ./axisAngleDegrees ./DoubleArray ../../chunks/vec32".split(" "),
function(l,d,V,aa,L,u,m,r,I,X,ca,ma,ha,da,fa,F,O,ba,W,H,J){var K;V=K=function(E){function y(v){v=R.call(this,v);v.origin=fa.create();v.translation=fa.create();v.rotation=W.create();v.scale=fa.fromValues(1,1,1);v.geographic=!0;return v}l._inherits(y,E);var R=l._createSuper(y);E=y.prototype;E.applyLocal=function(v,C){return da.transformMat4(C,v,this.localMatrix)};E.applyLocalInverse=function(v,C){return da.transformMat4(C,v,this.localMatrixInverse)};E.project=function(v,C){if(this.geographic){const ia=
ba.getSphericalPCPF(C),sa=ca.create();O.computeTranslationToOriginAndRotation(C,this.origin,sa,ia);X.multiply(sa,sa,this.localMatrix);const ta=H.newDoubleArray(v.length);J.transformMat4(ta,v,sa);O.projectBuffer(ta,ia,0,ta,C,0,ta.length/3);return ta}const {localMatrix:P,origin:Z}=this;v=X.equals(P,ca.IDENTITY)?H.doubleArrayFrom(v):J.transformMat4(H.newDoubleArray(v.length),v,P);for(C=0;C<v.length;C+=3)v[C]+=Z[0],v[C+1]+=Z[1],v[C+2]+=Z[2];return v};E.getOriginPoint=function(v){const [C,P,Z]=this.origin;
return new F({x:C,y:P,z:Z,spatialReference:v})};E.equals=function(v){return aa.isSome(v)&&this.geographic===v.geographic&&da.exactEquals(this.origin,v.origin)&&X.exactEquals(this.localMatrix,v.localMatrix)};E.clone=function(){const v={origin:fa.clone(this.origin),translation:fa.clone(this.translation),rotation:W.create(this.rotation),scale:fa.clone(this.scale),geographic:this.geographic};return new K(v)};l._createClass(y,[{key:"localMatrix",get:function(){const v=ca.create();ma.setAxisAngle(U,W.axis(this.rotation),
W.angleRad(this.rotation));X.fromRotationTranslationScale(v,U,this.translation,this.scale);return v}},{key:"localMatrixInverse",get:function(){return X.invert(ca.create(),this.localMatrix)}}]);return y}(V.JSONSupport);d.__decorate([L.property({type:[Number],nonNullable:!0,json:{write:!0}})],V.prototype,"origin",void 0);d.__decorate([L.property({type:[Number],nonNullable:!0,json:{write:!0}})],V.prototype,"translation",void 0);d.__decorate([L.property({type:[Number],nonNullable:!0,json:{write:!0}})],
V.prototype,"rotation",void 0);d.__decorate([L.property({type:[Number],nonNullable:!0,json:{write:!0}})],V.prototype,"scale",void 0);d.__decorate([L.property({type:Boolean,nonNullable:!0,json:{write:!0}})],V.prototype,"geographic",void 0);d.__decorate([L.property()],V.prototype,"localMatrix",null);d.__decorate([L.property()],V.prototype,"localMatrixInverse",null);V=K=d.__decorate([I.subclass("esri.geometry.support.MeshTransform")],V);const U=ha.create();return V})},"esri/chunks/quat":function(){define("exports ./mat3f64 ./quatf64 ./vec3f64 ./common ./vec3 ./vec4".split(" "),
function(l,d,V,aa,L,u,m){function r(b){b[0]=0;b[1]=0;b[2]=0;b[3]=1;return b}function I(b,f,B){B*=.5;const D=Math.sin(B);b[0]=D*f[0];b[1]=D*f[1];b[2]=D*f[2];b[3]=Math.cos(B);return b}function X(b,f){const B=2*Math.acos(f[3]),D=Math.sin(B/2);D>L.getEpsilon()?(b[0]=f[0]/D,b[1]=f[1]/D,b[2]=f[2]/D):(b[0]=1,b[1]=0,b[2]=0);return B}function ca(b,f,B){const D=f[0],ra=f[1],oa=f[2];f=f[3];const Aa=B[0],Ia=B[1],a=B[2];B=B[3];b[0]=D*B+f*Aa+ra*a-oa*Ia;b[1]=ra*B+f*Ia+oa*Aa-D*a;b[2]=oa*B+f*a+D*Ia-ra*Aa;b[3]=f*B-
D*Aa-ra*Ia-oa*a;return b}function ma(b,f,B){B*=.5;const D=f[0],ra=f[1],oa=f[2];f=f[3];const Aa=Math.sin(B);B=Math.cos(B);b[0]=D*B+f*Aa;b[1]=ra*B+oa*Aa;b[2]=oa*B-ra*Aa;b[3]=f*B-D*Aa;return b}function ha(b,f,B){B*=.5;const D=f[0],ra=f[1],oa=f[2];f=f[3];const Aa=Math.sin(B);B=Math.cos(B);b[0]=D*B-oa*Aa;b[1]=ra*B+f*Aa;b[2]=oa*B+D*Aa;b[3]=f*B-ra*Aa;return b}function da(b,f,B){B*=.5;const D=f[0],ra=f[1],oa=f[2];f=f[3];const Aa=Math.sin(B);B=Math.cos(B);b[0]=D*B+ra*Aa;b[1]=ra*B-D*Aa;b[2]=oa*B+f*Aa;b[3]=
f*B-oa*Aa;return b}function fa(b,f){const B=f[0],D=f[1];f=f[2];b[0]=B;b[1]=D;b[2]=f;b[3]=Math.sqrt(Math.abs(1-B*B-D*D-f*f));return b}function F(b,f,B,D){const ra=f[0],oa=f[1],Aa=f[2];f=f[3];let Ia=B[0],a=B[1],c=B[2];B=B[3];let q;let x;var G=ra*Ia+oa*a+Aa*c+f*B;0>G&&(G=-G,Ia=-Ia,a=-a,c=-c,B=-B);1-G>L.getEpsilon()?(q=Math.acos(G),x=Math.sin(q),G=Math.sin((1-D)*q)/x,D=Math.sin(D*q)/x):G=1-D;b[0]=G*ra+D*Ia;b[1]=G*oa+D*a;b[2]=G*Aa+D*c;b[3]=G*f+D*B;return b}function O(b){var f=L.RANDOM,B=f();const D=f();
f=f();const ra=Math.sqrt(1-B);B=Math.sqrt(B);b[0]=ra*Math.sin(2*Math.PI*D);b[1]=ra*Math.cos(2*Math.PI*D);b[2]=B*Math.sin(2*Math.PI*f);b[3]=B*Math.cos(2*Math.PI*f);return b}function ba(b,f){const B=f[0],D=f[1],ra=f[2];f=f[3];var oa=B*B+D*D+ra*ra+f*f;oa=oa?1/oa:0;b[0]=-B*oa;b[1]=-D*oa;b[2]=-ra*oa;b[3]=f*oa;return b}function W(b,f){b[0]=-f[0];b[1]=-f[1];b[2]=-f[2];b[3]=f[3];return b}function H(b,f){var B=f[0]+f[4]+f[8];if(0<B)B=Math.sqrt(B+1),b[3]=.5*B,B=.5/B,b[0]=(f[5]-f[7])*B,b[1]=(f[6]-f[2])*B,b[2]=
(f[1]-f[3])*B;else{let D=0;f[4]>f[0]&&(D=1);f[8]>f[3*D+D]&&(D=2);const ra=(D+1)%3,oa=(D+2)%3;B=Math.sqrt(f[3*D+D]-f[3*ra+ra]-f[3*oa+oa]+1);b[D]=.5*B;B=.5/B;b[3]=(f[3*ra+oa]-f[3*oa+ra])*B;b[ra]=(f[3*ra+D]+f[3*D+ra])*B;b[oa]=(f[3*oa+D]+f[3*D+oa])*B}return b}function J(b,f,B,D){var ra=.5*Math.PI/180;f*=ra;B*=ra;D*=ra;ra=Math.sin(f);f=Math.cos(f);const oa=Math.sin(B);B=Math.cos(B);const Aa=Math.sin(D);D=Math.cos(D);b[0]=ra*B*D-f*oa*Aa;b[1]=f*oa*D+ra*B*Aa;b[2]=f*B*Aa-ra*oa*D;b[3]=f*B*D+ra*oa*Aa;return b}
function K(b){return"quat("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"}function U(b,f,B){const D=u.dot(f,B);if(-.999999>D)return u.cross(M,pa,f),1E-6>u.len(M)&&u.cross(M,z,f),u.normalize(M,M),I(b,M,Math.PI),b;if(.999999<D)return b[0]=0,b[1]=0,b[2]=0,b[3]=1,b;u.cross(M,f,B);b[0]=M[0];b[1]=M[1];b[2]=M[2];b[3]=1+D;return g(b,b)}function E(b,f,B,D,ra,oa){F(t,f,ra,oa);F(e,B,D,oa);F(b,t,e,2*oa*(1-oa));return b}function y(b,f,B,D){const ra=N;ra[0]=B[0];ra[3]=B[1];ra[6]=B[2];ra[1]=D[0];ra[4]=D[1];ra[7]=D[2];
ra[2]=-f[0];ra[5]=-f[1];ra[8]=-f[2];return g(b,H(b,ra))}const R=m.copy,v=m.set,C=m.add,P=m.scale,Z=m.dot,ia=m.lerp,sa=m.length,ta=m.squaredLength,g=m.normalize,n=m.exactEquals;m=m.equals;const M=aa.create(),pa=aa.fromValues(1,0,0),z=aa.fromValues(0,1,0),t=V.create(),e=V.create(),N=d.create();d=Object.freeze(Object.defineProperty({__proto__:null,add:C,calculateW:fa,conjugate:W,copy:R,dot:Z,equals:m,exactEquals:n,fromEuler:J,fromMat3:H,getAxisAngle:X,identity:r,invert:ba,len:sa,length:sa,lerp:ia,mul:ca,
multiply:ca,normalize:g,random:O,rotateX:ma,rotateY:ha,rotateZ:da,rotationTo:U,scale:P,set:v,setAxes:y,setAxisAngle:I,slerp:F,sqlerp:E,sqrLen:ta,squaredLength:ta,str:K},Symbol.toStringTag,{value:"Module"}));l.add=C;l.calculateW=fa;l.conjugate=W;l.copy=R;l.dot=Z;l.equals=m;l.exactEquals=n;l.fromEuler=J;l.fromMat3=H;l.getAxisAngle=X;l.identity=r;l.invert=ba;l.len=sa;l.length=sa;l.lerp=ia;l.mul=ca;l.multiply=ca;l.normalize=g;l.quat=d;l.random=O;l.rotateX=ma;l.rotateY=ha;l.rotateZ=da;l.rotationTo=U;l.scale=
P;l.set=v;l.setAxes=y;l.setAxisAngle=I;l.slerp=F;l.sqlerp=E;l.sqrLen=ta;l.squaredLength=ta;l.str=K})},"esri/chunks/quatf64":function(){define(["exports"],function(l){function d(){return[0,0,0,1]}function V(r){return[r[0],r[1],r[2],r[3]]}function aa(r,I,X,ca){return[r,I,X,ca]}function L(r,I){return new Float64Array(r,I,4)}const u=d(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:V,create:d,createView:L,fromValues:aa},Symbol.toStringTag,{value:"Module"}));l.IDENTITY=u;l.clone=
V;l.create=d;l.createView=L;l.fromValues=aa;l.quatf64=m})},"esri/geometry/support/axisAngleDegrees":function(){define(["exports","../../core/mathUtils","../../chunks/quat","../../chunks/quatf64","../../chunks/vec3"],function(l,d,V,aa,L){function u(da=X){return[da[0],da[1],da[2],da[3]]}function m(da,fa,F,O,ba=u()){ba[0]=da;ba[1]=fa;ba[2]=F;ba[3]=O;return ba}function r(da){return d.deg2rad(da[3])}function I(da,fa){da[3]=fa;return da}const X=[0,0,1,0],ca=aa.create(),ma=aa.create(),ha=u();l.UP=X;l.angle=
function(da){return da[3]};l.angleRad=r;l.axis=function(da){return da};l.compose=function(da,fa,F=u()){V.setAxisAngle(ca,da,r(da));V.setAxisAngle(ma,fa,r(fa));V.multiply(ca,ma,ca);return I(F,d.rad2deg(V.getAxisAngle(F,ca)))};l.copy=function(da,fa=u()){return m(da[0],da[1],da[2],da[3],fa)};l.create=u;l.fromAxisAndAngle=function(da,fa,F=u()){L.copy(F,da);F[3]=fa;return F};l.fromPoints=function(da,fa,F=u()){L.cross(F,da,fa);L.normalize(F,F);F[3]=-L.angle(da,fa);return F};l.fromValues=m;l.setAngle=I;
l.wrap=function(da,fa,F,O){return m(da,fa,F,O,ha)};l.wrapAxisAngle=function(da,fa){return m(da[0],da[1],da[2],fa,ha)};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/DoubleArray":function(){define(["exports","../../core/typedArrayUtil"],function(l,d){l.doubleArrayFrom=function(V){return(d.isArray(V)?V.length:V.byteLength/8)<=d.NATIVE_ARRAY_MAX_SIZE?Array.from(V):new Float64Array(V)};l.doubleSubArray=function(V,aa,L){return Array.isArray(V)?V.slice(aa,aa+L):V.subarray(aa,
aa+L)};l.newDoubleArray=function(V,aa=!1){return V<=d.NATIVE_ARRAY_MAX_SIZE?aa?Array(V).fill(0):Array(V):new Float64Array(V)};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../geometry/support/buffer/math/common"],function(l,d){function V(ha,da,fa){aa(ha.typedBuffer,da.typedBuffer,fa,ha.typedBufferStride,da.typedBufferStride)}function aa(ha,da,fa,F=3,O=F){if(ha.length/F!==Math.ceil(da.length/O))return d.mathLogger.error("source and destination buffers need to have the same number of elements"),
ha;const ba=ha.length/F,W=fa[0],H=fa[1],J=fa[2],K=fa[4],U=fa[5],E=fa[6],y=fa[8],R=fa[9],v=fa[10],C=fa[12],P=fa[13];fa=fa[14];let Z=0,ia=0;for(let sa=0;sa<ba;sa++){const ta=da[Z],g=da[Z+1],n=da[Z+2];ha[ia]=W*ta+K*g+y*n+C;ha[ia+1]=H*ta+U*g+R*n+P;ha[ia+2]=J*ta+E*g+v*n+fa;Z+=O;ia+=F}return ha}function L(ha,da,fa){u(ha.typedBuffer,da.typedBuffer,fa,ha.typedBufferStride,da.typedBufferStride)}function u(ha,da,fa,F=3,O=F){if(ha.length/F!==Math.ceil(da.length/O))d.mathLogger.error("source and destination buffers need to have the same number of elements");
else{var ba=ha.length/F,W=fa[0],H=fa[1],J=fa[2],K=fa[3],U=fa[4],E=fa[5],y=fa[6],R=fa[7];fa=fa[8];var v=0,C=0;for(let P=0;P<ba;P++){const Z=da[v],ia=da[v+1],sa=da[v+2];ha[C]=W*Z+K*ia+y*sa;ha[C+1]=H*Z+U*ia+R*sa;ha[C+2]=J*Z+E*ia+fa*sa;v+=O;C+=F}}}function m(ha,da,fa){r(ha.typedBuffer,da,fa,ha.typedBufferStride)}function r(ha,da,fa,F=3){const O=Math.min(ha.length/F,da.count),ba=da.typedBuffer;da=da.typedBufferStride;let W=0,H=0;for(let J=0;J<O;J++)ha[H]=fa*ba[W],ha[H+1]=fa*ba[W+1],ha[H+2]=fa*ba[W+2],
W+=da,H+=F}function I(ha,da){X(ha.typedBuffer,da.typedBuffer,ha.typedBufferStride,da.typedBufferStride)}function X(ha,da,fa=3,F=fa){const O=Math.min(ha.length/fa,da.length/F);let ba=0,W=0;for(let J=0;J<O;J++){const K=da[ba],U=da[ba+1],E=da[ba+2];var H=K*K+U*U+E*E;0<H&&(H=1/Math.sqrt(H),ha[W]=H*K,ha[W+1]=H*U,ha[W+2]=H*E);ba+=F;W+=fa}}function ca(ha,da,fa){const F=Math.min(ha.count,da.count),O=ha.typedBuffer;ha=ha.typedBufferStride;const ba=da.typedBuffer;da=da.typedBufferStride;let W=0,H=0;for(let J=
0;J<F;J++)O[H]=ba[W]>>fa,O[H+1]=ba[W+1]>>fa,O[H+2]=ba[W+2]>>fa,W+=da,H+=ha}const ma=Object.freeze(Object.defineProperty({__proto__:null,normalize:X,normalizeView:I,scale:r,scaleView:m,shiftRight:ca,transformMat3:u,transformMat3View:L,transformMat4:aa,transformMat4View:V},Symbol.toStringTag,{value:"Module"}));l.normalize=X;l.normalizeView=I;l.scale=r;l.scaleView=m;l.shiftRight=ca;l.transformMat3=u;l.transformMat3View=L;l.transformMat4=aa;l.transformMat4View=V;l.vec3=ma})},"esri/geometry/support/buffer/math/common":function(){define(["exports",
"../../../../core/Logger"],function(l,d){d=d.getLogger("esri.views.3d.support.buffer.math");l.mathLogger=d;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/geographicUtils":function(){define(["exports"],function(l){l.isGeographicMesh=function(d,V){return d.isGeographic||d.isWebMercator&&(V?.geographic??!0)};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/projection":function(){define("exports ../../../core/Logger ../../../chunks/mat3 ../../../chunks/mat3f64 ../../../chunks/mat4f64 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../projection ../../spatialReferenceEllipsoidUtils ../spatialReferenceUtils ../webMercatorUtils ../buffer/BufferView ../../../chunks/vec32".split(" "),
function(l,d,V,aa,L,u,m,r,I,X,ca,ma,ha){function da(U,E,y,R,v,C){if(E){var P=y.count,Z=I.getSphericalPCPF(v);if(F(v))for(y=0;y<P;y++)R.getVec(y,W),E.getVec(y,H),r.computeTranslationToOriginAndRotation(Z,W,J,Z),V.fromMat4(K,J),U===ba.FROM_PCPF&&V.transpose(K,K),u.transformMat3(H,H,K),C.setVec(y,H);else for(v=0;v<P;v++){R.getVec(v,W);E.getVec(v,H);r.computeTranslationToOriginAndRotation(Z,W,J,Z);V.fromMat4(K,J);var ia=ca.y2lat(y.get(v,1));ia=Math.cos(ia);U===ba.TO_PCPF&&(ia=1/ia);K[0]*=ia;K[1]*=ia;
K[2]*=ia;K[3]*=ia;K[4]*=ia;K[5]*=ia;U===ba.FROM_PCPF&&V.transpose(K,K);u.transformMat3(H,H,K);u.normalize(H,H);C.setVec(v,H)}return C}}function fa(U){return F(U)||U.isWebMercator}function F(U){return U.isWGS84||X.isCGCS2000(U)||X.isMars(U)||X.isMoon(U)}const O=d.getLogger("esri.geometry.support.meshUtils.normalProjection");var ba;(function(U){U[U.TO_PCPF=0]="TO_PCPF";U[U.FROM_PCPF=1]="FROM_PCPF"})(ba||(ba={}));const W=m.create(),H=m.create(),J=L.create(),K=aa.create();l.projectFromPCPF=function(U,
E,y){r.projectBuffer(U,I.getSphericalPCPF(y),0,E,y,0,U.length/3);return E};l.projectNormalFromPCPF=function(U,E,y,R,v){if(!fa(R))return O.error("Cannot convert to spatial reference from PCPF"),v;da(ba.FROM_PCPF,ma.BufferViewVec3f.fromTypedArray(U),ma.BufferViewVec3f64.fromTypedArray(E),ma.BufferViewVec3f64.fromTypedArray(y),R,ma.BufferViewVec3f.fromTypedArray(v));return v};l.projectNormalToPCPF=function(U,E,y,R,v){if(!fa(R))return O.error("Cannot convert spatial reference to PCPF"),v;da(ba.TO_PCPF,
ma.BufferViewVec3f.fromTypedArray(U),ma.BufferViewVec3f64.fromTypedArray(E),ma.BufferViewVec3f64.fromTypedArray(y),R,ma.BufferViewVec3f.fromTypedArray(v));return v};l.projectTangentFromPCPF=function(U,E,y,R,v){if(!fa(R))return O.error("Cannot convert to spatial reference from PCPF"),v;da(ba.FROM_PCPF,ma.BufferViewVec3f.fromTypedArray(U,16),ma.BufferViewVec3f64.fromTypedArray(E),ma.BufferViewVec3f64.fromTypedArray(y),R,ma.BufferViewVec3f.fromTypedArray(v,16));for(E=3;E<U.length;E+=4)v[E]=U[E];return v};
l.projectTangentToPCPF=function(U,E,y,R,v){if(!fa(R))return O.error("Cannot convert spatial reference to PCPF"),v;da(ba.TO_PCPF,ma.BufferViewVec3f.fromTypedArray(U,4*Float32Array.BYTES_PER_ELEMENT),ma.BufferViewVec3f64.fromTypedArray(E),ma.BufferViewVec3f64.fromTypedArray(y),R,ma.BufferViewVec3f.fromTypedArray(v,4*Float32Array.BYTES_PER_ELEMENT));for(E=3;E<U.length;E+=4)v[E]=U[E];return v};l.projectToPCPF=function(U,E,y){r.projectBuffer(U,E,0,y,I.getSphericalPCPF(E),0,U.length/3);return y};l.transformNormal=
function(U,E,y){V.normalFromMat4(K,y);ha.transformMat3(E,U,K);V.isOrthoNormal(K)||ha.normalize(E,E);return E};l.transformTangent=function(U,E,y){V.normalFromMat4(K,y);ha.transformMat3(E,U,K,4);V.isOrthoNormal(K)||ha.normalize(E,E,4);if(U!==E)for(y=3;y<U.length;y+=4)E[y]=U[y];return E};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),
function(l,d,V,aa,L,u,m,r){let I=function(t){function e(b,f=0,B,D){b=N.call(this,Float32Array,b,f,B,D);b.elementType="f32";return b}d._inherits(e,t);var N=d._createSuper(e);e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(L.BufferViewScalarImpl);I.ElementType="f32";let X=function(t){function e(b,f=0,B,D){b=N.call(this,Float32Array,b,f,B,D);b.elementType="f32";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=
function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(u.BufferViewVec2Impl);X.ElementType="f32";let ca=function(t){function e(b,f=0,B,D){b=N.call(this,Float32Array,b,f,B,D);b.elementType="f32";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+
b.byteLength)};return d._createClass(e)}(m.BufferViewVec3Impl);ca.ElementType="f32";let ma=function(t){function e(b,f=0,B,D){b=N.call(this,Float32Array,b,f,B,D);b.elementType="f32";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(r.BufferViewVec4Impl);ma.ElementType="f32";let ha=function(t){function e(b,f=0,B,D){b=
N.call(this,Float32Array,b,f,B,D);b.elementType="f32";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(V.BufferViewMat3Impl);ha.ElementType="f32";V=function(t){function e(b,f=0,B,D){b=N.call(this,Float64Array,b,f,B,D);b.elementType="f64";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,
f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(V.BufferViewMat3Impl);V.ElementType="f64";let da=function(t){function e(b,f=0,B,D){b=N.call(this,Float32Array,b,f,B,D);b.elementType="f32";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};
return d._createClass(e)}(aa.BufferViewMat4Impl);da.ElementType="f32";aa=function(t){function e(b,f=0,B,D){b=N.call(this,Float64Array,b,f,B,D);b.elementType="f64";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(aa.BufferViewMat4Impl);aa.ElementType="f64";let fa=function(t){function e(b,f=0,B,D){b=N.call(this,Float64Array,
b,f,B,D);b.elementType="f64";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(L.BufferViewScalarImpl);fa.ElementType="f64";let F=function(t){function e(b,f=0,B,D){b=N.call(this,Float64Array,b,f,B,D);b.elementType="f64";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,
b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(u.BufferViewVec2Impl);F.ElementType="f64";let O=function(t){function e(b,f=0,B,D){b=N.call(this,Float64Array,b,f,B,D);b.elementType="f64";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(m.BufferViewVec3Impl);
O.ElementType="f64";let ba=function(t){function e(b,f=0,B,D){b=N.call(this,Float64Array,b,f,B,D);b.elementType="f64";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(r.BufferViewVec4Impl);ba.ElementType="f64";let W=function(t){function e(b,f=0,B,D){b=N.call(this,Uint8Array,b,f,B,D);b.elementType="u8";return b}d._inherits(e,
t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(L.BufferViewScalarImpl);W.ElementType="u8";let H=function(t){function e(b,f=0,B,D){b=N.call(this,Uint8Array,b,f,B,D);b.elementType="u8";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,
b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(u.BufferViewVec2Impl);H.ElementType="u8";let J=function(t){function e(b,f=0,B,D){b=N.call(this,Uint8Array,b,f,B,D);b.elementType="u8";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(m.BufferViewVec3Impl);J.ElementType="u8";let K=function(t){function e(b,
f=0,B,D){b=N.call(this,Uint8Array,b,f,B,D);b.elementType="u8";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(r.BufferViewVec4Impl);K.ElementType="u8";let U=function(t){function e(b,f=0,B,D){b=N.call(this,Uint16Array,b,f,B,D);b.elementType="u16";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=
function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(L.BufferViewScalarImpl);U.ElementType="u16";let E=function(t){function e(b,f=0,B,D){b=N.call(this,Uint16Array,b,f,B,D);b.elementType="u16";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+
b.byteLength)};return d._createClass(e)}(u.BufferViewVec2Impl);E.ElementType="u16";let y=function(t){function e(b,f=0,B,D){b=N.call(this,Uint16Array,b,f,B,D);b.elementType="u16";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(m.BufferViewVec3Impl);y.ElementType="u16";let R=function(t){function e(b,f=0,B,D){b=N.call(this,
Uint16Array,b,f,B,D);b.elementType="u16";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(r.BufferViewVec4Impl);R.ElementType="u16";let v=function(t){function e(b,f=0,B,D){b=N.call(this,Uint32Array,b,f,B,D);b.elementType="u32";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,
b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(L.BufferViewScalarImpl);v.ElementType="u32";let C=function(t){function e(b,f=0,B,D){b=N.call(this,Uint32Array,b,f,B,D);b.elementType="u32";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(u.BufferViewVec2Impl);
C.ElementType="u32";let P=function(t){function e(b,f=0,B,D){b=N.call(this,Uint32Array,b,f,B,D);b.elementType="u32";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(m.BufferViewVec3Impl);P.ElementType="u32";let Z=function(t){function e(b,f=0,B,D){b=N.call(this,Uint32Array,b,f,B,D);b.elementType="u32";return b}d._inherits(e,
t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(r.BufferViewVec4Impl);Z.ElementType="u32";let ia=function(t){function e(b,f=0,B,D){b=N.call(this,Int8Array,b,f,B,D);b.elementType="i8";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,
b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(L.BufferViewScalarImpl);ia.ElementType="i8";let sa=function(t){function e(b,f=0,B,D){b=N.call(this,Int8Array,b,f,B,D);b.elementType="i8";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(u.BufferViewVec2Impl);sa.ElementType="i8";let ta=function(t){function e(b,
f=0,B,D){b=N.call(this,Int8Array,b,f,B,D);b.elementType="i8";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(m.BufferViewVec3Impl);ta.ElementType="i8";let g=function(t){function e(b,f=0,B,D){b=N.call(this,Int8Array,b,f,B,D);b.elementType="i8";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,
f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(r.BufferViewVec4Impl);g.ElementType="i8";let n=function(t){function e(b,f=0,B,D){b=N.call(this,Int16Array,b,f,B,D);b.elementType="i16";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};
return d._createClass(e)}(L.BufferViewScalarImpl);n.ElementType="i16";let M=function(t){function e(b,f=0,B,D){b=N.call(this,Int16Array,b,f,B,D);b.elementType="i16";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(u.BufferViewVec2Impl);M.ElementType="i16";let pa=function(t){function e(b,f=0,B,D){b=N.call(this,Int16Array,
b,f,B,D);b.elementType="i16";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(m.BufferViewVec3Impl);pa.ElementType="i16";let z=function(t){function e(b,f=0,B,D){b=N.call(this,Int16Array,b,f,B,D);b.elementType="i16";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,
b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(r.BufferViewVec4Impl);z.ElementType="i16";L=function(t){function e(b,f=0,B,D){b=N.call(this,Int32Array,b,f,B,D);b.elementType="i32";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(L.BufferViewScalarImpl);
L.ElementType="i32";u=function(t){function e(b,f=0,B,D){b=N.call(this,Int32Array,b,f,B,D);b.elementType="i32";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(u.BufferViewVec2Impl);u.ElementType="i32";m=function(t){function e(b,f=0,B,D){b=N.call(this,Int32Array,b,f,B,D);b.elementType="i32";return b}d._inherits(e,
t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(m.BufferViewVec3Impl);m.ElementType="i32";r=function(t){function e(b,f=0,B,D){b=N.call(this,Int32Array,b,f,B,D);b.elementType="i32";return b}d._inherits(e,t);var N=d._createSuper(e);e.prototype.slice=function(b,f){return this.sliceBuffer(e,b,f)};e.fromTypedArray=function(b,f){return new e(b.buffer,
b.byteOffset,f,b.byteOffset+b.byteLength)};return d._createClass(e)}(r.BufferViewVec4Impl);r.ElementType="i32";l.BufferViewFloat=I;l.BufferViewFloat64=fa;l.BufferViewInt16=n;l.BufferViewInt32=L;l.BufferViewInt8=ia;l.BufferViewMat3f=ha;l.BufferViewMat3f64=V;l.BufferViewMat4f=da;l.BufferViewMat4f64=aa;l.BufferViewUint16=U;l.BufferViewUint32=v;l.BufferViewUint8=W;l.BufferViewVec2f=X;l.BufferViewVec2f64=F;l.BufferViewVec2i16=M;l.BufferViewVec2i32=u;l.BufferViewVec2i8=sa;l.BufferViewVec2u16=E;l.BufferViewVec2u32=
C;l.BufferViewVec2u8=H;l.BufferViewVec3f=ca;l.BufferViewVec3f64=O;l.BufferViewVec3i16=pa;l.BufferViewVec3i32=m;l.BufferViewVec3i8=ta;l.BufferViewVec3u16=y;l.BufferViewVec3u32=P;l.BufferViewVec3u8=J;l.BufferViewVec4f=ma;l.BufferViewVec4f64=ba;l.BufferViewVec4i16=z;l.BufferViewVec4i32=r;l.BufferViewVec4i8=g;l.BufferViewVec4u16=R;l.BufferViewVec4u32=Z;l.BufferViewVec4u8=K;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports",
"../../../../chunks/_rollupPluginBabelHelpers"],function(l,d){let V=function(){function aa(u,m,r=0,I,X){this.TypedArrayConstructor=u;this.elementCount=9;u=this.TypedArrayConstructor;void 0===I&&(I=9*u.BYTES_PER_ELEMENT);const ca=0===m.byteLength?0:r;this.typedBuffer=null==X?new u(m,ca):new u(m,ca,(X-r)/u.BYTES_PER_ELEMENT);this.typedBufferStride=I/u.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}
var L=aa.prototype;L.sliceBuffer=function(u,m,r=this.count-m){m=this.typedBuffer.byteOffset+m*this.stride;return new u(this.buffer,m,this.stride,m+r*this.stride)};L.getMat=function(u,m){u*=this.typedBufferStride;for(let r=0;9>r;r++)m[r]=this.typedBuffer[u++];return m};L.setMat=function(u,m){u*=this.typedBufferStride;for(let r=0;9>r;r++)this.typedBuffer[u++]=m[r]};L.get=function(u,m){return this.typedBuffer[u*this.typedBufferStride+m]};L.set=function(u,m,r){this.typedBuffer[u*this.typedBufferStride+
m]=r};L.copyFrom=function(u,m,r){const I=this.typedBuffer,X=m.typedBuffer;u*=this.typedBufferStride;m=r*m.typedBufferStride;for(r=0;9>r;++r)I[u++]=X[m++]};d._createClass(aa,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return aa}();V.ElementCount=9;l.BufferViewMat3Impl=V;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(l,d){let V=function(){function aa(u,
m,r=0,I,X){this.TypedArrayConstructor=u;this.elementCount=16;u=this.TypedArrayConstructor;void 0===I&&(I=16*u.BYTES_PER_ELEMENT);const ca=0===m.byteLength?0:r;this.typedBuffer=null==X?new u(m,ca):new u(m,ca,(X-r)/u.BYTES_PER_ELEMENT);this.typedBufferStride=I/u.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var L=aa.prototype;L.sliceBuffer=function(u,m,r=this.count-m){m=this.typedBuffer.byteOffset+
m*this.stride;return new u(this.buffer,m,this.stride,m+r*this.stride)};L.getMat=function(u,m){u*=this.typedBufferStride;for(let r=0;16>r;r++)m[r]=this.typedBuffer[u++];return m};L.setMat=function(u,m){u*=this.typedBufferStride;for(let r=0;16>r;r++)this.typedBuffer[u++]=m[r]};L.get=function(u,m){return this.typedBuffer[u*this.typedBufferStride+m]};L.set=function(u,m,r){this.typedBuffer[u*this.typedBufferStride+m]=r};L.copyFrom=function(u,m,r){const I=this.typedBuffer,X=m.typedBuffer;u*=this.typedBufferStride;
m=r*m.typedBufferStride;for(r=0;16>r;++r)I[u++]=X[m++]};d._createClass(aa,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return aa}();V.ElementCount=16;l.BufferViewMat4Impl=V;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(l,d){let V=function(){function aa(u,m,r=0,I,X){this.TypedArrayConstructor=u;this.elementCount=1;u=this.TypedArrayConstructor;
void 0===I&&(I=u.BYTES_PER_ELEMENT);const ca=0===m.byteLength?0:r;this.typedBuffer=null==X?new u(m,ca):new u(m,ca,(X-r)/u.BYTES_PER_ELEMENT);this.stride=I;this.typedBufferStride=I/u.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}var L=aa.prototype;L.sliceBuffer=function(u,m,r=this.count-m){m=this.typedBuffer.byteOffset+m*this.stride;return new u(this.buffer,m,this.stride,m+r*this.stride)};L.get=function(u){return this.typedBuffer[u*this.typedBufferStride]};
L.set=function(u,m){this.typedBuffer[u*this.typedBufferStride]=m};d._createClass(aa,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return aa}();V.ElementCount=1;l.BufferViewScalarImpl=V;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec2"],function(l,d,V){let aa=function(){function L(m,r,I=0,X,ca){this.TypedArrayConstructor=
m;this.elementCount=2;m=this.TypedArrayConstructor;void 0===X&&(X=2*m.BYTES_PER_ELEMENT);const ma=0===r.byteLength?0:I;this.typedBuffer=null==ca?new m(r,ma):new m(r,ma,(ca-I)/m.BYTES_PER_ELEMENT);this.typedBufferStride=X/m.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var u=L.prototype;u.sliceBuffer=function(m,r,I=this.count-r){r=this.typedBuffer.byteOffset+r*this.stride;return new m(this.buffer,
r,this.stride,r+I*this.stride)};u.getVec=function(m,r){m*=this.typedBufferStride;return V.set(r,this.typedBuffer[m],this.typedBuffer[m+1])};u.setVec=function(m,r){m*=this.typedBufferStride;this.typedBuffer[m++]=r[0];this.typedBuffer[m]=r[1]};u.get=function(m,r){return this.typedBuffer[m*this.typedBufferStride+r]};u.set=function(m,r,I){this.typedBuffer[m*this.typedBufferStride+r]=I};u.setValues=function(m,r,I){m*=this.typedBufferStride;this.typedBuffer[m++]=r;this.typedBuffer[m]=I};u.copyFrom=function(m,
r,I){const X=this.typedBuffer,ca=r.typedBuffer;m*=this.typedBufferStride;r=I*r.typedBufferStride;X[m++]=ca[r++];X[m]=ca[r]};d._createClass(L,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return L}();aa.ElementCount=2;l.BufferViewVec2Impl=aa;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec2":function(){define(["exports","./common"],function(l,d){function V(z,t){z[0]=t[0];z[1]=t[1];return z}function aa(z,t,e){z[0]=t;z[1]=e;return z}function L(z,t,e){z[0]=
t[0]+e[0];z[1]=t[1]+e[1];return z}function u(z,t,e){z[0]=t[0]-e[0];z[1]=t[1]-e[1];return z}function m(z,t,e){z[0]=t[0]*e[0];z[1]=t[1]*e[1];return z}function r(z,t,e){z[0]=t[0]/e[0];z[1]=t[1]/e[1];return z}function I(z,t){z[0]=Math.ceil(t[0]);z[1]=Math.ceil(t[1]);return z}function X(z,t){z[0]=Math.floor(t[0]);z[1]=Math.floor(t[1]);return z}function ca(z,t,e){z[0]=Math.min(t[0],e[0]);z[1]=Math.min(t[1],e[1]);return z}function ma(z,t,e){z[0]=Math.max(t[0],e[0]);z[1]=Math.max(t[1],e[1]);return z}function ha(z,
t){z[0]=Math.round(t[0]);z[1]=Math.round(t[1]);return z}function da(z,t,e){z[0]=t[0]*e;z[1]=t[1]*e;return z}function fa(z,t,e,N){z[0]=t[0]+e[0]*N;z[1]=t[1]+e[1]*N;return z}function F(z,t){const e=t[0]-z[0];z=t[1]-z[1];return Math.sqrt(e*e+z*z)}function O(z,t){const e=t[0]-z[0];z=t[1]-z[1];return e*e+z*z}function ba(z){const t=z[0];z=z[1];return Math.sqrt(t*t+z*z)}function W(z){const t=z[0];z=z[1];return t*t+z*z}function H(z,t){z[0]=-t[0];z[1]=-t[1];return z}function J(z,t){z[0]=1/t[0];z[1]=1/t[1];
return z}function K(z,t){var e=t[0];const N=t[1];e=e*e+N*N;0<e&&(e=1/Math.sqrt(e),z[0]=t[0]*e,z[1]=t[1]*e);return z}function U(z,t){return z[0]*t[0]+z[1]*t[1]}function E(z,t,e){t=t[0]*e[1]-t[1]*e[0];z[0]=z[1]=0;z[2]=t;return z}function y(z,t,e,N){const b=t[0];t=t[1];z[0]=b+N*(e[0]-b);z[1]=t+N*(e[1]-t);return z}function R(z,t){t=t||1;const e=2*d.RANDOM()*Math.PI;z[0]=Math.cos(e)*t;z[1]=Math.sin(e)*t;return z}function v(z,t,e){const N=t[0];t=t[1];z[0]=e[0]*N+e[2]*t;z[1]=e[1]*N+e[3]*t;return z}function C(z,
t,e){const N=t[0];t=t[1];z[0]=e[0]*N+e[2]*t+e[4];z[1]=e[1]*N+e[3]*t+e[5];return z}function P(z,t,e){const N=t[0];t=t[1];z[0]=e[0]*N+e[3]*t+e[6];z[1]=e[1]*N+e[4]*t+e[7];return z}function Z(z,t,e){const N=t[0];t=t[1];z[0]=e[0]*N+e[4]*t+e[12];z[1]=e[1]*N+e[5]*t+e[13];return z}function ia(z,t,e,N){const b=t[0]-e[0];t=t[1]-e[1];const f=Math.sin(N);N=Math.cos(N);z[0]=b*N-t*f+e[0];z[1]=b*f+t*N+e[1];return z}function sa(z,t){var e=z[0];z=z[1];const N=t[0];t=t[1];let b=e*e+z*z;0<b&&(b=1/Math.sqrt(b));let f=
N*N+t*t;0<f&&(f=1/Math.sqrt(f));e=(e*N+z*t)*b*f;return 1<e?0:-1>e?Math.PI:Math.acos(e)}function ta(z){return"vec2("+z[0]+", "+z[1]+")"}function g(z,t){return z[0]===t[0]&&z[1]===t[1]}function n(z,t){const e=z[0];z=z[1];const N=t[0];t=t[1];const b=d.getEpsilon();return Math.abs(e-N)<=b*Math.max(1,Math.abs(e),Math.abs(N))&&Math.abs(z-t)<=b*Math.max(1,Math.abs(z),Math.abs(t))}function M(z,t,e,N,b){let f=t[0]-e[0];e=t[1]-e[1];b=(N[0]*f+N[1]*e)*(b-1);f=N[0]*b;e=N[1]*b;z[0]=t[0]+f;z[1]=t[1]+e;return z}
const pa=Object.freeze(Object.defineProperty({__proto__:null,add:L,angle:sa,ceil:I,copy:V,cross:E,dist:F,distance:F,div:r,divide:r,dot:U,equals:n,exactEquals:g,floor:X,inverse:J,len:ba,length:ba,lerp:y,max:ma,min:ca,mul:m,multiply:m,negate:H,normalize:K,projectAndScale:M,random:R,rotate:ia,round:ha,scale:da,scaleAndAdd:fa,set:aa,sqrDist:O,sqrLen:W,squaredDistance:O,squaredLength:W,str:ta,sub:u,subtract:u,transformMat2:v,transformMat2d:C,transformMat3:P,transformMat4:Z},Symbol.toStringTag,{value:"Module"}));
l.add=L;l.angle=sa;l.ceil=I;l.copy=V;l.cross=E;l.dist=F;l.distance=F;l.div=r;l.divide=r;l.dot=U;l.equals=n;l.exactEquals=g;l.floor=X;l.inverse=J;l.len=ba;l.length=ba;l.lerp=y;l.max=ma;l.min=ca;l.mul=m;l.multiply=m;l.negate=H;l.normalize=K;l.projectAndScale=M;l.random=R;l.rotate=ia;l.round=ha;l.scale=da;l.scaleAndAdd=fa;l.set=aa;l.sqrDist=O;l.sqrLen=W;l.squaredDistance=O;l.squaredLength=W;l.str=ta;l.sub=u;l.subtract=u;l.transformMat2=v;l.transformMat2d=C;l.transformMat3=P;l.transformMat4=Z;l.vec2=
pa})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec3"],function(l,d,V){let aa=function(){function L(m,r,I=0,X,ca){this.TypedArrayConstructor=m;this.elementCount=3;m=this.TypedArrayConstructor;void 0===X&&(X=3*m.BYTES_PER_ELEMENT);const ma=0===r.byteLength?0:I;this.typedBuffer=null==ca?new m(r,ma):new m(r,ma,(ca-I)/m.BYTES_PER_ELEMENT);this.typedBufferStride=X/m.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/
this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var u=L.prototype;u.sliceBuffer=function(m,r,I=this.count-r){r=this.typedBuffer.byteOffset+r*this.stride;return new m(this.buffer,r,this.stride,r+I*this.stride)};u.getVec=function(m,r){m*=this.typedBufferStride;return V.set(r,this.typedBuffer[m],this.typedBuffer[m+1],this.typedBuffer[m+2])};u.setVec=function(m,r){m*=this.typedBufferStride;this.typedBuffer[m++]=r[0];this.typedBuffer[m++]=r[1];this.typedBuffer[m]=
r[2]};u.get=function(m,r){return this.typedBuffer[m*this.typedBufferStride+r]};u.set=function(m,r,I){this.typedBuffer[m*this.typedBufferStride+r]=I};u.setValues=function(m,r,I,X){m*=this.typedBufferStride;this.typedBuffer[m++]=r;this.typedBuffer[m++]=I;this.typedBuffer[m]=X};u.copyFrom=function(m,r,I){const X=this.typedBuffer,ca=r.typedBuffer;m*=this.typedBufferStride;r=I*r.typedBufferStride;X[m++]=ca[r++];X[m++]=ca[r++];X[m]=ca[r]};d._createClass(L,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);
return L}();aa.ElementCount=3;l.BufferViewVec3Impl=aa;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec4"],function(l,d,V){let aa=function(){function L(m,r,I=0,X,ca){this.TypedArrayConstructor=m;this.start=I;this.elementCount=4;m=this.TypedArrayConstructor;void 0===X&&(X=4*m.BYTES_PER_ELEMENT);const ma=0===r.byteLength?0:I;this.typedBuffer=
null==ca?new m(r,ma):new m(r,ma,(ca-I)/m.BYTES_PER_ELEMENT);this.typedBufferStride=X/m.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var u=L.prototype;u.sliceBuffer=function(m,r,I=this.count-r){r=this.typedBuffer.byteOffset+r*this.stride;return new m(this.buffer,r,this.stride,r+I*this.stride)};u.getVec=function(m,r){m*=this.typedBufferStride;return V.set(r,this.typedBuffer[m++],
this.typedBuffer[m++],this.typedBuffer[m++],this.typedBuffer[m])};u.setVec=function(m,r){m*=this.typedBufferStride;this.typedBuffer[m++]=r[0];this.typedBuffer[m++]=r[1];this.typedBuffer[m++]=r[2];this.typedBuffer[m]=r[3]};u.get=function(m,r){return this.typedBuffer[m*this.typedBufferStride+r]};u.set=function(m,r,I){this.typedBuffer[m*this.typedBufferStride+r]=I};u.setValues=function(m,r,I,X,ca){m*=this.typedBufferStride;this.typedBuffer[m++]=r;this.typedBuffer[m++]=I;this.typedBuffer[m++]=X;this.typedBuffer[m]=
ca};u.copyFrom=function(m,r,I){const X=this.typedBuffer,ca=r.typedBuffer;m*=this.typedBufferStride;r=I*r.typedBufferStride;X[m++]=ca[r++];X[m++]=ca[r++];X[m++]=ca[r++];X[m]=ca[r]};d._createClass(L,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return L}();aa.ElementCount=4;l.BufferViewVec4Impl=aa;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../chunks/_rollupPluginBabelHelpers","../../../core/has","../../../core/maybe","../../../core/libs/rbush/PooledRBush","./georeference"],function(l,d,V,aa,L){function u(m,r,I,X){return{minX:Math.min(m[r],m[I],m[X]),maxX:Math.max(m[r],m[I],m[X]),minY:Math.min(m[r+1],m[I+1],m[X+1]),maxY:Math.max(m[r+1],m[I+1],m[X+1]),p0:[m[r],m[r+1],m[r+2]],p1:[m[I],m[I+1],m[I+2]],p2:[m[X],m[X+1],m[X+2]]}}return function(){function m(){}var r=m.prototype;r.createIndex=async function(I,X){const ca=[];if(!I.vertexAttributes||
!I.vertexAttributes.position)return new aa.PooledRBush;I=this._createMeshData(I);X=V.isSome(X)?await X.invoke("createIndexThread",I,{transferList:ca}):this.createIndexThread(I).result;return this._createPooledRBush().fromJSON(X)};r.createIndexThread=function(I){const X=new Float64Array(I.position),ca=this._createPooledRBush();return I.components?this._createIndexComponentsThread(ca,X,I.components.map(ma=>new Uint32Array(ma))):this._createIndexAllThread(ca,X)};r._createIndexAllThread=function(I,X){const ca=
Array(X.length/9);let ma=0;for(let ha=0;ha<X.length;ha+=9)ca[ma++]=u(X,ha,ha+3,ha+6);I.load(ca);return{result:I.toJSON()}};r._createIndexComponentsThread=function(I,X,ca){var ma=0;for(var ha of ca)ma+=ha.length/3;ma=Array(ma);ha=0;for(const da of ca)for(ca=0;ca<da.length;ca+=3)ma[ha++]=u(X,3*da[ca],3*da[ca+1],3*da[ca+2]);I.load(ma);return{result:I.toJSON()}};r._createMeshData=function(I){const X=(I.transform?L.georeferenceApplyTransform({position:I.vertexAttributes.position,normal:null,tangent:null},
I.transform,I.spatialReference).position:I.vertexAttributes.position).buffer;return!I.components||I.components.some(ca=>!ca.faces)?{position:X}:{position:X,components:I.components.map(ca=>ca.faces)}};r._createPooledRBush=function(){return new aa.PooledRBush(9,d("esri-csp-restrictions")?I=>I:[".minX",".minY",".maxX",".maxY"])};return l._createClass(m)}()});