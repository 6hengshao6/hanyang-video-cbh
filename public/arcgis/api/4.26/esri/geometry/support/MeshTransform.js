// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../chunks/mat4 ../../chunks/mat4f64 ../../chunks/quat ../../chunks/quatf64 ../../chunks/vec3 ../../chunks/vec3f64 ../Point ../projection ../spatialReferenceEllipsoidUtils ./axisAngleDegrees ./DoubleArray ../../chunks/vec32".split(" "),
function(t,d,c,B,f,I,J,K,C,h,n,D,E,u,g,F,x,G,p,v,y){var w;c=w=function(e){function k(a){a=H.call(this,a);a.origin=g.create();a.translation=g.create();a.rotation=p.create();a.scale=g.fromValues(1,1,1);a.geographic=!0;return a}t._inherits(k,e);var H=t._createSuper(k);e=k.prototype;e.applyLocal=function(a,b){return u.transformMat4(b,a,this.localMatrix)};e.applyLocalInverse=function(a,b){return u.transformMat4(b,a,this.localMatrixInverse)};e.project=function(a,b){if(this.geographic){const z=G.getSphericalPCPF(b),
q=n.create();x.computeTranslationToOriginAndRotation(b,this.origin,q,z);h.multiply(q,q,this.localMatrix);const l=v.newDoubleArray(a.length);y.transformMat4(l,a,q);x.projectBuffer(l,z,0,l,b,0,l.length/3);return l}const {localMatrix:r,origin:m}=this;a=h.equals(r,n.IDENTITY)?v.doubleArrayFrom(a):y.transformMat4(v.newDoubleArray(a.length),a,r);for(b=0;b<a.length;b+=3)a[b]+=m[0],a[b+1]+=m[1],a[b+2]+=m[2];return a};e.getOriginPoint=function(a){const [b,r,m]=this.origin;return new F({x:b,y:r,z:m,spatialReference:a})};
e.equals=function(a){return B.isSome(a)&&this.geographic===a.geographic&&u.exactEquals(this.origin,a.origin)&&h.exactEquals(this.localMatrix,a.localMatrix)};e.clone=function(){const a={origin:g.clone(this.origin),translation:g.clone(this.translation),rotation:p.create(this.rotation),scale:g.clone(this.scale),geographic:this.geographic};return new w(a)};t._createClass(k,[{key:"localMatrix",get:function(){const a=n.create();D.setAxisAngle(A,p.axis(this.rotation),p.angleRad(this.rotation));h.fromRotationTranslationScale(a,
A,this.translation,this.scale);return a}},{key:"localMatrixInverse",get:function(){return h.invert(n.create(),this.localMatrix)}}]);return k}(c.JSONSupport);d.__decorate([f.property({type:[Number],nonNullable:!0,json:{write:!0}})],c.prototype,"origin",void 0);d.__decorate([f.property({type:[Number],nonNullable:!0,json:{write:!0}})],c.prototype,"translation",void 0);d.__decorate([f.property({type:[Number],nonNullable:!0,json:{write:!0}})],c.prototype,"rotation",void 0);d.__decorate([f.property({type:[Number],
nonNullable:!0,json:{write:!0}})],c.prototype,"scale",void 0);d.__decorate([f.property({type:Boolean,nonNullable:!0,json:{write:!0}})],c.prototype,"geographic",void 0);d.__decorate([f.property()],c.prototype,"localMatrix",null);d.__decorate([f.property()],c.prototype,"localMatrixInverse",null);c=w=d.__decorate([C.subclass("esri.geometry.support.MeshTransform")],c);const A=E.create();return c});