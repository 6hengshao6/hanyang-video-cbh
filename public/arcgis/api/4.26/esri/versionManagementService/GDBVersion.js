// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/Loadable ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(l,m,e,h,c,p,q,f,v,w,x,r){c=function(b){function k(a){a=t.call(this,a);a._sessionId=null;a.url=null;a.sourceJSON=null;a.id=null;a.description=null;a.creationDate=null;a.access="private";return a}
m._inherits(k,b);var t=m._createSuper(k);b=k.prototype;b.read=function(a,d){this.sourceJSON=a;m._get(m._getPrototypeOf(k.prototype),"read",this).call(this,a,d)};b.load=function(a){this.addResolvingPromise(this._loadFromSource());return Promise.resolve(this)};b.startReading=async function(){if(this.url){const {startReading:a}=await new Promise((d,g)=>l(["../rest/versionManagementService/gdbVersion/startReading"],d,g));this._sessionId||(this._sessionId=`{${q.generateUUID()}}`);return await a(this.url,
this.guid,this._sessionId)}throw new h("gdb-version:missing-url","service url is missing");};b.stopReading=async function(){if(this.url){if(!this._sessionId)throw new h("gdb-version:missing-session-id","reading session has not been started");var {stopReading:a}=await new Promise((d,g)=>l(["../rest/versionManagementService/gdbVersion/stopReading"],d,g));if(a=await a(this.url,this.guid,this._sessionId))this._sessionId=null;return a}throw new h("gdb-version:missing-url","service url is missing");};b.startEditing=
async function(){if(this.url){if(!this._sessionId)throw new h("gdb-version:missing-session-id","reading session has not been started");const {startEditing:a}=await new Promise((d,g)=>l(["../rest/versionManagementService/gdbVersion/startEditing"],d,g));return await a(this.url,this.guid,this._sessionId)}throw new h("gdb-version:missing-url","service url is missing");};b.stopEditing=async function(a){if(this.url){if(!this._sessionId)throw new h("gdb-version:missing-session-id","reading session has not been started");
const {stopEditing:d}=await new Promise((g,n)=>l(["../rest/versionManagementService/gdbVersion/stopEditing"],g,n));return await d(this.url,this.guid,this._sessionId,a)}throw new h("gdb-version:missing-url","service url is missing");};b.getStatusInfo=async function(){if(this.url)return await this._loadFromUrl(this.url,this.guid);throw new h("gdb-version:missing-url","service url is missing");};b._loadFromSource=async function(){this.sourceJSON&&this.read(this.sourceJSON);this.url&&this.guid&&await this._loadFromUrl(this.url,
this.guid)};b._loadFromUrl=async function(a,d){const {getVersion:g}=await new Promise((n,u)=>l(["../rest/versionManagementService/getVersion"],n,u));(a=await g(a,d))&&this.read(a);return a};return m._createClass(k)}(c.JSONSupportMixin(p));e.__decorate([f.property()],c.prototype,"_sessionId",void 0);e.__decorate([f.property()],c.prototype,"url",void 0);e.__decorate([f.property()],c.prototype,"sourceJSON",void 0);e.__decorate([f.property({type:String,json:{name:"versionName",write:!0}})],c.prototype,
"name",void 0);e.__decorate([f.property({type:String,json:{name:"versionGuid",write:!0}})],c.prototype,"guid",void 0);e.__decorate([f.property({type:Number,json:{name:"versionId",write:!0}})],c.prototype,"id",void 0);e.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);e.__decorate([f.property({type:Date,json:{type:Number,write:{writer:(b,k)=>{k.creationDate=b?b.getTime():null}}}})],c.prototype,"creationDate",void 0);e.__decorate([f.property({type:["private",
"public","protected","hidden"],json:{write:!0}})],c.prototype,"access",void 0);return c=e.__decorate([r.subclass("esri.versionManagementService.GDBVersion")],c)});