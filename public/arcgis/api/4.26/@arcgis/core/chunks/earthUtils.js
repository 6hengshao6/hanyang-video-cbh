/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{a as t,r as n,d as o}from"./mathUtils.js";import{a as s}from"./maybe.js";import{B as r}from"./unitUtils.js";import e from"../geometry/Point.js";function u(n,r,e){if(s(r.longitude)||s(r.latitude)||s(e.longitude)||s(e.latitude))throw new Error("Invalid points: no lon/lat");return function(n,s,r,e,u){const a=o(r),i=o(u),l=a-i,c=o(s)-o(e),d=Math.sin(l/2),h=Math.sin(c/2),m=2*t(Math.sqrt(d*d+Math.cos(a)*Math.cos(i)*h*h))*n;return Math.round(1e4*m)/1e4}(n,r.longitude,r.latitude,e.longitude,e.latitude)}function a(t,n,o){const s=n.spatialReference,a=r(s),i=new e(n.x,t.y,s),l=new e(o.x,t.y,s),c=new e(t.x,n.y,s),d=new e(t.x,o.y,s);return{lon:u(a.radius,i,l),lat:u(a.radius,c,d)}}function i(s,r,e){const u=r/e,a=o(s),i=Math.sin(u/2),l=Math.cos(a),c=2*t(Math.sqrt(i*i/(l*l)));return n(c)}function l(t,n){let o=t/15;return n||(o=Math.round(o)),o}function c(t,n){const o=t?.[0];if(null==o)return null;n||(n={hours:0,minutes:0,seconds:0}),n.hours=l(o,!0);const s=n.hours%1;n.hours-=s,n.minutes=60*s;const r=n.minutes%1;return n.minutes-=r,n.seconds=Math.round(60*r),n}export{a,i as g,l,c as p};
