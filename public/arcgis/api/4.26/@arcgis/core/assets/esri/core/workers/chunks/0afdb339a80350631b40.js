"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[1865],{49500:(e,t,n)=>{function o(e){return e=e||globalThis.location.hostname,m.some((t=>null!=e?.match(t)))}function r(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(s)||null!=t.match(a)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(l)||null!=t.match(i)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}n.d(t,{a:()=>r,i:()=>o});const s=/^devext.arcgis.com$/,l=/^qaext.arcgis.com$/,a=/^[\w-]*\.mapsdevext.arcgis.com$/,i=/^[\w-]*\.mapsqa.arcgis.com$/,m=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,s,l,/^jsapps.esri.com$/,a,i]},71831:(e,t,n)=>{n.d(t,{S:()=>S,a:()=>d,f:()=>b,m:()=>p,r:()=>h,s:()=>u});var o=n(82058),r=n(60991),s=n(71252),l=n(50406),a=n(32101),i=n(49900),m=n(67477),c=n(48578);const y=()=>!!(0,c.h)("enable-feature:force-wosr"),u=()=>!!(0,c.h)("enable-feature:SceneLayer-editing");let f={};function b(e,t,n){return e&&(0,s.i)(e.styleUrl)?async function(e,t){try{return{data:(await h(e,t)).data,baseUrl:(0,a.Yd)(e),styleUrl:e}}catch(e){return(0,l.r9)(e),null}}(e.styleUrl,n):e&&(0,s.i)(e.styleName)?function(e,t,n){const o=(0,s.i)(t.portal)?t.portal:i.Z.getDefault();let l;const a=`${o.url} - ${o.user&&o.user.username} - ${e}`;return f[a]||(f[a]=function(e,t,n){return t.load(n).then((()=>{const o=new m.Z({disableExtraQuery:!0,query:`owner:${g} AND type:${w} AND typekeywords:"${e}"`});return t.queryItems(o,n)})).then((({results:t})=>{let o=null;const s=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){const t=e.typeKeywords?.some((e=>e.toLowerCase()===s));if(t&&e.type===w&&e.owner===g){o=e;break}}if(!o)throw new r.Z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return o.load(n)}))}(e,o,n).then((e=>(l=e,e.fetchData()))).then((t=>({data:t,baseUrl:l.itemUrl??"",styleName:e})))),f[a]}(e.styleName,t,n):Promise.reject(new r.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function p(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function d(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!y())for(const t of e.formatInfos)if("gltf"===t.type)return t.href;return e.webRef}function h(e,t){const n={responseType:"json",query:{f:"json"},...t};return(0,o.default)((0,a.Fv)(e),n)}const g="esri_en",w="Style",S="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},51865:(e,t,n)=>{n.r(t),n.d(t,{fetchSymbolFromStyle:()=>p,resolveWebStyleSymbol:()=>b});var o=n(96467),r=n(49500),s=n(60991),l=n(71252),a=n(32101),i=n(49900),m=n(38742),c=n(16218),y=n(97189),u=n(71831),f=n(61847);function b(e,t,n,o){const r=e.name;return(0,l.a)(r)?Promise.reject(new s.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,n){const o=u.S.replace(/\{SymbolName\}/gi,e),r=(0,l.i)(t.portal)?t.portal:i.Z.getDefault();return(0,u.r)(o,n).then((e=>{const t=(0,u.m)(e.data);return(0,c.im)(t,{portal:r,url:(0,a.mN)((0,a.Yd)(o)),origin:"portal-item"})}))}(r,t,o):(0,u.f)(e,t,o).then((e=>p((0,l.c)(e),r,t,n,o)))}function p(e,t,n,b,p){const d=e.data,h=n&&(0,l.i)(n.portal)?n.portal:i.Z.getDefault(),g={portal:h,url:(0,a.mN)(e.baseUrl),origin:"portal-item"},w=d.items.find((e=>e.name===t));if(!w){const e=`The symbol name '${t}' could not be found`;return Promise.reject(new s.Z("symbolstyleutils:symbol-name-not-found",e,{symbolName:t}))}let S=(0,m.f)((0,u.a)(w,b),g),Z=w.thumbnail?.href??null;const C=w.thumbnail&&w.thumbnail.imageData;(0,r.i)()&&(S=(0,r.a)(S)??"",Z=(0,r.a)(Z));const $={portal:h,url:(0,a.mN)((0,a.Yd)(S)),origin:"portal-item"};return(0,u.r)(S,p).then((r=>{const s="cimRef"===b?(0,u.m)(r.data):r.data,l=(0,c.im)(s,$);if(l&&(0,o.dU)(l)){if(Z){const e=(0,m.f)(Z,g);l.thumbnail=new f.T({url:e})}else C&&(l.thumbnail=new f.T({url:`data:image/png;base64,${C}`}));e.styleUrl?l.styleOrigin=new y.Z({portal:n.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(l.styleOrigin=new y.Z({portal:n.portal,styleName:e.styleName,name:t}))}return l}))}n(91306),n(48578),n(92143),n(31450),n(71552),n(76506),n(40642),n(17533),n(86656),n(66396),n(6540),n(63571),n(34250),n(60474),n(59465),n(57251),n(97714),n(2906),n(14249),n(60217),n(74569),n(21801),n(73796),n(12047),n(21972),n(91055),n(19657),n(6906),n(50406),n(60947),n(53785),n(89623),n(91597),n(86787),n(35132),n(84069),n(44567),n(98380),n(92482),n(82426),n(72836),n(29794),n(7200),n(92896),n(22781),n(32422),n(30776),n(48027),n(54174),n(63130),n(25696),n(98402),n(42775),n(95834),n(34394),n(57150),n(76726),n(20444),n(76393),n(78548),n(2497),n(49906),n(46527),n(11799),n(48649),n(59877),n(9960),n(30823),n(53326),n(5853),n(39141),n(52461),n(48243),n(15324),n(75067),n(89914),n(34635),n(10401),n(70737),n(36834),n(66122),n(8487),n(17817),n(90814),n(15459),n(88762),n(82058),n(81184),n(33101),n(3482),n(67477),n(78533),n(74653),n(91091),n(58943),n(28212),n(16955),n(22401),n(48699),n(77894),n(55187),n(8586),n(44509),n(69814),n(11305),n(62259),n(44790),n(5909),n(60669),n(48208),n(51589),n(51899)},16218:(e,t,n)=>{n.d(t,{cW:()=>S,im:()=>N,vX:()=>Z});var o=n(96467),r=n(60991),s=n(71252),l=n(51899),a=n(34635),i=n(51589),m=n(62259),c=n(78548),y=n(77894),u=n(60669),f=n(11305),b=n(5909),p=n(8586),d=n(44790),h=n(48208),g=n(48243);n(91306),n(48578),n(92143),n(31450),n(71552),n(76506),n(40642),n(17533),n(86656),n(66396),n(6540),n(63571),n(34250),n(60474),n(59465),n(57251),n(97714),n(2906),n(14249),n(60217),n(74569),n(21801),n(73796),n(12047),n(21972),n(91055),n(19657),n(6906),n(50406),n(60947),n(53785),n(89623),n(91597),n(86787),n(35132),n(84069),n(44567),n(98380),n(92482),n(82426),n(72836),n(29794),n(7200),n(92896),n(22781),n(32422),n(30776),n(48027),n(54174),n(63130),n(25696),n(98402),n(42775),n(95834),n(34394),n(57150),n(76726),n(20444),n(76393),n(2497),n(49906),n(46527),n(11799),n(48649),n(59877),n(9960),n(30823),n(53326),n(5853),n(39141),n(32101),n(38742),n(52461),n(70737),n(36834),n(66122),n(55187),n(8487),n(17817),n(44509),n(69814),n(90814),n(15459),n(22401),n(16955),n(15324),n(75067),n(89914),n(28212),n(48699),n(10401),n(49900),n(88762),n(82058),n(81184),n(33101),n(3482),n(67477),n(78533),n(74653),n(91091),n(58943),n(97189),n(61847);const w={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function S(e,t,n,o){const r=$(e,{},{context:o,isLabelSymbol:!1});(0,s.i)(r)&&(t[n]=r)}function Z(e,t,n,o){const r=$(e,{},{context:o,isLabelSymbol:!0});(0,s.i)(r)&&(t[n]=r)}function C(e){return e instanceof a.Z||e instanceof i.Z}function $(e,t,n){if((0,s.a)(e))return null;const{context:a,isLabelSymbol:S}=n,Z=a?.origin,$=a?.messages;if("web-scene"===Z&&!C(e)){const n=function(e,t=w){if(!e)return{symbol:null};const{retainId:n=w.retainId,ignoreDrivers:s=w.ignoreDrivers,hasLabelingContext:l=w.hasLabelingContext,retainCIM:a=w.retainCIM}=t;let S=null;if((0,o.dU)(e)||e instanceof i.Z)S=e.clone();else if("cim"===e.type){const t=e.data?.symbol?.type;if("CIMPointSymbol"!==t)return{error:new r.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${t||"unknown"}' is unsupported in 3D`,{symbol:e})};S=a?e.clone():m.Z.fromCIMSymbol(e)}else if(e instanceof c.Z)S=y.Z.fromSimpleLineSymbol(e);else if(e instanceof u.Z)S=m.Z.fromSimpleMarkerSymbol(e);else if(e instanceof f.Z)S=m.Z.fromPictureMarkerSymbol(e);else if(e instanceof b.Z)S=t.geometryType&&"mesh"===t.geometryType?p.Z.fromSimpleFillSymbol(e):d.Z.fromSimpleFillSymbol(e);else{if(!(e instanceof h.Z))return{error:new r.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};S=l?g.Z.fromTextSymbol(e):m.Z.fromTextSymbol(e)}if(n&&S&&"cim"!==S.type&&(S.id=e.id),s&&(0,o.dU)(S))for(let e=0;e<S.symbolLayers.length;++e)S.symbolLayers.getItemAt(e)._ignoreDrivers=!0;return{symbol:S}}(e,{retainCIM:!0,hasLabelingContext:S});return(0,s.i)(n.symbol)?n.symbol.write(t,a):($?.push(new r.Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:a,error:n.error})),null)}return("web-map"===Z||"portal-item"===Z&&!(0,l.i)(a?.layer))&&C(e)?($?.push(new r.Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:a})),null):e.write(t,a)}function N(e,t){return(0,o.S9)(e,null,t)}}}]);