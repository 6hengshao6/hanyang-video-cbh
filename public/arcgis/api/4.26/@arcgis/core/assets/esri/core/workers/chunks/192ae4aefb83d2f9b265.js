"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[6676],{91055:(t,e,r)=>{r.d(e,{A:()=>i,O:()=>n});class n{constructor(t,e,r,n=1,s=0){if(this._ctor=t,this._acquireFunction=e,this._releaseFunction=r,this.allocationSize=n,this._pool=new Array(s),this._initialSize=s,this._ctor)for(let t=0;t<s;t++)this._pool[t]=new this._ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let e;if(n.test.disabled)e=new this._ctor;else{if(0===this._pool.length){const t=this.allocationSize;for(let e=0;e<t;e++)this._pool[e]=new this._ctor}e=this._pool.pop()}return this._acquireFunction?this._acquireFunction(e,...t):function(t){return t&&t.acquire&&"function"==typeof t.acquire}(e)&&e.acquire(...t),e}release(t){t&&!n.test.disabled&&(this._releaseFunction?this._releaseFunction(t):function(t){return t&&t.release&&"function"==typeof t.release}(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let e=t;e<this._pool.length;++e){const t=this._pool[e];this._dispose(t)}this._pool.length=t}}_dispose(t){t.dispose&&"function"==typeof t.dispose&&t.dispose()}}function s(t){t.length=0}n.test={disabled:!1};class i{constructor(t=50,e=50){this._pool=new n(Array,void 0,s,e,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return o.acquire()}static release(t){return o.release(t)}static prune(){o.prune()}}const o=new i(100)},91306:(t,e,r)=>{function n(t,e,r){const n=t.get(e);if(void 0!==n)return n;const s=r();return t.set(e,s),s}r.d(e,{I:()=>T,a:()=>E,b:()=>m,c:()=>C,d:()=>j,e:()=>v,f:()=>S,g:()=>O,h:()=>b,i:()=>N,j:()=>A,k:()=>a,l:()=>c,m:()=>g,n:()=>l,o:()=>n,t:()=>k}),r(48578);const s=r(92143).L.getLogger("esri.core.accessorSupport.ensureTypes");function i(t){return null==t?t:new Date(t)}function o(t){return null==t?t:!!t}function a(t){return null==t?t:t.toString()}function c(t){return null==t?t:(t=parseFloat(t),isNaN(t)?0:t)}function l(t){return null==t?t:Math.round(parseFloat(t))}function u(t){return t&&t.constructor&&void 0!==t.constructor.__accessorMetadata__}function h(t,e){return null!=e&&t&&!(e instanceof t)}function f(t){return t&&"isCollection"in t}function d(t){return t&&t.Type?"function"==typeof t.Type?t.Type:t.Type.base:null}function p(t,e){return!!u(e)&&(s.error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+y(t)+"'"),!0)}function g(t,e){return null==e?e:f(t)?function(t,e){if(!e||!e.constructor||!f(e.constructor))return p(t,e)?e:new t(e);const r=d(t.prototype.itemType),n=d(e.constructor.prototype.itemType);return r?n?r===n?e:r.prototype.isPrototypeOf(n.prototype)?new t(e):(p(t,e),e):new t(e):e}(t,e):h(t,e)?p(t,e)?e:new t(e):e}function y(t){return t&&t.prototype&&t.prototype.declaredClass||"unknown"}const _=new WeakMap;function v(t,e){const r=function(t){switch(t){case Number:return c;case T:return l;case Boolean:return o;case String:return a;case Date:return i;default:return n(_,t,(()=>g.bind(null,t)))}}(t);return 1===arguments.length?r:r(e)}function m(t,e,r){return 1===arguments.length?m.bind(null,t):e?Array.isArray(e)?e.map((e=>t(e,r))):[t(e,r)]:e}function b(t,e){return 1===arguments.length?m(v.bind(null,t)):m(v.bind(null,t),e)}function w(t,e,r){return 0!==e&&Array.isArray(r)?r.map((r=>w(t,e-1,r))):t(r)}function O(t,e,r){if(2===arguments.length)return O.bind(null,t,e);if(!r)return r;let n=e,s=r=w(t,e,r);for(;n>0&&Array.isArray(s);)n--,s=s[0];if(void 0!==s)for(let t=0;t<n;t++)r=[r];return r}function A(t,e,r){return 2===arguments.length?O(v.bind(null,t),e):O(v.bind(null,t),e,r)}function j(t){return!!Array.isArray(t)&&!t.some((e=>{const r=typeof e;return!("string"===r||"number"===r||"function"===r&&t.length>1)}))}function S(t,e){if(2===arguments.length)return S(t).call(null,e);const r=new Set,n=t.filter((t=>"function"!=typeof t)),i=t.filter((t=>"function"==typeof t));for(const e of t)"string"!=typeof e&&"number"!=typeof e||r.add(e);let o=null,a=null;return(t,e)=>{if(null==t)return t;const c=typeof t,l="string"===c||"number"===c;return l&&(r.has(t)||i.some((t=>"string"===c&&t===String||"number"===c&&t===Number)))||"object"===c&&i.some((e=>!h(t,e)))?t:(l&&n.length?(o||(o=n.map((t=>"string"==typeof t?`'${t}'`:`${t}`)).join(", ")),s.error("Accessor#set",`'${t}' is not a valid value for this property, only the following values are valid: ${o}`)):"object"==typeof t&&i.length?(a||(a=i.map((t=>y(t))).join(", ")),s.error("Accessor#set",`'${t}' is not a valid value for this property, value must be one of ${a}`)):s.error("Accessor#set",`'${t}' is not a valid value for this property`),e&&(e.valid=!1),null)}}function E(t,e){if(2===arguments.length)return E(t).call(null,e);const r={},n=[],i=[];for(const e in t.typeMap){const s=t.typeMap[e];r[e]=v(s),n.push(y(s)),i.push(e)}const o="string"==typeof t.key?e=>e[t.key]:t.key;return e=>{if(t.base&&!h(t.base,e))return e;if(null==e)return e;const a=o(e)||t.defaultKeyValue,c=r[a];if(!c)return s.error("Accessor#set",`Invalid property value, value needs to be one of '${n.join("', '")}', or a plain object that can autocast (having .type = '${i.join("', '")}')`),null;if(!h(t.typeMap[a],e))return e;if("string"==typeof t.key&&!u(e)){const r={};for(const n in e)n!==t.key&&(r[n]=e[n]);return c(r)}return c(e)}}class T{}const k={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function N(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function C(t){switch(t.type){case"native":return v(t.value);case"array":return m(C(t.value));case"one-of":return function(t){let e=null;return(r,n)=>D(r,t)?r:(null==e&&(e=I(t)),s.error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),n&&(n.valid=!1),null)}(t);default:return null}}function I(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case T:return"integer";case Date:return"date";default:return y(t.value)}case"array":return`array of ${I(t.value)}`;case"one-of":{const e=t.values.map((t=>I(t)));return`one of ${e.slice(0,e.length-1)} or ${e[e.length-1]}`}}return"unknown"}function D(t,e){if(null==t)return!0;switch(e.type){case"native":switch(e.value){case Number:case T:return"number"==typeof t;case Boolean:return"boolean"==typeof t;case String:return"string"==typeof t}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some((t=>!D(t,e.value)));case"one-of":return e.values.some((e=>D(t,e)))}}},60474:(t,e,r)=>{r.d(e,{e:()=>c,g:()=>a,v:()=>o});var n=r(66396);function s(t,e){const r="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(r,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.getItemAt(t)}const s=(0,n.g)(e);return(0,n.i)(s,r)?s.get(r):e[r]}function i(t,e,r){if(null==t)return t;const n=s(e[r],t);return!n&&r<e.length-1?void 0:r===e.length-1?n:i(n,e,r+1)}function o(t,e,r=0){return"string"!=typeof e||e.includes(".")?i(t,(0,n.a)(e),r):s(e,t)}function a(t,e){return o(t,e)}function c(t,e){return void 0!==o(e,t)}},22723:(t,e,r)=>{r.d(e,{h:()=>s,m:()=>i});var n=r(71252);function s(t){return i((()=>t.forEach((t=>(0,n.i)(t)&&t.remove()))))}function i(t){return{remove:()=>{t&&(t(),t=void 0)}}}},57251:(t,e,r)=>{r.d(e,{J:()=>s,s:()=>i});var n=r(71552);class s{constructor(t,e={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=e,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=t=>this.fromJSON(t),this.write=(t,e,r)=>{const s=this.toJSON(t);void 0!==s&&(0,n.s)(r,s,e)},this.write.isJSONMapWriter=!0}toJSON(t){if(null==t)return null;if(this._apiToJSON.hasOwnProperty(t)){const e=this._apiToJSON[t];return this._options.useNumericKeys?+e:e}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return null!=t&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}_invertMap(t){const e={};for(const r in t)e[t[r]]=r;return e}_getKeysSorted(t){const e=[];for(const r in t)e.push(r);return e.sort(),e}}function i(){return function(t,e){return new s(t,{ignoreUnknown:!0,...e})}}},86656:(t,e,r)=>{r.d(e,{a:()=>o,g:()=>a,m:()=>c});var n=r(76506),s=r(71252),i=r(66396);function o(t){let e=t.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!r){e=Object.create(e);for(const t in e)e[t]=(0,n.d9)(e[t]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return(0,s.b)(t.constructor.__accessorMetadata__)}function a(t,e){const r=o(t);let n=r[e];return n||(n=r[e]={}),n}function c(t,e){return(0,i.m)(t,e,u)}const l=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function u(t){return l.test(t)?"replace":"merge"}},30773:(t,e,r)=>{r.d(e,{n:()=>s});const n=[];function s(t){n.push(t),1===n.length&&queueMicrotask((()=>{const t=n.slice();n.length=0;for(const e of t)e()}))}},6540:(t,e,r)=>{r.d(e,{F:()=>n,a:()=>b,b:()=>p,i:()=>v,r:()=>d,t:()=>u}),r(48578);var n,s,i=r(92143),o=r(66396);(s=n||(n={}))[s.Dirty=1]="Dirty",s[s.Overriden=2]="Overriden",s[s.Computing=4]="Computing",s[s.NonNullable=8]="NonNullable",s[s.HasDefaultValue=16]="HasDefaultValue",s[s.DepTrackingInitialized=32]="DepTrackingInitialized",s[s.AutoTracked=64]="AutoTracked",s[s.ExplicitlyTracking=128]="ExplicitlyTracking";const a={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},c=[];let l=a;function u(t){l.onObservableAccessed(t)}let h=!1,f=!1;function d(t,e,r){if(h)return g(t,e,r);y(t);const n=e.call(r);return _(),n}function p(t,e){return d(a,t,e)}function g(t,e,r){const n=h;h=!0,y(t);let s=null;try{s=e.call(r)}catch(t){f&&i.L.getLogger("esri.core.accessorSupport.tracking").error(t)}return _(),h=n,s}function y(t){l=t,c.push(t)}function _(){const t=c.length;if(t>1){const e=c.pop();l=c[t-2],e.onTrackingEnd()}else if(1===t){const t=c.pop();l=a,t.onTrackingEnd()}else l=a}function v(t,e){const r=e.observerObject;if(r.flags&n.DepTrackingInitialized)return;const s=f;f=!1,r.flags&n.AutoTracked?g(e,e.metadata.get,t):b(t,e),f=s}const m=[];function b(t,e){const r=e.observerObject;r.flags&n.ExplicitlyTracking||(r.flags|=n.ExplicitlyTracking,g(e,(()=>{const r=e.metadata.dependsOn||m;for(const e of r)if("string"!=typeof e||e.includes(".")){const r=(0,o.a)(e);for(let e=0,n=t;e<r.length&&null!=n&&"object"==typeof n;++e)n=w(n,r[e],e!==r.length-1)}else w(t,e,!1)})),r.flags&=~n.ExplicitlyTracking)}function w(t,e,r){const n="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(n,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.getItemAt(e)}const s=(0,o.g)(t),i=s?.properties.get(n);return i&&(u(i.observerObject),v(t,i)),r?t[n]:void 0}},29768:(t,e,r)=>{function n(t,e,r,n){var s,i=arguments.length,o=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}r.d(e,{_:()=>n})},66396:(t,e,r)=>{r.d(e,{a:()=>u,g:()=>o,i:()=>a,m:()=>c,o:()=>d,p:()=>f});var n=r(22723),s=r(76506),i=r(71252);function o(t){return t?t.__accessor__?t.__accessor__:t.propertyInvalidated?t:null:null}function a(t,e){return null!=t&&t.metadatas&&null!=t.metadatas[e]}function c(t,e,r){return l(t,e,r?{policy:r,path:""}:null)}function l(t,e,r){return e?Object.keys(e).reduce(((t,n)=>{let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${n}`:n,a=r.policy(o)),"replace"===a)return t[n]=e[n],t;if("replace-arrays"===a&&Array.isArray(t[n]))return t[n]=e[n],t;if(void 0===t[n])return t[n]=(0,s.d9)(e[n]),t;let c=t[n],u=e[n];if(c===u)return t;if(Array.isArray(u)||Array.isArray(t))c=c?Array.isArray(c)?t[n]=c.concat():t[n]=[c]:t[n]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach((t=>{c.includes(t)||c.push(t)})));else if(u&&"object"==typeof u)if(r){const e=r.path;r.path=(0,i.b)(o),t[n]=l(c,u,r),r.path=e}else t[n]=l(c,u,null);else t.hasOwnProperty(n)&&!e.hasOwnProperty(n)||(t[n]=u);return t}),t||{}):t}function u(t){return Array.isArray(t)?t:t.split(".")}function h(t){return t.includes(",")?t.split(",").map((t=>t.trim())):[t.trim()]}function f(t,e,r,s){const i=function(t){if(Array.isArray(t)){const e=[];for(const r of t)e.push(...h(r));return e}return h(t)}(e);if(1!==i.length){const e=i.map((e=>s(t,e,r)));return(0,n.h)(e)}return s(t,i[0],r)}function d(t){let e=!1;return()=>{e||(e=!0,t())}}},19657:(t,e,r)=>{r.d(e,{S:()=>d,a:()=>w,b:()=>z,g:()=>f,r:()=>D,w:()=>U});var n=r(91055),s=r(76506),i=r(71252),o=r(6906),a=r(60474),c=r(6540),l=r(66396);class u extends n.O{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=(0,i.n)(this._set)}acquire(...t){const e=super.acquire(...t);return this._set.delete(e),e}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}let h=0;function f(){return++h}class d{constructor(t){this._accessed=[],this._handles=[],this._observerObject=new p(t),g.register(this,this._observerObject,this._observerObject)}destroy(){g.unregister(this._observerObject),this._accessed.length=0,this._observerObject?.destroy(),this.clear()}onObservableAccessed(t){const e=this._accessed;e.includes(t)||e.push(t)}onTrackingEnd(){const t=this._handles,e=this._accessed,r=this._observerObject;for(let n=0;n<e.length;++n)t.push(e[n].observe(r));e.length=0}clear(){const t=this._handles;for(let e=0;e<t.length;++e)t[e].remove();t.length=0}}class p{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(1===t)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=y}}const g=new FinalizationRegistry((t=>{t.destroy()}));function y(){}let _=!1;const v=[];function m(t,e){let r=new d((function i(){if(!r||s)return;if(_)return void O(i);const o=n;r.clear(),_=!0,s=!0,n=(0,c.r)(r,t),s=!1,_=!1,e(n,o),A()})),n=null,s=!1;return s=!0,n=(0,c.r)(r,t),s=!1,{remove:function(){r&&(r.destroy(),r=null,n=null)}}}function b(t,e){let r=new d((function(){e(n,s)})),n=null;function s(){return r?(r.clear(),n=(0,c.r)(r,t),n):null}return s(),{remove:function(){r&&(r.destroy(),r=null),n=null}}}function w(t){let e=new d((function n(){e&&!r&&(_?O(n):(e.clear(),_=!0,r=!0,(0,c.r)(e,t),r=!1,_=!1,A()))})),r=!1;return r=!0,(0,c.r)(e,t),r=!1,{remove:function(){e&&(e.destroy(),e=null)}}}function O(t){v.includes(t)||v.unshift(t)}function A(){for(;v.length;)v.pop()()}var j,S;(S=j||(j={}))[S.Untracked=0]="Untracked",S[S.Tracked=1]="Tracked";class E{constructor(){this.uid=f(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,e,r,n,i){return this.pool.acquire(j.Untracked,t,e,r,n,i,s.fS)}static acquireTracked(t,e,r,n){return this.pool.acquire(j.Tracked,t,e,r,null,null,n)}notify(t,e){this.type===j.Untracked?this.callback.call(this.target,t,e,this.path,this.target):this.callback.call(null,t,e)}acquire(t,e,r,n,s,i,o){this.uid=f(),this.removed=!1,this.type=t,this.oldValue=e,this.callback=r,this.getValue=n,this.target=s,this.path=i,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=f(),this.removed=!0}}E.pool=new u(E);const T=new n.A,k=new Set;let N;function C(t){k.delete(t),k.add(t),N||(N=(0,o.Os)(M))}function I(t){if(t.removed)return;const e=t.oldValue,r=t.getValue();t.equals(e,r)||(t.oldValue=r,t.notify(r,e))}function D(t){for(const e of k.values())e.target===t&&(e.removed=!0)}function M(){let t=10;for(;N&&t--;){N=null;const t=P(),e=T.acquire();for(const r of t){const t=r.uid;I(r),t===r.uid&&r.removed&&e.push(r)}for(const t of k)t.removed&&(e.push(t),k.delete(t));for(const t of e)E.pool.release(t);T.release(e),T.release(t),F.forEach((t=>t()))}}function P(){const t=T.acquire();t.length=k.size;let e=0;for(const r of k)t[e]=r,++e;return k.clear(),t}const F=new Set;function U(t,e,r,n=!1){return!t.__accessor__||t.__accessor__.destroyed?{remove(){}}:n?function(t,e,r){const n=(0,l.p)(t,e,r,((t,e,r)=>{let i=!1;return m((()=>(0,a.v)(t,e)),((o,a)=>{t.__accessor__.destroyed?n.remove():i||(i=!0,(0,s.fS)(a,o)||r.call(t,o,a,e,t),i=!1)}))}));return n}(t,e,r):function(t,e,r){let n=(0,l.p)(t,e,r,((t,e,r)=>{let s,i,o=b((()=>(0,a.v)(t,e)),((o,a)=>{t.__accessor__.destroyed||s&&s.uid!==i?n.remove():(s||(s=E.acquireUntracked(o,r,a,t,e),i=s.uid),C(s))}));return{remove:(0,l.o)((()=>{o.remove(),s&&(s.uid!==i||s.removed||(s.removed=!0,C(s)),s=null),n=o=null}))}}));return n}(t,e,r)}function z(t,e,r=!1,n=s.y7){return r?function(t,e,r){let n=!1;return m(t,((t,s)=>{n||(n=!0,r(s,t)||e(t,s),n=!1)}))}(t,e,n):function(t,e,r){let n,s,i=b(t,((t,o)=>{n&&n.uid!==s?i.remove():(n||(n=E.acquireTracked(t,e,o,r),s=n.uid),C(n))}));return{remove:(0,l.o)((()=>{i.remove(),n&&(n.uid!==s||n.removed||(n.removed=!0,C(n)),n=null),i=null}))}}(t,e,n)}},21972:(t,e,r)=>{r.d(e,{O:()=>m,Z:()=>L,a:()=>w,b:()=>A,c:()=>_,i:()=>j,n:()=>O});var n=r(82933),s=r(71252),i=r(17533),o=r(60474),a=r(86656),c=r(48578),l=r(76506),u=r(92143),h=r(91055),f=r(6540),d=r(66396),p=r(34250),g=r(19657);r(91306),r(71552),r(60991),r(31450),r(40642),r(6906),r(50406);class y{constructor(t,e){this._observers=t,this._observer=e}remove(){(0,c.r)(this._observers,this._observer)}}class _{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return v;null==this._observers&&(this._observers=[]);const e=this._observers;let r=!1,n=!1;const s=e.length;for(let i=0;i<s;++i){const s=e[i];if(s.destroyed)n=!0;else if(s===t){r=!0;break}}return r||(e.push(t),n&&this._removeDestroyedObservers()),new y(e,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||0===t.length)return;const e=t.length;let r=0;for(let n=0;n<e;++n){for(;n+r<e&&t[n+r].destroyed;)++r;if(r>0){if(!(n+r<e))break;t[n]=t[n+r]}}t.length=e-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(null!=t){for(const e of t)e.onCommitted();this._observers=null}}}const v={remove:()=>{}};var m,b;(b=m||(m={}))[b.DEFAULTS=0]="DEFAULTS",b[b.COMPUTED=1]="COMPUTED",b[b.SERVICE=2]="SERVICE",b[b.PORTAL_ITEM=3]="PORTAL_ITEM",b[b.WEB_SCENE=4]="WEB_SCENE",b[b.WEB_MAP=5]="WEB_MAP",b[b.USER=6]="USER";const w=m.USER+1;function O(t){switch(t){case"defaults":return m.DEFAULTS;case"service":return m.SERVICE;case"portal-item":return m.PORTAL_ITEM;case"web-scene":return m.WEB_SCENE;case"web-map":return m.WEB_MAP;case"user":return m.USER;default:return null}}function A(t){switch(t){case m.DEFAULTS:return"defaults";case m.SERVICE:return"service";case m.PORTAL_ITEM:return"portal-item";case m.WEB_SCENE:return"web-scene";case m.WEB_MAP:return"web-map";case m.USER:return"user"}return(0,s.b)(void 0)}function j(t){return A(t)}class S{constructor(t,e,r){this.properties=t,this.propertyName=e,this.metadata=r,this.observerObject=new E,this._accessed=null,this._handles=null,this.observerObject.flags=f.F.Dirty|(r.nonNullable?f.F.NonNullable:0)|(r.hasOwnProperty("value")?f.F.HasDefaultValue:0)|(void 0===r.get?f.F.DepTrackingInitialized:0)|(void 0===r.dependsOn?f.F.AutoTracked:0),T.register(this,this.observerObject,this.observerObject)}destroy(){T.unregister(this.observerObject),this.observerObject.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(){const t=this.observerObject;(0,f.t)(t);const e=this.properties.store,r=this.propertyName,n=t.flags,s=e.get(r);if(n&f.F.Computing)return s;if(~n&f.F.Dirty&&e.has(r))return s;t.flags|=f.F.Computing;const i=this.properties.host;let o;n&f.F.AutoTracked?o=(0,f.r)(this,this.metadata.get,i):((0,f.a)(i,this),o=this.metadata.get.call(i)),e.set(r,o,m.COMPUTED);const a=e.get(r);return a===s?t.flags&=~f.F.Dirty:(0,f.b)(this.commit,this),t.flags&=~f.F.Computing,a}onObservableAccessed(t){t!==this.observerObject&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles();const t=this.observerObject;t.flags|=f.F.DepTrackingInitialized;const e=this._accessed;if(null===e)return;let r=this._handles;null===r&&(r=this._handles=[]);for(let n=0;n<e.length;++n)r.push(e[n].observe(t));e.length=0}notifyChange(){const t=this.observerObject;t.onInvalidated(),t.onCommitted()}invalidate(){this.observerObject.onInvalidated()}commit(){const t=this.observerObject;t.flags&=~f.F.Dirty,t.onCommitted()}_clearObservationHandles(){const t=this._handles;if(null!==t){for(let e=0;e<t.length;++e)t[e].remove();t.length=0}}}class E extends _{constructor(){super(...arguments),this.flags=0}onInvalidated(){~this.flags&f.F.Overriden&&(this.flags|=f.F.Dirty);const t=this._observers;if(t&&t.length>0)for(const e of t)e.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const t of e)t.onCommitted()}}destroy(){this.flags&f.F.Dirty&&this.onCommitted(),super.destroy()}}const T=new FinalizationRegistry((t=>{t.destroy()}));class k{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const e=new k;return this._values.forEach(((r,n)=>{t&&t.has(n)||e.set(n,(0,l.d9)(r))})),e}get(t){return this._values.get(t)}originOf(){return m.USER}keys(){return[...this._values.keys()]}set(t,e){this._values.set(t,e)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}function N(t,e,r){return void 0!==t}function C(t,e,r,n){return!(void 0===t||null==r&&t.observerObject.flags&f.F.NonNullable&&(n.lifecycle,i.L.INITIALIZING,1))}u.L.getLogger("esri.core.accessorSupport.Properties");class I{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=i.L.INITIALIZING,this.store=new k,this._origin=m.USER;const e=(0,s.b)(this.host.constructor.__accessorMetadata__);for(const t in e){const r=new S(this,t,e[t]);this.properties.set(t,r)}this.metadatas=e}initialize(){this.lifecycle=i.L.CONSTRUCTING}constructed(){this.lifecycle=i.L.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[e,r]of this.properties){if(r.metadata.autoDestroy){const n=this.internalGet(e);n&&(t=n)&&"function"==typeof t.destroy&&(n.destroy(),~r.observerObject.flags&f.F.NonNullable&&this._internalSet(r,null))}r.destroy()}var t}get initialized(){return this.lifecycle!==i.L.INITIALIZING}get(t){const e=this.properties.get(t);if(e.metadata.get)return e.getComputed();(0,f.t)(e.observerObject);const r=this.store;return r.has(t)?r.get(t):e.metadata.value}originOf(t){const e=this.store.originOf(t);if(void 0===e){const e=this.properties.get(t);if(void 0!==e&&e.observerObject.flags&f.F.HasDefaultValue)return"defaults"}return A(e)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const e=this.properties.get(t);if(N(e))return this.store.has(t)?this.store.get(t):e.metadata.value}internalSet(t,e){const r=this.properties.get(t);N(r)&&this._internalSet(r,e)}getDependsInfo(t,e,r){const n=this.properties.get(e);if(!N(n))return"";const s=new Set,i=(0,f.r)({onObservableAccessed:t=>s.add(t),onTrackingEnd:()=>{}},(()=>n.metadata.get?.call(t)));let o=`${r}${t.declaredClass.split(".").pop()}.${e}: ${i}\n`;if(0===s.size)return o;r+="  ";for(const t of s){if(!(t instanceof S))continue;const e=t.properties.host,n=t.propertyName,s=(0,d.g)(e);o+=s?s.getDependsInfo(e,n,r):`${r}${n}: undefined\n`}return o}setAtOrigin(t,e,r){const n=this.properties.get(t);if(N(n))return this._setAtOrigin(n,e,r)}isOverridden(t){const e=this.properties.get(t);return void 0!==e&&!!(e.observerObject.flags&f.F.Overriden)}clearOverride(t){const e=this.properties.get(t),r=e?.observerObject;r&&r.flags&f.F.Overriden&&(r.flags&=~f.F.Overriden,e.notifyChange())}override(t,e){const r=this.properties.get(t);if(!C(r,0,e,this))return;const n=r.metadata.cast;if(n){const t=this._cast(n,e),{valid:r,value:s}=t;if(D.release(t),!r)return;e=s}r.observerObject.flags|=f.F.Overriden,this._internalSet(r,e)}set(t,e){const r=this.properties.get(t);if(!C(r,0,e,this))return;const n=r.metadata.cast;if(n){const t=this._cast(n,e),{valid:r,value:s}=t;if(D.release(t),!r)return;e=s}const s=r.metadata.set;s?s.call(this.host,e):this._internalSet(r,e)}setDefaultOrigin(t){this._origin=O(t)}getDefaultOrigin(){return A(this._origin)}notifyChange(t){const e=this.properties.get(t);void 0!==e&&e.notifyChange()}invalidate(t){const e=this.properties.get(t);void 0!==e&&e.invalidate()}commit(t){const e=this.properties.get(t);void 0!==e&&e.commit()}_internalSet(t,e){const r=this.lifecycle!==i.L.INITIALIZING?this._origin:m.DEFAULTS;this._setAtOrigin(t,e,r)}_setAtOrigin(t,e,r){const n=this.store,s=t.propertyName;n.has(s,r)&&(0,l.fS)(e,n.get(s))&&~t.observerObject.flags&f.F.Overriden&&r===n.originOf(s)||(t.invalidate(),n.set(s,e,r),t.commit(),(0,f.i)(this.host,t))}_cast(t,e){const r=D.acquire();return r.valid=!0,r.value=e,t&&(r.value=t.call(this.host,e,r)),r}}const D=new h.O(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var M,P;function F(t){if(null==t)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const U=Symbol("Accessor-Handles"),z=Symbol("Accessor-Initialized");class L{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:e,declaredClass:r,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...t){super(...t),this.inherited=null,n&&n.apply(this,t)}}(0,a.a)(o.prototype);for(const e in t){const r=t[e];o.prototype[e]="function"==typeof r?function(...t){const n=this.inherited;let i;this.inherited=function(...t){if(s.prototype[e])return s.prototype[e].apply(this,t)};try{i=r.apply(this,t)}catch(t){throw this.inherited=n,t}return this.inherited=n,i}:t[e]}for(const t in e){const r=F(e[t]);(0,p.Cb)(r)(o.prototype,t)}return(0,i.j)(r)(o)}constructor(...t){if(this[M]=null,this[P]=!1,this.constructor===L)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new I(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}postscript(t){const e=this.__accessor__,r=e.ctorArgs||t;e.initialize(),r&&(this.set(r),e.ctorArgs=null),e.constructed(),this.initialize(),this[z]=!0}initialize(){}[i.B](){this[U]=(0,s.d)(this[U])}destroy(){this.destroyed||((0,g.r)(this),this.__accessor__.destroy())}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[z]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return(0,o.g)(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,e){return(0,p.s)(this,t,e),this}watch(t,e,r){return(0,g.w)(this,t,e,r)}own(t){this.addHandles(t)}addHandles(t,e){let r=this[U];(0,s.a)(r)&&(r=this[U]=new n.Z),r.add(t,e)}removeHandles(t){const e=this[U];(0,s.a)(e)||e.remove(t)}removeAllHandles(){const t=this[U];(0,s.a)(t)||t.removeAll()}hasHandles(t){const e=this[U];return!!(0,s.i)(e)&&e.has(t)}_override(t,e){void 0===e?this.__accessor__.clearOverride(t):this.__accessor__.override(t,e)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,e){null==e?this.__accessor__.clearOverride(t):this.__accessor__.override(t,e)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,e){return this.__accessor__.internalSet(t,e),this}}M=U,P=z},82933:(t,e,r)=>{r.d(e,{Z:()=>a,c:()=>s,f:()=>i});var n=r(71252);function s(t){const e=[];return function*(){yield*e;for(const r of t)e.push(r),yield r}}function i(t,e){for(const r of t)if(null!=r&&e(r))return r}function o(t){return null!=t&&"function"==typeof t[Symbol.iterator]}class a{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach((e=>{t+=e.length})),t}add(t,e){if(o(t)){const r=this._getOrCreateGroup(e);for(const e of t)this._isHandle(e)&&r.push(e)}else this._isHandle(t)&&this._getOrCreateGroup(e).push(t);return this}forEach(t,e){if("function"==typeof t)this._groups.forEach((e=>e.forEach(t)));else{const r=this._getGroup(t);r&&e&&r.forEach(e)}}has(t){return this._groups.has(this._ensureGroupKey(t))}remove(t){if("string"!=typeof t&&o(t)){for(const e of t)this.remove(e);return this}return this.has(t)?(this._removeAllFromGroup(this._getGroup(t)),this._groups.delete(this._ensureGroupKey(t)),this):this}removeAll(){return this._groups.forEach((t=>this._removeAllFromGroup(t))),this._groups.clear(),this}_isHandle(t){return t&&!!t.remove}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const e=[];return this._groups.set(this._ensureGroupKey(t),e),e}_getGroup(t){return(0,n.b)(this._groups.get(this._ensureGroupKey(t)))}_ensureGroupKey(t){return t||"_default_"}_removeAllFromGroup(t){t.forEach((t=>t.remove()))}}},12047:(t,e,r)=>{r.d(e,{a:()=>j,b:()=>w,eC:()=>E,r:()=>b,s:()=>g,w:()=>S,wq:()=>k});var n=r(29768),s=r(21972),i=r(71252),o=r(76506),a=r(60474),c=r(66396),l=r(17533),u=r(48578),h=r(60991),f=r(92143);r(86656),r(91055),r(6540),r(34250),r(91306),r(19657),r(6906),r(50406),r(71552),r(31450),r(40642);class d{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const e=new d;return this._values.forEach(((r,n)=>{t&&t.has(n)||e.set(n,(0,o.d9)(r.value),r.origin)})),e}get(t,e){e=this._normalizeOrigin(e);const r=this._values.get(t);return null==e||r?.origin===e?r?.value:void 0}originOf(t){return this._values.get(t)?.origin??s.O.USER}keys(t){t=this._normalizeOrigin(t);const e=[...this._values.keys()];return null==t?e:e.filter((e=>this._values.get(e)?.origin===t))}set(t,e,r){if((r=this._normalizeOrigin(r))===s.O.DEFAULTS){const e=this._values.get(t);if(e&&null!=e.origin&&e.origin>r)return}this._values.set(t,new p(e,r))}delete(t,e){null!=(e=this._normalizeOrigin(e))&&this._values.get(t)?.origin!==e||this._values.delete(t)}has(t,e){return null!=(e=this._normalizeOrigin(e))?this._values.get(t)?.origin===e:this._values.has(t)}forEach(t){this._values.forEach((({value:e},r)=>t(e,r)))}_normalizeOrigin(t){if(null!=t)return t===s.O.DEFAULTS?t:s.O.USER}}class p{constructor(t,e){this.value=t,this.origin=e}}function g(t,e,r){e.keys().forEach((t=>{r.set(t,e.get(t),s.O.DEFAULTS)}));const n=t.metadatas;Object.keys(n).forEach((e=>{t.internalGet(e)&&r.set(e,t.internalGet(e),s.O.DEFAULTS)}))}function y(t,e,r){if(!t||!t.read||!1===t.read.enabled||!t.read.source)return!1;const n=t.read.source;if("string"==typeof n){if(n===e)return!0;if(n.includes(".")&&0===n.indexOf(e)&&(0,a.e)(n,r))return!0}else for(const t of n){if(t===e)return!0;if(t.includes(".")&&0===t.indexOf(e)&&(0,a.e)(t,r))return!0}return!1}function _(t,e,r,n,s){let i=(0,l.o)(e[r],s);(function(t){return t&&(!t.read||!1!==t.read.enabled&&!t.read.source)})(i)&&(t[r]=!0);for(const o of Object.getOwnPropertyNames(e))i=(0,l.o)(e[o],s),y(i,r,n)&&(t[o]=!0)}function v(t,e,r,n){const s=r.metadatas,i=(0,l.a)(s[e],"any",n),o=i&&i.default;if(void 0===o)return;const a="function"==typeof o?o.call(t,e,n):o;void 0!==a&&r.set(e,a)}const m={origin:"service"};function b(t,e,r=m){if(!e||"object"!=typeof e)return;const n=(0,c.g)(t),s=n.metadatas,i={};for(const t of Object.getOwnPropertyNames(e))_(i,s,t,e,r);n.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(i)){const i=(0,l.o)(s[o],r).read,c=i&&i.source;let u;u=c&&"string"==typeof c?(0,a.v)(e,c):e[o],i&&i.reader&&(u=i.reader.call(t,u,e,r)),void 0!==u&&n.set(o,u)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const e of Object.getOwnPropertyNames(s))i[e]||v(t,e,n,r)}n.setDefaultOrigin("user")}function w(t,e,r,n=m){const s={...n,messages:[]};r(s),s.messages?.forEach((e=>{"warning"!==e.type||t.loaded?n&&n.messages&&n.messages.push(e):t.loadWarnings.push(e)}))}function O(t,e,r,n,s){const i={};return e.write?.writer?.call(t,n,i,r,s),i}function A(t,e,r,n,i,o){if(!n||!n.write)return!1;const a=t.get(r);if(!i&&n.write.overridePolicy){const e=n.write.overridePolicy.call(t,a,r,o);void 0!==e&&(i=e)}if(i||(i=n.write),!i||!1===i.enabled)return!1;if((null===a&&!i.allowNull&&!i.writerEnsuresNonNull||void 0===a)&&i.isRequired){const e=new h.Z("web-document-write:property-required",`Missing value for required property '${r}' on '${t.declaredClass}'`,{propertyName:r,target:t});return e&&o&&o.messages?o.messages.push(e):e&&!o&&f.L.getLogger("esri.core.accessorSupport.write").error(e.name,e.message),!1}return!(void 0===a||null===a&&!i.allowNull&&!i.writerEnsuresNonNull||(!e.store.multipleOriginsSupported||e.store.originOf(r)===s.O.DEFAULTS)&&function(t,e,r,n,s){const i=n.default;if(void 0===i)return!1;if(null!=n.defaultEquals)return n.defaultEquals(s);if("function"==typeof i){if(Array.isArray(s)){const n=i.call(t,e,r);return(0,u.k)(n,s)}return!1}return i===s}(t,r,o,n,a)||!i.ignoreOrigin&&o&&o.origin&&e.store.multipleOriginsSupported&&e.store.originOf(r)<(0,s.n)(o.origin))}function j(t,e,r,n){const s=(0,c.g)(t),i=s.metadatas,o=(0,l.b)(i[e],n);return!!o&&A(t,s,e,o,r,n)}function S(t,e,r){if(t&&"function"==typeof t.toJSON&&(!t.toJSON.isDefaultToJSON||!t.write))return(0,c.m)(e,t.toJSON(r));const n=(0,c.g)(t),i=n.metadatas;for(const o in i){const a=(0,l.b)(i[o],r);if(!A(t,n,o,a,void 0,r))continue;const u=t.get(o),h=O(t,a,a.write&&"string"==typeof a.write.target?a.write.target:o,u,r);Object.keys(h).length>0&&(e=(0,c.m)(e,h),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then((()=>(0,c.m)(e,h,(()=>"replace-arrays"))))),r&&r.writtenProperties&&r.writtenProperties.push({target:t,propName:o,oldOrigin:(0,s.i)(n.store.originOf(o)),newOrigin:r.origin}))}return e}const E=t=>{let e=class extends t{constructor(...t){super(...t);const e=(0,i.b)((0,c.g)(this)),r=e.store,n=new d;e.store=n,g(e,r,n)}read(t,e){b(this,t,e)}write(t,e){return S(this,t??{},e)}toJSON(t){return this.write({},t)}static fromJSON(t,e){return T.call(this,t,e)}};return e=(0,n._)([(0,l.j)("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function T(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(t,e),r}let k=class extends(E(s.Z)){};k=(0,n._)([(0,l.j)("esri.core.JSONSupport")],k)},86787:(t,e,r)=>{r.d(e,{p:()=>c});var n=r(91306),s=r(86656);r(48578),r(92143),r(31450),r(71552),r(76506),r(40642),r(66396);const i=Object.prototype.toString;function o(t){const e="__accessorMetadata__"in t?(0,n.e)(t):t;return function(...t){if(t.push(e),"number"==typeof t[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return a.apply(this,t)}}function a(t,e,r,n){(0,s.g)(t,e).cast=n}function c(...t){var e;if(3!==t.length||"string"!=typeof t[1])return 1===t.length&&"[object Function]"===i.call(t[0])?o(t[0]):1===t.length&&"string"==typeof t[0]?(e=t[0],(t,r)=>{(0,s.g)(t,e).cast=t[r]}):void 0}},34250:(t,e,r)=>{r.d(e,{CJ:()=>h,Cb:()=>u,Eg:()=>f,s:()=>l});var n=r(92143),s=r(91306),i=r(60474),o=r(86656),a=r(60991),c=r(48578);function l(t,e,r){if(t&&e)if("object"==typeof e)for(const r of Object.getOwnPropertyNames(e))l(t,r,e[r]);else{if(e.includes(".")){const n=e.split("."),s=n.splice(n.length-1,1)[0];return void l((0,i.g)(t,n),s,r)}const n=t.__accessor__;null!=n&&function(t,e){if((0,c.h)("esri-unknown-property-errors")&&!function(t,e){return null!=e.metadatas[t]}(t,e))throw new a.Z("set:unknown-property",function(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}(t,e))}(e,n),t[e]=r}}function u(t={}){return(e,r)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${r}. Accessor does not support static properties.`);const a=Object.getOwnPropertyDescriptor(e,r),c=(0,o.g)(e,r);a&&(a.get||a.set?(c.get=a.get||c.get,c.set=a.set||c.set):"value"in a&&("value"in t&&n.L.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${e.constructor.name}" already defined in the metadata`,t),c.value=t.value=a.value)),null!=t.readOnly&&(c.readOnly=t.readOnly);const u=t.aliasOf;if(u){const t="string"==typeof u?u:u.source,e="string"==typeof u?null:!0===u.overridable;let n;c.dependsOn=[t],c.get=function(){let e=(0,i.g)(this,t);if("function"==typeof e){n||(n=t.split(".").slice(0,-1).join("."));const r=(0,i.g)(this,n);r&&(e=e.bind(r))}return e},c.readOnly||(c.set=e?function(t){this._override(r,t)}:function(e){l(this,t,e)})}const h=t.type,d=t.types;c.cast||(h?c.cast=function(t){let e=0,r=t;if((0,s.i)(t))return(0,s.c)(t);for(;Array.isArray(r)&&1===r.length&&"string"!=typeof r[0]&&"number"!=typeof r[0];)r=r[0],e++;const n=r;if((0,s.d)(n))return 0===e?(0,s.f)(n):(0,s.g)((0,s.f)(n),e);if(1===e)return(0,s.h)(n);if(e>1)return(0,s.j)(n,e);const i=t;return i.from?i.from:(0,s.e)(i)}(h):d&&(Array.isArray(d)?c.cast=(0,s.b)((0,s.a)(d[0])):c.cast=(0,s.a)(d))),(0,o.m)(c,t),t.range&&(c.cast=f(c.cast,t.range))}}function h(t,e,r){const n=(0,o.g)(t,r);n.json||(n.json={});let s=n.json;return void 0!==e&&(s.origins||(s.origins={}),s.origins[e]||(s.origins[e]={}),s=s.origins[e]),s}function f(t,e){return r=>{let n=+t(r);return null!=e.step&&(n=Math.round(n/e.step)*e.step),null!=e.min&&(n=Math.max(e.min,n)),null!=e.max&&(n=Math.min(e.max,n)),n}}r(31450),r(71552),r(76506),r(40642),r(66396)},17533:(t,e,r)=>{r.d(e,{B:()=>l,L:()=>u,W:()=>f,a:()=>F,b:()=>P,c:()=>y,j:()=>x,n:()=>C,o:()=>M}),r(48578);var n=r(86656),s=r(6540),i=r(91306),o=r(92143),a=r(71552),c=r(60991);r(76506),r(66396),r(31450),r(40642);const l=Symbol("Accessor-beforeDestroy");var u,h;(h=u||(u={}))[h.INITIALIZING=0]="INITIALIZING",h[h.CONSTRUCTING=1]="CONSTRUCTING",h[h.CONSTRUCTED=2]="CONSTRUCTED";class f extends c.M{constructor(t,e,r){super(t,e,r)}}function d(t){return!!t&&t.prototype&&t.prototype.declaredClass&&0===t.prototype.declaredClass.indexOf("esri.core.Collection")}f.prototype.type="warning";const p=o.L.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function g(t,e,r){t&&(!r&&!e.read||e.read?.reader||!1===e.read?.enabled||function(t){return"types"in t?O(t.types):w(t.type)}(t)&&(0,a.s)("read.reader",y(t),e))}function y(t){const e=t.ndimArray??0;if(e>1)return function(t){const e=_(t),r=v.bind(null,e),n=t.ndimArray??0;return(t,e,s)=>{if(null==t)return t;t=r(t,s,n);let i=n,o=t;for(;i>0&&Array.isArray(o);)i--,o=o[0];if(void 0!==o)for(let e=0;e<i;e++)t=[t];return t}}(t);if(1===e)return m(t);if("type"in t&&b(t.type)){const e=t.type.prototype?.itemType?.Type,r=m("function"==typeof e?{type:e}:{types:e});return(e,n,s)=>{const i=r(e,n,s);return i?new t.type(i):i}}return _(t)}function _(t){return"type"in t?function(t){return t.prototype.read?(e,r,n)=>{if(null==e)return e;const s=typeof e;if("object"!==s)return void p.error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${s}'`);const i=new t;return i.read(e,n),i}:t.fromJSON}(t.type):function(t){let e=null;const r=t.errorContext??"type";return(s,i,o)=>{if(null==s)return s;const a=typeof s;if("object"!==a)return void p.error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);e||(e=function(t){const e={};for(const r in t.typeMap){const s=t.typeMap[r],i=(0,n.a)(s.prototype);if("function"==typeof t.key)continue;const o=i[t.key];if(!o)continue;o.json?.type&&Array.isArray(o.json.type)&&1===o.json.type.length&&"string"==typeof o.json.type[0]&&(e[o.json.type[0]]=s);const a=o.json?.write;if(!a||!a.writer){e[r]=s;continue}const c=a.target,l="string"==typeof c?c:t.key,u={};a.writer(r,u,l),u[l]&&(e[u[l]]=s)}return e}(t));const c=t.key;if("string"!=typeof c)return;const l=s[c],u=l?e[l]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!u){const t=`Type '${l||"unknown"}' is not supported`;return o&&o.messages&&s&&o.messages.push(new f(`${r}:unsupported`,t,{definition:s,context:o})),void p.error(t)}const h=new u;return h.read(s,o),h}}(t.types)}function v(t,e,r,n){return 0!==n&&Array.isArray(e)?e.map((e=>v(t,e,r,n-1))):t(e,void 0,r)}function m(t){const e=_(t);return(t,r,n)=>{if(null==t)return t;if(Array.isArray(t)){const r=[];for(const s of t){const t=e(s,void 0,n);void 0!==t&&r.push(t)}return r}const s=e(t,void 0,n);return void 0!==s?[s]:void 0}}function b(t){if(!d(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&("function"==typeof e.Type?w(e.Type):O(e.Type))}function w(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||b(t))}function O(t){for(const e in t.typeMap)if(!w(t.typeMap[e]))return!1;return!0}function A(t){t.name&&(t.read&&"object"==typeof t.read?void 0===t.read.source&&(t.read.source=t.name):t.read={source:t.name},t.write&&"object"==typeof t.write?void 0===t.write.target&&(t.write.target=t.name):t.write={target:t.name})}function j(t){"boolean"==typeof t.read?t.read={enabled:t.read}:"function"==typeof t.read?t.read={enabled:!0,reader:t.read}:t.read&&"object"==typeof t.read&&void 0===t.read.enabled&&(t.read.enabled=!0)}function S(t){"boolean"==typeof t.write?t.write={enabled:t.write}:"function"==typeof t.write?t.write={enabled:!0,writer:t.write}:t.write&&"object"==typeof t.write&&void 0===t.write.enabled&&(t.write.enabled=!0)}function E(t,e){if(!e.write||e.write.writer||!1===e.write.enabled&&!e.write.overridePolicy)return;const r=t?.ndimArray??0;var n,s;t&&(1===r||"type"in t&&d(t.type))?e.write.writer=I:r>1?e.write.writer=(s=r,(t,e,r,n)=>{let i;if(null===t)i=null;else{i=D(t,n,s);let e=s,r=i;for(;e>0&&Array.isArray(r);)e--,r=r[0];if(void 0!==r)for(let t=0;t<e;t++)i=[i]}(0,a.s)(r,i,e)}):e.types?Array.isArray(e.types)?e.write.writer=(n=e.types[0],(t,e,r,s)=>t&&Array.isArray(t)?k(t.filter((t=>T(t,n,s))),e,r,s):k(t,e,r,s)):e.write.writer=function(t){return(e,r,n,s)=>e?T(e,t,s)?k(e,r,n,s):void 0:k(e,r,n,s)}(e.types):e.write.writer=k}function T(t,e,r){for(const r in e.typeMap)if(t instanceof e.typeMap[r])return!0;if(r?.messages){const n=e.errorContext??"type",s=`Values of type '${("function"!=typeof e.key?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&t&&r.messages.push(new c.Z(`${n}:unsupported`,s,{definition:t,context:r})),o.L.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function k(t,e,r,n){(0,a.s)(r,N(t,n),e)}function N(t,e){return t&&"function"==typeof t.write?t.write({},e):t&&"function"==typeof t.toJSON?t.toJSON():"number"==typeof t?C(t):t}function C(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function I(t,e,r,n){let s;null===t?s=null:t&&"function"==typeof t.map?(s=t.map((t=>N(t,n))),"function"==typeof s.toArray&&(s=s.toArray())):s=[N(t,n)],(0,a.s)(r,s,e)}function D(t,e,r){return 0!==r&&Array.isArray(t)?t.map((t=>D(t,e,r-1))):N(t,e)}function M(t,e){return F(t,"read",e)}function P(t,e){return F(t,"write",e)}function F(t,e,r){let n=t&&t.json;if(t&&t.json&&t.json.origins&&r){const s=r.origin&&t.json.origins[r.origin];s&&("any"===e||e in s)&&(n=s)}return n}function U(t){return t.type?z(t):L(t)}function z(t){if(!t.type)return;let e=0,r=t.type;for(;Array.isArray(r)&&!(0,i.d)(r);)r=r[0],e++;return{type:r,ndimArray:e}}function L(t){if(!t.types)return;let e=0,r=t.types;for(;Array.isArray(r);)r=r[0],e++;return{types:r,ndimArray:e}}function $(t){(function(t){if(t.json||(t.json={}),j(t.json),S(t.json),A(t.json),t.json.origins)for(const e in t.json.origins)j(t.json.origins[e]),S(t.json.origins[e]),A(t.json.origins[e]);return!0})(t)&&(function(t){if(t.json&&t.json.origins){const e=t.json.origins,r={"web-document":["web-scene","web-map"]};for(const t in r)if(e[t]){const n=e[t];r[t].forEach((t=>{e[t]=n})),delete e[t]}}}(t),function(t){const e=(r=t).json.types?L(r.json):r.type?z(r):L(r);var r;if(t.json.origins)for(const r in t.json.origins){const n=t.json.origins[r],s=n.types?U(n):e;g(s,n,!1),n.types&&!n.write&&t.json.write&&t.json.write.enabled&&(n.write={...t.json.write}),E(s,n)}g(e,t.json,!0),E(e,t.json)}(t))}const q=new Set,R=new Set;function x(t){return e=>{e.prototype.declaredClass=t,function(t){const e=t.prototype,r=(0,n.a)(e),s={};for(const t of Object.getOwnPropertyNames(r)){const e=r[t];$(e),s[t]={enumerable:!0,configurable:!0,get:G(t,e),set(r){const n=this.__accessor__;if(void 0!==n){if(!Object.isFrozen(this)){if(n.initialized&&e.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${t}' of ${this.declaredClass}`);if(n.lifecycle===u.CONSTRUCTED&&e.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${t}' of ${this.declaredClass}`);n.set(t,r)}}else Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:r})}}}Object.defineProperties(t.prototype,s)}(e);const r=[],s=[];let i=e.prototype;for(;i;)i.hasOwnProperty("initialize")&&!q.has(i.initialize)&&(q.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!R.has(i.destroy)&&(R.add(i.destroy),s.push(i.destroy)),i=Object.getPrototypeOf(i);q.clear(),R.clear();class o extends e{constructor(...t){if(super(...t),this.constructor===o&&"function"==typeof this.postscript){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let t=r.length-1;t>=0;t--)r[t].call(this)}}),s.length){let t=!1;const e=this[l];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!t){t=!0,e.call(this);for(let t=0;t<s.length;t++)s[t].call(this)}}})}this.postscript(...t)}}}return o.__accessorMetadata__=(0,n.a)(e.prototype),o.prototype.declaredClass=t,o}}function G(t,e){return null==e.get?function(){const e=this.__accessor__.properties.get(t);if(void 0===e)return;(0,s.t)(e.observerObject);const r=this.__accessor__.store;return r.has(t)?r.get(t):e.metadata.value}:function(){const e=this.__accessor__.properties.get(t);if(void 0!==e)return e.getComputed()}}},6906:(t,e,r)=>{r.d(e,{M:()=>p,MU:()=>E,Os:()=>O,P:()=>f,a:()=>c});var n,s=r(71252),i=r(30773),o=r(48578),a=r(50406);r(60991),r(76506),r(92143),r(31450),r(71552),r(40642);class c{constructor(t,e=30){this.name=t,this._counter=0,this._samples=new Array(e)}record(t){(0,s.i)(t)&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort(((t,e)=>t-e))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((t,e)=>t+e),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}!function(t){const e=(t,e,r,n)=>{let s=e,i=e;const o=r>>>1,a=t[s-1];for(;i<=o;){i=s<<1,i<r&&n(t[i-1],t[i])<0&&++i;const e=t[i-1];if(n(e,a)<=0)break;t[s-1]=e,s=i}t[s-1]=a},r=(t,e)=>t<e?-1:t>e?1:0;t.sort=function(t,n,s,i){void 0===n&&(n=0),void 0===s&&(s=t.length),void 0===i&&(i=r);for(let r=s>>>1;r>n;r--)e(t,r,s,i);const o=n+1;for(let r=s-1;r>n;r--){const s=t[n];t[n]=t[r],t[r]=s,e(t,o,r,i)}},t.iterableSort=function*(t,n,s,i){void 0===n&&(n=0),void 0===s&&(s=t.length),void 0===i&&(i=r);for(let r=s>>>1;r>n;r--)e(t,r,s,i),yield;const o=n+1;for(let r=s-1;r>n;r--){const s=t[n];t[n]=t[r],t[r]=s,e(t,o,r,i),yield}}}(n||(n={}));const l=n,u=1.5,h=1.1;class f{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new o.P,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),void 0!==t.deallocator&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>d(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const e=new Array;for(let r=0;r<this._length;r++){const n=this.data[r];t(n)&&e.push(n)}return e}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}includes(t,e){const r=this.data.indexOf(t,e);return-1!==r&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let e=t;e<this._length;++e)this.data[e]=this._deallocator(this.data[e]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,e=t.length){for(let r=0;r<e;r++)this.data[this._length++]=t[r]}fill(t,e){for(let r=0;r<e;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,d(this)}pop(){if(0===this.length)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const e=(0,o.l)(this.data,t,this.length,this._hint);if(-1!==e)return this.data.splice(e,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex((0,o.l)(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,e=t.length,r){this.length=(0,o.m)(this.data,t,this.length,e,this._hint,r),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(t,e){if(t>=this.length||e>=this.length||t===e)return;const r=this.data[t];this.data[t]=this.data[e],this.data[e]=r}sort(t){l.sort(this.data,0,this.length,t)}iterableSort(t){return l.iterableSort(this.data,0,this.length,t)}some(t,e){for(let r=0;r<this.length;++r)if(t.call(e,this.data[r],r,this.data))return!0;return!1}find(t,e){for(let r=0;r<this.length;++r){const n=this.data[r];if(t.call(e,n,r))return n}}filterInPlace(t,e){let r=0;for(let n=0;n<this._length;++n){const s=this.data[n];t.call(e,s,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=s,r++)}if(this._deallocator)for(let t=r;t<this._length;t++)this.data[t]=this._deallocator(this.data[t]);return this._length=r,this._shrink(),this}forAll(t,e){const r=this.length,n=this.data;for(let s=0;s<r;++s)t.call(e,n[s],s,n)}forEach(t,e){for(let r=0;r<this.length;++r)t.call(e,this.data[r],r,this.data)}map(t,e){const r=new Array(this.length);for(let n=0;n<this.length;++n)r[n]=t.call(e,this.data[n],n,this.data);return r}reduce(t,e){let r=e;for(let e=0;e<this.length;++e)r=t(r,this.data[e],e,this.data);return r}has(t){const e=this.length,r=this.data;for(let n=0;n<e;++n)if(r[n]===t)return!0;return!1}}function d(t){t.data.length>u*t.length&&(t.data.length=Math.floor(t.length*h))}function p(t){return t}class g{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let y=0;const _={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},v=["prepare","preRender","render","postRender","update","finish"],m=[],b=new f,w={frameTasks:b,willDispatch:!1,clearFrameTasks:function(t=!1){b.forAll((t=>{t.removed=!0})),t&&j()},dispatch:S,executeFrameTasks:function(t){const e=t-y;y=t;const r=1e3/60,n=Math.max(0,e-r);_.time=t,_.frameDuration=r-n;for(let r=0;r<v.length;r++){const n=performance.now(),s=v[r];b.forAll((n=>{n.paused||n.removed||(0===r&&n.ticks++,n.phases[s]&&(_.elapsedFrameTime=performance.now()-t,_.deltaTime=0===n.ticks?0:e,n.phases[s]?.call(n,_)))})),T[r].record(performance.now()-n)}j(),k.record(performance.now()-t)}};function O(t){const e=new g(t);return m.push(e),w.willDispatch||(w.willDispatch=!0,(0,i.n)(S)),e}const A=new f;function j(){b.forAll((t=>{t.removed&&A.push(t)})),b.removeUnorderedMany(A.data,A.length),A.clear()}function S(){for(;m.length;){const t=(0,s.b)(m.shift());t.isActive&&t.callback()}w.willDispatch=!1}function E(t=1,e){const r=(0,a.hh)(),n=()=>{(0,a.Hc)(e)?r.reject((0,a.zE)()):0===t?r():(--t,(0,i.n)((()=>n())))};return n(),r.promise}const T=v.map((t=>new c(t))),k=new c("total")}}]);